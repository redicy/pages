"use strict";(self.webpackChunkseller=self.webpackChunkseller||[]).push([[118],{6118:(an,j,l)=>{l.r(j),l.d(j,{PurchaseModule:()=>In});var a=l(6814),N=l(6697),M=l(7494),v=l(5619),O=l(2181),w=l(4664),d=l(6306),u=l(6232),_=l(4963),e=l(2029),c=l(5219),E=l(6593),f=l(9232),S=l(4104),b=l(707);function xe(g,n){1&g&&(e.TgZ(0,"tr")(1,"th"),e._uU(2," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 "),e.qZA(),e.TgZ(3,"th",6),e._uU(4,"\u0414\u0430\u0442\u0430 "),e._UZ(5,"p-sortIcon",7),e.qZA(),e.TgZ(6,"th"),e._uU(7,"\u0421\u0442\u0430\u0442\u0443\u0441"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"\u0422\u043e\u0432\u0430\u0440\u044b"),e.qZA(),e._UZ(10,"th"),e.qZA(),e.TgZ(11,"tr")(12,"th"),e._UZ(13,"p-columnFilter",8),e.qZA(),e._UZ(14,"th")(15,"th"),e.TgZ(16,"th"),e._UZ(17,"p-columnFilter",9),e.qZA(),e._UZ(18,"th"),e.qZA()),2&g&&(e.xp6(13),e.Q6J("showMatchModes",!1)("showOperator",!1),e.xp6(4),e.Q6J("showMatchModes",!1)("showOperator",!1))}function ve(g,n){if(1&g&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&g){const t=n.$implicit;e.xp6(1),e.hij(" ",t.value.name," ")}}const $=function(g){return{id:g}},be=function(g){return["summary",g]},ye=function(g){return["edit",g]};function Ne(g,n){if(1&g&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td")(9,"ul"),e.YNc(10,ve,2,1,"li",10),e.ALo(11,"keyvalue"),e.qZA()(),e.TgZ(12,"td"),e._UZ(13,"p-button",11)(14,"p-button",12),e.qZA()()),2&g){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(5,6,t.date,"y-MM-dd")),e.xp6(3),e.Oqu(t.status),e.xp6(3),e.Q6J("ngForOf",e.lcZ(11,9,t.products)),e.xp6(3),e.Q6J("routerLink",e.VKq(13,be,e.VKq(11,$,t.iD))),e.xp6(1),e.Q6J("routerLink",e.VKq(17,ye,e.VKq(15,$,t.iD)))}}const we=function(){return{"min-width":"75rem"}},Se=function(){return[10,25,50]},Ze=function(){return["name","date"]};function ke(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"p-table",2,3),e.NdJ("onLazyLoad",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.onDataLazyLoad(I))}),e.YNc(2,xe,19,4,"ng-template",4),e.YNc(3,Ne,15,19,"ng-template",5),e.qZA()}if(2&g){const t=e.oxw();e.Q6J("value",t.data)("lazy",!0)("tableStyle",e.DdM(9,we))("paginator",!0)("rows",10)("rowsPerPageOptions",e.DdM(10,Se))("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",e.DdM(11,Ze))}}const Ee=function(){return["/purchase/edit"]};let De=(()=>{class g extends M.V{constructor(t,C,I){super(I),this.productBatchService=t,this.messageService=C,this.loading=!0,this.totalRecords=0,this.purchaseFilterSubject=new v.X(null)}ngOnInit(){this.titleService.setTitle("\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0443\u043f\u043a\u0430\u043c\u0438"),this.purchaseFilterSubject.pipe((0,O.h)(t=>!!t)).pipe((0,w.w)(t=>this.productBatchService.findPurchaseBatches(t).pipe((0,d.K)(C=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u043a\u0443\u043f\u043e\u043a",severity:"error",detail:C}),this.loading=!1,u.E))))).subscribe(t=>{this.data=t.items.map(C=>{const I=C;return I.products=C.items.reduce((A,i)=>i.salesItems.reduce((o,s)=>o.set(s.productPackageID,s.productPackage),A),new Map),I}),this.totalRecords=t.totalCount,this.loading=!1}),this.purchaseFilterSubject.next(new _.f.FindPurchaseBatchesModel({count:0,offset:0}))}onDataLazyLoad(t){let C=new _.f.FindPurchaseBatchesModel({offset:t.first,count:t.rows});this.fillFilterModel(C,t.filters),this.purchaseFilterSubject.next(C)}onDateFilter(t,C){C(this.dateFilter)}fillFilterModel(t,C){t.name=C.name?.value,t.dateFrom=C.date?.[0]?.value?.[0],t.dateTo=C.date?.[0]?.value?.[1],t.article=C.article?.value||null}static#e=this.\u0275fac=function(C){return new(C||g)(e.Y36(_.f.PurchaseBatchClient),e.Y36(c.ez),e.Y36(E.Dx))};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-purchase-list"]],features:[e.qOj],decls:6,vars:3,consts:[[3,"routerLink"],["dataKey","iD",3,"value","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","loading","globalFilterFields","onLazyLoad",4,"ngIf"],["dataKey","iD",3,"value","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","loading","globalFilterFields","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","date"],["field","date"],["field","name","matchMode","contains",3,"showMatchModes","showOperator"],["field","article","matchMode","containsKey",3,"showMatchModes","showOperator"],[4,"ngFor","ngForOf"],["icon","pi pi-dollar",3,"routerLink"],["icon","pi pi-pencil",3,"routerLink"]],template:function(C,I){1&C&&(e._UZ(0,"p-toast"),e.TgZ(1,"h1"),e._uU(2,"\u0417\u0430\u043a\u0443\u043f\u043a\u0438"),e.qZA(),e.TgZ(3,"p-button",0),e._uU(4,"\u041d\u043e\u0432\u0430\u044f"),e.qZA(),e.YNc(5,ke,4,12,"p-table",1)),2&C&&(e.xp6(3),e.Q6J("routerLink",e.DdM(2,Ee)),e.xp6(2),e.Q6J("ngIf",I.data))},dependencies:[a.sg,a.O5,f.iA,c.jx,f.lQ,f.fz,f.xl,S.FN,b.zx,N.rH,a.uU,a.Nd]})}return g})();var W=l(8645),P=l(9773),X=l(9397);let F=(()=>{class g{constructor(t,C,I){this.packageTypeClient=t,this.messageService=C,this.purchaseClient=I,this.packageTypes=new v.X([]),this.packageTypeClient.getPackageTypes().pipe((0,d.K)(A=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0442\u0438\u043f\u043e\u0432 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:A}),u.E))).subscribe(A=>{this.packageTypes.next(A)})}getBatch(t){return this.purchaseClient.getPurchaseBatch(t)}getSalesPlanSelfCost(t,C,I,A=!0){const i=this.getSalesItemCosts(t),o=A?this.getSalesPlanCommission(C):0,s=+C.returnCost*+C.returnPercentage/100,m=C.amount?+C.marketingBudget/C.amount:0,p=C.amount?Math.ceil(100*+C.deliveryCost/+C.amount)/100:0;return I.price+i+s+o+p+m}getPackageTypes(){return this.packageTypes.value}getPackageType(t){return this.packageTypes.value.find(C=>C.iD==t)}getSalesItemCosts(t){let C=0;for(const I of t.salesItemPackages)C+=Math.ceil(I.pricePerUom*I.amount*100)/100;return C+=t.packagingPrice,C=Math.ceil(100*C)/100,C}getSalesPlanCommission(t){return Math.ceil(+t.commissionMultiplier*+t.price)/100+ +t.commissionAddition}calcPlans(){this.purchaseClient.calcSalesPlans().pipe((0,d.K)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0442\u0438\u043f\u043e\u0432 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:t}),u.E))).subscribe(()=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0451\u0442 \u043f\u043b\u0430\u043d\u043e\u0432 \u043f\u0440\u043e\u0434\u0430\u0436 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d"})})}getSalesPlansSummaries(t){return this.purchaseClient.getSalesPlansSummaries(t)}addPackageType(t){return this.packageTypeClient.addPackageType(t)}updatePackageType(t){return this.packageTypeClient.updatePackageType(t).pipe((0,X.b)(C=>{this.packageTypes.next(this.packageTypes.value.map(I=>I.iD==t.iD?t:I))}))}removePackageType(t){return this.packageTypeClient.removePackageType(t).pipe((0,X.b)(C=>{this.packageTypes.next(this.packageTypes.value.filter(I=>I.iD!=t))}))}static#e=this.\u0275fac=function(C){return new(C||g)(e.LFG(_.f.PackageTypeClient),e.LFG(c.ez),e.LFG(_.f.PurchaseBatchClient))};static#t=this.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})();var h=l(6223),x=l(6825),r=l(2076),Z=l(6005),k=l(4562),y=l(2332);function Me(g,n){if(1&g&&e._UZ(0,"span",11),2&g){const t=e.oxw(3);e.Tol(t.accordion.collapseIcon),e.Q6J("ngClass",t.iconClass),e.uIk("aria-hidden",!0)}}function Pe(g,n){if(1&g&&e._UZ(0,"ChevronDownIcon",11),2&g){const t=e.oxw(3);e.Q6J("ngClass",t.iconClass),e.uIk("aria-hidden",!0)}}function Fe(g,n){if(1&g&&(e.ynx(0),e.YNc(1,Me,1,4,"span",9),e.YNc(2,Pe,1,2,"ChevronDownIcon",10),e.BQk()),2&g){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.accordion.collapseIcon),e.xp6(1),e.Q6J("ngIf",!t.accordion.collapseIcon)}}function Je(g,n){if(1&g&&e._UZ(0,"span",11),2&g){const t=e.oxw(3);e.Tol(t.accordion.expandIcon),e.Q6J("ngClass",t.iconClass),e.uIk("aria-hidden",!0)}}function Ue(g,n){if(1&g&&e._UZ(0,"ChevronRightIcon",11),2&g){const t=e.oxw(3);e.Q6J("ngClass",t.iconClass),e.uIk("aria-hidden",!0)}}function Qe(g,n){if(1&g&&(e.ynx(0),e.YNc(1,Je,1,4,"span",9),e.YNc(2,Ue,1,2,"ChevronRightIcon",10),e.BQk()),2&g){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.accordion.expandIcon),e.xp6(1),e.Q6J("ngIf",!t.accordion.expandIcon)}}function Ye(g,n){if(1&g&&(e.ynx(0),e.YNc(1,Fe,3,2,"ng-container",3),e.YNc(2,Qe,3,2,"ng-container",3),e.BQk()),2&g){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selected),e.xp6(1),e.Q6J("ngIf",!t.selected)}}function Oe(g,n){}function qe(g,n){1&g&&e.YNc(0,Oe,0,0,"ng-template")}function Be(g,n){if(1&g&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&g){const t=e.oxw();e.xp6(1),e.hij(" ",t.header," ")}}function Ke(g,n){1&g&&e.GkF(0)}function He(g,n){1&g&&e.Hsn(0,1,["*ngIf","hasHeaderFacet"])}function Le(g,n){1&g&&e.GkF(0)}function Ge(g,n){if(1&g&&(e.ynx(0),e.YNc(1,Le,1,0,"ng-container",6),e.BQk()),2&g){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.contentTemplate)}}const Ve=["*",[["p-header"]]],ze=function(g){return{$implicit:g}},ee=function(g){return{transitionParams:g}},Re=function(g){return{value:"visible",params:g}},je=function(g){return{value:"hidden",params:g}},$e=["*","p-header"],We=["*"];let te=(()=>{class g{el;changeDetector;id;header;headerStyle;tabStyle;contentStyle;tabStyleClass;headerStyleClass;contentStyleClass;disabled;cache=!0;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";iconPos="start";get selected(){return this._selected}set selected(t){this._selected=t,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}headerAriaLevel=2;selectedChange=new e.vpe;headerFacet;templates;_selected=!1;get iconClass(){return"end"===this.iconPos?"p-accordion-toggle-icon-end":"p-accordion-toggle-icon"}contentTemplate;headerTemplate;iconTemplate;loaded=!1;accordion;constructor(t,C,I){this.el=C,this.changeDetector=I,this.accordion=t,this.id=(0,y.Th)()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"icon":this.iconTemplate=t.template}})}toggle(t){if(this.disabled)return!1;let C=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:t,index:C});else{if(!this.accordion.multiple)for(var I=0;I<this.accordion.tabs.length;I++)this.accordion.tabs[I].selected&&(this.accordion.tabs[I].selected=!1,this.accordion.tabs[I].selectedChange.emit(!1),this.accordion.tabs[I].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:t,index:C})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),t.preventDefault()}findTabIndex(){let t=-1;for(var C=0;C<this.accordion.tabs.length;C++)if(this.accordion.tabs[C]==this){t=C;break}return t}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(t){switch(t.code){case"Enter":case"Space":this.toggle(t),t.preventDefault()}}getTabHeaderActionId(t){return`${t}_header_action`}getTabContentId(t){return`${t}_content`}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}static \u0275fac=function(C){return new(C||g)(e.Y36((0,e.Gpc)(()=>ge)),e.Y36(e.SBq),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:g,selectors:[["p-accordionTab"]],contentQueries:function(C,I,A){if(1&C&&(e.Suo(A,c.h4,4),e.Suo(A,c.jx,4)),2&C){let i;e.iGM(i=e.CRH())&&(I.headerFacet=i),e.iGM(i=e.CRH())&&(I.templates=i)}},hostAttrs:[1,"p-element"],inputs:{id:"id",header:"header",headerStyle:"headerStyle",tabStyle:"tabStyle",contentStyle:"contentStyle",tabStyleClass:"tabStyleClass",headerStyleClass:"headerStyleClass",contentStyleClass:"contentStyleClass",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",iconPos:"iconPos",selected:"selected",headerAriaLevel:"headerAriaLevel"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:$e,decls:12,vars:45,consts:[[1,"p-accordion-tab",3,"ngClass","ngStyle"],["role","heading",1,"p-accordion-header"],["role","button",1,"p-accordion-header-link",3,"ngClass","click","keydown"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content",3,"ngClass","ngStyle"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-accordion-header-text"]],template:function(C,I){1&C&&(e.F$t(Ve),e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e.NdJ("click",function(i){return I.toggle(i)})("keydown",function(i){return I.onKeydown(i)}),e.YNc(3,Ye,3,2,"ng-container",3),e.YNc(4,qe,1,0,null,4),e.YNc(5,Be,2,1,"span",5),e.YNc(6,Ke,1,0,"ng-container",6),e.YNc(7,He,1,0,"ng-content",3),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8),e.Hsn(10),e.YNc(11,Ge,2,1,"ng-container",3),e.qZA()()()),2&C&&(e.ekj("p-accordion-tab-active",I.selected),e.Q6J("ngClass",I.tabStyleClass)("ngStyle",I.tabStyle),e.uIk("data-pc-name","accordiontab"),e.xp6(1),e.ekj("p-highlight",I.selected)("p-disabled",I.disabled),e.uIk("aria-level",I.headerAriaLevel)("data-p-disabled",I.disabled)("data-pc-section","header"),e.xp6(1),e.Akn(I.headerStyle),e.Q6J("ngClass",I.headerStyleClass),e.uIk("tabindex",I.disabled?null:0)("id",I.getTabHeaderActionId(I.id))("aria-controls",I.getTabContentId(I.id))("aria-expanded",I.selected)("aria-disabled",I.disabled)("data-pc-section","headeraction"),e.xp6(1),e.Q6J("ngIf",!I.iconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",I.iconTemplate)("ngTemplateOutletContext",e.VKq(35,ze,I.selected)),e.xp6(1),e.Q6J("ngIf",!I.hasHeaderFacet),e.xp6(1),e.Q6J("ngTemplateOutlet",I.headerTemplate),e.xp6(1),e.Q6J("ngIf",I.hasHeaderFacet),e.xp6(1),e.Q6J("@tabContent",I.selected?e.VKq(39,Re,e.VKq(37,ee,I.transitionOptions)):e.VKq(43,je,e.VKq(41,ee,I.transitionOptions))),e.uIk("id",I.getTabContentId(I.id))("aria-hidden",!I.selected)("aria-labelledby",I.getTabHeaderActionId(I.id))("data-pc-section","toggleablecontent"),e.xp6(1),e.Q6J("ngClass",I.contentStyleClass)("ngStyle",I.contentStyle),e.xp6(2),e.Q6J("ngIf",I.contentTemplate&&(I.cache?I.loaded:I.selected)))},dependencies:function(){return[a.mk,a.O5,a.tP,a.PC,k.X,Z.v]},styles:["@layer primeng{.p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}.p-accordion .p-toggleable-content{overflow:hidden}.p-accordion .p-accordion-tab-active>.p-toggleable-content:not(.ng-animating){overflow:inherit}.p-accordion-toggle-icon-end{order:1;margin-left:auto}.p-accordion-toggle-icon{order:0}}\n"],encapsulation:2,data:{animation:[(0,x.X$)("tabContent",[(0,x.SB)("hidden",(0,x.oB)({height:"0"})),(0,x.SB)("visible",(0,x.oB)({height:"*"})),(0,x.eR)("visible <=> hidden",[(0,x.jt)("{{transitionParams}}")]),(0,x.eR)("void => *",(0,x.jt)(0))])]},changeDetection:0})}return g})(),ge=(()=>{class g{el;changeDetector;multiple=!1;style;styleClass;expandIcon;collapseIcon;get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}selectOnFocus=!1;get headerAriaLevel(){return this._headerAriaLevel}set headerAriaLevel(t){"number"==typeof t&&t>0?this._headerAriaLevel=t:2!==this._headerAriaLevel&&(this._headerAriaLevel=2)}onClose=new e.vpe;onOpen=new e.vpe;activeIndexChange=new e.vpe;tabList;tabListSubscription=null;_activeIndex;_headerAriaLevel=2;preventActiveIndexPropagation=!1;tabs=[];constructor(t,C){this.el=t,this.changeDetector=C}onKeydown(t){switch(t.code){case"ArrowDown":this.onTabArrowDownKey(t);break;case"ArrowUp":this.onTabArrowUpKey(t);break;case"Home":this.onTabHomeKey(t);break;case"End":this.onTabEndKey(t)}}onTabArrowDownKey(t){const C=this.findNextHeaderAction(t.target.parentElement.parentElement.parentElement);C?this.changeFocusedTab(C):this.onTabHomeKey(t),t.preventDefault()}onTabArrowUpKey(t){const C=this.findPrevHeaderAction(t.target.parentElement.parentElement.parentElement);C?this.changeFocusedTab(C):this.onTabEndKey(t),t.preventDefault()}onTabHomeKey(t){const C=this.findFirstHeaderAction();this.changeFocusedTab(C),t.preventDefault()}changeFocusedTab(t){t&&(r.p.focus(t),this.selectOnFocus&&this.tabs.forEach((C,I)=>{let A=this.multiple?this._activeIndex.includes(I):I===this._activeIndex;this.multiple?(this._activeIndex||(this._activeIndex=[]),C.id==t.id&&(C.selected=!C.selected,this._activeIndex.includes(I)?this._activeIndex=this._activeIndex.filter(i=>i!==I):this._activeIndex.push(I))):C.id==t.id?(C.selected=!C.selected,this._activeIndex=I):C.selected=!1,C.selectedChange.emit(A),this.activeIndexChange.emit(this._activeIndex),C.changeDetector.markForCheck()}))}findNextHeaderAction(t,C=!1){const A=r.p.findSingle(C?t:t.nextElementSibling,'[data-pc-section="header"]');return A?r.p.getAttribute(A,"data-p-disabled")?this.findNextHeaderAction(A.parentElement.parentElement):r.p.findSingle(A,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(t,C=!1){const A=r.p.findSingle(C?t:t.previousElementSibling,'[data-pc-section="header"]');return A?r.p.getAttribute(A,"data-p-disabled")?this.findPrevHeaderAction(A.parentElement.parentElement):r.p.findSingle(A,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){return this.findNextHeaderAction(this.el.nativeElement.firstElementChild.childNodes[0],!0)}findLastHeaderAction(){const t=this.el.nativeElement.firstElementChild.childNodes;return this.findPrevHeaderAction(t[t.length-1],!0)}onTabEndKey(t){const C=this.findLastHeaderAction();this.changeFocusedTab(C),t.preventDefault()}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(t=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.tabs.forEach(t=>{t.headerAriaLevel=this._headerAriaLevel}),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let t=0;t<this.tabs.length;t++){let C=this.multiple?this._activeIndex.includes(t):t===this._activeIndex;C!==this.tabs[t].selected&&(this.tabs[t].selected=C,this.tabs[t].selectedChange.emit(C),this.tabs[t].changeDetector.markForCheck())}}isTabActive(t){return this.multiple?this._activeIndex&&this._activeIndex.includes(t):this._activeIndex===t}getTabProp(t,C){return t.props?t.props[C]:void 0}updateActiveIndex(){let t=this.multiple?[]:null;this.tabs.forEach((C,I)=>{if(C.selected){if(!this.multiple)return void(t=I);t.push(I)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(t)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}static \u0275fac=function(C){return new(C||g)(e.Y36(e.SBq),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:g,selectors:[["p-accordion"]],contentQueries:function(C,I,A){if(1&C&&e.Suo(A,te,4),2&C){let i;e.iGM(i=e.CRH())&&(I.tabList=i)}},hostAttrs:[1,"p-element"],hostBindings:function(C,I){1&C&&e.NdJ("keydown",function(i){return I.onKeydown(i)})},inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex",selectOnFocus:"selectOnFocus",headerAriaLevel:"headerAriaLevel"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:We,decls:2,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(C,I){1&C&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA()),2&C&&(e.Tol(I.styleClass),e.Q6J("ngClass","p-accordion p-component")("ngStyle",I.style))},dependencies:[a.mk,a.PC],encapsulation:2,changeDetection:0})}return g})(),Xe=(()=>{class g{static \u0275fac=function(C){return new(C||g)};static \u0275mod=e.oAB({type:g});static \u0275inj=e.cJS({imports:[a.ez,k.X,Z.v,c.m8]})}return g})();var Ce=l(2537),J=l(7778),D=l(4480),Ie=l(3259);function et(g,n){1&g&&e.GkF(0)}function tt(g,n){if(1&g&&(e.ynx(0),e.YNc(1,et,1,0,"ng-container",3),e.BQk()),2&g){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.contentTemplate)}}function gt(g,n){if(1&g&&(e.TgZ(0,"div",1),e.Hsn(1),e.YNc(2,tt,2,1,"ng-container",2),e.qZA()),2&g){const t=e.oxw();e.Q6J("hidden",!t.selected),e.uIk("id",t.tabView.getTabContentId(t.id))("aria-hidden",!t.selected)("aria-labelledby",t.tabView.getTabHeaderActionId(t.id))("data-pc-name","tabpanel"),e.xp6(2),e.Q6J("ngIf",t.contentTemplate&&(t.cache?t.loaded:t.selected))}}const Ae=["*"],Ct=["content"],It=["navbar"],At=["prevBtn"],nt=["nextBtn"],it=["inkbar"],ot=["elementToObserve"];function at(g,n){1&g&&e._UZ(0,"ChevronLeftIcon"),2&g&&e.uIk("aria-hidden",!0)}function lt(g,n){}function rt(g,n){1&g&&e.YNc(0,lt,0,0,"ng-template")}function st(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"button",13,14),e.NdJ("click",function(){e.CHM(t);const I=e.oxw();return e.KtG(I.navBackward())}),e.YNc(2,at,1,1,"ChevronLeftIcon",15),e.YNc(3,rt,1,0,null,16),e.qZA()}if(2&g){const t=e.oxw();e.uIk("tabindex",t.tabindex)("aria-label",t.prevButtonAriaLabel),e.xp6(2),e.Q6J("ngIf",!t.previousIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.previousIconTemplate)}}function ct(g,n){if(1&g&&e._UZ(0,"span",25),2&g){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.leftIcon)}}function pt(g,n){}function _t(g,n){1&g&&e.YNc(0,pt,0,0,"ng-template")}function dt(g,n){if(1&g&&(e.TgZ(0,"span",26),e.YNc(1,_t,1,0,null,16),e.qZA()),2&g){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngTemplateOutlet",t.leftIconTemplate)}}function ut(g,n){if(1&g&&e._UZ(0,"span",27),2&g){const t=e.oxw(3).$implicit;e.Q6J("ngClass",t.rightIcon)}}function mt(g,n){}function ht(g,n){1&g&&e.YNc(0,mt,0,0,"ng-template")}function ft(g,n){if(1&g&&(e.TgZ(0,"span",28),e.YNc(1,ht,1,0,null,16),e.qZA()),2&g){const t=e.oxw(3).$implicit;e.xp6(1),e.Q6J("ngTemplateOutlet",t.rightIconTemplate)}}function Tt(g,n){if(1&g&&(e.ynx(0),e.YNc(1,ct,1,1,"span",20),e.YNc(2,dt,2,1,"span",21),e.TgZ(3,"span",22),e._uU(4),e.qZA(),e.YNc(5,ut,1,1,"span",23),e.YNc(6,ft,2,1,"span",24),e.BQk()),2&g){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.leftIcon&&!t.leftIconTemplate),e.xp6(1),e.Q6J("ngIf",t.leftIconTemplate),e.xp6(2),e.Oqu(t.header),e.xp6(1),e.Q6J("ngIf",t.rightIcon&&!t.rightIconTemplate),e.xp6(1),e.Q6J("ngIf",t.rightIconTemplate)}}function xt(g,n){1&g&&e.GkF(0)}function vt(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"TimesIcon",31),e.NdJ("click",function(I){e.CHM(t);const A=e.oxw(3).$implicit,i=e.oxw();return e.KtG(i.close(I,A))}),e.qZA()}2&g&&e.Q6J("styleClass","p-tabview-close")}function bt(g,n){1&g&&e._UZ(0,"span",32)}function yt(g,n){}function Nt(g,n){1&g&&e.YNc(0,yt,0,0,"ng-template")}function wt(g,n){if(1&g&&(e.ynx(0),e.YNc(1,vt,1,1,"TimesIcon",29),e.YNc(2,bt,1,0,"span",30),e.YNc(3,Nt,1,0,null,16),e.BQk()),2&g){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",!t.closeIconTemplate),e.xp6(1),e.Q6J("ngIf",t.closeIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.closeIconTemplate)}}const St=function(g,n){return{"p-highlight":g,"p-disabled":n}};function Zt(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"li",18)(1,"a",19),e.NdJ("click",function(I){e.CHM(t);const A=e.oxw().$implicit,i=e.oxw();return e.KtG(i.open(I,A))})("keydown",function(I){e.CHM(t);const A=e.oxw().$implicit,i=e.oxw();return e.KtG(i.onTabKeyDown(I,A))}),e.YNc(2,Tt,7,5,"ng-container",15),e.YNc(3,xt,1,0,"ng-container",16),e.YNc(4,wt,4,3,"ng-container",15),e.qZA()()}if(2&g){const t=e.oxw(),C=t.$implicit,I=t.index,A=e.oxw();e.Tol(C.headerStyleClass),e.Q6J("ngClass",e.WLB(19,St,C.selected,C.disabled))("ngStyle",C.headerStyle),e.uIk("data-p-disabled",C.disabled),e.xp6(1),e.Q6J("pTooltip",C.tooltip)("tooltipPosition",C.tooltipPosition)("positionStyle",C.tooltipPositionStyle)("tooltipStyleClass",C.tooltipStyleClass),e.uIk("id",A.getTabHeaderActionId(C.id))("aria-controls",A.getTabContentId(C.id))("aria-selected",C.selected)("tabindex",C.disabled||!C.selected?"-1":A.tabindex)("aria-disabled",C.disabled)("data-pc-index",I)("data-pc-section","headeraction"),e.xp6(1),e.Q6J("ngIf",!C.headerTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",C.headerTemplate),e.xp6(1),e.Q6J("ngIf",C.closable)}}function kt(g,n){1&g&&e.YNc(0,Zt,5,22,"li",17),2&g&&e.Q6J("ngIf",!n.$implicit.closed)}function Et(g,n){1&g&&e._UZ(0,"ChevronRightIcon"),2&g&&e.uIk("aria-hidden",!0)}function Dt(g,n){}function Mt(g,n){1&g&&e.YNc(0,Dt,0,0,"ng-template")}function Pt(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"button",33,34),e.NdJ("click",function(){e.CHM(t);const I=e.oxw();return e.KtG(I.navForward())}),e.YNc(2,Et,1,1,"ChevronRightIcon",15),e.YNc(3,Mt,1,0,null,16),e.qZA()}if(2&g){const t=e.oxw();e.uIk("tabindex",t.tabindex)("aria-label",t.nextButtonAriaLabel),e.xp6(2),e.Q6J("ngIf",!t.nextIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.nextIconTemplate)}}const Ft=function(g){return{"p-tabview p-component":!0,"p-tabview-scrollable":g}};let ne=(()=>{class g{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(t){this._headerStyle=t,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(t){this._headerStyleClass=t,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(t){this._selected=t,this.loaded||this.cd.detectChanges(),t&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(t){this._disabled=t,this.tabView.cd.markForCheck()}get header(){return this._header}set header(t){this._header=t,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(t){this._leftIcon=t,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(t){this._rightIcon=t,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(t,C,I,A){this.el=C,this.viewContainer=I,this.cd=A,this.tabView=t,this.id=(0,y.Th)()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"righticon":this.rightIconTemplate=t.template;break;case"lefticon":this.leftIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template}})}ngOnDestroy(){this.view=null}static \u0275fac=function(C){return new(C||g)(e.Y36((0,e.Gpc)(()=>ie)),e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:g,selectors:[["p-tabPanel"]],contentQueries:function(C,I,A){if(1&C&&e.Suo(A,c.jx,4),2&C){let i;e.iGM(i=e.CRH())&&(I.templates=i)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:Ae,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(C,I){1&C&&(e.F$t(),e.YNc(0,gt,3,6,"div",0)),2&C&&e.Q6J("ngIf",!I.closed)},dependencies:[a.O5,a.tP],encapsulation:2})}return g})(),ie=(()=>{class g{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(t))}selectOnFocus=!1;tabindex=0;onChange=new e.vpe;onClose=new e.vpe;activeIndexChange=new e.vpe;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;shouldVisible;elementToObserve;constructor(t,C,I,A){this.platformId=t,this.el=C,this.cd=I,this.renderer=A}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(t=>{this.initTabs()}),this.templates.forEach(t=>{switch(t.getType()){case"previousicon":this.previousIconTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template}})}ngAfterViewInit(){(0,a.NF)(this.platformId)&&this.bindResizeObserver()}bindResizeObserver(){this.resizeObserver||(this.resizeObserver=new ResizeObserver(t=>{for(let C of t){const I=parseFloat(getComputedStyle(this.navbar.nativeElement).width);this.shouldVisible=C.contentRect.width<I,this.cd.detectChanges()}}),this.resizeObserver.observe(this.elementToObserve.nativeElement))}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){(0,a.NF)(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(t){return`${t}_header_action`}getTabContentId(t){return`${t}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(t,C){switch(t.code){case"ArrowLeft":this.onTabArrowLeftKey(t);break;case"ArrowRight":this.onTabArrowRightKey(t);break;case"Home":case"PageUp":this.onTabHomeKey(t);break;case"End":case"PageDown":this.onTabEndKey(t);break;case"Enter":case"Space":this.open(t,C)}}onTabArrowLeftKey(t){const C=this.findPrevHeaderAction(t.target.parentElement),I=r.p.getAttribute(C,"data-pc-index");C?this.changeFocusedTab(t,C,I):this.onTabEndKey(t),t.preventDefault()}onTabArrowRightKey(t){const C=this.findNextHeaderAction(t.target.parentElement),I=r.p.getAttribute(C,"data-pc-index");C?this.changeFocusedTab(t,C,I):this.onTabHomeKey(t),t.preventDefault()}onTabHomeKey(t){const C=this.findFirstHeaderAction(),I=r.p.getAttribute(C,"data-pc-index");this.changeFocusedTab(t,C,I),t.preventDefault()}onTabEndKey(t){const C=this.findLastHeaderAction(),I=r.p.getAttribute(C,"data-pc-index");this.changeFocusedTab(t,C,I),t.preventDefault()}changeFocusedTab(t,C,I){C&&(r.p.focus(C),C.scrollIntoView({block:"nearest"}),this.selectOnFocus)&&this.open(t,this.tabs[I])}findNextHeaderAction(t,C=!1){const I=C?t:t.nextElementSibling;return I?r.p.getAttribute(I,"data-p-disabled")||"inkbar"===r.p.getAttribute(I,"data-pc-section")?this.findNextHeaderAction(I):r.p.findSingle(I,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(t,C=!1){const I=C?t:t.previousElementSibling;return I?r.p.getAttribute(I,"data-p-disabled")||"inkbar"===r.p.getAttribute(I,"data-pc-section")?this.findPrevHeaderAction(I):r.p.findSingle(I,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){return this.findNextHeaderAction(this.navbar.nativeElement.firstElementChild,!0)}findLastHeaderAction(){const t=this.navbar.nativeElement.lastElementChild,C="inkbar"===r.p.getAttribute(t,"data-pc-section")?t.previousElementSibling:t;return this.findPrevHeaderAction(C,!0)}open(t,C){if(C.disabled)t&&t.preventDefault();else{if(!C.selected){let I=this.findSelectedTab();I&&(I.selected=!1),this.tabChanged=!0,C.selected=!0;let A=this.findTabIndex(C);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(A),this.onChange.emit({originalEvent:t,index:A}),this.updateScrollBar(A)}t&&t.preventDefault()}}close(t,C){this.controlClose?this.onClose.emit({originalEvent:t,index:this.findTabIndex(C),close:()=>{this.closeTab(C)}}):(this.closeTab(C),this.onClose.emit({originalEvent:t,index:this.findTabIndex(C)}))}closeTab(t){if(!t.disabled){if(t.selected){this.tabChanged=!0,t.selected=!1;for(let C=0;C<this.tabs.length;C++){let I=this.tabs[C];if(!I.closed&&!t.disabled){I.selected=!0;break}}}t.closed=!0}}findSelectedTab(){for(let t=0;t<this.tabs.length;t++)if(this.tabs[t].selected)return this.tabs[t];return null}findTabIndex(t){let C=-1;for(let I=0;I<this.tabs.length;I++)if(this.tabs[I]==t){C=I;break}return C}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if(this.navbar){const t=r.p.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!t)return;this.inkbar.nativeElement.style.width=r.p.getWidth(t)+"px",this.inkbar.nativeElement.style.left=r.p.getOffset(t).left-r.p.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(t){this.navbar.nativeElement.children[t].scrollIntoView({block:"nearest"})}updateButtonState(){const t=this.content.nativeElement,{scrollLeft:C,scrollWidth:I}=t,A=r.p.getWidth(t);this.backwardIsDisabled=0===C,this.forwardIsDisabled=C===I-A}onScroll(t){this.scrollable&&this.updateButtonState(),t.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((t,C)=>C?t+r.p.getWidth(C):t,0)}navBackward(){const t=this.content.nativeElement,C=r.p.getWidth(t)-this.getVisibleButtonWidths(),I=t.scrollLeft-C;t.scrollLeft=I<=0?0:I}navForward(){const t=this.content.nativeElement,C=r.p.getWidth(t)-this.getVisibleButtonWidths(),I=t.scrollLeft+C,A=t.scrollWidth-C;t.scrollLeft=I>=A?A:I}static \u0275fac=function(C){return new(C||g)(e.Y36(e.Lbi),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.Qsj))};static \u0275cmp=e.Xpm({type:g,selectors:[["p-tabView"]],contentQueries:function(C,I,A){if(1&C&&(e.Suo(A,ne,4),e.Suo(A,c.jx,4)),2&C){let i;e.iGM(i=e.CRH())&&(I.tabPanels=i),e.iGM(i=e.CRH())&&(I.templates=i)}},viewQuery:function(C,I){if(1&C&&(e.Gf(Ct,5),e.Gf(It,5),e.Gf(At,5),e.Gf(nt,5),e.Gf(it,5),e.Gf(ot,5)),2&C){let A;e.iGM(A=e.CRH())&&(I.content=A.first),e.iGM(A=e.CRH())&&(I.navbar=A.first),e.iGM(A=e.CRH())&&(I.prevBtn=A.first),e.iGM(A=e.CRH())&&(I.nextBtn=A.first),e.iGM(A=e.CRH())&&(I.inkbar=A.first),e.iGM(A=e.CRH())&&(I.elementToObserve=A.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex",selectOnFocus:"selectOnFocus",tabindex:"tabindex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:Ae,decls:14,vars:11,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["elementToObserve",""],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"styleClass","click"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""]],template:function(C,I){1&C&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1,2),e.YNc(3,st,4,4,"button",3),e.TgZ(4,"div",4,5),e.NdJ("scroll",function(i){return I.onScroll(i)}),e.TgZ(6,"ul",6,7),e.YNc(8,kt,1,1,"ng-template",8),e._UZ(9,"li",9,10),e.qZA()(),e.YNc(11,Pt,4,4,"button",11),e.qZA(),e.TgZ(12,"div",12),e.Hsn(13),e.qZA()()),2&C&&(e.Tol(I.styleClass),e.Q6J("ngClass",e.VKq(9,Ft,I.scrollable))("ngStyle",I.style),e.uIk("data-pc-name","tabview"),e.xp6(3),e.Q6J("ngIf",I.scrollable&&!I.backwardIsDisabled),e.xp6(5),e.Q6J("ngForOf",I.tabs),e.xp6(1),e.uIk("data-pc-section","inkbar"),e.xp6(2),e.Q6J("ngIf",I.scrollable&&!I.forwardIsDisabled&&I.shouldVisible))},dependencies:function(){return[a.mk,a.sg,a.O5,a.tP,a.PC,Ie.u,D.H,J.q,Ce.w,k.X]},styles:["@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}\n"],encapsulation:2,changeDetection:0})}return g})(),Jt=(()=>{class g{static \u0275fac=function(C){return new(C||g)};static \u0275mod=e.oAB({type:g});static \u0275inj=e.cJS({imports:[a.ez,c.m8,Ie.z,D.T,J.q,Ce.w,k.X,c.m8]})}return g})();var q=l(3714),B=l(9653),K=l(3965),H=l(3530),oe=l(7327),ae=l(6760),le=l(6263);let Ut=(()=>{class g{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}static#e=this.\u0275fac=function(C){return new(C||g)(e.Y36(E.H7,16))};static#t=this.\u0275pipe=e.Yjl({name:"safeHtml",type:g,pure:!0})}return g})();const Qt=["productPackageDropdown"],Yt=["packageTypeDropdown"],Ot=["salesChannelDropdown"],qt=["productAutocomplete"];function Bt(g,n){1&g&&(e._UZ(0,"i",18),e.TgZ(1,"span"),e._uU(2,"\u0417\u0430\u043a\u0443\u043f\u043a\u0430"),e.qZA())}function Kt(g,n){1&g&&(e.TgZ(0,"tr"),e._UZ(1,"th",24),e.TgZ(2,"th",24),e._uU(3,"ID"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(6,"th",24),e._uU(7,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e.TgZ(8,"th",24),e._uU(9,"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043d\u0430"),e.qZA()())}function Ht(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"p-inputNumber",30),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw().$implicit;return e.KtG(A.count=I)}),e.qZA()}if(2&g){const t=e.oxw().$implicit;e.Q6J("useGrouping",!1)("ngModel",t.count)}}function Lt(g,n){if(1&g&&e._uU(0),2&g){const t=e.oxw().$implicit;e.hij(" ",t.count," ")}}function Gt(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"p-inputNumber",31),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw().$implicit;return e.KtG(A.price=I)}),e.qZA()}if(2&g){const t=e.oxw().$implicit;e.Q6J("useGrouping",!1)("ngModel",t.price)("maxFractionDigits",2)}}function Vt(g,n){if(1&g&&e._uU(0),2&g){const t=e.oxw().$implicit;e.hij(" ",t.price," ")}}function zt(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"p-button",25),e.NdJ("click",function(){const A=e.CHM(t).rowIndex,i=e.oxw(4);return e.KtG(i.removeItem(i.calculation.items,A))}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",26)(8,"p-cellEditor"),e.YNc(9,Ht,1,2,"ng-template",27),e.YNc(10,Lt,1,1,"ng-template",28),e.qZA()(),e.TgZ(11,"td",29)(12,"p-cellEditor"),e.YNc(13,Gt,1,3,"ng-template",27),e.YNc(14,Vt,1,1,"ng-template",28),e.qZA()()()}if(2&g){const t=n.$implicit;e.xp6(4),e.Oqu(t.productID),e.xp6(2),e.Oqu(t.product.name),e.xp6(1),e.Q6J("pEditableColumn",t.count),e.xp6(4),e.Q6J("pEditableColumn",t.price)}}function Rt(g,n){if(1&g&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0418\u0442\u043e\u0433\u043e:"),e.qZA(),e.TgZ(3,"td",33),e._uU(4),e.qZA(),e.TgZ(5,"td",33),e._uU(6),e.qZA()()),2&g){const t=e.oxw(4);e.xp6(4),e.hij(" ",t.calculationTotalProductCount," "),e.xp6(2),e.hij(" ",t.calculationTotalSum," ")}}function jt(g,n){if(1&g&&(e.TgZ(0,"p-table",22),e.YNc(1,Kt,10,0,"ng-template",9),e.YNc(2,zt,15,4,"ng-template",10),e.YNc(3,Rt,7,2,"ng-template",23),e.qZA()),2&g){const t=e.oxw(3);e.Q6J("value",t.calculation.items)}}function $t(g,n){if(1&g&&(e.TgZ(0,"div",34)(1,"div"),e._uU(2),e.qZA()()),2&g){const t=n.$implicit;e.xp6(2),e.AsE("",t.iD,": ",t.name,"")}}function Wt(g,n){1&g&&e._uU(0,"\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u0430")}function Xt(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",1),e.YNc(1,jt,4,1,"p-table",19),e.TgZ(2,"p-autoComplete",20,21),e.NdJ("completeMethod",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.findProductsByName(I))})("onSelect",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.addProduct(I))}),e.ALo(4,"async"),e.YNc(5,$t,3,2,"ng-template",14),e.YNc(6,Wt,1,0,"ng-template",15),e.qZA()()}if(2&g){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.calculation.items.length),e.xp6(1),e.Q6J("suggestions",e.lcZ(4,3,t.products))("minLength",3)}}function eg(g,n){1&g&&(e._UZ(0,"i",35),e.TgZ(1,"span"),e._uU(2,"\u0422\u0438\u043f\u043e\u0444\u043e\u0440\u043c\u0430\u0442\u044b"),e.qZA())}function tg(g,n){if(1&g&&(e.TgZ(0,"div",34)(1,"div"),e._uU(2),e.qZA()()),2&g){const t=n.$implicit;e.xp6(2),e.AsE("",t.product.iD,": ",t.product.name,"")}}function gg(g,n){if(1&g&&(e.TgZ(0,"div",34)(1,"div"),e._uU(2),e.qZA()()),2&g){const t=n.$implicit;e.xp6(2),e.AsE("",t.iD,": ",t.name,"")}}function Cg(g,n){1&g&&e._uU(0,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0440\u0442\u0438\u043a\u0443\u043b")}function Ig(g,n){if(1&g&&e._uU(0),2&g){const t=e.oxw().$implicit;e.lnq(" \u0410\u0440\u0442\u0438\u043a\u0443\u043b: ",t.productPackage.iD,", ",t.productPackage.productCount,"\u0448\u0442, ",t.name," ")}}function Ag(g,n){1&g&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0422\u0438\u043f \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0426\u0435\u043d\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u0443\u043c\u043c\u0430"),e.qZA()())}function ng(g,n){if(1&g&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"\u0418\u0442\u043e\u0433\u043e:"),e.qZA(),e.TgZ(3,"td",33),e._uU(4),e.qZA()()),2&g){const t=e.oxw(3).$implicit,C=e.oxw(3);e.xp6(4),e.Oqu(C.getPackagePrice(t))}}function ig(g,n){if(1&g&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&g){const t=n.ngIf;e.xp6(1),e.hij(" ",t.name," ")}}function og(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",45)(1,"p-inputNumber",57),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw(2).$implicit;return e.KtG(A.amount=I)}),e.qZA(),e._UZ(2,"span",58),e.ALo(3,"safeHtml"),e.qZA()}if(2&g){const t=e.oxw().ngIf,C=e.oxw().$implicit,I=e.oxw(6);e.xp6(1),e.Q6J("useGrouping",!1)("minFractionDigits",t.decimalPlaces)("maxFractionDigits",t.decimalPlaces)("ngModel",C.amount),e.xp6(1),e.Q6J("innerHtml",e.lcZ(3,5,I.getUnitOfMeasure(t.unitOfMeasure)),e.oJD)}}function ag(g,n){if(1&g&&(e.ynx(0),e._uU(1),e._UZ(2,"span",59),e.ALo(3,"safeHtml"),e.BQk()),2&g){const t=e.oxw().ngIf,C=e.oxw().$implicit,I=e.oxw(6);e.xp6(1),e.hij(" ",C.amount,""),e.xp6(1),e.Q6J("innerHtml",e.lcZ(3,2,I.getUnitOfMeasure(t.unitOfMeasure)),e.oJD)}}function lg(g,n){1&g&&(e.TgZ(0,"p-cellEditor"),e.YNc(1,og,4,7,"ng-template",27),e.YNc(2,ag,4,4,"ng-template",28),e.qZA())}function rg(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",45)(1,"p-inputNumber",60),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw().$implicit;return e.KtG(A.pricePerUom=I)}),e.qZA(),e._UZ(2,"span",58),e.ALo(3,"safeHtml"),e.qZA()}if(2&g){const t=e.oxw().$implicit,C=e.oxw(6);e.xp6(1),e.Q6J("useGrouping",!1)("minFractionDigits",0)("maxFractionDigits",2)("ngModel",t.pricePerUom),e.xp6(1),e.Q6J("innerHtml",e.lcZ(3,5,"\u20bd/"+C.getUnitOfMeasureByPackageTypeID(t.packageTypeID)),e.oJD)}}function sg(g,n){if(1&g&&(e._uU(0),e._UZ(1,"span",59)),2&g){const t=e.oxw().$implicit,C=e.oxw(6);e.hij(" ",t.pricePerUom,"\u20bd/"),e.xp6(1),e.Q6J("innerHtml",C.getUnitOfMeasureByPackageTypeID(t.packageTypeID),e.oJD)}}function cg(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"p-button",54),e.NdJ("click",function(){const A=e.CHM(t).rowIndex,i=e.oxw(3).$implicit,o=e.oxw(3);return e.KtG(o.removeItem(i.salesItemPackages,A))}),e.qZA(),e.YNc(3,ig,2,1,"span",17),e.qZA(),e.TgZ(4,"td",55),e.YNc(5,lg,3,0,"p-cellEditor",17),e.qZA(),e.TgZ(6,"td",56)(7,"p-cellEditor"),e.YNc(8,rg,4,7,"ng-template",27),e.YNc(9,sg,2,2,"ng-template",28),e.qZA()(),e.TgZ(10,"td",33),e._uU(11),e.ALo(12,"number"),e.qZA()()}if(2&g){const t=n.$implicit,C=e.oxw(6);e.xp6(3),e.Q6J("ngIf",C.getPackageType(t.packageTypeID)),e.xp6(1),e.Q6J("pEditableColumn",t.amount),e.xp6(1),e.Q6J("ngIf",C.getPackageType(t.packageTypeID)),e.xp6(1),e.Q6J("pEditableColumn",t.pricePerUom),e.xp6(5),e.hij(" ",e.xi3(12,5,t.pricePerUom*t.amount,"1.2-2"),"\u20bd ")}}function pg(g,n){if(1&g&&(e.TgZ(0,"p-table",22),e.YNc(1,Ag,9,0,"ng-template",9),e.YNc(2,ng,5,1,"ng-template",23),e.YNc(3,cg,13,8,"ng-template",10),e.qZA()),2&g){const t=e.oxw(2).$implicit;e.Q6J("value",t.salesItemPackages)}}function _g(g,n){if(1&g&&(e.TgZ(0,"div",34),e._UZ(1,"div",61),e.ALo(2,"safeHtml"),e.qZA()),2&g){const t=n.$implicit,C=e.oxw(5);e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,t.name+" ("+(null==t.price?"-":t.price)+" \u20bd/"+C.getUnitOfMeasure(t.unitOfMeasure)+")"),e.oJD)}}function dg(g,n){if(1&g&&(e.TgZ(0,"div",34)(1,"div"),e._uU(2),e.qZA()()),2&g){const t=n.$implicit;e.xp6(2),e.Oqu(t.name)}}function ug(g,n){1&g&&e._uU(0,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u043d \u043f\u0440\u043e\u0434\u0430\u0436")}function mg(g,n){1&g&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u041a\u0430\u043d\u0430\u043b"),e.qZA(),e.TgZ(3,"th",33),e._uU(4,"\u0426\u0435\u043d\u0430"),e.qZA(),e.TgZ(5,"th",33),e._uU(6,"\u0421\u0435\u0431\u0435\u0441"),e.qZA(),e.TgZ(7,"th",33),e._uU(8,"\u041e\u0442\u0433\u0440\u0443\u0437\u043a\u0430"),e.qZA(),e.TgZ(9,"th",33),e._uU(10,"\u0420\u0435\u043a\u043b\u0430\u043c\u0430, \u20bd/\u043f\u043b\u0430\u043d"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u041a\u043e\u043b-\u0432\u043e"),e.qZA(),e.TgZ(13,"th",33),e._uU(14,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(15,"th",33),e._uU(16,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b"),e.qZA(),e._UZ(17,"th"),e.qZA())}function hg(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",45)(1,"p-inputNumber",73),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw(2).$implicit;return e.KtG(A.price=I)}),e.qZA(),e.TgZ(2,"span",47),e._uU(3,"\u20bd"),e.qZA()()}if(2&g){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("useGrouping",!1)("ngModel",t.price)("minFractionDigits",0)("maxFractionDigits",2)}}function fg(g,n){if(1&g&&(e.TgZ(0,"div"),e._uU(1),e.qZA(),e.TgZ(2,"p-tag",74),e._uU(3),e.ALo(4,"number"),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"number"),e.qZA()),2&g){const t=e.oxw().ngIf,C=e.oxw().$implicit;e.xp6(1),e.hij(" ",C.price,"\u20bd "),e.xp6(1),e.Q6J("severity",C.price<t.costWithCommission?"danger":(C.price-t.costWithCommission)/t.cost>t.profitRate/100?"success":"info"),e.xp6(1),e.AsE(" ",e.xi3(4,6,C.price-t.costWithCommission,"1.2-2"),"\u20bd/",e.xi3(5,9,(C.price-t.costWithCommission)/t.cost*100,"1.0-2"),"% "),e.xp6(4),e.AsE(" (",e.xi3(8,12,(t.cost*(1+t.profitRate/100)+C.commissionAddition)/(1-C.commissionMultiplier/100),"1.2-2"),"\u20bd \u0434\u043b\u044f ",t.profitRate,"%) ")}}function Tg(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",45)(1,"p-inputNumber",75),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw(2).$implicit;return e.KtG(A.deliveryCost=I)}),e.qZA(),e.TgZ(2,"span",47),e._uU(3,"\u20bd"),e.qZA()()}if(2&g){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("useGrouping",!1)("minFractionDigits",0)("maxFractionDigits",2)("ngModel",t.deliveryCost)}}function xg(g,n){if(1&g&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&g){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.deliveryCost,"\u20bd ")}}function vg(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",45)(1,"p-inputNumber",73),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw(2).$implicit;return e.KtG(A.marketingBudget=I)}),e.qZA(),e.TgZ(2,"span",47),e._uU(3,"\u20bd"),e.qZA()()}if(2&g){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("useGrouping",!1)("ngModel",t.marketingBudget)("minFractionDigits",0)("maxFractionDigits",2)}}function bg(g,n){if(1&g&&e._uU(0),2&g){const t=e.oxw(2).$implicit;e.hij(" ",t.marketingBudget," ")}}function yg(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",45)(1,"p-inputNumber",30),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw(2).$implicit;return e.KtG(A.amount=I)}),e.qZA(),e.TgZ(2,"span",47),e._uU(3,"\u0448\u0442"),e.qZA()()}if(2&g){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("useGrouping",!1)("ngModel",t.amount)}}function Ng(g,n){if(1&g&&e._uU(0),2&g){const t=e.oxw(2).$implicit;e.hij(" ",t.amount,"\u0448\u0442 ")}}function wg(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",45)(1,"p-inputNumber",73),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw(2).$implicit;return e.KtG(A.commissionMultiplier=I)}),e.qZA(),e.TgZ(2,"span",47),e._uU(3,"%"),e.qZA()()}if(2&g){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("useGrouping",!1)("ngModel",t.commissionMultiplier)("minFractionDigits",1)("maxFractionDigits",1)}}function Sg(g,n){if(1&g&&e._uU(0),2&g){const t=e.oxw(2).$implicit;e.hij(" ",t.commissionMultiplier,"% ")}}function Zg(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",45)(1,"p-inputNumber",73),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw(2).$implicit;return e.KtG(A.returnPercentage=I)}),e.qZA(),e.TgZ(2,"span",47),e._uU(3,"%"),e.qZA()()}if(2&g){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("useGrouping",!1)("ngModel",t.returnPercentage)("minFractionDigits",1)("maxFractionDigits",1)}}function kg(g,n){if(1&g&&e._uU(0),2&g){const t=e.oxw(2).$implicit;e.hij(" ",t.returnPercentage,"% ")}}function Eg(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"tr")(1,"td",65),e._uU(2),e.qZA(),e.TgZ(3,"td",66)(4,"p-cellEditor"),e.YNc(5,hg,4,4,"ng-template",27),e.YNc(6,fg,9,15,"ng-template",28),e.qZA()(),e.TgZ(7,"td",67),e._uU(8),e.ALo(9,"number"),e._UZ(10,"br"),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td",68)(14,"p-cellEditor"),e.YNc(15,Tg,4,4,"ng-template",27),e.YNc(16,xg,2,1,"ng-template",28),e.qZA()(),e.TgZ(17,"td",69)(18,"p-cellEditor"),e.YNc(19,vg,4,4,"ng-template",27),e.YNc(20,bg,1,1,"ng-template",28),e.qZA()(),e.TgZ(21,"td",70)(22,"p-cellEditor"),e.YNc(23,yg,4,2,"ng-template",27),e.YNc(24,Ng,1,1,"ng-template",28),e.qZA()(),e.TgZ(25,"td",71)(26,"p-cellEditor"),e.YNc(27,wg,4,4,"ng-template",27),e.YNc(28,Sg,1,1,"ng-template",28),e.qZA()(),e.TgZ(29,"td",72)(30,"p-cellEditor"),e.YNc(31,Zg,4,4,"ng-template",27),e.YNc(32,kg,1,1,"ng-template",28),e.qZA()(),e.TgZ(33,"td",65)(34,"p-button",25),e.NdJ("click",function(){e.CHM(t);const I=e.oxw().rowIndex,A=e.oxw(2).$implicit,i=e.oxw(3);return e.KtG(i.removeItem(A.salesPlans,I))}),e.qZA()()()}if(2&g){const t=n.ngIf,C=e.oxw().$implicit;e.xp6(2),e.hij(" ",C.salesChannel.name," "),e.xp6(1),e.Q6J("pEditableColumn",C.price),e.xp6(5),e.hij(" ",e.xi3(9,8,t.costWithCommission,"1.2-2"),"\u20bd "),e.xp6(3),e.hij(" (",e.xi3(12,11,(t.cost+C.commissionAddition)/(1-C.commissionMultiplier/100),"1.2-2"),"\u20bd) "),e.xp6(6),e.Q6J("pEditableColumn",C.marketingBudget),e.xp6(4),e.Q6J("pEditableColumn",C.amount),e.xp6(4),e.Q6J("pEditableColumn",C.commissionMultiplier),e.xp6(4),e.Q6J("pEditableColumn",C.returnPercentage)}}function Dg(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"p-calendar",76),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw().$implicit;return e.KtG(A.deliveryDate=I)}),e.qZA()}if(2&g){const t=e.oxw().$implicit;e.Q6J("ngModel",t.deliveryDate)("readonlyInput",!0)}}function Mg(g,n){if(1&g&&(e._uU(0),e.ALo(1,"date")),2&g){const t=e.oxw().$implicit;e.hij(" ",e.xi3(1,1,t.deliveryDate,"yyyy.MM.dd")," ")}}function Pg(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",45)(1,"p-inputNumber",73),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw().$implicit;return e.KtG(A.commissionAddition=I)}),e.qZA(),e.TgZ(2,"span",47),e._uU(3,"\u20bd"),e.qZA()()}if(2&g){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("useGrouping",!1)("ngModel",t.commissionAddition)("minFractionDigits",2)("maxFractionDigits",2)}}function Fg(g,n){if(1&g&&e._uU(0),2&g){const t=e.oxw().$implicit;e.hij(" ",t.commissionAddition,"\u20bd ")}}function Jg(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",45)(1,"p-inputNumber",73),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw().$implicit;return e.KtG(A.returnCost=I)}),e.qZA(),e.TgZ(2,"span",47),e._uU(3,"\u20bd"),e.qZA()()}if(2&g){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("useGrouping",!1)("ngModel",t.returnCost)("minFractionDigits",2)("maxFractionDigits",2)}}function Ug(g,n){if(1&g&&e._uU(0),2&g){const t=e.oxw().$implicit;e.hij(" ",t.returnCost,"\u20bd ")}}const Qg=function(g,n){return{profitRate:20,cost:g,costWithCommission:n}};function Yg(g,n){if(1&g&&(e.YNc(0,Eg,35,14,"tr",17),e.TgZ(1,"tr")(2,"td",62)(3,"p-cellEditor"),e.YNc(4,Dg,1,2,"ng-template",27),e.YNc(5,Mg,2,4,"ng-template",28),e.qZA()(),e.TgZ(6,"td",63)(7,"p-cellEditor"),e.YNc(8,Pg,4,4,"ng-template",27),e.YNc(9,Fg,1,1,"ng-template",28),e.qZA()(),e.TgZ(10,"td",64)(11,"p-cellEditor"),e.YNc(12,Jg,4,4,"ng-template",27),e.YNc(13,Ug,1,1,"ng-template",28),e.qZA()()()),2&g){const t=n.$implicit,C=e.oxw(2).$implicit,I=e.oxw().$implicit,A=e.oxw(2);e.Q6J("ngIf",e.WLB(3,Qg,A.getSelfCost(C,t,I,!1),A.getSelfCost(C,t,I,!0))),e.xp6(6),e.Q6J("pEditableColumn",t.commissionAddition),e.xp6(4),e.Q6J("pEditableColumn",t.returnCost)}}function Og(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",38)(1,"p-button",39),e.NdJ("click",function(){e.CHM(t);const I=e.oxw().index,A=e.oxw().$implicit,i=e.oxw(2);return e.KtG(i.removeItem(A.salesItems,I))}),e.qZA(),e.TgZ(2,"h5"),e._uU(3,"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438"),e.qZA(),e.TgZ(4,"div",40)(5,"div",41)(6,"div")(7,"label",42),e._uU(8,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA()(),e.TgZ(9,"input",43),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw().$implicit;return e.KtG(A.name=I)}),e.qZA()(),e.TgZ(10,"div",41)(11,"label",44),e._uU(12,"\u041e\u0431\u044a\u0451\u043c"),e.qZA(),e.TgZ(13,"div",45)(14,"p-inputNumber",46),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw().$implicit;return e.KtG(A.volume=I)}),e.qZA(),e.TgZ(15,"span",47),e._uU(16,"\u043b"),e.qZA()()(),e.TgZ(17,"div",41)(18,"label",48),e._uU(19,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0444\u0430\u0441\u043e\u0432\u043a\u0438"),e.qZA(),e.TgZ(20,"div",45)(21,"p-inputNumber",49),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw().$implicit;return e.KtG(A.packagingPrice=I)}),e.qZA(),e.TgZ(22,"span",47),e._uU(23,"\u20bd"),e.qZA()()()(),e.YNc(24,pg,4,1,"p-table",19),e.TgZ(25,"p-dropdown",50,51),e.NdJ("onChange",function(I){e.CHM(t);const A=e.oxw().$implicit,i=e.oxw(3);return e.KtG(i.addSalesItemPackage(A,I.value))}),e.YNc(27,_g,3,3,"ng-template",14),e.qZA()(),e.TgZ(28,"div",38)(29,"p-dropdown",52,53),e.NdJ("onChange",function(I){e.CHM(t);const A=e.oxw().$implicit,i=e.oxw(3);return e.KtG(i.addSalesPlan(A,I.value))}),e.ALo(31,"async"),e.YNc(32,dg,3,1,"ng-template",14),e.YNc(33,ug,1,0,"ng-template",15),e.qZA(),e.TgZ(34,"p-table",22),e.YNc(35,mg,18,0,"ng-template",9),e.YNc(36,Yg,14,6,"ng-template",10),e.qZA()()}if(2&g){const t=e.oxw().$implicit,C=e.oxw(3);e.xp6(9),e.Q6J("ngModel",t.name),e.xp6(5),e.Q6J("useGrouping",!1)("minFractionDigits",0)("maxFractionDigits",1)("ngModel",t.volume),e.xp6(7),e.Q6J("useGrouping",!1)("minFractionDigits",0)("maxFractionDigits",2)("ngModel",t.packagingPrice),e.xp6(3),e.Q6J("ngIf",null==t.salesItemPackages?null:t.salesItemPackages.length),e.xp6(1),e.Q6J("options",C.getAvailablePackageTypes(t)),e.xp6(4),e.Q6J("options",e.lcZ(31,14,C.salesChannels))("autoDisplayFirst",!1),e.xp6(5),e.Q6J("value",t.salesPlans)}}function qg(g,n){1&g&&(e.ynx(0),e.TgZ(1,"p-accordionTab",36),e.YNc(2,Ig,1,3,"ng-template",9),e.YNc(3,Og,37,16,"ng-template",37),e.qZA(),e.BQk())}function Bg(g,n){if(1&g&&(e.ynx(0),e.YNc(1,qg,4,0,"ng-container",16),e.BQk()),2&g){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t.salesItems)}}const Kg=function(){return{width:"50vw"}};function Hg(g,n){if(1&g){const t=e.EpF();e.ynx(0),e.TgZ(1,"p-dialog",77),e.NdJ("visibleChange",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.duplicateProductDialogVisible=I)}),e.TgZ(2,"p",78),e._uU(3),e.qZA()(),e.BQk()}if(2&g){const t=e.oxw(2);e.xp6(1),e.Akn(e.DdM(7,Kg)),e.Q6J("modal",!0)("visible",t.duplicateProductDialogVisible)("draggable",!1)("resizable",!1),e.xp6(2),e.hij(" ",t.addedProduct.name," ")}}function Lg(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",1)(1,"h5"),e._uU(2,"\u0420\u0430\u0441\u0447\u0451\u0442 \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u0438 \u043f\u043e \u0430\u0440\u0442\u0438\u043a\u0443\u043b\u0443"),e.qZA(),e.TgZ(3,"span",2)(4,"input",3),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.calculation.name=I)}),e.qZA(),e.TgZ(5,"label",4),e._uU(6,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0441\u0447\u0451\u0442\u0430"),e.qZA()(),e.TgZ(7,"span",2)(8,"p-calendar",5),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.calculation.date=I)}),e.qZA(),e.TgZ(9,"label",6),e._uU(10,"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0443\u043f\u043a\u0438"),e.qZA()(),e.TgZ(11,"div")(12,"p-button",7),e.NdJ("click",function(){e.CHM(t);const I=e.oxw();return e.KtG(I.savePurchaseBatch())}),e.qZA()(),e.TgZ(13,"p-tabView",8)(14,"p-tabPanel"),e.YNc(15,Bt,3,0,"ng-template",9),e.YNc(16,Xt,7,5,"ng-template",10),e.qZA(),e.TgZ(17,"p-tabPanel"),e.YNc(18,eg,3,0,"ng-template",9),e.TgZ(19,"div",1)(20,"p-dropdown",11,12),e.NdJ("onChange",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.addSalesItem(I.value))}),e.YNc(22,tg,3,2,"ng-template",13),e.YNc(23,gg,3,2,"ng-template",14),e.YNc(24,Cg,1,0,"ng-template",15),e.qZA(),e.TgZ(25,"p-accordion"),e.YNc(26,Bg,2,1,"ng-container",16),e.qZA()()()(),e.YNc(27,Hg,4,8,"ng-container",17),e.qZA()}if(2&g){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.calculation.name),e.xp6(4),e.Q6J("ngModel",t.calculation.date)("utc",!0)("readonlyInput",!0),e.xp6(12),e.Q6J("ngModel",t.selectedProduct)("options",t.calculation.items)("autoDisplayFirst",!1)("group",!0),e.xp6(6),e.Q6J("ngForOf",t.calculation.items),e.xp6(1),e.Q6J("ngIf",t.addedProduct)}}let Gg=(()=>{class g extends M.V{constructor(t,C,I,A,i,o,s,m){super(m),this.route=t,this.productClient=C,this.packageTypeClient=I,this.purchaseBatchClient=A,this.salesChannelClient=i,this.messageService=o,this.purchaseService=s,this.productSearchSubject=new W.x,this.purchaseBatchIDSubject=new W.x,this.products=new v.X([]),this.salesChannels=new v.X([])}get duplicateProductDialogVisible(){return!!this.addedProduct}set duplicateProductDialogVisible(t){t||(this.addedProduct=null)}ngOnInit(){this.titleService.setTitle("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0443\u043f\u043a\u0438"),this.purchaseBatchIDSubject.pipe((0,P.R)(this.destroyed)).pipe((0,w.w)(C=>this.purchaseBatchClient.getPurchaseBatch(C).pipe((0,d.K)(I=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u043a\u0443\u043f\u043a\u0438",severity:"error",detail:I}),u.E))))).subscribe(C=>{this.calculation=C,this.titleService.setTitle(`\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0443\u043f\u043a\u0438 - ${C.name}`)}),this.productSearchSubject.pipe((0,P.R)(this.destroyed)).pipe((0,w.w)(C=>this.productClient.findProducts(new _.f.FindProductsModel({count:10,offset:0,name:C})).pipe((0,d.K)(I=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:I}),u.E))))).subscribe(C=>{this.products.next(C.items)}),this.salesChannelClient.getSalesChannels().pipe((0,d.K)(C=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u043a\u0430\u043d\u0430\u043b\u043e\u0432 \u043f\u0440\u043e\u0434\u0430\u0436",severity:"error",detail:C}),u.E))).subscribe(C=>{this.salesChannels.next(C)});const t=+this.route.snapshot.paramMap.get("id");t>0&&t!=this.calculation?.iD?this.purchaseBatchIDSubject.next(t):this.calculation=new _.f.PurchaseBatch({date:new Date,status:_.f.PurchaseBatchStatus.Unknown,items:[],name:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043a\u0443\u043f\u043a\u0430",iD:0})}addSalesPlan(t,C){if(C){t.salesPlans||(t.salesPlans=[]);const I=this.getSalesItemProductPackage(t),A=this.getProductPackageBatchItem(I),i=new _.f.SalesPlan;i.salesChannel=C,i.salesChannelID=C.iD,i.amount=0,i.marketingBudget=0,i.deliveryCost=0,i.deliveryDate=new Date,i.status=_.f.SalesPlanStatus.InProcess,i.price=A.price+t.packagingPrice+this.getPackagePrice(t),t.salesPlans.push(i),this.salesChannelDropdown.clear(null)}}createNewSalesItem(t,C){return new _.f.SalesItem({packagingPrice:0,volume:0,salesItemPackages:[],salesPlans:[],iD:0,name:"\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0430",productPackageID:t.iD,productPackage:t,purchaseBatchItemID:C.iD})}getSalesItemProductPackage(t){return this.getProductPackageBatchItem(t.productPackage).product.packages.find(A=>A.iD==t.productPackageID)}getProductPackageBatchItem(t){return this.calculation.items.find(I=>I.productID==t.productID)}addSalesItem(t){if(t){const C=this.getProductPackageBatchItem(t),I=this.createNewSalesItem(t,C);C.salesItems.push(I),this.productPackageDropdown.clear(null)}}removeItem(t,C){t.splice(C,1)}getAvailablePackageTypes(t){const C=[],I=new Set(t.salesItemPackages.map(i=>i.packageTypeID)),A=this.purchaseService.getPackageTypes();for(const i of A)I.has(i.iD)||C.push(i);return C}addSalesItemPackage(t,C){C&&(t.salesItemPackages.push(new _.f.SalesItemPackage({packageTypeID:C.iD,amount:0,pricePerUom:C.price??0,salesItemID:t.iD})),this.packageTypeDropdown.clear(null))}getSelfCost(t,C,I,A=!0){return this.purchaseService.getSalesPlanSelfCost(t,C,I,A)}getPackagePrice(t){return this.purchaseService.getSalesItemCosts(t)}getPackageType(t){return this.purchaseService.getPackageType(t)}unassignedProductCount(t){return t.items.flatMap(I=>I.salesItems.map(A=>({item:I,format:A,assignedCount:A.salesPlans.reduce((i,o)=>i+o.amount,0)})))}findProductsByName(t){t.query.trim().length>2&&this.productSearchSubject.next(t.query)}addProduct(t){if(t){this.productAutocomplete.clear();const C=this.calculation.items.find(I=>I.productID==t.iD);this.selectedProduct=null,C?this.addedProduct=t:this.calculation.items.push(new _.f.PurchaseBatchItem({productID:t.iD,count:0,product:t,purchaseBatchID:this.calculation.iD,price:0,salesItems:[],iD:0}))}}savePurchaseBatch(){this.purchaseBatchClient.updatePurchaseBatch(this.calculation).pipe((0,d.K)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:t}),u.E))).subscribe(t=>{this.calculation.iD=t.iD,this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043f\u0430\u0440\u0442\u0438\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"})})}get calculationTotalProductCount(){return this.calculation.items.reduce((t,C)=>Math.round(t+C.count),0)}get calculationTotalSum(){return this.calculation.items.reduce((t,C)=>Math.round(t+C.price*C.count),0)}getUnitOfMeasureByPackageTypeID(t){const I=this.purchaseService.getPackageTypes().find(A=>A.iD==t);return I?this.getUnitOfMeasure(I.unitOfMeasure):"?"}getUnitOfMeasure(t){let C;switch(t){case _.f.UnitOfMeasure.Piece:C="\u0448\u0442";break;case _.f.UnitOfMeasure.SquareMeter:C="\u043c&sup2;";break;default:C=""}return C}static#e=this.\u0275fac=function(C){return new(C||g)(e.Y36(N.gz),e.Y36(_.f.ProductClient),e.Y36(_.f.PackageTypeClient),e.Y36(_.f.PurchaseBatchClient),e.Y36(_.f.SalesChannelClient),e.Y36(c.ez),e.Y36(F),e.Y36(E.Dx))};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-purchase-editor"]],viewQuery:function(C,I){if(1&C&&(e.Gf(Qt,5),e.Gf(Yt,5),e.Gf(Ot,5),e.Gf(qt,5)),2&C){let A;e.iGM(A=e.CRH())&&(I.productPackageDropdown=A.first),e.iGM(A=e.CRH())&&(I.packageTypeDropdown=A.first),e.iGM(A=e.CRH())&&(I.salesChannelDropdown=A.first),e.iGM(A=e.CRH())&&(I.productAutocomplete=A.first)}},features:[e.qOj],decls:2,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"p-float-label"],["id","productName","type","text","pInputText","",1,"w-full","md:w-30rem","mb-5",2,"padding","1rem",3,"ngModel","ngModelChange"],["for","productName",1,"font-bold"],["input","date","placeholder","\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0443\u043f\u043a\u0438",3,"ngModel","utc","readonlyInput","ngModelChange"],["for","date","dateFormat","dd.mm.yy",1,"font-bold"],["icon","pi pi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"click"],["styleClass","tabview-custom"],["pTemplate","header"],["pTemplate","body"],["styleClass","m-3","appendTo","body","placeholder","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0440\u0442\u0438\u043a\u0443\u043b","optionGroupChildren","product.packages",3,"ngModel","options","autoDisplayFirst","group","onChange"],["productPackageDropdown",""],["pTemplate","group"],["pTemplate","item"],["pTemplate","selectedItem"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"pi","pi-shopping-cart","pi-fw"],[3,"value",4,"ngIf"],["styleClass","mb-3","field","name","placeholder","\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u0430",3,"suggestions","minLength","completeMethod","onSelect"],["productAutocomplete",""],[3,"value"],["pTemplate","footer"],["width","10%"],["icon","pi pi-trash",3,"click"],["pEditableColumnField","count",1,"text-right",3,"pEditableColumn"],["pTemplate","input"],["pTemplate","output"],["pEditableColumnField","price",1,"text-right",3,"pEditableColumn"],[3,"useGrouping","ngModel","ngModelChange"],[3,"useGrouping","ngModel","maxFractionDigits","ngModelChange"],["colspan","3",1,"text-right"],[1,"text-right"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-box","pi-fw"],["transitionOptions","50ms"],["pTemplate","content"],[1,"card","m-2"],["label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0438\u043f\u043e\u0444\u043e\u0440\u043c\u0430\u0442","styleClass","mb-3","icon","pi pi-trash",3,"click"],[1,"grid"],[1,"col","xs:col-12"],["for","name"],["maxlength","100","pInputText","","inputId","name",3,"ngModel","ngModelChange"],["for","volume"],[1,"p-inputgroup"],["inputId","volume",3,"useGrouping","minFractionDigits","maxFractionDigits","ngModel","ngModelChange"],[1,"p-inputgroup-addon"],["for","packagingPrice"],["inputId","packagingPrice",3,"useGrouping","minFractionDigits","maxFractionDigits","ngModel","ngModelChange"],["styleClass","m-3","appendTo","body","optionLabel","name","placeholder","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435",3,"options","onChange"],["packageTypeDropdown",""],["styleClass","m-3","appendTo","body","placeholder","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u043d \u043f\u0440\u043e\u0434\u0430\u0436","optionLabel","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u043d \u043f\u0440\u043e\u0434\u0430\u0436",3,"options","autoDisplayFirst","onChange"],["salesChannelDropdown",""],["icon","pi pi-trash","styleClass","p-button-sm",3,"click"],["pEditableColumnField","amount",1,"text-right",3,"pEditableColumn"],["pEditableColumnField","pricePerUom",1,"text-right",3,"pEditableColumn"],[3,"useGrouping","minFractionDigits","maxFractionDigits","ngModel","ngModelChange"],[1,"p-inputgroup-addon",3,"innerHtml"],[3,"innerHtml"],["emptyValue","empty",3,"useGrouping","minFractionDigits","maxFractionDigits","ngModel","ngModelChange"],[3,"innerHTML"],["pEditableColumn","",1,"text-right"],["pEditableColumnField","commissionAddition",1,"text-right",3,"pEditableColumn"],["pEditableColumnField","returnCost",1,"text-right",3,"pEditableColumn"],["rowspan","2"],["rowspan","2","pEditableColumnField","price",1,"text-right",3,"pEditableColumn"],["rowspan","2",1,"text-right"],["pEditableColumn",""],["rowspan","2","pEditableColumnField","marketingBudget",1,"text-right",3,"pEditableColumn"],["rowspan","2","pEditableColumnField","amount",1,"text-right",3,"pEditableColumn"],["pEditableColumnField","commissionMultiplier",1,"text-right",3,"pEditableColumn"],["pEditableColumnField","returnPercentage",1,"text-right",3,"pEditableColumn"],[3,"useGrouping","ngModel","minFractionDigits","maxFractionDigits","ngModelChange"],[3,"severity"],["inputId","deliveryCost",3,"useGrouping","minFractionDigits","maxFractionDigits","ngModel","ngModelChange"],["input","date","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u0433\u0440\u0443\u0437\u043a\u0438","appendTo","body","dateFormat","yy.mm.dd",3,"ngModel","readonlyInput","ngModelChange"],["header","\u041e\u0448\u0438\u0431\u043a\u0430",3,"modal","visible","draggable","resizable","visibleChange"],[1,"m-0"]],template:function(C,I){1&C&&(e._UZ(0,"p-toast"),e.YNc(1,Lg,28,10,"div",0)),2&C&&(e.xp6(1),e.Q6J("ngIf",I.calculation))},dependencies:[a.sg,a.O5,h.Fj,h.JJ,h.nD,h.On,f.iA,c.jx,f.Wq,f.YL,S.FN,b.zx,ge,te,ie,ne,q.o,B.Rn,K.Lt,H.V,oe.Qc,ae.f,le.V,a.Ov,a.JJ,a.uU,Ut]})}return g})();function Vg(g,n){if(1&g&&(e.TgZ(0,"div",4)(1,"h5"),e._uU(2,"\u0417\u0430\u043a\u0443\u043f\u043a\u0430"),e.qZA(),e.TgZ(3,"div",5)(4,"div",6)(5,"div",7)(6,"span",8),e._uU(7,"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0443\u043f\u043a\u0438:"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"div",7)(11,"span",8),e._uU(12,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0437\u0438\u0446\u0438\u0439:"),e.qZA(),e.TgZ(13,"span"),e._uU(14),e.qZA()(),e.TgZ(15,"div",7)(16,"span",8),e._uU(17,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432:"),e.qZA(),e.TgZ(18,"span"),e._uU(19),e.qZA()()()()()),2&g){const t=e.oxw(2);e.xp6(9),e.hij("",t.batchInfo.sum,"\u20bd"),e.xp6(5),e.Oqu(t.batchInfo.positionCount),e.xp6(5),e.Oqu(t.batchInfo.productCount)}}function zg(g,n){if(1&g&&(e.TgZ(0,"div",11)(1,"div",7)(2,"div",8),e._uU(3,"\u0422\u043e\u0432\u0430\u0440:"),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.qZA()(),e.TgZ(6,"div",7)(7,"div",8),e._uU(8,"\u041f\u0440\u043e\u0434\u0430\u0436\u0438, \u043f\u043b\u0430\u043d:"),e.qZA(),e.TgZ(9,"div"),e._uU(10),e.qZA()(),e.TgZ(11,"div",7)(12,"div",8),e._uU(13,"\u041f\u0440\u043e\u0434\u0430\u0436\u0438, \u0444\u0430\u043a\u0442:"),e.qZA(),e.TgZ(14,"div"),e._uU(15),e.qZA()(),e.TgZ(16,"div",7)(17,"div",8),e._uU(18,"\u041f\u0440\u043e\u0434\u0430\u0436\u0438, \u043f\u043b\u0430\u043d:"),e.qZA(),e.TgZ(19,"div"),e._uU(20),e.ALo(21,"number"),e.qZA()(),e.TgZ(22,"div",7)(23,"div",8),e._uU(24,"\u041f\u0440\u043e\u0434\u0430\u0436\u0438, \u0444\u0430\u043a\u0442:"),e.qZA(),e.TgZ(25,"div"),e._uU(26),e.ALo(27,"number"),e.qZA()(),e.TgZ(28,"div",7)(29,"div",8),e._uU(30,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f, \u043f\u043b\u0430\u043d:"),e.qZA(),e.TgZ(31,"div"),e._uU(32),e.ALo(33,"number"),e.qZA()(),e.TgZ(34,"div",7)(35,"div",8),e._uU(36,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f, \u0444\u0430\u043a\u0442:"),e.qZA(),e.TgZ(37,"div"),e._uU(38),e.ALo(39,"number"),e.qZA()(),e.TgZ(40,"div",7)(41,"div",8),e._uU(42,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430, \u043f\u043b\u0430\u043d:"),e.qZA(),e.TgZ(43,"div"),e._uU(44),e.ALo(45,"number"),e.qZA()(),e.TgZ(46,"div",7)(47,"div",8),e._uU(48,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430, \u0444\u0430\u043a\u0442:"),e.qZA(),e.TgZ(49,"div"),e._uU(50),e.ALo(51,"number"),e.qZA()(),e.TgZ(52,"div",7)(53,"div",8),e._uU(54,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b, \u043f\u043b\u0430\u043d:"),e.qZA(),e.TgZ(55,"div"),e._uU(56),e.qZA()(),e.TgZ(57,"div",7)(58,"div",8),e._uU(59,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b, \u0444\u0430\u043a\u0442:"),e.qZA(),e.TgZ(60,"div"),e._uU(61),e.qZA()(),e.TgZ(62,"div",7)(63,"div",8),e._uU(64,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c, \u043f\u043b\u0430\u043d:"),e.qZA(),e.TgZ(65,"div"),e._uU(66),e.ALo(67,"number"),e.qZA()(),e.TgZ(68,"div",7)(69,"div",8),e._uU(70,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c, \u0444\u0430\u043a\u0442:"),e.qZA(),e.TgZ(71,"div"),e._uU(72),e.ALo(73,"number"),e.qZA()()()),2&g){const t=n.$implicit;e.xp6(5),e.Oqu(t.name),e.xp6(5),e.hij("",t.plannedAmount,"\u0448\u0442"),e.xp6(5),e.hij("",t.soldAmount,"\u0448\u0442"),e.xp6(5),e.hij("",e.xi3(21,13,t.plannedSum,"1.2-2"),"\u20bd"),e.xp6(6),e.hij("",e.xi3(27,16,t.soldSum,"1.2-2"),"\u20bd"),e.xp6(6),e.hij("",e.xi3(33,19,t.plannedCommissionPercent,"1.2-2"),"\u20bd"),e.xp6(6),e.hij("",e.xi3(39,22,t.commissionPercent,"1.2-2"),"\u20bd"),e.xp6(6),e.hij("",e.xi3(45,25,t.plannedCommissionAddition,"1.2-2"),"\u20bd"),e.xp6(6),e.hij("",e.xi3(51,28,t.commissionAddition,"1.2-2"),"\u20bd"),e.xp6(6),e.hij("",t.plannedReturnCount,"\u0448\u0442"),e.xp6(5),e.hij("",t.returnCount,"\u0448\u0442"),e.xp6(5),e.hij("",e.xi3(67,31,t.plannedProfit,"1.2-2"),"\u20bd"),e.xp6(6),e.hij("",e.xi3(73,34,t.profit,"1.2-2"),"\u20bd")}}function Rg(g,n){if(1&g&&(e.TgZ(0,"div",4)(1,"h5"),e._uU(2),e.qZA(),e.TgZ(3,"div",5),e.YNc(4,zg,74,37,"div",10),e.qZA()()),2&g){const t=n.$implicit;e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngForOf",t.plans)}}function jg(g,n){if(1&g&&(e.TgZ(0,"div",4)(1,"h4"),e._uU(2,"\u041f\u043b\u0430\u043d\u044b \u043f\u0440\u043e\u0434\u0430\u0436"),e.qZA(),e.YNc(3,Rg,5,2,"div",9),e.qZA()),2&g){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.salesInfo.salesChannels)}}const $g=function(g){return{id:g}},Wg=function(g){return["/purchase","edit",g]};function Xg(g,n){if(1&g){const t=e.EpF();e.ynx(0),e.TgZ(1,"h1"),e._uU(2),e.qZA(),e.TgZ(3,"p-button",1),e.NdJ("click",function(){e.CHM(t);const I=e.oxw();return e.KtG(I.calcPlans())}),e.qZA(),e._UZ(4,"p-button",2),e.YNc(5,Vg,20,3,"div",3),e.YNc(6,jg,4,1,"div",3),e.BQk()}if(2&g){const t=e.oxw();e.xp6(2),e.Oqu(t.batch.name),e.xp6(2),e.Q6J("routerLink",e.VKq(6,Wg,e.VKq(4,$g,t.batch.iD))),e.xp6(1),e.Q6J("ngIf",t.batchInfo),e.xp6(1),e.Q6J("ngIf",t.salesInfo)}}let eC=(()=>{class g extends M.V{constructor(t,C,I){super(I),this.purchaseService=t,this.route=C,this.batchID=new v.X(null),this.salesPlanIDs=new v.X([])}ngOnInit(){this.titleService.setTitle("\u0421\u0432\u043e\u0434\u043a\u0430 \u043f\u043e \u0437\u0430\u043a\u0443\u043f\u043a\u0435");const t=+this.route.snapshot.paramMap.get("id");t>0&&this.batchID.next(t),this.batchID.pipe((0,P.R)(this.destroyed)).pipe((0,O.h)(C=>!!C)).pipe((0,w.w)(C=>this.purchaseService.getBatch(C))).subscribe(C=>{this.batch=C,this.updateBatchInfo(),this.titleService.setTitle(`\u0421\u0432\u043e\u0434\u043a\u0430 \u043f\u043e \u0437\u0430\u043a\u0443\u043f\u043a\u0435 - ${C.name}`)}),this.salesPlanIDs.pipe((0,P.R)(this.destroyed)).pipe((0,O.h)(C=>!!C?.length)).pipe((0,w.w)(C=>this.purchaseService.getSalesPlansSummaries(C))).subscribe(C=>{this.summaries=C,this.salesInfo=this.getSalesInfo(this.batch,C)})}updateBatchInfo(){this.batchInfo=this.batch?this.getBatchInfo(this.batch):{},this.salesInfo={},this.summaries=[],this.salesPlanIDs.next(this.batch.items.reduce((t,C)=>C.salesItems.reduce((I,A)=>A.salesPlans.reduce((i,o)=>(t.push(o.iD),t),t),t),[]))}getBatchInfo(t){const C={};return C.sum=t.items.reduce((I,A)=>I+A.count*A.price,0),C.productCount=t.items.reduce((I,A)=>I+A.count,0),C.positionCount=t.items.length,C}getSalesInfo(t,C){const I={},A=[];for(const i of t.items)for(const s of i.salesItems){this.purchaseService.getSalesItemCosts(s);for(const p of s.salesPlans){const T=C.find(R=>R.iD==p.iD);let Y=A.find(R=>R.channelID==p.salesChannelID);Y||(Y={channelID:p.salesChannelID,name:p.salesChannel.name,plans:[]},A.push(Y)),this.purchaseService.getSalesPlanSelfCost(s,p,i);const nn=this.purchaseService.getSalesPlanSelfCost(s,p,i)*p.amount,on=this.purchaseService.getSalesItemCosts(s)*p.amount;Y.plans.push({name:s.productPackage.name+", "+s.name,plannedAmount:p.amount,soldAmount:T.salesCount,plannedSum:p.price*p.amount,soldSum:T.salesSum,plannedCommissionAddition:-p.commissionAddition*p.amount,plannedCommissionPercent:-Math.ceil(p.amount*p.price*p.commissionMultiplier/100),commissionAddition:T.commissionAddition,commissionPercent:T.commissionPercent,plannedReturnCount:Math.ceil(p.amount*p.returnPercentage/100),returnCount:T.returnCount,plannedProfit:p.amount*p.price-nn-p.deliveryCost,profit:T.salesSum-T.returnSum+T.commissionPercent+T.commissionAddition-on-p.deliveryCost-i.count*i.price})}}return I.salesChannels=A,I}calcPlans(){this.purchaseService.calcPlans()}static#e=this.\u0275fac=function(C){return new(C||g)(e.Y36(F),e.Y36(N.gz),e.Y36(E.Dx))};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-purchase-summary"]],inputs:{batchID:"batchID"},features:[e._Bn([{provide:h.JU,useExisting:(0,e.Gpc)(()=>g),multi:!0}]),e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],["styleClass","mb-3","label","\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"click"],["styleClass","mb-3","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043a\u0443\u043f\u043a\u0443",3,"routerLink"],["class","card",4,"ngIf"],[1,"card"],[1,"grid"],[1,"col-12","md:col-6","xl:col-4"],[1,"flex","justify-content-between"],[1,"font-bold","text-900"],["class","card",4,"ngFor","ngForOf"],["class","col-6 md:col-12 xl:col-4",4,"ngFor","ngForOf"],[1,"col-6","md:col-12","xl:col-4"]],template:function(C,I){1&C&&e.YNc(0,Xg,7,8,"ng-container",0),2&C&&e.Q6J("ngIf",I.batch)},dependencies:[a.sg,a.O5,b.zx,N.rH,a.JJ]})}return g})();var tC=l(3620),gC=l(3997),re=l(7223),L=l(6489),se=l(2591),ce=l(1604),pe=l(3983),U=l(2324),_e=l(8717);const de=function(g){return{"p-treenode-droppoint-active":g}};function CC(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDropPoint(I,-1))})("dragover",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDropPointDragOver(I))})("dragenter",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDropPointDragEnter(I,-1))})("dragleave",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDropPointDragLeave(I))}),e.qZA()}if(2&g){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(1,de,t.draghoverPrev))}}function IC(g,n){1&g&&e._UZ(0,"ChevronRightIcon",14),2&g&&e.Q6J("styleClass","p-tree-toggler-icon")}function AC(g,n){1&g&&e._UZ(0,"ChevronDownIcon",14),2&g&&e.Q6J("styleClass","p-tree-toggler-icon")}function nC(g,n){if(1&g&&(e.ynx(0),e.YNc(1,IC,1,1,"ChevronRightIcon",13),e.YNc(2,AC,1,1,"ChevronDownIcon",13),e.BQk()),2&g){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!t.node.expanded),e.xp6(1),e.Q6J("ngIf",t.node.expanded)}}function iC(g,n){}function oC(g,n){1&g&&e.YNc(0,iC,0,0,"ng-template")}const Q=function(g){return{$implicit:g}};function aC(g,n){if(1&g&&(e.TgZ(0,"span",15),e.YNc(1,oC,1,0,null,16),e.qZA()),2&g){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.tree.togglerIconTemplate)("ngTemplateOutletContext",e.VKq(2,Q,t.node.expanded))}}function lC(g,n){1&g&&e._UZ(0,"CheckIcon",14),2&g&&e.Q6J("styleClass","p-checkbox-icon")}function rC(g,n){1&g&&e._UZ(0,"MinusIcon",14),2&g&&e.Q6J("styleClass","p-checkbox-icon")}function sC(g,n){if(1&g&&(e.ynx(0),e.YNc(1,lC,1,1,"CheckIcon",13),e.YNc(2,rC,1,1,"MinusIcon",13),e.BQk()),2&g){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!t.node.partialSelected&&t.isSelected()),e.xp6(1),e.Q6J("ngIf",t.node.partialSelected)}}function cC(g,n){}function pC(g,n){1&g&&e.YNc(0,cC,0,0,"ng-template")}const _C=function(g){return{"p-checkbox-disabled":g}},dC=function(g,n){return{"p-highlight":g,"p-indeterminate":n}},uC=function(g,n){return{$implicit:g,partialSelected:n}};function mC(g,n){if(1&g&&(e.TgZ(0,"div",17)(1,"div",18),e.YNc(2,sC,3,2,"ng-container",8),e.YNc(3,pC,1,0,null,16),e.qZA()()),2&g){const t=e.oxw(3);e.Q6J("ngClass",e.VKq(6,_C,!1===t.node.selectable)),e.uIk("aria-checked",t.isSelected()),e.xp6(1),e.Q6J("ngClass",e.WLB(8,dC,t.isSelected(),t.node.partialSelected)),e.xp6(1),e.Q6J("ngIf",!t.tree.checkboxIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.tree.checkboxIconTemplate)("ngTemplateOutletContext",e.WLB(11,uC,t.isSelected(),t.node.partialSelected))}}function hC(g,n){if(1&g&&e._UZ(0,"span"),2&g){const t=e.oxw(3);e.Tol(t.getIcon())}}function fC(g,n){if(1&g&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&g){const t=e.oxw(3);e.xp6(1),e.Oqu(t.node.label)}}function TC(g,n){1&g&&e.GkF(0)}function xC(g,n){if(1&g&&(e.TgZ(0,"span"),e.YNc(1,TC,1,0,"ng-container",16),e.qZA()),2&g){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.tree.getTemplateForNode(t.node))("ngTemplateOutletContext",e.VKq(2,Q,t.node))}}function vC(g,n){if(1&g&&e._UZ(0,"p-treeNode",21),2&g){const t=n.$implicit,C=n.first,I=n.last,A=n.index,i=e.oxw(4);e.Q6J("node",t)("parentNode",i.node)("firstChild",C)("lastChild",I)("index",A)("itemSize",i.itemSize)("level",i.level+1)}}function bC(g,n){if(1&g&&(e.TgZ(0,"ul",19),e.YNc(1,vC,1,7,"p-treeNode",20),e.qZA()),2&g){const t=e.oxw(3);e.Udp("display",t.node.expanded?"block":"none"),e.xp6(1),e.Q6J("ngForOf",t.node.children)("ngForTrackBy",t.tree.trackBy)}}const yC=function(g,n){return["p-treenode",g,n]},ue=function(g){return{height:g}},NC=function(g,n,t){return{"p-treenode-selectable":g,"p-treenode-dragover":n,"p-highlight":t}};function wC(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"li",5)(1,"div",6),e.NdJ("click",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onNodeClick(I))})("contextmenu",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onNodeRightClick(I))})("touchend",function(){e.CHM(t);const I=e.oxw(2);return e.KtG(I.onNodeTouchEnd())})("drop",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDropNode(I))})("dragover",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDropNodeDragOver(I))})("dragenter",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDropNodeDragEnter(I))})("dragleave",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDropNodeDragLeave(I))})("dragstart",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDragStart(I))})("dragend",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDragStop(I))})("keydown",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onKeyDown(I))}),e.TgZ(2,"button",7),e.NdJ("click",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.toggle(I))}),e.YNc(3,nC,3,2,"ng-container",8),e.YNc(4,aC,2,4,"span",9),e.qZA(),e.YNc(5,mC,4,14,"div",10),e.YNc(6,hC,1,2,"span",3),e.TgZ(7,"span",11),e.YNc(8,fC,2,1,"span",8),e.YNc(9,xC,2,4,"span",8),e.qZA()(),e.YNc(10,bC,2,4,"ul",12),e.qZA()}if(2&g){const t=e.oxw(2);e.Akn(t.node.style),e.Q6J("ngClass",e.WLB(22,yC,t.node.styleClass||"",t.isLeaf()?"p-treenode-leaf":""))("ngStyle",e.VKq(25,ue,t.itemSize+"px")),e.xp6(1),e.Udp("padding-left",t.level*t.indentation+"rem"),e.Q6J("draggable",t.tree.draggableNodes)("ngClass",e.kEZ(27,NC,t.tree.selectionMode&&!1!==t.node.selectable,t.draghoverNode,t.isSelected())),e.uIk("tabindex",0)("aria-posinset",t.index+1)("aria-expanded",t.node.expanded)("aria-selected",t.isSelected())("aria-label",t.node.label)("data-id",t.node.key),e.xp6(1),e.uIk("aria-label",t.tree.togglerAriaLabel),e.xp6(1),e.Q6J("ngIf",!t.tree.togglerIconTemplate),e.xp6(1),e.Q6J("ngIf",t.tree.togglerIconTemplate),e.xp6(1),e.Q6J("ngIf","checkbox"==t.tree.selectionMode),e.xp6(1),e.Q6J("ngIf",t.node.icon||t.node.expandedIcon||t.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!t.tree.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.tree.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",!t.tree.virtualScroll&&t.node.children&&t.node.expanded)}}function SC(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"li",4),e.NdJ("drop",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDropPoint(I,1))})("dragover",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDropPointDragOver(I))})("dragenter",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDropPointDragEnter(I,1))})("dragleave",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onDropPointDragLeave(I))}),e.qZA()}if(2&g){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(1,de,t.draghoverNext))}}const me=function(g){return{"p-treenode-connector-line":g}};function ZC(g,n){if(1&g&&(e.TgZ(0,"td",27)(1,"table",28)(2,"tbody")(3,"tr"),e._UZ(4,"td",29),e.qZA(),e.TgZ(5,"tr"),e._UZ(6,"td",29),e.qZA()()()()),2&g){const t=e.oxw(3);e.xp6(4),e.Q6J("ngClass",e.VKq(2,me,!t.firstChild)),e.xp6(2),e.Q6J("ngClass",e.VKq(4,me,!t.lastChild))}}function kC(g,n){if(1&g&&e._UZ(0,"PlusIcon",32),2&g){const t=e.oxw(5);e.Q6J("styleClass","p-tree-toggler-icon")("ariaLabel",t.tree.togglerAriaLabel)}}function EC(g,n){if(1&g&&e._UZ(0,"MinusIcon",32),2&g){const t=e.oxw(5);e.Q6J("styleClass","p-tree-toggler-icon")("ariaLabel",t.tree.togglerAriaLabel)}}function DC(g,n){if(1&g&&(e.ynx(0),e.YNc(1,kC,1,2,"PlusIcon",31),e.YNc(2,EC,1,2,"MinusIcon",31),e.BQk()),2&g){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!t.node.expanded),e.xp6(1),e.Q6J("ngIf",t.node.expanded)}}function MC(g,n){}function PC(g,n){1&g&&e.YNc(0,MC,0,0,"ng-template")}function FC(g,n){if(1&g&&(e.TgZ(0,"span",15),e.YNc(1,PC,1,0,null,16),e.qZA()),2&g){const t=e.oxw(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t.tree.togglerIconTemplate)("ngTemplateOutletContext",e.VKq(2,Q,t.node.expanded))}}function JC(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"span",30),e.NdJ("click",function(I){e.CHM(t);const A=e.oxw(3);return e.KtG(A.toggle(I))}),e.YNc(1,DC,3,2,"ng-container",8),e.YNc(2,FC,2,4,"span",9),e.qZA()}if(2&g){const t=e.oxw(3);e.Q6J("ngClass","p-tree-toggler"),e.xp6(1),e.Q6J("ngIf",!t.tree.togglerIconTemplate),e.xp6(1),e.Q6J("ngIf",t.tree.togglerIconTemplate)}}function UC(g,n){if(1&g&&e._UZ(0,"span"),2&g){const t=e.oxw(3);e.Tol(t.getIcon())}}function QC(g,n){if(1&g&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&g){const t=e.oxw(3);e.xp6(1),e.Oqu(t.node.label)}}function YC(g,n){1&g&&e.GkF(0)}function OC(g,n){if(1&g&&(e.TgZ(0,"span"),e.YNc(1,YC,1,0,"ng-container",16),e.qZA()),2&g){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.tree.getTemplateForNode(t.node))("ngTemplateOutletContext",e.VKq(2,Q,t.node))}}function qC(g,n){if(1&g&&e._UZ(0,"p-treeNode",36),2&g){const C=n.first,I=n.last;e.Q6J("node",n.$implicit)("firstChild",C)("lastChild",I)}}function BC(g,n){if(1&g&&(e.TgZ(0,"td",33)(1,"div",34),e.YNc(2,qC,1,3,"p-treeNode",35),e.qZA()()),2&g){const t=e.oxw(3);e.Udp("display",t.node.expanded?"table-cell":"none"),e.xp6(2),e.Q6J("ngForOf",t.node.children)("ngForTrackBy",t.tree.trackBy)}}const KC=function(g){return{"p-treenode-collapsed":g}},HC=function(g,n){return{"p-treenode-selectable":g,"p-highlight":n}};function LC(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"table")(1,"tbody")(2,"tr"),e.YNc(3,ZC,7,6,"td",22),e.TgZ(4,"td",23)(5,"div",24),e.NdJ("click",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onNodeClick(I))})("contextmenu",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onNodeRightClick(I))})("touchend",function(){e.CHM(t);const I=e.oxw(2);return e.KtG(I.onNodeTouchEnd())})("keydown",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onNodeKeydown(I))}),e.YNc(6,JC,3,3,"span",25),e.YNc(7,UC,1,2,"span",3),e.TgZ(8,"span",11),e.YNc(9,QC,2,1,"span",8),e.YNc(10,OC,2,4,"span",8),e.qZA()()(),e.YNc(11,BC,3,4,"td",26),e.qZA()()()}if(2&g){const t=e.oxw(2);e.Tol(t.node.styleClass),e.xp6(3),e.Q6J("ngIf",!t.root),e.xp6(1),e.Q6J("ngClass",e.VKq(10,KC,!t.node.expanded)),e.xp6(1),e.Q6J("ngClass",e.WLB(12,HC,t.tree.selectionMode,t.isSelected())),e.xp6(1),e.Q6J("ngIf",!t.isLeaf()),e.xp6(1),e.Q6J("ngIf",t.node.icon||t.node.expandedIcon||t.node.collapsedIcon),e.xp6(2),e.Q6J("ngIf",!t.tree.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.tree.getTemplateForNode(t.node)),e.xp6(1),e.Q6J("ngIf",t.node.children&&t.node.expanded)}}function GC(g,n){if(1&g&&(e.YNc(0,CC,1,3,"li",1),e.YNc(1,wC,11,31,"li",2),e.YNc(2,SC,1,3,"li",1),e.YNc(3,LC,12,15,"table",3)),2&g){const t=e.oxw();e.Q6J("ngIf",t.tree.droppableNodes),e.xp6(1),e.Q6J("ngIf",!t.tree.horizontal),e.xp6(1),e.Q6J("ngIf",t.tree.droppableNodes&&t.lastChild),e.xp6(1),e.Q6J("ngIf",t.tree.horizontal)}}const VC=["filter"],zC=["scroller"],RC=["wrapper"];function jC(g,n){if(1&g&&e._UZ(0,"i"),2&g){const t=e.oxw(3);e.Tol("p-tree-loading-icon pi-spin "+t.loadingIcon)}}function $C(g,n){1&g&&e._UZ(0,"SpinnerIcon",13),2&g&&e.Q6J("spin",!0)("styleClass","p-tree-loading-icon")}function WC(g,n){}function XC(g,n){1&g&&e.YNc(0,WC,0,0,"ng-template")}function eI(g,n){if(1&g&&(e.TgZ(0,"span",14),e.YNc(1,XC,1,0,null,4),e.qZA()),2&g){const t=e.oxw(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t.loadingIconTemplate)}}function tI(g,n){if(1&g&&(e.ynx(0),e.YNc(1,$C,1,2,"SpinnerIcon",11),e.YNc(2,eI,2,1,"span",12),e.BQk()),2&g){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!t.loadingIconTemplate),e.xp6(1),e.Q6J("ngIf",t.loadingIconTemplate)}}function gI(g,n){if(1&g&&(e.TgZ(0,"div",9),e.YNc(1,jC,1,2,"i",10),e.YNc(2,tI,3,2,"ng-container",7),e.qZA()),2&g){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.loadingIcon),e.xp6(1),e.Q6J("ngIf",!t.loadingIcon)}}function CI(g,n){1&g&&e.GkF(0)}function II(g,n){1&g&&e._UZ(0,"SearchIcon",20),2&g&&e.Q6J("styleClass","p-tree-filter-icon")}function AI(g,n){}function nI(g,n){1&g&&e.YNc(0,AI,0,0,"ng-template")}function iI(g,n){if(1&g&&(e.TgZ(0,"span",21),e.YNc(1,nI,1,0,null,4),e.qZA()),2&g){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterIconTemplate)}}function oI(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",15)(1,"input",16,17),e.NdJ("keydown.enter",function(I){return I.preventDefault()})("input",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A._filter(I.target.value))}),e.qZA(),e.YNc(3,II,1,1,"SearchIcon",18),e.YNc(4,iI,2,1,"span",19),e.qZA()}if(2&g){const t=e.oxw(2);e.xp6(1),e.uIk("placeholder",t.filterPlaceholder),e.xp6(2),e.Q6J("ngIf",!t.filterIconTemplate),e.xp6(1),e.Q6J("ngIf",t.filterIconTemplate)}}function aI(g,n){if(1&g&&e._UZ(0,"p-treeNode",28,29),2&g){const t=n.$implicit,C=n.first,I=n.last,A=n.index,i=e.oxw(2).options,o=e.oxw(3);e.Q6J("level",t.level)("rowNode",t)("node",t.node)("firstChild",C)("lastChild",I)("index",o.getIndex(i,A))("itemSize",i.itemSize)("indentation",o.indentation)}}function lI(g,n){if(1&g&&(e.TgZ(0,"ul",26),e.YNc(1,aI,2,8,"p-treeNode",27),e.qZA()),2&g){const t=e.oxw(),C=t.options,I=t.$implicit,A=e.oxw(3);e.Akn(C.contentStyle),e.Q6J("ngClass",C.contentStyleClass),e.uIk("aria-label",A.ariaLabel)("aria-labelledby",A.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",I)("ngForTrackBy",A.trackBy)}}function rI(g,n){1&g&&e.YNc(0,lI,2,7,"ul",25),2&g&&e.Q6J("ngIf",n.$implicit)}function sI(g,n){1&g&&e.GkF(0)}const cI=function(g){return{options:g}};function pI(g,n){if(1&g&&e.YNc(0,sI,1,0,"ng-container",31),2&g){const t=n.options,C=e.oxw(4);e.Q6J("ngTemplateOutlet",C.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,cI,t))}}function _I(g,n){1&g&&(e.ynx(0),e.YNc(1,pI,1,4,"ng-template",30),e.BQk())}function dI(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"p-scroller",22,23),e.NdJ("onScroll",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onScroll.emit(I))})("onScrollIndexChange",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onScrollIndexChange.emit(I))})("onLazyLoad",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onLazyLoad.emit(I))}),e.YNc(2,rI,1,1,"ng-template",24),e.YNc(3,_I,2,0,"ng-container",7),e.qZA()}if(2&g){const t=e.oxw(2);e.Akn(e.VKq(9,ue,"flex"!==t.scrollHeight?t.scrollHeight:void 0)),e.Q6J("items",t.serializedValue)("tabindex",-1)("scrollHeight","flex"!==t.scrollHeight?void 0:"100%")("itemSize",t.virtualScrollItemSize||t._virtualNodeHeight)("lazy",t.lazy)("options",t.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",t.loaderTemplate)}}function uI(g,n){if(1&g&&e._UZ(0,"p-treeNode",37),2&g){const C=n.first,I=n.last,A=n.index;e.Q6J("node",n.$implicit)("firstChild",C)("lastChild",I)("index",A)("level",0)}}function mI(g,n){if(1&g&&(e.TgZ(0,"ul",35),e.YNc(1,uI,1,5,"p-treeNode",36),e.qZA()),2&g){const t=e.oxw(3);e.uIk("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy),e.xp6(1),e.Q6J("ngForOf",t.getRootNode())("ngForTrackBy",t.trackBy)}}function hI(g,n){if(1&g&&(e.ynx(0),e.TgZ(1,"div",32,33),e.YNc(3,mI,2,4,"ul",34),e.qZA(),e.BQk()),2&g){const t=e.oxw(2);e.xp6(1),e.Udp("max-height",t.scrollHeight),e.xp6(2),e.Q6J("ngIf",t.getRootNode())}}function fI(g,n){if(1&g&&(e.ynx(0),e._uU(1),e.BQk()),2&g){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.emptyMessageLabel," ")}}function TI(g,n){1&g&&e.GkF(0,null,40)}function xI(g,n){if(1&g&&(e.TgZ(0,"div",38),e.YNc(1,fI,2,1,"ng-container",39),e.YNc(2,TI,2,0,"ng-container",4),e.qZA()),2&g){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.emptyMessageTemplate)("ngIfElse",t.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTemplate)}}function vI(g,n){1&g&&e.GkF(0)}const bI=function(g,n,t,C){return{"p-tree p-component":!0,"p-tree-selectable":g,"p-treenode-dragover":n,"p-tree-loading":t,"p-tree-flex-scrollable":C}};function yI(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("drop",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.onDrop(I))})("dragover",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.onDragOver(I))})("dragenter",function(){e.CHM(t);const I=e.oxw();return e.KtG(I.onDragEnter())})("dragleave",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.onDragLeave(I))}),e.YNc(1,gI,3,2,"div",3),e.YNc(2,CI,1,0,"ng-container",4),e.YNc(3,oI,5,3,"div",5),e.YNc(4,dI,4,11,"p-scroller",6),e.YNc(5,hI,4,3,"ng-container",7),e.YNc(6,xI,3,3,"div",8),e.YNc(7,vI,1,0,"ng-container",4),e.qZA()}if(2&g){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("ngClass",e.l5B(11,bI,t.selectionMode,t.dragHover,t.loading,"flex"===t.scrollHeight))("ngStyle",t.style),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngIf",t.filter),e.xp6(1),e.Q6J("ngIf",t.virtualScroll),e.xp6(1),e.Q6J("ngIf",!t.virtualScroll),e.xp6(1),e.Q6J("ngIf",!t.loading&&(null==t.getRootNode()||0===t.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}function NI(g,n){1&g&&e.GkF(0)}function wI(g,n){if(1&g&&e._UZ(0,"i"),2&g){const t=e.oxw(3);e.Tol("p-tree-loading-icon pi-spin "+t.loadingIcon)}}function SI(g,n){1&g&&e._UZ(0,"SpinnerIcon",13),2&g&&e.Q6J("spin",!0)("styleClass","p-tree-loading-icon")}function ZI(g,n){}function kI(g,n){1&g&&e.YNc(0,ZI,0,0,"ng-template")}function EI(g,n){if(1&g&&(e.TgZ(0,"span",14),e.YNc(1,kI,1,0,null,4),e.qZA()),2&g){const t=e.oxw(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t.loadingIconTemplate)}}function DI(g,n){if(1&g&&(e.ynx(0),e.YNc(1,SI,1,2,"SpinnerIcon",11),e.YNc(2,EI,2,1,"span",12),e.BQk()),2&g){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!t.loadingIconTemplate),e.xp6(1),e.Q6J("ngIf",t.loadingIconTemplate)}}function MI(g,n){if(1&g&&(e.TgZ(0,"div",43),e.YNc(1,wI,1,2,"i",10),e.YNc(2,DI,3,2,"ng-container",7),e.qZA()),2&g){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.loadingIcon),e.xp6(1),e.Q6J("ngIf",!t.loadingIcon)}}function PI(g,n){if(1&g&&(e.TgZ(0,"table"),e._UZ(1,"p-treeNode",44),e.qZA()),2&g){const t=e.oxw(2);e.xp6(1),e.Q6J("node",t.value[0])("root",!0)}}function FI(g,n){if(1&g&&(e.ynx(0),e._uU(1),e.BQk()),2&g){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.emptyMessageLabel," ")}}function JI(g,n){1&g&&e.GkF(0,null,40)}function UI(g,n){if(1&g&&(e.TgZ(0,"div",38),e.YNc(1,FI,2,1,"ng-container",39),e.YNc(2,JI,2,0,"ng-container",4),e.qZA()),2&g){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.emptyMessageTemplate)("ngIfElse",t.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",t.emptyMessageTemplate)}}function QI(g,n){1&g&&e.GkF(0)}const YI=function(g){return{"p-tree p-tree-horizontal p-component":!0,"p-tree-selectable":g}};function OI(g,n){if(1&g&&(e.TgZ(0,"div",41),e.YNc(1,NI,1,0,"ng-container",4),e.YNc(2,MI,3,2,"div",42),e.YNc(3,PI,2,2,"table",7),e.YNc(4,UI,3,3,"div",8),e.YNc(5,QI,1,0,"ng-container",4),e.qZA()),2&g){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("ngClass",e.VKq(9,YI,t.selectionMode))("ngStyle",t.style),e.xp6(1),e.Q6J("ngTemplateOutlet",t.headerTemplate),e.xp6(1),e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("ngIf",t.value&&t.value[0]),e.xp6(1),e.Q6J("ngIf",!t.loading&&(null==t.getRootNode()||0===t.getRootNode().length)),e.xp6(1),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}let qI=(()=>{class g{static ICON_CLASS="p-treenode-icon ";rowNode;node;parentNode;root;index;firstChild;lastChild;level;indentation;itemSize;tree;timeout;draghoverPrev;draghoverNext;draghoverNode;constructor(t){this.tree=t}ngOnInit(){this.node.parent=this.parentNode,this.parentNode&&this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value))}getIcon(){let t;return t=this.node.icon?this.node.icon:this.node.expanded&&this.node.children&&this.node.children?.length?this.node.expandedIcon:this.node.collapsedIcon,g.ICON_CLASS+" "+t}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(t){this.node.expanded?this.collapse(t):this.expand(t),t.stopPropagation()}expand(t){this.node.expanded=!0,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeExpand.emit({originalEvent:t,node:this.node})}collapse(t){this.node.expanded=!1,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeCollapse.emit({originalEvent:t,node:this.node})}onNodeClick(t){this.tree.onNodeClick(t,this.node)}onNodeKeydown(t){13===t.which&&this.tree.onNodeClick(t,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(t){this.tree.onNodeRightClick(t,this.node)}isSelected(){return this.tree.isSelected(this.node)}onDropPoint(t,C){t.preventDefault();let I=this.tree.dragNode,o=this.tree.dragNodeTree!==this.tree||1===C||this.tree.dragNodeIndex!==this.index-1;if(this.tree.allowDrop(I,this.node,this.tree.dragNodeScope)&&o){let s={...this.createDropPointEventMetadata(C)};this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:t,dragNode:I,dropNode:this.node,index:this.index,accept:()=>{this.processPointDrop(s)}}):(this.processPointDrop(s),this.tree.onNodeDrop.emit({originalEvent:t,dragNode:I,dropNode:this.node,index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(t){let C=t.dropNode.parent?t.dropNode.parent.children:this.tree.value;t.dragNodeSubNodes.splice(t.dragNodeIndex,1);let I=this.index;t.position<0?(I=t.dragNodeSubNodes===C?t.dragNodeIndex>t.index?t.index:t.index-1:t.index,C.splice(I,0,t.dragNode)):(I=C.length,C.push(t.dragNode)),this.tree.dragDropService.stopDrag({node:t.dragNode,subNodes:t.dropNode.parent?t.dropNode.parent.children:this.tree.value,index:t.dragNodeIndex})}createDropPointEventMetadata(t){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:t}}onDropPointDragOver(t){t.dataTransfer.dropEffect="move",t.preventDefault()}onDropPointDragEnter(t,C){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(C<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(t){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(t){this.tree.draggableNodes&&!1!==this.node.draggable?(t.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):t.preventDefault()}onDragStop(t){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(t){t.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(t.preventDefault(),t.stopPropagation())}onDropNode(t){if(this.tree.droppableNodes&&!1!==this.node?.droppable){let C=this.tree.dragNode;if(this.tree.allowDrop(C,this.node,this.tree.dragNodeScope)){let I={...this.createDropNodeEventMetadata()};this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:t,dragNode:C,dropNode:this.node,index:this.index,accept:()=>{this.processNodeDrop(I)}}):(this.processNodeDrop(I),this.tree.onNodeDrop.emit({originalEvent:t,dragNode:C,dropNode:this.node,index:this.index}))}}t.preventDefault(),t.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(t){let C=t.dragNodeIndex;t.dragNodeSubNodes.splice(C,1),t.dropNode.children?t.dropNode.children.push(t.dragNode):t.dropNode.children=[t.dragNode],this.tree.dragDropService.stopDrag({node:t.dragNode,subNodes:t.dropNode.parent?t.dropNode.parent.children:this.tree.value,index:C})}onDropNodeDragEnter(t){this.tree.droppableNodes&&!1!==this.node?.droppable&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(t){if(this.tree.droppableNodes){let C=t.currentTarget.getBoundingClientRect();(t.x>C.left+C.width||t.x<C.left||t.y>=Math.floor(C.top+C.height)||t.y<C.top)&&(this.draghoverNode=!1)}}onKeyDown(t){const C=t.target.parentElement?.parentElement;if(!("P-TREENODE"!==C?.nodeName||this.tree.contextMenu&&"block"===this.tree.contextMenu.containerViewChild?.nativeElement.style.display))switch(t.which){case 40:const I=this.tree.droppableNodes?C.children[1].children[1]:C.children[0].children[1];if(I&&I.children.length>0)this.focusNode(I.children[0]);else{const A=C.nextElementSibling;if(A)this.focusNode(A);else{let i=this.findNextSiblingOfAncestor(C);i&&this.focusNode(i)}}t.preventDefault();break;case 38:if(C.previousElementSibling)this.focusNode(this.findLastVisibleDescendant(C.previousElementSibling));else{let A=this.getParentNodeElement(C);A&&this.focusNode(A)}t.preventDefault();break;case 39:!this.node?.expanded&&!this.tree.isNodeLeaf(this.node)&&this.expand(t),t.preventDefault();break;case 37:if(this.node?.expanded)this.collapse(t);else{let A=this.getParentNodeElement(C);A&&this.focusNode(A)}t.preventDefault();break;case 13:this.tree.onNodeClick(t,this.node),t.preventDefault()}}findNextSiblingOfAncestor(t){let C=this.getParentNodeElement(t);return C?C.nextElementSibling?C.nextElementSibling:this.findNextSiblingOfAncestor(C):null}findLastVisibleDescendant(t){const I=Array.from(t.children).find(A=>r.p.hasClass(A,"p-treenode")).children[1];return I&&I.children.length>0?this.findLastVisibleDescendant(I.children[I.children.length-1]):t}getParentNodeElement(t){const C=t.parentElement?.parentElement?.parentElement;return"P-TREENODE"===C?.tagName?C:null}focusNode(t){this.tree.droppableNodes?t.children[1].children[0].focus():t.children[0].children[0].focus()}focusVirtualNode(){this.timeout=setTimeout(()=>{let t=r.p.findSingle(document.body,`[data-id="${this.node?.key??this.node?.data}"]`);r.p.focus(t)},1)}static \u0275fac=function(C){return new(C||g)(e.Y36((0,e.Gpc)(()=>G)))};static \u0275cmp=e.Xpm({type:g,selectors:[["p-treeNode"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:"root",index:"index",firstChild:"firstChild",lastChild:"lastChild",level:"level",indentation:"indentation",itemSize:"itemSize"},decls:1,vars:1,consts:[[3,"ngIf"],["class","p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","style",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave"],[3,"ngClass","ngStyle"],["role","treeitem",1,"p-treenode-content",3,"draggable","ngClass","click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","keydown"],["type","button","pRipple","","tabindex","-1",1,"p-tree-toggler","p-link",3,"click"],[4,"ngIf"],["class","p-tree-toggler-icon",4,"ngIf"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-treenode-label"],["class","p-treenode-children","style","display: none;","role","group",3,"display",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-tree-toggler-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],["role","group",1,"p-treenode-children",2,"display","none"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level"],["class","p-treenode-connector",4,"ngIf"],[1,"p-treenode",3,"ngClass"],["tabindex","0",1,"p-treenode-content",3,"ngClass","click","contextmenu","touchend","keydown"],[3,"ngClass","click",4,"ngIf"],["class","p-treenode-children-container",3,"display",4,"ngIf"],[1,"p-treenode-connector"],[1,"p-treenode-connector-table"],[3,"ngClass"],[3,"ngClass","click"],[3,"styleClass","ariaLabel",4,"ngIf"],[3,"styleClass","ariaLabel"],[1,"p-treenode-children-container"],[1,"p-treenode-children"],[3,"node","firstChild","lastChild",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild"]],template:function(C,I){1&C&&e.YNc(0,GC,4,4,"ng-template",0),2&C&&e.Q6J("ngIf",I.node)},dependencies:function(){return[a.mk,a.sg,a.O5,a.tP,a.PC,D.H,se.n,Z.v,k.X,ce.V,pe.p,g]},encapsulation:2})}return g})(),G=(()=>{class g{el;dragDropService;config;cd;value;selectionMode;selection;style;styleClass;contextMenu;layout="vertical";draggableScope;droppableScope;draggableNodes;droppableNodes;metaKeySelection=!0;propagateSelectionUp=!0;propagateSelectionDown=!0;loading;loadingIcon;emptyMessage="";ariaLabel;togglerAriaLabel;ariaLabelledBy;validateDrop;filter;filterBy="label";filterMode="lenient";filterPlaceholder;filteredNodes;filterLocale;scrollHeight;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;indentation=1.5;_templateMap;trackBy=(t,C)=>C;_virtualNodeHeight;get virtualNodeHeight(){return this._virtualNodeHeight}set virtualNodeHeight(t){this._virtualNodeHeight=t,console.warn("The virtualNodeHeight property is deprecated, use virtualScrollItemSize property instead.")}selectionChange=new e.vpe;onNodeSelect=new e.vpe;onNodeUnselect=new e.vpe;onNodeExpand=new e.vpe;onNodeCollapse=new e.vpe;onNodeContextMenuSelect=new e.vpe;onNodeDrop=new e.vpe;onLazyLoad=new e.vpe;onScroll=new e.vpe;onScrollIndexChange=new e.vpe;onFilter=new e.vpe;templates;filterViewChild;scroller;wrapperViewChild;serializedValue;headerTemplate;footerTemplate;loaderTemplate;emptyMessageTemplate;togglerIconTemplate;checkboxIconTemplate;loadingIconTemplate;filterIconTemplate;nodeTouched;dragNodeTree;dragNode;dragNodeSubNodes;dragNodeIndex;dragNodeScope;dragHover;dragStartSubscription;dragStopSubscription;constructor(t,C,I,A){this.el=t,this.dragDropService=C,this.config=I,this.cd=A}ngOnInit(){this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(t=>{this.dragNodeTree=t.tree,this.dragNode=t.node,this.dragNodeSubNodes=t.subNodes,this.dragNodeIndex=t.index,this.dragNodeScope=t.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(t=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(t){t.value&&this.updateSerializedValue()}get horizontal(){return"horizontal"==this.layout}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(c.ws.EMPTY_MESSAGE)}ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"empty":this.emptyMessageTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"togglericon":this.togglerIconTemplate=t.template;break;case"checkboxicon":this.checkboxIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;default:this._templateMap[t.name]=t.template}})}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(t,C,I,A){if(C&&C.length)for(let i of C){i.parent=t;const o={node:i,parent:t,level:I,visible:A&&(!t||t.expanded)};this.serializedValue.push(o),o.visible&&i.expanded&&this.serializeNodes(i,i.children,I+1,o.visible)}}onNodeClick(t,C){let I=t.target;if(!r.p.hasClass(I,"p-tree-toggler")&&!r.p.hasClass(I,"p-tree-toggler-icon")){if(this.selectionMode){if(!1===C.selectable||this.hasFilteredNodes()&&!(C=this.getNodeWithKey(C.key,this.value)))return;let A=this.findIndexInSelection(C),i=A>=0;if(this.isCheckboxSelectionMode())i?(this.propagateSelectionDown?this.propagateDown(C,!1):this.selection=this.selection.filter((o,s)=>s!=A),this.propagateSelectionUp&&C.parent&&this.propagateUp(C.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:t,node:C})):(this.propagateSelectionDown?this.propagateDown(C,!0):this.selection=[...this.selection||[],C],this.propagateSelectionUp&&C.parent&&this.propagateUp(C.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:t,node:C}));else if(!this.nodeTouched&&this.metaKeySelection){let s=t.metaKey||t.ctrlKey;i&&s?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((m,p)=>p!=A),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:t,node:C})):(this.isSingleSelectionMode()?this.selectionChange.emit(C):this.isMultipleSelectionMode()&&(this.selection=s&&this.selection||[],this.selection=[...this.selection,C],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:t,node:C}))}else this.isSingleSelectionMode()?i?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:C})):(this.selection=C,this.onNodeSelect.emit({originalEvent:t,node:C})):i?(this.selection=this.selection.filter((s,m)=>m!=A),this.onNodeUnselect.emit({originalEvent:t,node:C})):(this.selection=[...this.selection||[],C],this.onNodeSelect.emit({originalEvent:t,node:C})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(t,C){if(this.contextMenu){let I=t.target;if(I.className&&0===I.className.indexOf("p-tree-toggler"))return;this.findIndexInSelection(C)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(C):this.selectionChange.emit([C])),this.contextMenu.show(t),this.onNodeContextMenuSelect.emit({originalEvent:t,node:C})}}findIndexInSelection(t){let C=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())C=this.selection.key&&this.selection.key===t.key||this.selection==t?0:-1;else for(let I=0;I<this.selection.length;I++){let A=this.selection[I];if(A.key&&A.key===t.key||A==t){C=I;break}}return C}syncNodeOption(t,C,I,A){const i=this.hasFilteredNodes()?this.getNodeWithKey(t.key,C):null;i&&(i[I]=A||t[I])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}getNodeWithKey(t,C){for(let I of C){if(I.key===t)return I;if(I.children){let A=this.getNodeWithKey(t,I.children);if(A)return A}}}propagateUp(t,C){if(t.children&&t.children.length){let A=0,i=!1;for(let o of t.children)this.isSelected(o)?A++:o.partialSelected&&(i=!0);if(C&&A==t.children.length)this.selection=[...this.selection||[],t],t.partialSelected=!1;else{if(!C){let o=this.findIndexInSelection(t);o>=0&&(this.selection=this.selection.filter((s,m)=>m!=o))}t.partialSelected=!!(i||A>0&&A!=t.children.length)}this.syncNodeOption(t,this.filteredNodes,"partialSelected")}let I=t.parent;I&&this.propagateUp(I,C)}propagateDown(t,C){let I=this.findIndexInSelection(t);if(C&&-1==I?this.selection=[...this.selection||[],t]:!C&&I>-1&&(this.selection=this.selection.filter((A,i)=>i!=I)),t.partialSelected=!1,this.syncNodeOption(t,this.filteredNodes,"partialSelected"),t.children&&t.children.length)for(let A of t.children)this.propagateDown(A,C)}isSelected(t){return-1!=this.findIndexInSelection(t)}isSingleSelectionMode(){return this.selectionMode&&"single"==this.selectionMode}isMultipleSelectionMode(){return this.selectionMode&&"multiple"==this.selectionMode}isCheckboxSelectionMode(){return this.selectionMode&&"checkbox"==this.selectionMode}isNodeLeaf(t){return 0!=t.leaf&&!(t.children&&t.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(t){return this._templateMap?t.type?this._templateMap[t.type]:this._templateMap.default:null}onDragOver(t){this.droppableNodes&&(!this.value||0===this.value.length)&&(t.dataTransfer.dropEffect="move",t.preventDefault())}onDrop(t){if(this.droppableNodes&&(!this.value||0===this.value.length)){t.preventDefault();let C=this.dragNode;if(this.allowDrop(C,null,this.dragNodeScope)){let I=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:t,dragNode:C,dropNode:null,index:I,accept:()=>{this.processTreeDrop(C,I)}}):(this.onNodeDrop.emit({originalEvent:t,dragNode:C,dropNode:null,index:I}),this.processTreeDrop(C,I))}}}processTreeDrop(t,C){this.dragNodeSubNodes.splice(C,1),this.value.push(t),this.dragDropService.stopDrag({node:t})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(t){if(this.droppableNodes){let C=t.currentTarget.getBoundingClientRect();(t.x>C.left+C.width||t.x<C.left||t.y>C.top+C.height||t.y<C.top)&&(this.dragHover=!1)}}allowDrop(t,C,I){if(t){if(this.isValidDragScope(I)){let A=!0;if(C)if(t===C)A=!1;else{let i=C.parent;for(;null!=i;){if(i===t){A=!1;break}i=i.parent}}return A}return!1}return!1}isValidDragScope(t){let C=this.droppableScope;if(C){if("string"==typeof C){if("string"==typeof t)return C===t;if(Array.isArray(t))return-1!=t.indexOf(C)}else if(Array.isArray(C)){if("string"==typeof t)return-1!=C.indexOf(t);if(Array.isArray(t))for(let I of C)for(let A of t)if(I===A)return!0}return!1}return!0}_filter(t){let C=t;if(""===C)this.filteredNodes=null;else{this.filteredNodes=[];const I=this.filterBy.split(","),A=y.gb.removeAccents(C).toLocaleLowerCase(this.filterLocale),i="strict"===this.filterMode;for(let o of this.value){let s={...o},m={searchFields:I,filterText:A,isStrictMode:i};(i&&(this.findFilteredNodes(s,m)||this.isFilterMatched(s,m))||!i&&(this.isFilterMatched(s,m)||this.findFilteredNodes(s,m)))&&this.filteredNodes.push(s)}}this.updateSerializedValue(),this.onFilter.emit({filter:C,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(t){this.virtualScroll&&this.scroller?.scrollToIndex(t)}scrollTo(t){this.virtualScroll?this.scroller?.scrollTo(t):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(t):(this.wrapperViewChild.nativeElement.scrollLeft=t.left,this.wrapperViewChild.nativeElement.scrollTop=t.top))}findFilteredNodes(t,C){if(t){let I=!1;if(t.children){let A=[...t.children];t.children=[];for(let i of A){let o={...i};this.isFilterMatched(o,C)&&(I=!0,t.children.push(o))}}if(I)return t.expanded=!0,!0}}isFilterMatched(t,C){let{searchFields:I,filterText:A,isStrictMode:i}=C,o=!1;for(let s of I)y.gb.removeAccents(String(y.gb.resolveFieldData(t,s))).toLocaleLowerCase(this.filterLocale).indexOf(A)>-1&&(o=!0);return(!o||i&&!this.isNodeLeaf(t))&&(o=this.findFilteredNodes(t,{searchFields:I,filterText:A,isStrictMode:i})||o),o}getIndex(t,C){const I=t.getItemOptions;return I?I(C).index:C}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}static \u0275fac=function(C){return new(C||g)(e.Y36(e.SBq),e.Y36(c.Y,8),e.Y36(c.b4),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:g,selectors:[["p-tree"]],contentQueries:function(C,I,A){if(1&C&&e.Suo(A,c.jx,4),2&C){let i;e.iGM(i=e.CRH())&&(I.templates=i)}},viewQuery:function(C,I){if(1&C&&(e.Gf(VC,5),e.Gf(zC,5),e.Gf(RC,5)),2&C){let A;e.iGM(A=e.CRH())&&(I.filterViewChild=A.first),e.iGM(A=e.CRH())&&(I.scroller=A.first),e.iGM(A=e.CRH())&&(I.wrapperViewChild=A.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",selectionMode:"selectionMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",layout:"layout",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:"draggableNodes",droppableNodes:"droppableNodes",metaKeySelection:"metaKeySelection",propagateSelectionUp:"propagateSelectionUp",propagateSelectionDown:"propagateSelectionDown",loading:"loading",loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:"validateDrop",filter:"filter",filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",indentation:"indentation",_templateMap:"_templateMap",trackBy:"trackBy",virtualNodeHeight:"virtualNodeHeight"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[e.TTD],decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle","drop","dragover","dragenter","dragleave"],["class","p-tree-loading-overlay p-component-overlay",4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tree-filter-container",4,"ngIf"],["styleClass","p-tree-wrapper",3,"items","tabindex","style","scrollHeight","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-tree-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-tree-loading-icon"],[1,"p-tree-filter-container"],["type","text","autocomplete","off",1,"p-tree-filter","p-inputtext","p-component",3,"keydown.enter","input"],["filter",""],[3,"styleClass",4,"ngIf"],["class","p-tree-filter-icon",4,"ngIf"],[3,"styleClass"],[1,"p-tree-filter-icon"],["styleClass","p-tree-wrapper",3,"items","tabindex","scrollHeight","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad"],["scroller",""],["pTemplate","content"],["class","p-tree-container","role","tree",3,"ngClass","style",4,"ngIf"],["role","tree",1,"p-tree-container",3,"ngClass"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","firstChild","lastChild","index","itemSize","indentation"],["treeNode",""],["pTemplate","loader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-tree-wrapper"],["wrapper",""],["class","p-tree-container","role","tree",4,"ngIf"],["role","tree",1,"p-tree-container"],[3,"node","firstChild","lastChild","index","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level"],[1,"p-tree-empty-message"],[4,"ngIf","ngIfElse"],["emptyFilter",""],[3,"ngClass","ngStyle"],["class","p-tree-loading-mask p-component-overlay",4,"ngIf"],[1,"p-tree-loading-mask","p-component-overlay"],[3,"node","root"]],template:function(C,I){1&C&&(e.YNc(0,yI,8,16,"div",0),e.YNc(1,OI,6,11,"div",1)),2&C&&(e.Q6J("ngIf",!I.horizontal),e.xp6(1),e.Q6J("ngIf",I.horizontal))},dependencies:function(){return[a.mk,a.sg,a.O5,a.tP,a.PC,c.jx,L.T,U.W,_e.L,qI]},styles:["@layer primeng{.p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:flex;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:flex;flex:1;height:100%;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0 none}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal tr,.p-tree.p-tree-horizontal td{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:flex;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-x scroll center center transparent;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf,.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-y scroll 0 0 transparent;width:1px}.p-tree.p-tree-horizontal table{height:0}.p-scroller .p-tree-container{overflow:visible}}\n"],encapsulation:2})}return g})(),V=(()=>{class g{static \u0275fac=function(C){return new(C||g)};static \u0275mod=e.oAB({type:g});static \u0275inj=e.cJS({imports:[a.ez,c.m8,D.T,L.v,se.n,Z.v,k.X,ce.V,U.W,_e.L,pe.p,c.m8,L.v]})}return g})();var he=l(8057),z=l(5807);const BI=["container"],KI=["focusInput"],HI=["filter"],LI=["tree"],GI=["panel"],VI=["overlay"];function zI(g,n){1&g&&e.GkF(0)}const RI=function(g,n){return{$implicit:g,placeholder:n}};function jI(g,n){if(1&g&&(e.ynx(0),e.YNc(1,zI,1,0,"ng-container",16),e.BQk()),2&g){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.valueTemplate)("ngTemplateOutletContext",e.WLB(2,RI,t.value,t.placeholder))}}function $I(g,n){if(1&g&&(e.ynx(0),e._uU(1),e.BQk()),2&g){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.label||"empty"," ")}}function WI(g,n){if(1&g&&(e.TgZ(0,"div",19)(1,"span",20),e._uU(2),e.qZA()()),2&g){const t=n.$implicit;e.xp6(2),e.Oqu(t.label)}}function XI(g,n){if(1&g&&(e.ynx(0),e._uU(1),e.BQk()),2&g){const t=e.oxw(3);e.xp6(1),e.Oqu(t.placeholder||"empty")}}function eA(g,n){if(1&g&&(e.YNc(0,WI,3,1,"div",18),e.YNc(1,XI,2,1,"ng-container",9)),2&g){const t=e.oxw(2);e.Q6J("ngForOf",t.value),e.xp6(1),e.Q6J("ngIf",t.emptyValue)}}function tA(g,n){if(1&g&&(e.YNc(0,$I,2,1,"ng-container",7),e.YNc(1,eA,2,2,"ng-template",null,17,e.W1O)),2&g){const t=e.MAs(2),C=e.oxw();e.Q6J("ngIf","comma"===C.display)("ngIfElse",t)}}function gA(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"TimesIcon",23),e.NdJ("click",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.clear(I))}),e.qZA()}2&g&&e.Q6J("styleClass","p-treeselect-clear-icon")}function CA(g,n){}function IA(g,n){1&g&&e.YNc(0,CA,0,0,"ng-template")}function AA(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"span",24),e.NdJ("click",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.clear(I))}),e.YNc(1,IA,1,0,null,25),e.qZA()}if(2&g){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.clearIconTemplate)}}function nA(g,n){if(1&g&&(e.ynx(0),e.YNc(1,gA,1,1,"TimesIcon",21),e.YNc(2,AA,2,1,"span",22),e.BQk()),2&g){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.clearIconTemplate),e.xp6(1),e.Q6J("ngIf",t.clearIconTemplate)}}function iA(g,n){1&g&&e._UZ(0,"ChevronDownIcon",26),2&g&&e.Q6J("styleClass","p-treeselect-trigger-icon")}function oA(g,n){}function aA(g,n){1&g&&e.YNc(0,oA,0,0,"ng-template")}function lA(g,n){if(1&g&&(e.TgZ(0,"span",27),e.YNc(1,aA,1,0,null,25),e.qZA()),2&g){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.triggerIconTemplate)}}function rA(g,n){1&g&&e.GkF(0)}function sA(g,n){1&g&&e._UZ(0,"SearchIcon",26),2&g&&e.Q6J("styleClass","p-treeselect-filter-icon")}function cA(g,n){}function pA(g,n){1&g&&e.YNc(0,cA,0,0,"ng-template")}function _A(g,n){if(1&g&&(e.TgZ(0,"span",40),e.YNc(1,pA,1,0,null,25),e.qZA()),2&g){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterIconTemplate)}}function dA(g,n){1&g&&e._UZ(0,"TimesIcon")}function uA(g,n){}function mA(g,n){1&g&&e.YNc(0,uA,0,0,"ng-template")}function hA(g,n){if(1&g&&(e.TgZ(0,"span"),e.YNc(1,mA,1,0,null,25),e.qZA()),2&g){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.closeIconTemplate)}}function fA(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"input",36,37),e.NdJ("keydown.enter",function(I){return I.preventDefault()})("input",function(I){e.CHM(t);const A=e.oxw(2);return e.KtG(A.onFilterInput(I))}),e.qZA(),e.YNc(4,sA,1,1,"SearchIcon",11),e.YNc(5,_A,2,1,"span",38),e.qZA(),e.TgZ(6,"button",39),e.NdJ("click",function(){e.CHM(t);const I=e.oxw(2);return e.KtG(I.hide())}),e.YNc(7,dA,1,0,"TimesIcon",9),e.YNc(8,hA,2,1,"span",9),e.qZA()()}if(2&g){const t=e.oxw(2);e.xp6(2),e.Q6J("value",t.filterValue),e.uIk("placeholder",t.filterPlaceholder),e.xp6(2),e.Q6J("ngIf",!t.filterIconTemplate),e.xp6(1),e.Q6J("ngIf",t.filterIconTemplate),e.xp6(2),e.Q6J("ngIf",!t.closeIconTemplate),e.xp6(1),e.Q6J("ngIf",t.closeIconTemplate)}}function TA(g,n){1&g&&e.GkF(0)}function xA(g,n){if(1&g&&e.YNc(0,TA,1,0,"ng-container",25),2&g){const t=e.oxw(3);e.Q6J("ngTemplateOutlet",t.emptyTemplate)}}function vA(g,n){1&g&&(e.ynx(0),e.YNc(1,xA,1,1,"ng-template",41),e.BQk())}function bA(g,n){1&g&&e.GkF(0)}const yA=function(g){return{$implicit:g}};function NA(g,n){if(1&g&&e.YNc(0,bA,1,0,"ng-container",16),2&g){const t=n.$implicit,C=e.oxw(3);e.Q6J("ngTemplateOutlet",C.itemTogglerIconTemplate)("ngTemplateOutletContext",e.VKq(2,yA,t))}}function wA(g,n){1&g&&e.YNc(0,NA,1,4,"ng-template",42)}function SA(g,n){}function ZA(g,n){1&g&&e.YNc(0,SA,0,0,"ng-template")}function kA(g,n){if(1&g&&e.YNc(0,ZA,1,0,null,25),2&g){const t=e.oxw(3);e.Q6J("ngTemplateOutlet",t.itemCheckboxIconTemplate)}}function EA(g,n){1&g&&e.YNc(0,kA,1,1,"ng-template",43)}function DA(g,n){1&g&&e.GkF(0)}function MA(g,n){if(1&g&&e.YNc(0,DA,1,0,"ng-container",25),2&g){const t=e.oxw(3);e.Q6J("ngTemplateOutlet",t.itemLoadingIconTemplate)}}function PA(g,n){1&g&&e.YNc(0,MA,1,1,"ng-template",44)}function FA(g,n){1&g&&e.GkF(0)}const fe=function(g,n){return{$implicit:g,options:n}},JA=function(g){return{"max-height":g}};function UA(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"div",28,29),e.YNc(2,rA,1,0,"ng-container",16),e.YNc(3,fA,9,6,"div",30),e.TgZ(4,"div",31)(5,"p-tree",32,33),e.NdJ("selectionChange",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.onSelectionChange(I))})("onNodeExpand",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.nodeExpand(I))})("onNodeCollapse",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.nodeCollapse(I))})("onNodeSelect",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.onSelect(I))})("onNodeUnselect",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.onUnselect(I))}),e.YNc(7,vA,2,0,"ng-container",9),e.YNc(8,wA,1,0,null,9),e.YNc(9,EA,1,0,null,9),e.YNc(10,PA,1,0,null,9),e.qZA()(),e.YNc(11,FA,1,0,"ng-container",16),e.qZA()}if(2&g){const t=e.oxw();e.Tol(t.panelStyleClass),e.Q6J("ngStyle",t.panelStyle)("ngClass",t.panelClass),e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",e.WLB(27,fe,t.value,t.options)),e.xp6(1),e.Q6J("ngIf",t.filter),e.xp6(1),e.Q6J("ngStyle",e.VKq(30,JA,t.scrollHeight)),e.xp6(1),e.Q6J("value",t.options)("propagateSelectionDown",t.propagateSelectionDown)("propagateSelectionUp",t.propagateSelectionUp)("selectionMode",t.selectionMode)("selection",t.value)("metaKeySelection",t.metaKeySelection)("emptyMessage",t.emptyMessage)("filterBy",t.filterBy)("filterMode",t.filterMode)("filterPlaceholder",t.filterPlaceholder)("filterLocale",t.filterLocale)("filteredNodes",t.filteredNodes)("_templateMap",t.templateMap),e.xp6(2),e.Q6J("ngIf",t.emptyTemplate),e.xp6(1),e.Q6J("ngIf",t.itemTogglerIconTemplate),e.xp6(1),e.Q6J("ngIf",t.itemCheckboxIconTemplate),e.xp6(1),e.Q6J("ngIf",t.itemLoadingIconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",e.WLB(32,fe,t.value,t.options))}}const QA={provide:h.JU,useExisting:(0,e.Gpc)(()=>Te),multi:!0};let Te=(()=>{class g{config;cd;el;overlayService;inputId;scrollHeight="400px";disabled;metaKeySelection=!0;display="comma";selectionMode="single";tabindex;ariaLabelledBy;placeholder;panelClass;panelStyle;panelStyleClass;containerStyle;containerStyleClass;labelStyle;labelStyleClass;overlayOptions;emptyMessage="";appendTo;filter=!1;filterBy="label";filterMode="lenient";filterPlaceholder;filterLocale;filterInputAutoFocus=!0;propagateSelectionDown=!0;propagateSelectionUp=!0;showClear=!1;resetFilterOnHide=!0;get options(){return this._options}set options(t){this._options=t,this.updateTreeState()}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}onNodeExpand=new e.vpe;onNodeCollapse=new e.vpe;onShow=new e.vpe;onHide=new e.vpe;onClear=new e.vpe;onFilter=new e.vpe;onNodeUnselect=new e.vpe;onNodeSelect=new e.vpe;_showTransitionOptions;_hideTransitionOptions;templates;containerEl;focusInput;filterViewChild;treeViewChild;panelEl;overlayViewChild;filteredNodes;filterValue=null;serializedValue;valueTemplate;headerTemplate;emptyTemplate;footerTemplate;clearIconTemplate;triggerIconTemplate;filterIconTemplate;closeIconTemplate;itemTogglerIconTemplate;itemCheckboxIconTemplate;itemLoadingIconTemplate;focused;overlayVisible;selfChange;value;expandedNodes=[];_options;templateMap;onModelChange=()=>{};onModelTouched=()=>{};constructor(t,C,I,A){this.config=t,this.cd=C,this.el=I,this.overlayService=A}ngOnInit(){this.updateTreeState()}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(t=>{switch(t.getType()){case"value":this.valueTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"triggericon":this.triggerIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"itemtogglericon":this.itemTogglerIconTemplate=t.template;break;case"itemcheckboxicon":this.itemCheckboxIconTemplate=t.template;break;case"itemloadingicon":this.itemLoadingIconTemplate=t.template;break;default:t.name?this.templateMap[t.name]=t.template:this.valueTemplate=t.template}})}onOverlayAnimationStart(t){"visible"===t.toState&&this.filter&&(y.gb.isNotEmpty(this.filterValue)&&this.treeViewChild?._filter(this.filterValue),this.filterInputAutoFocus&&this.filterViewChild?.nativeElement.focus())}onSelectionChange(t){this.value=t,this.onModelChange(this.value),this.cd.markForCheck()}onClick(t){this.disabled||!this.overlayViewChild?.el?.nativeElement?.contains(t.target)&&!r.p.hasClass(t.target,"p-treeselect-close")&&(this.overlayVisible?this.hide():this.show(),this.focusInput?.nativeElement.focus())}onKeyDown(t){switch(t.which){case 40:if(!this.overlayVisible&&t.altKey)this.show(),t.preventDefault();else if(this.overlayVisible&&this.panelEl?.nativeElement){let C=r.p.getFocusableElements(this.panelEl.nativeElement);C&&C.length>0&&C[0].focus(),t.preventDefault()}break;case 32:this.overlayVisible||(this.show(),t.preventDefault());break;case 13:case 27:this.overlayVisible&&(this.hide(),t.preventDefault());break;case 9:this.hide()}}onFilterInput(t){this.filterValue=t.target.value,this.treeViewChild?._filter(this.filterValue),this.onFilter.emit({originalEvent:t,filteredValue:this.treeViewChild?.filteredNodes})}show(){this.overlayVisible=!0}hide(t){this.overlayVisible=!1,this.resetFilter(),this.onHide.emit(t),this.cd.markForCheck()}clear(t){this.value=null,this.resetExpandedNodes(),this.resetPartialSelected(),this.onModelChange(this.value),this.onClear.emit(),t.stopPropagation()}checkValue(){return null!==this.value&&y.gb.isNotEmpty(this.value)}resetFilter(){this.filter&&!this.resetFilterOnHide?(this.filteredNodes=this.treeViewChild?.filteredNodes,this.treeViewChild?.resetFilter()):this.filterValue=null}updateTreeState(){if(this.value){let t="single"===this.selectionMode?[this.value]:[...this.value];this.resetExpandedNodes(),this.resetPartialSelected(),t&&this.options&&this.updateTreeBranchState(null,null,t)}}updateTreeBranchState(t,C,I){if(t){if(this.isSelected(t)&&(this.expandPath(C),I.splice(I.indexOf(t),1)),I.length>0&&t.children)for(let A of t.children)this.updateTreeBranchState(A,[...C,t],I)}else for(let A of this.options)this.updateTreeBranchState(A,[],I)}expandPath(t){for(let C of t)C.expanded=!0;this.expandedNodes=[...t]}nodeExpand(t){this.onNodeExpand.emit(t),this.expandedNodes.push(t.node)}nodeCollapse(t){this.onNodeCollapse.emit(t),this.expandedNodes.splice(this.expandedNodes.indexOf(t.node),1)}resetExpandedNodes(){for(let t of this.expandedNodes)t.expanded=!1;this.expandedNodes=[]}resetPartialSelected(t=this.options){if(t)for(let C of t)C.partialSelected=!1,C.children&&C.children?.length>0&&this.resetPartialSelected(C.children)}findSelectedNodes(t,C,I){if(t){if(this.isSelected(t)&&(I.push(t),delete C[t.key]),Object.keys(C).length&&t.children)for(let A of t.children)this.findSelectedNodes(A,C,I)}else for(let A of this.options)this.findSelectedNodes(A,C,I)}isSelected(t){return-1!=this.findIndexInSelection(t)}findIndexInSelection(t){let C=-1;if(this.value)if("single"===this.selectionMode)C=this.value.key&&this.value.key===t.key||this.value==t?0:-1;else for(let I=0;I<this.value.length;I++){let A=this.value[I];if(A.key&&A.key===t.key||A==t){C=I;break}}return C}onSelect(t){this.onNodeSelect.emit(t),"single"===this.selectionMode&&this.hide()}onUnselect(t){this.onNodeUnselect.emit(t)}onFocus(){this.focused=!0}onBlur(){this.focused=!1}writeValue(t){this.value=t,this.updateTreeState(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}containerClass(){return{"p-treeselect p-component p-inputwrapper":!0,"p-treeselect-chip":"chip"===this.display,"p-disabled":this.disabled,"p-focus":this.focused}}labelClass(){return{"p-treeselect-label":!0,"p-placeholder":this.label===this.placeholder,"p-treeselect-label-empty":!this.placeholder&&this.emptyValue}}get emptyValue(){return!this.value||0===Object.keys(this.value).length}get emptyOptions(){return!this.options||0===this.options.length}get label(){let t=this.value||[];return t.length?t.map(C=>C.label).join(", "):"single"===this.selectionMode&&this.value?t.label:this.placeholder}static \u0275fac=function(C){return new(C||g)(e.Y36(c.b4),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(c.F0))};static \u0275cmp=e.Xpm({type:g,selectors:[["p-treeSelect"]],contentQueries:function(C,I,A){if(1&C&&e.Suo(A,c.jx,4),2&C){let i;e.iGM(i=e.CRH())&&(I.templates=i)}},viewQuery:function(C,I){if(1&C&&(e.Gf(BI,5),e.Gf(KI,5),e.Gf(HI,5),e.Gf(LI,5),e.Gf(GI,5),e.Gf(VI,5)),2&C){let A;e.iGM(A=e.CRH())&&(I.containerEl=A.first),e.iGM(A=e.CRH())&&(I.focusInput=A.first),e.iGM(A=e.CRH())&&(I.filterViewChild=A.first),e.iGM(A=e.CRH())&&(I.treeViewChild=A.first),e.iGM(A=e.CRH())&&(I.panelEl=A.first),e.iGM(A=e.CRH())&&(I.overlayViewChild=A.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(C,I){2&C&&e.ekj("p-inputwrapper-filled",!I.emptyValue)("p-inputwrapper-focus",I.focused||I.overlayVisible)("p-treeselect-clearable",I.showClear&&!I.disabled)},inputs:{inputId:"inputId",scrollHeight:"scrollHeight",disabled:"disabled",metaKeySelection:"metaKeySelection",display:"display",selectionMode:"selectionMode",tabindex:"tabindex",ariaLabelledBy:"ariaLabelledBy",placeholder:"placeholder",panelClass:"panelClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",containerStyle:"containerStyle",containerStyleClass:"containerStyleClass",labelStyle:"labelStyle",labelStyleClass:"labelStyleClass",overlayOptions:"overlayOptions",emptyMessage:"emptyMessage",appendTo:"appendTo",filter:"filter",filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",filterInputAutoFocus:"filterInputAutoFocus",propagateSelectionDown:"propagateSelectionDown",propagateSelectionUp:"propagateSelectionUp",showClear:"showClear",resetFilterOnHide:"resetFilterOnHide",options:"options",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onShow:"onShow",onHide:"onHide",onClear:"onClear",onFilter:"onFilter",onNodeUnselect:"onNodeUnselect",onNodeSelect:"onNodeSelect"},features:[e._Bn([QA])],decls:17,vars:24,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","role","listbox","readonly","","aria-haspopup","true",3,"disabled","focus","blur","keydown"],["focusInput",""],[1,"p-treeselect-label-container"],[3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["defaultValueTemplate",""],[4,"ngIf"],[1,"p-treeselect-trigger"],[3,"styleClass",4,"ngIf"],["class","p-treeselect-trigger-icon",4,"ngIf"],[3,"visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onShow","onHide"],["overlay",""],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["chipsValueTemplate",""],["class","p-treeselect-token",4,"ngFor","ngForOf"],[1,"p-treeselect-token"],[1,"p-treeselect-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-treeselect-clear-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-treeselect-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"styleClass"],[1,"p-treeselect-trigger-icon"],[1,"p-treeselect-panel","p-component",3,"ngStyle","ngClass"],["panel",""],["class","p-treeselect-header",4,"ngIf"],[1,"p-treeselect-items-wrapper",3,"ngStyle"],[3,"value","propagateSelectionDown","propagateSelectionUp","selectionMode","selection","metaKeySelection","emptyMessage","filterBy","filterMode","filterPlaceholder","filterLocale","filteredNodes","_templateMap","selectionChange","onNodeExpand","onNodeCollapse","onNodeSelect","onNodeUnselect"],["tree",""],[1,"p-treeselect-header"],[1,"p-treeselect-filter-container"],["type","text","autocomplete","off",1,"p-treeselect-filter","p-inputtext","p-component",3,"value","keydown.enter","input"],["filter",""],["class","p-treeselect-filter-icon",4,"ngIf"],[1,"p-treeselect-close","p-link",3,"click"],[1,"p-treeselect-filter-icon"],["pTemplate","empty"],["pTemplate","togglericon"],["pTemplate","checkboxicon"],["pTemplate","loadingicon"]],template:function(C,I){if(1&C&&(e.TgZ(0,"div",0,1),e.NdJ("click",function(i){return I.onClick(i)}),e.TgZ(2,"div",2)(3,"input",3,4),e.NdJ("focus",function(){return I.onFocus()})("blur",function(){return I.onBlur()})("keydown",function(i){return I.onKeyDown(i)}),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6),e.YNc(7,jI,2,5,"ng-container",7),e.YNc(8,tA,3,2,"ng-template",null,8,e.W1O),e.qZA(),e.YNc(10,nA,3,2,"ng-container",9),e.qZA(),e.TgZ(11,"div",10),e.YNc(12,iA,1,1,"ChevronDownIcon",11),e.YNc(13,lA,2,1,"span",12),e.qZA(),e.TgZ(14,"p-overlay",13,14),e.NdJ("visibleChange",function(i){return I.overlayVisible=i})("onAnimationStart",function(i){return I.onOverlayAnimationStart(i)})("onShow",function(i){return I.onShow.emit(i)})("onHide",function(i){return I.hide(i)}),e.YNc(16,UA,12,35,"ng-template",15),e.qZA()()),2&C){const A=e.MAs(9);e.Tol(I.containerStyleClass),e.Q6J("ngClass",I.containerClass())("ngStyle",I.containerStyle),e.xp6(3),e.Q6J("disabled",I.disabled),e.uIk("id",I.inputId)("tabindex",I.tabindex)("aria-expanded",I.overlayVisible)("aria-labelledby",I.ariaLabelledBy),e.xp6(3),e.Tol(I.labelStyleClass),e.Q6J("ngClass",I.labelClass())("ngStyle",I.labelStyle),e.xp6(1),e.Q6J("ngIf",I.valueTemplate)("ngIfElse",A),e.xp6(3),e.Q6J("ngIf",I.checkValue()&&!I.disabled&&I.showClear),e.xp6(2),e.Q6J("ngIf",!I.triggerIconTemplate),e.xp6(1),e.Q6J("ngIf",I.triggerIconTemplate),e.xp6(1),e.Q6J("visible",I.overlayVisible)("options",I.overlayOptions)("target","@parent")("appendTo",I.appendTo)("showTransitionOptions",I.showTransitionOptions)("hideTransitionOptions",I.hideTransitionOptions)}},dependencies:function(){return[a.mk,a.sg,a.O5,a.tP,a.PC,z.aV,c.jx,G,U.W,J.q,Z.v]},styles:["@layer primeng{.p-treeselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-treeselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-treeselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-treeselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-treeselect-label-empty{overflow:hidden;visibility:hidden}.p-treeselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-treeselect-items-wrapper{overflow:auto}.p-treeselect-header{display:flex;align-items:center;justify-content:space-between}.p-treeselect-filter-container{position:relative;flex:1 1 auto}.p-treeselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-treeselect-filter-container .p-inputtext{width:100%}.p-treeselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative;margin-left:auto}.p-treeselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-treeselect{display:flex}.p-treeselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-treeselect-clearable{position:relative}}\n"],encapsulation:2,changeDetection:0})}return g})(),YA=(()=>{class g{static \u0275fac=function(C){return new(C||g)};static \u0275mod=e.oAB({type:g});static \u0275inj=e.cJS({imports:[a.ez,z.U8,D.T,c.m8,V,U.W,J.q,Z.v,z.U8,c.m8,V]})}return g})();function OA(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"p-checkbox",7),e.NdJ("ngModelChange",function(I){const i=e.CHM(t).$implicit;return e.KtG(i.data.analyzable=I)})("onChange",function(I){const i=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.updateCategoryAnalizability(i.data.iD,I))}),e.qZA(),e._uU(1)}if(2&g){const t=n.$implicit;e.Q6J("ngModel",t.data.analyzable)("binary",!0),e.xp6(1),e.hij(" ",t.label," ")}}function qA(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"p-checkbox",7),e.NdJ("ngModelChange",function(I){const i=e.CHM(t).$implicit;return e.KtG(i.data.analyzable=I)})("onChange",function(I){const i=e.CHM(t).$implicit,o=e.oxw();return e.KtG(o.updateTypeAnalizability(i.data.iD,I))}),e.qZA(),e._uU(1)}if(2&g){const t=n.$implicit;e.Q6J("ngModel",t.data.analyzable)("binary",!0),e.xp6(1),e.hij(" ",t.label," ")}}function BA(g,n){}function HA(g,n){1&g&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(3,"th",6),e._uU(4,"\u0415\u0434\u0438\u043d\u0438\u0446\u0430 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f "),e._UZ(5,"p-sortIcon",7),e.qZA(),e.TgZ(6,"th"),e._uU(7,"\u041a\u0432\u0430\u043d\u0442"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"\u0426\u0435\u043d\u044b"),e.qZA(),e._UZ(10,"th"),e.qZA())}function LA(g,n){if(1&g&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&g){const t=n.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function GA(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"ul"),e.YNc(9,LA,2,1,"li",8),e.qZA()(),e.TgZ(10,"td")(11,"p-button",9),e.NdJ("click",function(){const A=e.CHM(t).$implicit,i=e.oxw(2);return e.KtG(i.showEditPackageTypeDialog(A))}),e.qZA(),e.TgZ(12,"p-button",10),e.NdJ("click",function(){const A=e.CHM(t).$implicit,i=e.oxw(2);return e.KtG(i.removePackageType(A))}),e.qZA()()()}if(2&g){const t=n.$implicit,C=e.oxw(2);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(C.getMeasureUnitText(t.unitOfMeasure)),e.xp6(2),e.Oqu(C.getQuantum(t)),e.xp6(3),e.Q6J("ngForOf",t.prices)}}const VA=function(){return{"min-width":"75rem"}},zA=function(){return[10,25,50]};function RA(g,n){if(1&g&&(e.TgZ(0,"p-table",3),e.YNc(1,HA,11,0,"ng-template",4),e.YNc(2,GA,13,4,"ng-template",5),e.qZA()),2&g){const t=e.oxw();e.Q6J("value",t.data)("lazy",!0)("tableStyle",e.DdM(7,VA))("paginator",!0)("rows",50)("rowsPerPageOptions",e.DdM(8,zA))("totalRecords",t.totalRecords)}}function jA(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const I=e.oxw(2);return e.KtG(I.addPackageType())}),e._uU(1,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),e.qZA()}}function $A(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const I=e.oxw(2);return e.KtG(I.updatePackageType())}),e._uU(1,"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"),e.qZA()}}const WA=function(){return{width:"50vw"}};function XA(g,n){if(1&g){const t=e.EpF();e.TgZ(0,"p-dialog",11),e.NdJ("visibleChange",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.showDialog=I)}),e.TgZ(1,"div",12)(2,"div",13)(3,"label",14),e._uU(4,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(5,"input",15),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.newItem.name=I)}),e.qZA()(),e.TgZ(6,"div",13)(7,"label",16),e._uU(8,"\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c, \u0437\u043d\u0430\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u044f\u0442\u043e\u0439"),e.qZA(),e.TgZ(9,"p-inputNumber",17),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.newItem.decimalPlaces=I)}),e.qZA()(),e.TgZ(10,"div",13)(11,"label",18),e._uU(12,"\u0415\u0434\u0438\u043d\u0438\u0446\u0430 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f"),e.qZA(),e.TgZ(13,"p-dropdown",19),e.NdJ("ngModelChange",function(I){e.CHM(t);const A=e.oxw();return e.KtG(A.newItem.unitOfMeasure=I)}),e.qZA()()(),e.YNc(14,jA,2,0,"button",20),e.YNc(15,$A,2,0,"button",20),e.qZA()}if(2&g){const t=e.oxw();e.Akn(e.DdM(17,WA)),e.Q6J("header",t.dialogTitle)("modal",!0)("visible",t.showDialog)("draggable",!1)("resizable",!1),e.xp6(5),e.Q6J("ngModel",t.newItem.name),e.xp6(4),e.Q6J("ngModel",t.newItem.decimalPlaces)("min",0)("max",5)("showButtons",!0),e.xp6(4),e.Q6J("ngModel",t.newItem.unitOfMeasure)("options",t.measureUnits)("autoDisplayFirst",!1),e.xp6(1),e.Q6J("ngIf",t.isAdding),e.xp6(1),e.Q6J("ngIf",!t.isAdding)}}const en=[{path:"edit",component:Gg},{path:"",component:De},{path:"product-tree",component:(()=>{class g extends M.V{constructor(t,C,I){super(I),this.messageService=t,this.categoryTreeService=C,this.filteredCategories=new v.X([]),this.selectedCategory=null,this.filterTextChanged=new v.X("")}onShow(t){t.filterValue=this.filterTextChanged.getValue()}ngOnInit(){this.titleService.setTitle("\u0414\u0435\u0440\u0435\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),this.filterTextChanged.pipe((0,tC.b)(500),(0,gC.x)()).pipe((0,w.w)(t=>this.categoryTreeService.filterCategories(new re.t.FilterCategoryModel({term:t,count:10})).pipe((0,d.K)(C=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439",severity:"error",detail:C}),u.E))))).subscribe(t=>{const C=t.map(I=>this.mapCategory(I,null,null));this.filteredCategories.next(C)})}onFilterNodeSelect(t){const C=t.node.leaf?t.node.parent.data.iD:t.node.iD;this.loadChildCategories(C,I=>this.topCategories=I.map(A=>this.mapCategory(A,null,C)))}clearCategoriesFilter(t){t.filterValue="",this.filterCategories("")}loadChildCategories(t,C){this.loading=!0,this.categoryTreeService.getCategories(t).pipe((0,d.K)(I=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:I}),this.loading=!1,u.E))).subscribe(I=>{C(I.sort((A,i)=>A.name.localeCompare(i.name))),this.loading=!1})}mapProductType(t){return{label:t.name,children:[],leaf:!0,key:t.iD.toString(),icon:"pi pi-list",hasChildren:!1,type:"productType",data:t}}mapCategory(t,C,I){var A={label:t.name,expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",leaf:!1,key:t.iD.toString(),icon:"pi pi-folder",type:"category",data:t,parent:C};if(I==t.iD){let i=A;for(;i;)i.expanded=!0,i=i.parent}return A.children=t.children?.sort((i,o)=>i.name.localeCompare(o.name)).map(i=>this.mapCategory(i,A,I))??[],A.children=A.children.concat(t.types.sort((i,o)=>i.name.localeCompare(o.name)).map(i=>this.mapProductType(i))),A}filterCategories(t){this.filterTextChanged.next(t)}importProductTypes(){this.categoryTreeService.importCategoryTree().pipe((0,d.K)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:t}),u.E))).subscribe(t=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})})}updateCategoryAnalizability(t,C){this.categoryTreeService.setCategoryAnalyzability(t,C.checked).pipe((0,d.K)(I=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u043b\u0430\u0433\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",severity:"error",detail:I}),u.E))).subscribe(I=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})})}updateTypeAnalizability(t,C){this.categoryTreeService.setProductTypeAnalyzability(t,C.checked).pipe((0,d.K)(I=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u043b\u0430\u0433\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0442\u0438\u043f\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:I}),u.E))).subscribe(I=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})})}static#e=this.\u0275fac=function(C){return new(C||g)(e.Y36(c.ez),e.Y36(re.t.CategoryTreeClient),e.Y36(E.Dx))};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-product-tree"]],features:[e.qOj],decls:10,vars:6,consts:[["containerStyleClass","w-full","appendTo","body","placeholder","Select Item",1,"md:w-20rem","w-full",3,"options","filter","filterInputAutoFocus","onShow","onClear","onNodeSelect","onFilter"],["treeSelect",""],["pButton","",3,"click"],["filterMode","strict","filterPlaceholder","\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c",1,"w-full","md:w-30rem",3,"value"],["pTemplate","category"],["pTemplate","productType"],["pTemplate","empty"],[3,"ngModel","binary","ngModelChange","onChange"]],template:function(C,I){if(1&C){const A=e.EpF();e._UZ(0,"p-toast"),e.TgZ(1,"p-treeSelect",0,1),e.NdJ("onShow",function(){e.CHM(A);const o=e.MAs(2);return e.KtG(I.onShow(o))})("onClear",function(){e.CHM(A);const o=e.MAs(2);return e.KtG(I.clearCategoriesFilter(o))})("onNodeSelect",function(o){return I.onFilterNodeSelect(o)})("onFilter",function(){e.CHM(A);const o=e.MAs(2);return e.KtG(I.filterCategories(o.filterValue))}),e.ALo(3,"async"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return I.importProductTypes()}),e._uU(5,"\u0418\u043c\u043f\u043e\u0440\u0442 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),e.qZA(),e.TgZ(6,"p-tree",3),e.YNc(7,OA,2,3,"ng-template",4),e.YNc(8,qA,2,3,"ng-template",5),e.YNc(9,BA,0,0,"ng-template",6),e.qZA()}2&C&&(e.xp6(1),e.Q6J("options",e.lcZ(3,4,I.filteredCategories))("filter",!0)("filterInputAutoFocus",!0),e.xp6(5),e.Q6J("value",I.topCategories))},dependencies:[h.JJ,h.On,c.jx,S.FN,b.Hq,G,he.XZ,Te,a.Ov]})}return g})()},{path:"package-type/list",component:(()=>{class g{constructor(t,C){this.purchaseService=t,this.messageService=C,this.measureUnits=[{value:_.f.UnitOfMeasure.Piece,name:"\u0448\u0442"},{value:_.f.UnitOfMeasure.SquareMeter,name:"\u043c2"},{value:_.f.UnitOfMeasure.Meter,name:"\u043c"}]}getMeasureUnitText(t){return this.measureUnits.find(C=>C.value==t)?.name??t.toString()}get data(){return this.purchaseService.getPackageTypes()}getQuantum(t){return Math.pow(10,-t.decimalPlaces)}showAddPackageTypeDialog(){this.isAdding=!0,this.dialogTitle="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",this.newItem={decimalPlaces:0},this.showDialog=!0}showEditPackageTypeDialog(t){this.isAdding=!1,this.dialogTitle="\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",this.newItem=t,this.showDialog=!0}removePackageType(t){this.purchaseService.removePackageType(t.iD).pipe((0,d.K)(C=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:C}),u.E))).subscribe()}addPackageType(){this.purchaseService.addPackageType(this.newItem).pipe((0,d.K)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:t}),u.E))).subscribe(t=>{this.showDialog=!1})}updatePackageType(){this.purchaseService.updatePackageType(this.newItem).pipe((0,d.K)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:t}),u.E))).subscribe(t=>{this.showDialog=!1})}static#e=this.\u0275fac=function(C){return new(C||g)(e.Y36(F),e.Y36(c.ez))};static#t=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-package-type-list"]],decls:7,vars:2,consts:[[3,"click"],["dataKey","iD",3,"value","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords",4,"ngIf"],[3,"header","modal","style","visible","draggable","resizable","visibleChange",4,"ngIf"],["dataKey","iD",3,"value","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","unitOfMeasure"],["field","unitOfMeasure"],[4,"ngFor","ngForOf"],["type","button","pRipple","","icon","pi pi-pencil",3,"click"],["icon","pi pi-trash",3,"click"],[3,"header","modal","visible","draggable","resizable","visibleChange"],[1,"card"],[1,"flex-auto","m-3"],["for","name",1,"block","font-bold"],["pInputText","","inputId","name",3,"ngModel","ngModelChange"],["for","decimalPlaces",1,"mb-2","block","font-bold"],["inputId","decimalPlaces",3,"ngModel","min","max","showButtons","ngModelChange"],["for","unitOfMeasure",1,"mb-2","block","font-bold"],["appendTo","body","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0435\u0434\u0438\u043d\u0438\u0446\u0443 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u0439","inputId","unitOfMeasure","optionLabel","name","optionValue","value",3,"ngModel","options","autoDisplayFirst","ngModelChange"],["pButton","",3,"click",4,"ngIf"],["pButton","",3,"click"]],template:function(C,I){1&C&&(e._UZ(0,"p-toast"),e.TgZ(1,"h1"),e._uU(2,"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),e.qZA(),e.TgZ(3,"p-button",0),e.NdJ("click",function(){return I.showAddPackageTypeDialog()}),e._uU(4,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),e.qZA(),e.YNc(5,RA,3,9,"p-table",1),e.YNc(6,XA,16,18,"p-dialog",2)),2&C&&(e.xp6(5),e.Q6J("ngIf",I.data),e.xp6(1),e.Q6J("ngIf",I.newItem))},dependencies:[a.sg,a.O5,h.Fj,h.JJ,h.On,f.iA,c.jx,f.lQ,f.fz,S.FN,b.Hq,b.zx,q.o,B.Rn,K.Lt,H.V]})}return g})()},{path:"summary",component:eC}];let tn=(()=>{class g{static#e=this.\u0275fac=function(C){return new(C||g)};static#t=this.\u0275mod=e.oAB({type:g});static#g=this.\u0275inj=e.cJS({imports:[N.Bz.forChild(en),N.Bz]})}return g})();var gn=l(4532);let Cn=(()=>{class g{static#e=this.\u0275fac=function(C){return new(C||g)};static#t=this.\u0275mod=e.oAB({type:g});static#g=this.\u0275inj=e.cJS({imports:[a.ez]})}return g})(),In=(()=>{class g{static#e=this.\u0275fac=function(C){return new(C||g)};static#t=this.\u0275mod=e.oAB({type:g});static#g=this.\u0275inj=e.cJS({providers:[_.f.PurchaseBatchClient,_.f.ProductClient,_.f.PackageTypeClient,_.f.SalesChannelClient,F],imports:[a.ez,h.u5,f.U$,S.EV,b.hJ,S.EV,gn.d,Xe,Jt,q.j,B.L$,K.kW,H.S,Cn,oe.WN,tn,V,he.nD,ae._8,le.W,YA]})}return g})()}}]);