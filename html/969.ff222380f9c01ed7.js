"use strict";(self.webpackChunkseller=self.webpackChunkseller||[]).push([[969],{5621:(y,A,o)=>{o.d(A,{M:()=>P});var d=o(2029),b=o(4963);let P=(()=>{class t{constructor(c){this.productService=c}findProducts(c){return this.productService.findProducts(c)}findProductPackages(c){return this.productService.findProductPackages(c)}updateProductPackage(c){return this.productService.updateProductPackage(c)}updateProduct(c){return this.productService.updateProduct(c)}removeProductPackage(c){return this.productService.removeProductPackage(c)}removeProduct(c){return this.productService.removeProduct(c)}addProductPackage(c){return this.productService.addProductPackage(c)}addProduct(c){return this.productService.addProduct(c)}static#t=this.\u0275fac=function(g){return new(g||t)(d.LFG(b.f.ProductClient))};static#e=this.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},5877:(y,A,o)=>{o.r(A),o.d(A,{ProductModule:()=>O});var d=o(6814),b=o(6697),P=o(5861),t=o(2029),v=o(5219),c=o(6223),g=o(4104),w=o(5096),m=o(707),D=o(9653);function I(r,T){}function n(r,T){}function a(r,T){1&r&&t.YNc(0,n,0,0,"ng-template",22)}function u(r,T){if(1&r&&(t.O4$(),t.ynx(0),t._UZ(1,"image"),t.BQk()),2&r){const s=T.$implicit,e=T.index,i=t.oxw(3);t.xp6(1),t.uIk("href",s.image)("x",e*i.width)("width",i.width)("height",i.height)}}function x(r,T){if(1&r&&(t.O4$(),t.TgZ(0,"svg",25),t._UZ(1,"animate",26),t.YNc(2,u,2,4,"ng-container",27),t._UZ(3,"image"),t.qZA()),2&r){const s=T.ngIf,e=t.oxw(2);t.xp6(1),t.uIk("values",s.values)("keyTimes",s.keyTimes.join(";"))("dur",e.duration)("repeatCount",e.recording?"1":"indefinite"),t.xp6(1),t.Q6J("ngForOf",e.images),t.xp6(1),t.uIk("href",e.images[0].image)("x",e.images.length*e.width)("width",e.width)("height",e.height)}}function M(r,T){if(1&r&&(t.TgZ(0,"div",23),t.YNc(1,x,4,9,"svg",24),t.qZA()),2&r){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.getAnimation())}}const B=[{path:"image-editor",loadChildren:()=>Promise.all([o.e(742),o.e(592),o.e(509)]).then(o.bind(o,3509)).then(r=>r.ProductImageEditorModule)},{path:"edit",component:(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-product-editor"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"product-editor works!"),t.qZA())}})}return r})()},{path:"list",loadChildren:()=>o.e(421).then(o.bind(o,7421)).then(r=>r.ProductListModule)},{path:"animator",component:(()=>{class r{constructor(s){this.messageService=s,this.width=300,this.height=300,this.frameRate=30,this.animationDuration=1,this.exposureDuration=3,this.recording=!1,this.recordButtonEnabled=!1,this.showVideo=!1}get duration(){return this.images?.length>0?this.images?.length*(this.exposureDuration+this.animationDuration)+this.exposureDuration:0}getAnimation(){let s=[],e=[0];const i=this.duration,p=this.exposureDuration/i,l=this.animationDuration/i;let f=0;return this.images.forEach((Z,h)=>{const E=`${h*this.width} 0 ${this.width} ${this.height}`;s.push(E),s.push(E),f+=p,e.push(Math.round(1e3*f)/1e3),f+=l,e.push(Math.round(1e3*f)/1e3)}),s.push(`${this.images.length*this.width} 0 ${this.width} ${this.height}`),s.push(`${this.images.length*this.width} 0 ${this.width} ${this.height}`),e.push(1),{values:s.join(";"),keyTimes:e}}readImageContent(s,e){const i=new FileReader;i.onload=p=>{e(p.target.result)},i.readAsDataURL(s)}onImagesSelected(s){const e=[];let i=!1;for(const l of s.currentFiles){let f={fileName:l.name,image:""};this.readImageContent(l,Z=>{if(f.image=Z,!i){i=!0;const h=new Image;h.onload=()=>{this.width=h.width,this.height=h.height},h.src=Z}}),e.push(f)}this.recordButtonEnabled=!!e.length,this.images=e}delay(s){return new Promise(e=>setTimeout(e,s))}generateVideo(){return(0,P.Z)(function*(){})()}removeAnimation(s){s.querySelectorAll("animate").forEach(e=>e.parentNode.removeChild(e))}traverse(s,e){let i=!1;const p=(h,C)=>`${h.x.toFixed(C)} ${h.y.toFixed(C)} ${h.width.toFixed(C)} ${h.height.toFixed(C)}`;for(var l in e)if(e[l]?.animVal)switch(e[l][Symbol.toStringTag]){case"SVGAnimatedRect":{const h=p(e[l].baseVal,0),C=p(s[l].animVal,0);h!=C&&(i=!0,e.setAttribute(l,C))}break;case"SVGAnimatedString":{const C=s[l].animVal;e[l].baseVal!=C&&(i=!0,e.setAttribute(l,C))}}for(var f=0,Z=0;f<e.children.length;f++,Z++){for(;f<s.children.length&&"animate"==s.children[f].nodeName;)f++;i||=this.traverse(s.children[f],e.children[Z])}return i}static#t=this.\u0275fac=function(e){return new(e||r)(t.Y36(v.ez))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-product-image-animator"]],decls:34,vars:23,consts:[["multiple","true","chooseLabel","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438","accept","image/*",3,"showUploadButton","disabled","showCancelButton","onSelect"],["pTemplate","file"],[4,"ngIf"],[1,"card","flex","flex-wrap","gap-3","p-fluid"],[1,"flex-auto"],["for","width",1,"mb-2","block","font-bold"],["inputId","width",3,"ngModel","disabled","ngModelChange"],["for","height",1,"mb-2","block","font-bold"],["inputId","height",3,"ngModel","disabled","ngModelChange"],["for","animationDuration",1,"mb-2","block","font-bold"],["inputId","animationDuration",3,"ngModel","step","maxFractionDigits","disabled","ngModelChange"],["for","exposureDuration",1,"mb-2","block","font-bold"],["inputId","exposureDuration",3,"ngModel","step","maxFractionDigits","disabled","ngModelChange"],["for","frameRate",1,"mb-2","block","font-bold"],["inputId","frameRate",3,"ngModel","disabled","ngModelChange"],["for","duration",1,"mb-2","block","font-bold"],["inputId","duration",3,"ngModel","maxFractionDigits","disabled"],[1,"card"],["label","\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e",3,"disabled","click"],[1,"flex"],["style","max-width: 300px",4,"ngIf"],["id","video"],["pTemplate","content"],[2,"max-width","300px"],["id","preview","xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","version","1.1",4,"ngIf"],["id","preview","xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","version","1.1"],["attributeName","viewBox","begin","0s"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t._UZ(0,"p-toast"),t.TgZ(1,"p-fileUpload",0),t.NdJ("onSelect",function(l){return i.onImagesSelected(l)}),t.YNc(2,I,0,0,"ng-template",1),t.YNc(3,a,1,0,null,2),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"label",5),t._uU(7,"\u0428\u0438\u0440\u0438\u043d\u0430"),t.qZA(),t.TgZ(8,"p-inputNumber",6),t.NdJ("ngModelChange",function(l){return i.width=l}),t.qZA()(),t.TgZ(9,"div",4)(10,"label",7),t._uU(11,"\u0412\u044b\u0441\u043e\u0442\u0430"),t.qZA(),t.TgZ(12,"p-inputNumber",8),t.NdJ("ngModelChange",function(l){return i.height=l}),t.qZA()(),t.TgZ(13,"div",4)(14,"label",9),t._uU(15,"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0438"),t.qZA(),t.TgZ(16,"p-inputNumber",10),t.NdJ("ngModelChange",function(l){return i.animationDuration=l}),t.qZA()(),t.TgZ(17,"div",4)(18,"label",11),t._uU(19,"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430"),t.qZA(),t.TgZ(20,"p-inputNumber",12),t.NdJ("ngModelChange",function(l){return i.exposureDuration=l}),t.qZA()(),t.TgZ(21,"div",4)(22,"label",13),t._uU(23,"Fps"),t.qZA(),t.TgZ(24,"p-inputNumber",14),t.NdJ("ngModelChange",function(l){return i.frameRate=l}),t.qZA()(),t.TgZ(25,"div",4)(26,"label",15),t._uU(27,"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u043e\u043b\u0438\u043a\u0430"),t.qZA(),t._UZ(28,"p-inputNumber",16),t.qZA()(),t.TgZ(29,"div",17)(30,"p-button",18),t.NdJ("click",function(){return i.generateVideo()}),t.qZA(),t.TgZ(31,"div",19),t.YNc(32,M,2,1,"div",20),t._UZ(33,"div",21),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("showUploadButton",!1)("disabled",i.recording)("showCancelButton",!1),t.xp6(2),t.Q6J("ngIf",!1),t.xp6(5),t.Q6J("ngModel",i.width)("disabled",!i.recordButtonEnabled),t.xp6(4),t.Q6J("ngModel",i.height)("disabled",!i.recordButtonEnabled),t.xp6(4),t.Q6J("ngModel",i.animationDuration)("step",.1)("maxFractionDigits",2)("disabled",!i.recordButtonEnabled),t.xp6(4),t.Q6J("ngModel",i.exposureDuration)("step",.1)("maxFractionDigits",2)("disabled",!i.recordButtonEnabled),t.xp6(4),t.Q6J("ngModel",i.frameRate)("disabled",!i.recordButtonEnabled),t.xp6(4),t.Q6J("ngModel",i.duration)("maxFractionDigits",2)("disabled",!0),t.xp6(2),t.Q6J("disabled",!i.recordButtonEnabled),t.xp6(2),t.Q6J("ngIf",i.images))},dependencies:[c.JJ,c.On,d.sg,d.O5,v.jx,g.FN,w.p,m.zx,D.Rn]})}return r})()}];let N=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#e=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[b.Bz.forChild(B),b.Bz]})}return r})();var S=o(5621),F=o(9232),U=o(3714),J=o(3904),_=o(4963);let O=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#e=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({providers:[_.f.ProductClient,S.M,v.YP],imports:[c.u5,d.ez,N,F.U$,g.EV,w.O,D.L$,U.j,m.hJ,J.D]})}return r})()},2832:(y,A,o)=>{o.d(A,{P:()=>D,z:()=>m});var d=o(7394);class b extends d.w0{constructor(n,a){super()}schedule(n,a=0){return this}}const P={setInterval(I,n,...a){const{delegate:u}=P;return u?.setInterval?u.setInterval(I,n,...a):setInterval(I,n,...a)},clearInterval(I){const{delegate:n}=P;return(n?.clearInterval||clearInterval)(I)},delegate:void 0};var t=o(9039),c=o(4552);class g{constructor(n,a=g.now){this.schedulerActionCtor=n,this.now=a}schedule(n,a=0,u){return new this.schedulerActionCtor(this,n).schedule(u,a)}}g.now=c.l.now;const m=new class w extends g{constructor(n,a=g.now){super(n,a),this.actions=[],this._active=!1}flush(n){const{actions:a}=this;if(this._active)return void a.push(n);let u;this._active=!0;do{if(u=n.execute(n.state,n.delay))break}while(n=a.shift());if(this._active=!1,u){for(;n=a.shift();)n.unsubscribe();throw u}}}(class v extends b{constructor(n,a){super(n,a),this.scheduler=n,this.work=a,this.pending=!1}schedule(n,a=0){var u;if(this.closed)return this;this.state=n;const x=this.id,M=this.scheduler;return null!=x&&(this.id=this.recycleAsyncId(M,x,a)),this.pending=!0,this.delay=a,this.id=null!==(u=this.id)&&void 0!==u?u:this.requestAsyncId(M,this.id,a),this}requestAsyncId(n,a,u=0){return P.setInterval(n.flush.bind(n,this),u)}recycleAsyncId(n,a,u=0){if(null!=u&&this.delay===u&&!1===this.pending)return a;null!=a&&P.clearInterval(a)}execute(n,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const u=this._execute(n,a);if(u)return u;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,a){let x,u=!1;try{this.work(n)}catch(M){u=!0,x=M||new Error("Scheduled action threw falsy error")}if(u)return this.unsubscribe(),x}unsubscribe(){if(!this.closed){const{id:n,scheduler:a}=this,{actions:u}=a;this.work=this.state=this.scheduler=null,this.pending=!1,(0,t.P)(u,this),null!=n&&(this.id=this.recycleAsyncId(a,n,null)),this.delay=null,super.unsubscribe()}}}),D=m},3983:(y,A,o)=>{o.d(A,{p:()=>t});var d=o(2029),b=o(4713),P=o(2332);let t=(()=>{class v extends b.s{pathId;ngOnInit(){this.pathId="url(#"+(0,P.Th)()+")"}static \u0275fac=function(){let g;return function(m){return(g||(g=d.n5z(v)))(m||v)}}();static \u0275cmp=d.Xpm({type:v,selectors:[["PlusIcon"]],standalone:!0,features:[d.qOj,d.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(w,m){1&w&&(d.O4$(),d.TgZ(0,"svg",0)(1,"g"),d._UZ(2,"path",1),d.qZA(),d.TgZ(3,"defs")(4,"clipPath",2),d._UZ(5,"rect",3),d.qZA()()()),2&w&&(d.Tol(m.getClassNames()),d.uIk("aria-label",m.ariaLabel)("aria-hidden",m.ariaHidden)("role",m.role),d.xp6(1),d.uIk("clip-path",m.pathId),d.xp6(3),d.Q6J("id",m.pathId))},encapsulation:2})}return v})()}}]);