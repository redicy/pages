"use strict";(self.webpackChunkseller=self.webpackChunkseller||[]).push([[723],{3723:(hA,Z,l)=>{l.r(Z),l.d(Z,{PurchaseModule:()=>dA});var o=l(177),S=l(9909),w=l(2180),v=l(4412),$=l(5964),E=l(5558),_=l(9437),u=l(983),d=l(4153),e=l(4438),p=l(5779),G=l(345),f=l(544),k=l(9998),x=l(1141);const xe=()=>["/purchase/edit"],Se=()=>({"min-width":"75rem"}),Ee=()=>[10,25,50],ke=()=>["name","date"],q=g=>({id:g}),Ne=g=>["summary",g],De=g=>["edit",g];function Ge(g,A){1&g&&(e.j41(0,"tr")(1,"th"),e.EFF(2," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 "),e.k0s(),e.j41(3,"th",6),e.EFF(4,"\u0414\u0430\u0442\u0430 "),e.nrm(5,"p-sortIcon",7),e.k0s(),e.j41(6,"th"),e.EFF(7,"\u0421\u0442\u0430\u0442\u0443\u0441"),e.k0s(),e.j41(8,"th"),e.EFF(9,"\u0422\u043e\u0432\u0430\u0440\u044b"),e.k0s(),e.nrm(10,"th"),e.k0s(),e.j41(11,"tr")(12,"th"),e.nrm(13,"p-columnFilter",8),e.k0s(),e.nrm(14,"th")(15,"th"),e.j41(16,"th"),e.nrm(17,"p-columnFilter",9),e.k0s(),e.nrm(18,"th"),e.k0s()),2&g&&(e.R7$(13),e.Y8G("showMatchModes",!1)("showOperator",!1),e.R7$(4),e.Y8G("showMatchModes",!1)("showOperator",!1))}function Fe(g,A){if(1&g&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&g){const t=A.$implicit;e.R7$(),e.SpI(" ",t.value.name," ")}}function we(g,A){if(1&g&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"ul"),e.DNE(10,Fe,2,1,"li",10),e.nI1(11,"keyvalue"),e.k0s()(),e.j41(12,"td"),e.nrm(13,"p-button",11)(14,"p-button",12),e.k0s()()),2&g){const t=A.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(e.i5U(5,6,t.date,"y-MM-dd")),e.R7$(3),e.JRh(t.status),e.R7$(3),e.Y8G("ngForOf",e.bMT(11,9,t.products)),e.R7$(3),e.Y8G("routerLink",e.eq3(13,Ne,e.eq3(11,q,t.iD))),e.R7$(),e.Y8G("routerLink",e.eq3(17,De,e.eq3(15,q,t.iD)))}}function je(g,A){if(1&g){const t=e.RV6();e.j41(0,"p-table",3,0),e.bIt("onLazyLoad",function(C){e.eBV(t);const I=e.XpG();return e.Njj(I.onDataLazyLoad(C))}),e.DNE(2,Ge,19,4,"ng-template",4)(3,we,15,19,"ng-template",5),e.k0s()}if(2&g){const t=e.XpG();e.Y8G("value",t.data)("lazy",!0)("tableStyle",e.lJ4(9,Se))("paginator",!0)("rows",10)("rowsPerPageOptions",e.lJ4(10,Ee))("totalRecords",t.totalRecords)("loading",t.loading)("globalFilterFields",e.lJ4(11,ke))}}let Re=(()=>{class g extends w.x{constructor(t,n,C){super(C),this.productBatchService=t,this.messageService=n,this.loading=!0,this.totalRecords=0,this.purchaseFilterSubject=new v.t(null)}ngOnInit(){this.titleService.setTitle("\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0443\u043f\u043a\u0430\u043c\u0438"),this.purchaseFilterSubject.pipe((0,$.p)(t=>!!t)).pipe((0,E.n)(t=>this.productBatchService.findPurchaseBatches(t).pipe((0,_.W)(n=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u043a\u0443\u043f\u043e\u043a",severity:"error",detail:n}),this.loading=!1,u.w))))).subscribe(t=>{this.data=t.items.map(n=>{const C=n;return C.products=n.items.reduce((I,i)=>i.salesItems.reduce((a,s)=>a.set(s.productPackageID,s.productPackage),I),new Map),C}),this.totalRecords=t.totalCount,this.loading=!1}),this.purchaseFilterSubject.next(new d.D.FindPurchaseBatchesModel({count:0,offset:0}))}onDataLazyLoad(t){const n=new d.D.FindPurchaseBatchesModel({offset:t.first,count:t.rows});this.fillFilterModel(n,t.filters),this.purchaseFilterSubject.next(n)}onDateFilter(t,n){n(this.dateFilter)}fillFilterModel(t,n){t.name=n.name?.value,t.dateFrom=n.date?.[0]?.value?.[0],t.dateTo=n.date?.[0]?.value?.[1],t.article=n.article?.value||null}static{this.\u0275fac=function(n){return new(n||g)(e.rXU(d.D.PurchaseBatchClient),e.rXU(p.bg),e.rXU(G.hE))}}static{this.\u0275cmp=e.VBU({type:g,selectors:[["app-purchase-list"]],features:[e.Vt3],decls:6,vars:3,consts:[["dataTable",""],[3,"routerLink"],["dataKey","iD",3,"value","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","loading","globalFilterFields","onLazyLoad",4,"ngIf"],["dataKey","iD",3,"onLazyLoad","value","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","loading","globalFilterFields"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","date"],["field","date"],["field","name","matchMode","contains",3,"showMatchModes","showOperator"],["field","article","matchMode","containsKey",3,"showMatchModes","showOperator"],[4,"ngFor","ngForOf"],["icon","pi pi-dollar",3,"routerLink"],["icon","pi pi-pencil",3,"routerLink"]],template:function(n,C){1&n&&(e.nrm(0,"p-toast"),e.j41(1,"h1"),e.EFF(2,"\u0417\u0430\u043a\u0443\u043f\u043a\u0438"),e.k0s(),e.j41(3,"p-button",1),e.EFF(4,"\u041d\u043e\u0432\u0430\u044f"),e.k0s(),e.DNE(5,je,4,12,"p-table",2)),2&n&&(e.R7$(3),e.Y8G("routerLink",e.lJ4(2,xe)),e.R7$(2),e.Y8G("ngIf",C.data))},dependencies:[o.Sq,o.bT,f.XI,p.Ei,f.Tg,f.yc,f.rl,k.y8,x.$n,S.Wk,o.vh,o.lG]})}}return g})();var ee=l(1413),j=l(6977),R=l(6557),te=l(8141);let P=(()=>{class g{constructor(t,n,C,I){this.packageTypeClient=t,this.packageTypeCommandHandlerClient=n,this.messageService=C,this.purchaseClient=I,this.packageTypes=new v.t([]),this.packageTypeClient.getPackageTypes().pipe((0,_.W)(i=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0442\u0438\u043f\u043e\u0432 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:i}),u.w))).subscribe(i=>{this.packageTypes.next(i)})}getBatch(t){return this.purchaseClient.getPurchaseBatch(t)}getSalesPlanSelfCost(t,n,C,I=!0){const i=this.getSalesItemCosts(t),a=I?this.getSalesPlanCommission(n):0,s=+n.returnCost*+n.returnPercentage/100,m=n.amount?+n.marketingBudget/n.amount:0,c=n.amount?Math.ceil(100*+n.deliveryCost/+n.amount)/100:0;return C.price+i+s+a+c+m}getPackageTypes(){return this.packageTypes.value}getPackageType(t){return this.packageTypes.value.find(n=>n.iD==t)}getSalesItemCosts(t){let n=0;for(const C of t.salesItemPackages)n+=Math.ceil(C.pricePerUom*C.amount*100)/100;return n+=t.packagingPrice,n=Math.ceil(100*n)/100,n}getSalesPlanCommission(t){return Math.ceil(+t.commissionMultiplier*+t.price)/100+ +t.commissionAddition}calcPlans(){this.purchaseClient.calcSalesPlans().pipe((0,_.W)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0442\u0438\u043f\u043e\u0432 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:t}),u.w))).subscribe(()=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0451\u0442 \u043f\u043b\u0430\u043d\u043e\u0432 \u043f\u0440\u043e\u0434\u0430\u0436 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d"})})}getSalesPlansSummaries(t){return this.purchaseClient.getSalesPlansSummaries(t)}addPackageType(t){return this.packageTypeCommandHandlerClient.addPackageType(t)}updatePackageType(t){return this.packageTypeCommandHandlerClient.updatePackageType(t).pipe((0,te.M)(()=>{this.packageTypes.next(this.packageTypes.value.map(n=>n.iD==t.iD?t:n))}))}removePackageType(t){return this.packageTypeCommandHandlerClient.removePackageType(t).pipe((0,te.M)(()=>{this.packageTypes.next(this.packageTypes.value.filter(n=>n.iD!=t))}))}static{this.\u0275fac=function(n){return new(n||g)(e.KVO(d.D.PackageTypeClient),e.KVO(R.X.PackageTypeClient),e.KVO(p.bg),e.KVO(d.D.PurchaseBatchClient))}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var h=l(9417),T=l(9969),r=l(1455),N=l(2423),D=l(8807),y=l(4420);const Pe=["*",[["p-header"]]],Me=["*","p-header"],Be=g=>({$implicit:g}),ge=g=>({transitionParams:g}),Ve=g=>({value:"visible",params:g}),Ye=g=>({value:"hidden",params:g});function $e(g,A){if(1&g&&e.nrm(0,"span",11),2&g){const t=e.XpG(3);e.HbH(t.accordion.collapseIcon),e.Y8G("ngClass",t.iconClass),e.BMQ("aria-hidden",!0)}}function Xe(g,A){if(1&g&&e.nrm(0,"ChevronDownIcon",11),2&g){const t=e.XpG(3);e.Y8G("ngClass",t.iconClass),e.BMQ("aria-hidden",!0)}}function Oe(g,A){if(1&g&&(e.qex(0),e.DNE(1,$e,1,4,"span",9)(2,Xe,1,2,"ChevronDownIcon",10),e.bVm()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.accordion.collapseIcon),e.R7$(),e.Y8G("ngIf",!t.accordion.collapseIcon)}}function Le(g,A){if(1&g&&e.nrm(0,"span",11),2&g){const t=e.XpG(3);e.HbH(t.accordion.expandIcon),e.Y8G("ngClass",t.iconClass),e.BMQ("aria-hidden",!0)}}function Ue(g,A){if(1&g&&e.nrm(0,"ChevronRightIcon",11),2&g){const t=e.XpG(3);e.Y8G("ngClass",t.iconClass),e.BMQ("aria-hidden",!0)}}function He(g,A){if(1&g&&(e.qex(0),e.DNE(1,Le,1,4,"span",9)(2,Ue,1,2,"ChevronRightIcon",10),e.bVm()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.accordion.expandIcon),e.R7$(),e.Y8G("ngIf",!t.accordion.expandIcon)}}function ze(g,A){if(1&g&&(e.qex(0),e.DNE(1,Oe,3,2,"ng-container",3)(2,He,3,2,"ng-container",3),e.bVm()),2&g){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.selected),e.R7$(),e.Y8G("ngIf",!t.selected)}}function Ke(g,A){}function Qe(g,A){1&g&&e.DNE(0,Ke,0,0,"ng-template")}function We(g,A){if(1&g&&(e.j41(0,"span",12),e.EFF(1),e.k0s()),2&g){const t=e.XpG();e.R7$(),e.SpI(" ",t.header," ")}}function Je(g,A){1&g&&e.eu8(0)}function Ze(g,A){1&g&&e.SdG(0,1,["*ngIf","hasHeaderFacet"])}function qe(g,A){1&g&&e.eu8(0)}function et(g,A){if(1&g&&(e.qex(0),e.DNE(1,qe,1,0,"ng-container",6),e.bVm()),2&g){const t=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",t.contentTemplate)}}const tt=["*"];let ne=(()=>{class g{el;changeDetector;id;header;headerStyle;tabStyle;contentStyle;tabStyleClass;headerStyleClass;contentStyleClass;disabled;cache=!0;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";iconPos="start";get selected(){return this._selected}set selected(t){this._selected=t,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}headerAriaLevel=2;selectedChange=new e.bkB;headerFacet;templates;_selected=!1;get iconClass(){return"end"===this.iconPos?"p-accordion-toggle-icon-end":"p-accordion-toggle-icon"}contentTemplate;headerTemplate;iconTemplate;loaded=!1;accordion;constructor(t,n,C){this.el=n,this.changeDetector=C,this.accordion=t,this.id=(0,y._Y)()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"icon":this.iconTemplate=t.template}})}toggle(t){if(this.disabled)return!1;let n=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:t,index:n});else{if(!this.accordion.multiple)for(var C=0;C<this.accordion.tabs.length;C++)this.accordion.tabs[C].selected&&(this.accordion.tabs[C].selected=!1,this.accordion.tabs[C].selectedChange.emit(!1),this.accordion.tabs[C].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:t,index:n})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),t?.preventDefault()}findTabIndex(){let t=-1;for(var n=0;n<this.accordion.tabs.length;n++)if(this.accordion.tabs[n]==this){t=n;break}return t}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(t){switch(t.code){case"Enter":case"Space":this.toggle(t),t.preventDefault()}}getTabHeaderActionId(t){return`${t}_header_action`}getTabContentId(t){return`${t}_content`}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}static \u0275fac=function(n){return new(n||g)(e.rXU((0,e.Rfq)(()=>Ce)),e.rXU(e.aKT),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:g,selectors:[["p-accordionTab"]],contentQueries:function(n,C,I){if(1&n&&(e.wni(I,p.Y9,4),e.wni(I,p.Ei,4)),2&n){let i;e.mGM(i=e.lsd())&&(C.headerFacet=i),e.mGM(i=e.lsd())&&(C.templates=i)}},hostAttrs:[1,"p-element"],inputs:{id:"id",header:"header",headerStyle:"headerStyle",tabStyle:"tabStyle",contentStyle:"contentStyle",tabStyleClass:"tabStyleClass",headerStyleClass:"headerStyleClass",contentStyleClass:"contentStyleClass",disabled:[2,"disabled","disabled",e.L39],cache:[2,"cache","cache",e.L39],transitionOptions:"transitionOptions",iconPos:"iconPos",selected:"selected",headerAriaLevel:[2,"headerAriaLevel","headerAriaLevel",e.Udg]},outputs:{selectedChange:"selectedChange"},features:[e.GFd],ngContentSelectors:Me,decls:12,vars:44,consts:[[1,"p-accordion-tab",3,"ngClass","ngStyle"],["role","heading",1,"p-accordion-header"],["role","button",1,"p-accordion-header-link",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content",3,"ngClass","ngStyle"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-accordion-header-text"]],template:function(n,C){1&n&&(e.NAR(Pe),e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(i){return C.toggle(i)})("keydown",function(i){return C.onKeydown(i)}),e.DNE(3,ze,3,2,"ng-container",3)(4,Qe,1,0,null,4)(5,We,2,1,"span",5)(6,Je,1,0,"ng-container",6)(7,Ze,1,0,"ng-content",3),e.k0s()(),e.j41(8,"div",7)(9,"div",8),e.SdG(10),e.DNE(11,et,2,1,"ng-container",3),e.k0s()()()),2&n&&(e.AVh("p-accordion-tab-active",C.selected),e.Y8G("ngClass",C.tabStyleClass)("ngStyle",C.tabStyle),e.BMQ("data-pc-name","accordiontab"),e.R7$(),e.AVh("p-highlight",C.selected)("p-disabled",C.disabled),e.BMQ("aria-level",C.headerAriaLevel)("data-p-disabled",C.disabled)("data-pc-section","header"),e.R7$(),e.Y8G("ngClass",C.headerStyleClass)("ngStyle",C.headerStyle),e.BMQ("tabindex",C.disabled?null:0)("id",C.getTabHeaderActionId(C.id))("aria-controls",C.getTabContentId(C.id))("aria-expanded",C.selected)("aria-disabled",C.disabled)("data-pc-section","headeraction"),e.R7$(),e.Y8G("ngIf",!C.iconTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",C.iconTemplate)("ngTemplateOutletContext",e.eq3(34,Be,C.selected)),e.R7$(),e.Y8G("ngIf",!C.hasHeaderFacet),e.R7$(),e.Y8G("ngTemplateOutlet",C.headerTemplate),e.R7$(),e.Y8G("ngIf",C.hasHeaderFacet),e.R7$(),e.Y8G("@tabContent",C.selected?e.eq3(38,Ve,e.eq3(36,ge,C.transitionOptions)):e.eq3(42,Ye,e.eq3(40,ge,C.transitionOptions))),e.BMQ("id",C.getTabContentId(C.id))("aria-hidden",!C.selected)("aria-labelledby",C.getTabHeaderActionId(C.id))("data-pc-section","toggleablecontent"),e.R7$(),e.Y8G("ngClass",C.contentStyleClass)("ngStyle",C.contentStyle),e.R7$(2),e.Y8G("ngIf",C.contentTemplate&&(C.cache?C.loaded:C.selected)))},dependencies:()=>[o.YU,o.bT,o.T3,o.B3,D.v,N.D],styles:["@layer primeng{.p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}.p-accordion .p-toggleable-content{overflow:hidden}.p-accordion .p-accordion-tab-active>.p-toggleable-content:not(.ng-animating){overflow:inherit}.p-accordion-toggle-icon-end{order:1;margin-left:auto}.p-accordion-toggle-icon{order:0}}\n"],encapsulation:2,data:{animation:[(0,T.hZ)("tabContent",[(0,T.wk)("hidden",(0,T.iF)({height:"0",visibility:"hidden"})),(0,T.wk)("visible",(0,T.iF)({height:"*",visibility:"visible"})),(0,T.kY)("visible <=> hidden",[(0,T.i0)("{{transitionParams}}")]),(0,T.kY)("void => *",(0,T.i0)(0))])]},changeDetection:0})}return g})(),Ce=(()=>{class g{el;changeDetector;multiple=!1;style;styleClass;expandIcon;collapseIcon;get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}selectOnFocus=!1;get headerAriaLevel(){return this._headerAriaLevel}set headerAriaLevel(t){"number"==typeof t&&t>0?this._headerAriaLevel=t:2!==this._headerAriaLevel&&(this._headerAriaLevel=2)}onClose=new e.bkB;onOpen=new e.bkB;activeIndexChange=new e.bkB;tabList;tabListSubscription=null;_activeIndex;_headerAriaLevel=2;preventActiveIndexPropagation=!1;tabs=[];constructor(t,n){this.el=t,this.changeDetector=n}onKeydown(t){switch(t.code){case"ArrowDown":this.onTabArrowDownKey(t);break;case"ArrowUp":this.onTabArrowUpKey(t);break;case"Home":t.shiftKey||this.onTabHomeKey(t);break;case"End":t.shiftKey||this.onTabEndKey(t)}}focusedElementIsAccordionHeader(){return"a"===document.activeElement.tagName.toLowerCase()&&document.activeElement.classList.contains("p-accordion-header-link")}onTabArrowDownKey(t){if(this.focusedElementIsAccordionHeader()){const n=this.findNextHeaderAction(t.target.parentElement.parentElement.parentElement);n?this.changeFocusedTab(n):this.onTabHomeKey(t),t.preventDefault()}}onTabArrowUpKey(t){if(this.focusedElementIsAccordionHeader()){const n=this.findPrevHeaderAction(t.target.parentElement.parentElement.parentElement);n?this.changeFocusedTab(n):this.onTabEndKey(t),t.preventDefault()}}onTabHomeKey(t){const n=this.findFirstHeaderAction();this.changeFocusedTab(n),t.preventDefault()}changeFocusedTab(t){t&&(r.D.focus(t),this.selectOnFocus&&this.tabs.forEach((n,C)=>{let I=this.multiple?this._activeIndex.includes(C):C===this._activeIndex;this.multiple?(this._activeIndex||(this._activeIndex=[]),n.id==t.id&&(n.selected=!n.selected,this._activeIndex.includes(C)?this._activeIndex=this._activeIndex.filter(i=>i!==C):this._activeIndex.push(C))):n.id==t.id?(n.selected=!n.selected,this._activeIndex=C):n.selected=!1,n.selectedChange.emit(I),this.activeIndexChange.emit(this._activeIndex),n.changeDetector.markForCheck()}))}findNextHeaderAction(t,n=!1){const I=r.D.findSingle(n?t:t.nextElementSibling,'[data-pc-section="header"]');return I?r.D.getAttribute(I,"data-p-disabled")?this.findNextHeaderAction(I.parentElement.parentElement):r.D.findSingle(I,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(t,n=!1){const I=r.D.findSingle(n?t:t.previousElementSibling,'[data-pc-section="header"]');return I?r.D.getAttribute(I,"data-p-disabled")?this.findPrevHeaderAction(I.parentElement.parentElement):r.D.findSingle(I,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){return this.findNextHeaderAction(this.el.nativeElement.firstElementChild.childNodes[0],!0)}findLastHeaderAction(){const t=this.el.nativeElement.firstElementChild.childNodes;return this.findPrevHeaderAction(t[t.length-1],!0)}onTabEndKey(t){const n=this.findLastHeaderAction();this.changeFocusedTab(n),t.preventDefault()}resetActiveTab(){this.tabs?.forEach(t=>{t.selected=!1,t.changeDetector.markForCheck()}),this.activeIndex=null}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(t=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.tabs.forEach(t=>{t.headerAriaLevel=this._headerAriaLevel}),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let t=0;t<this.tabs.length;t++){let n=this.multiple?this._activeIndex.includes(t):t===this._activeIndex;n!==this.tabs[t].selected&&(this.tabs[t].selected=n,this.tabs[t].selectedChange.emit(n),this.tabs[t].changeDetector.markForCheck())}}isTabActive(t){return this.multiple?this._activeIndex&&this._activeIndex.includes(t):this._activeIndex===t}getTabProp(t,n){return t.props?t.props[n]:void 0}updateActiveIndex(){let t=this.multiple?[]:null;this.tabs.forEach((n,C)=>{if(n.selected){if(!this.multiple)return void(t=C);t.push(C)}}),this.preventActiveIndexPropagation=!0,this._activeIndex=t,this.activeIndexChange.emit(t)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||g)(e.rXU(e.aKT),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:g,selectors:[["p-accordion"]],contentQueries:function(n,C,I){if(1&n&&e.wni(I,ne,5),2&n){let i;e.mGM(i=e.lsd())&&(C.tabList=i)}},hostAttrs:[1,"p-element"],hostBindings:function(n,C){1&n&&e.bIt("keydown",function(i){return C.onKeydown(i)})},inputs:{multiple:[2,"multiple","multiple",e.L39],style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",e.L39],headerAriaLevel:"headerAriaLevel"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},features:[e.GFd],ngContentSelectors:tt,decls:2,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(n,C){1&n&&(e.NAR(),e.j41(0,"div",0),e.SdG(1),e.k0s()),2&n&&(e.HbH(C.styleClass),e.Y8G("ngClass","p-accordion p-component")("ngStyle",C.style))},dependencies:[o.YU,o.B3],encapsulation:2,changeDetection:0})}return g})(),gt=(()=>{class g{static \u0275fac=function(n){return new(n||g)};static \u0275mod=e.$C({type:g});static \u0275inj=e.G2t({imports:[o.MD,D.v,N.D,p.Gg]})}return g})();var Ie=l(8148),M=l(1512),F=l(563),Ae=l(8542);const ie=["*"];function nt(g,A){1&g&&e.eu8(0)}function Ct(g,A){if(1&g&&(e.qex(0),e.DNE(1,nt,1,0,"ng-container",3),e.bVm()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngTemplateOutlet",t.contentTemplate)}}function It(g,A){if(1&g&&(e.j41(0,"div",1),e.SdG(1),e.DNE(2,Ct,2,1,"ng-container",2),e.k0s()),2&g){const t=e.XpG();e.Y8G("hidden",!t.selected),e.BMQ("id",t.tabView.getTabContentId(t.id))("aria-hidden",!t.selected)("aria-labelledby",t.tabView.getTabHeaderActionId(t.id))("data-pc-name","tabpanel"),e.R7$(2),e.Y8G("ngIf",t.contentTemplate&&(t.cache?t.loaded:t.selected))}}const At=["content"],it=["navbar"],at=["prevBtn"],ot=["nextBtn"],lt=["inkbar"],rt=["elementToObserve"],st=g=>({"p-tabview p-component":!0,"p-tabview-scrollable":g}),ct=(g,A)=>({"p-highlight":g,"p-disabled":A});function pt(g,A){1&g&&e.nrm(0,"ChevronLeftIcon"),2&g&&e.BMQ("aria-hidden",!0)}function dt(g,A){}function _t(g,A){1&g&&e.DNE(0,dt,0,0,"ng-template")}function ut(g,A){if(1&g){const t=e.RV6();e.j41(0,"button",15,4),e.bIt("click",function(){e.eBV(t);const C=e.XpG();return e.Njj(C.navBackward())}),e.DNE(2,pt,1,1,"ChevronLeftIcon",16)(3,_t,1,0,null,17),e.k0s()}if(2&g){const t=e.XpG();e.BMQ("tabindex",t.tabindex)("aria-label",t.prevButtonAriaLabel),e.R7$(2),e.Y8G("ngIf",!t.previousIconTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",t.previousIconTemplate)}}function mt(g,A){if(1&g&&e.nrm(0,"span",26),2&g){const t=e.XpG(3).$implicit;e.Y8G("ngClass",t.leftIcon)}}function ht(g,A){}function ft(g,A){1&g&&e.DNE(0,ht,0,0,"ng-template")}function bt(g,A){if(1&g&&(e.j41(0,"span",27),e.DNE(1,ft,1,0,null,17),e.k0s()),2&g){const t=e.XpG(3).$implicit;e.R7$(),e.Y8G("ngTemplateOutlet",t.leftIconTemplate)}}function Tt(g,A){if(1&g&&e.nrm(0,"span",28),2&g){const t=e.XpG(3).$implicit;e.Y8G("ngClass",t.rightIcon)}}function vt(g,A){}function yt(g,A){1&g&&e.DNE(0,vt,0,0,"ng-template")}function xt(g,A){if(1&g&&(e.j41(0,"span",29),e.DNE(1,yt,1,0,null,17),e.k0s()),2&g){const t=e.XpG(3).$implicit;e.R7$(),e.Y8G("ngTemplateOutlet",t.rightIconTemplate)}}function St(g,A){if(1&g&&(e.qex(0),e.DNE(1,mt,1,1,"span",21)(2,bt,2,1,"span",22),e.j41(3,"span",23),e.EFF(4),e.k0s(),e.DNE(5,Tt,1,1,"span",24)(6,xt,2,1,"span",25),e.bVm()),2&g){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf",t.leftIcon&&!t.leftIconTemplate),e.R7$(),e.Y8G("ngIf",t.leftIconTemplate),e.R7$(2),e.JRh(t.header),e.R7$(),e.Y8G("ngIf",t.rightIcon&&!t.rightIconTemplate),e.R7$(),e.Y8G("ngIf",t.rightIconTemplate)}}function Et(g,A){1&g&&e.eu8(0)}function kt(g,A){if(1&g){const t=e.RV6();e.j41(0,"TimesIcon",32),e.bIt("click",function(C){e.eBV(t);const I=e.XpG(3).$implicit,i=e.XpG();return e.Njj(i.close(C,I))}),e.k0s()}2&g&&e.Y8G("styleClass","p-tabview-close")}function Nt(g,A){1&g&&e.nrm(0,"span",33)}function Dt(g,A){}function Gt(g,A){1&g&&e.DNE(0,Dt,0,0,"ng-template")}function Ft(g,A){if(1&g&&(e.qex(0),e.DNE(1,kt,1,1,"TimesIcon",30)(2,Nt,1,0,"span",31)(3,Gt,1,0,null,17),e.bVm()),2&g){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf",!t.closeIconTemplate),e.R7$(),e.Y8G("ngIf",t.closeIconTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function wt(g,A){if(1&g){const t=e.RV6();e.j41(0,"li",19)(1,"a",20),e.bIt("click",function(C){e.eBV(t);const I=e.XpG().$implicit,i=e.XpG();return e.Njj(i.open(C,I))})("keydown",function(C){e.eBV(t);const I=e.XpG().$implicit,i=e.XpG();return e.Njj(i.onTabKeyDown(C,I))}),e.DNE(2,St,7,5,"ng-container",16)(3,Et,1,0,"ng-container",17)(4,Ft,4,3,"ng-container",16),e.k0s()()}if(2&g){const t=e.XpG(),n=t.$implicit,C=t.index,I=e.XpG();e.HbH(n.headerStyleClass),e.Y8G("ngClass",e.l_i(19,ct,n.selected,n.disabled))("ngStyle",n.headerStyle),e.BMQ("data-p-disabled",n.disabled),e.R7$(),e.Y8G("pTooltip",n.tooltip)("tooltipPosition",n.tooltipPosition)("positionStyle",n.tooltipPositionStyle)("tooltipStyleClass",n.tooltipStyleClass),e.BMQ("id",I.getTabHeaderActionId(n.id))("aria-controls",I.getTabContentId(n.id))("aria-selected",n.selected)("tabindex",n.disabled||!n.selected?"-1":I.tabindex)("aria-disabled",n.disabled)("data-pc-index",C)("data-pc-section","headeraction"),e.R7$(),e.Y8G("ngIf",!n.headerTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",n.headerTemplate),e.R7$(),e.Y8G("ngIf",n.closable)}}function jt(g,A){1&g&&e.DNE(0,wt,5,22,"li",18),2&g&&e.Y8G("ngIf",!A.$implicit.closed)}function Rt(g,A){1&g&&e.nrm(0,"ChevronRightIcon"),2&g&&e.BMQ("aria-hidden",!0)}function Pt(g,A){}function Mt(g,A){1&g&&e.DNE(0,Pt,0,0,"ng-template")}function Bt(g,A){if(1&g){const t=e.RV6();e.j41(0,"button",34,5),e.bIt("click",function(){e.eBV(t);const C=e.XpG();return e.Njj(C.navForward())}),e.DNE(2,Rt,1,1,"ChevronRightIcon",16)(3,Mt,1,0,null,17),e.k0s()}if(2&g){const t=e.XpG();e.BMQ("tabindex",t.tabindex)("aria-label",t.nextButtonAriaLabel),e.R7$(2),e.Y8G("ngIf",!t.nextIconTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",t.nextIconTemplate)}}let ae=(()=>{class g{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(t){this._headerStyle=t,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(t){this._headerStyleClass=t,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(t){this._selected=t,this.loaded||this.cd.detectChanges(),t&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(t){this._disabled=t,this.tabView.cd.markForCheck()}get header(){return this._header}set header(t){this._header=t,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(t){this._leftIcon=t,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(t){this._rightIcon=t,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(t,n,C,I){this.el=n,this.viewContainer=C,this.cd=I,this.tabView=t,this.id=(0,y._Y)()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"righticon":this.rightIconTemplate=t.template;break;case"lefticon":this.leftIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template}})}ngOnDestroy(){this.view=null}static \u0275fac=function(n){return new(n||g)(e.rXU((0,e.Rfq)(()=>oe)),e.rXU(e.aKT),e.rXU(e.c1b),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:g,selectors:[["p-tabPanel"]],contentQueries:function(n,C,I){if(1&n&&e.wni(I,p.Ei,4),2&n){let i;e.mGM(i=e.lsd())&&(C.templates=i)}},hostAttrs:[1,"p-element"],inputs:{closable:[2,"closable","closable",e.L39],headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:[2,"cache","cache",e.L39],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},features:[e.GFd],ngContentSelectors:ie,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(n,C){1&n&&(e.NAR(),e.DNE(0,It,3,6,"div",0)),2&n&&e.Y8G("ngIf",!C.closed)},dependencies:[o.bT,o.T3],encapsulation:2})}return g})(),oe=(()=>{class g{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(t))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new e.bkB;onClose=new e.bkB;activeIndexChange=new e.bkB;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(t,n,C,I){this.platformId=t,this.el=n,this.cd=C,this.renderer=I}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(t=>{this.initTabs(),this.refreshButtonState(),this.callResizeObserver()}),this.templates.forEach(t=>{switch(t.getType()){case"previousicon":this.previousIconTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template}})}callResizeObserver(){(0,o.UE)(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}ngAfterViewInit(){this.callResizeObserver()}bindResizeObserver(){this.container=r.D.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=r.D.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){(0,o.UE)(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(t){return`${t}_header_action`}getTabContentId(t){return`${t}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(t,n){switch(t.code){case"ArrowLeft":this.onTabArrowLeftKey(t);break;case"ArrowRight":this.onTabArrowRightKey(t);break;case"Home":case"PageUp":this.onTabHomeKey(t);break;case"End":case"PageDown":this.onTabEndKey(t);break;case"Enter":case"Space":this.open(t,n)}}onTabArrowLeftKey(t){const n=this.findPrevHeaderAction(t.target.parentElement),C=r.D.getAttribute(n,"data-pc-index");n?this.changeFocusedTab(t,n,C):this.onTabEndKey(t),t.preventDefault()}onTabArrowRightKey(t){const n=this.findNextHeaderAction(t.target.parentElement),C=r.D.getAttribute(n,"data-pc-index");n?this.changeFocusedTab(t,n,C):this.onTabHomeKey(t),t.preventDefault()}onTabHomeKey(t){const n=this.findFirstHeaderAction(),C=r.D.getAttribute(n,"data-pc-index");this.changeFocusedTab(t,n,C),t.preventDefault()}onTabEndKey(t){const n=this.findLastHeaderAction(),C=r.D.getAttribute(n,"data-pc-index");this.changeFocusedTab(t,n,C),t.preventDefault()}changeFocusedTab(t,n,C){n&&(r.D.focus(n),n.scrollIntoView({block:"nearest"}),this.selectOnFocus)&&this.open(t,this.tabs[C])}findNextHeaderAction(t,n=!1){const C=n?t:t.nextElementSibling;return C?r.D.getAttribute(C,"data-p-disabled")||"inkbar"===r.D.getAttribute(C,"data-pc-section")?this.findNextHeaderAction(C):r.D.findSingle(C,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(t,n=!1){const C=n?t:t.previousElementSibling;return C?r.D.getAttribute(C,"data-p-disabled")||"inkbar"===r.D.getAttribute(C,"data-pc-section")?this.findPrevHeaderAction(C):r.D.findSingle(C,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){return this.findNextHeaderAction(this.navbar.nativeElement.firstElementChild,!0)}findLastHeaderAction(){const t=this.navbar.nativeElement.lastElementChild,n="inkbar"===r.D.getAttribute(t,"data-pc-section")?t.previousElementSibling:t;return this.findPrevHeaderAction(n,!0)}open(t,n){if(n.disabled)t&&t.preventDefault();else{if(!n.selected){let C=this.findSelectedTab();C&&(C.selected=!1),this.tabChanged=!0,n.selected=!0;let I=this.findTabIndex(n);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(I),this.onChange.emit({originalEvent:t,index:I}),this.updateScrollBar(I)}t&&t.preventDefault()}}close(t,n){this.controlClose?this.onClose.emit({originalEvent:t,index:this.findTabIndex(n),close:()=>{this.closeTab(n)}}):(this.closeTab(n),this.onClose.emit({originalEvent:t,index:this.findTabIndex(n)}))}closeTab(t){if(!t.disabled){if(t.selected){this.tabChanged=!0,t.selected=!1;for(let n=0;n<this.tabs.length;n++){let C=this.tabs[n];if(!C.closed&&!t.disabled&&C!=t){C.selected=!0;break}}}t.closed=!0,setTimeout(()=>{this.updateInkBar()})}}findSelectedTab(){for(let t=0;t<this.tabs.length;t++)if(this.tabs[t].selected)return this.tabs[t];return null}findTabIndex(t){let n=-1;for(let C=0;C<this.tabs.length;C++)if(this.tabs[C]==t){n=C;break}return n}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if((0,o.UE)(this.platformId)&&this.navbar){const t=r.D.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!t)return;this.inkbar.nativeElement.style.width=r.D.getWidth(t)+"px",this.inkbar.nativeElement.style.left=r.D.getOffset(t).left-r.D.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(t){let n=this.navbar.nativeElement.children[t];n&&n.scrollIntoView({block:"nearest"})}updateButtonState(){const t=this.content.nativeElement,{scrollLeft:n,scrollWidth:C}=t,I=r.D.getWidth(t);this.backwardIsDisabled=0===n,this.forwardIsDisabled=Math.round(n)===C-I}refreshButtonState(){this.container=r.D.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=r.D.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.list.offsetWidth>=this.container.offsetWidth&&(this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.markForCheck())}onScroll(t){this.scrollable&&this.updateButtonState(),t.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((t,n)=>n?t+r.D.getWidth(n):t,0)}navBackward(){const t=this.content.nativeElement,n=r.D.getWidth(t)-this.getVisibleButtonWidths(),C=t.scrollLeft-n;t.scrollLeft=C<=0?0:C}navForward(){const t=this.content.nativeElement,n=r.D.getWidth(t)-this.getVisibleButtonWidths(),C=t.scrollLeft+n,I=t.scrollWidth-n;t.scrollLeft=C>=I?I:C}static \u0275fac=function(n){return new(n||g)(e.rXU(e.Agw),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:g,selectors:[["p-tabView"]],contentQueries:function(n,C,I){if(1&n&&(e.wni(I,ae,4),e.wni(I,p.Ei,4)),2&n){let i;e.mGM(i=e.lsd())&&(C.tabPanels=i),e.mGM(i=e.lsd())&&(C.templates=i)}},viewQuery:function(n,C){if(1&n&&(e.GBs(At,5),e.GBs(it,5),e.GBs(at,5),e.GBs(ot,5),e.GBs(lt,5),e.GBs(rt,5)),2&n){let I;e.mGM(I=e.lsd())&&(C.content=I.first),e.mGM(I=e.lsd())&&(C.navbar=I.first),e.mGM(I=e.lsd())&&(C.prevBtn=I.first),e.mGM(I=e.lsd())&&(C.nextBtn=I.first),e.mGM(I=e.lsd())&&(C.inkbar=I.first),e.mGM(I=e.lsd())&&(C.elementToObserve=I.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:[2,"controlClose","controlClose",e.L39],scrollable:[2,"scrollable","scrollable",e.L39],activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",e.L39],nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:[2,"autoHideButtons","autoHideButtons",e.L39],tabindex:[2,"tabindex","tabindex",e.Udg]},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},features:[e.GFd],ngContentSelectors:ie,decls:14,vars:13,consts:[["elementToObserve",""],["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["role","tablist",1,"p-tabview-nav"],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"click","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"click","styleClass"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"]],template:function(n,C){if(1&n){const I=e.RV6();e.NAR(),e.j41(0,"div",6)(1,"div",7,0),e.DNE(3,ut,4,4,"button",8),e.j41(4,"div",9,1),e.bIt("scroll",function(a){return e.eBV(I),e.Njj(C.onScroll(a))}),e.j41(6,"ul",10,2),e.DNE(8,jt,1,1,"ng-template",11),e.nrm(9,"li",12,3),e.k0s()(),e.DNE(11,Bt,4,4,"button",13),e.k0s(),e.j41(12,"div",14),e.SdG(13),e.k0s()()}2&n&&(e.HbH(C.styleClass),e.Y8G("ngClass",e.eq3(11,st,C.scrollable))("ngStyle",C.style),e.BMQ("data-pc-name","tabview"),e.R7$(3),e.Y8G("ngIf",C.scrollable&&!C.backwardIsDisabled&&C.autoHideButtons),e.R7$(),e.BMQ("data-pc-section","navcontent"),e.R7$(2),e.BMQ("data-pc-section","nav"),e.R7$(2),e.Y8G("ngForOf",C.tabs),e.R7$(),e.BMQ("data-pc-section","inkbar"),e.R7$(2),e.Y8G("ngIf",C.scrollable&&!C.forwardIsDisabled&&C.buttonVisible))},dependencies:()=>[o.YU,o.Sq,o.bT,o.T3,o.B3,Ae.m,F.n,M.A,Ie.Y,D.v],styles:["@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}\n"],encapsulation:2,changeDetection:0})}return g})(),Vt=(()=>{class g{static \u0275fac=function(n){return new(n||g)};static \u0275mod=e.$C({type:g});static \u0275inj=e.G2t({imports:[o.MD,p.Gg,Ae.S,F.Z,M.A,Ie.Y,D.v,p.Gg]})}return g})();var X=l(2242),O=l(1802),L=l(8833),U=l(6781),le=l(8537),re=l(612),se=l(935);let Yt=(()=>{class g{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}static{this.\u0275fac=function(n){return new(n||g)(e.rXU(G.up,16))}}static{this.\u0275pipe=e.EJ8({name:"safeHtml",type:g,pure:!0})}}return g})();const $t=["productPackageDropdown"],Xt=["packageTypeDropdown"],Ot=["salesChannelDropdown"],Lt=["productAutocomplete"],Ut=(g,A)=>({profitRate:20,cost:g,costWithCommission:A}),Ht=()=>({width:"50vw"});function zt(g,A){1&g&&(e.nrm(0,"i",22),e.j41(1,"span"),e.EFF(2,"\u0417\u0430\u043a\u0443\u043f\u043a\u0430"),e.k0s())}function Kt(g,A){1&g&&(e.j41(0,"tr"),e.nrm(1,"th",27),e.j41(2,"th",27),e.EFF(3,"ID"),e.k0s(),e.j41(4,"th"),e.EFF(5,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.k0s(),e.j41(6,"th",27),e.EFF(7,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.k0s(),e.j41(8,"th",27),e.EFF(9,"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043d\u0430"),e.k0s()())}function Qt(g,A){if(1&g){const t=e.RV6();e.j41(0,"p-inputNumber",33),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG().$implicit;return e.DH7(I.count,C)||(I.count=C),e.Njj(C)}),e.k0s()}if(2&g){const t=e.XpG().$implicit;e.Y8G("useGrouping",!1),e.R50("ngModel",t.count)}}function Wt(g,A){if(1&g&&e.EFF(0),2&g){const t=e.XpG().$implicit;e.SpI(" ",t.count," ")}}function Jt(g,A){if(1&g){const t=e.RV6();e.j41(0,"p-inputNumber",34),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG().$implicit;return e.DH7(I.price,C)||(I.price=C),e.Njj(C)}),e.k0s()}if(2&g){const t=e.XpG().$implicit;e.Y8G("useGrouping",!1),e.R50("ngModel",t.price),e.Y8G("maxFractionDigits",2)}}function Zt(g,A){if(1&g&&e.EFF(0),2&g){const t=e.XpG().$implicit;e.SpI(" ",t.price," ")}}function qt(g,A){if(1&g){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"p-button",28),e.bIt("click",function(){const C=e.eBV(t).rowIndex,I=e.XpG(4);return e.Njj(I.removeItem(I.calculation.items,C))}),e.k0s()(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td",29)(8,"p-cellEditor"),e.DNE(9,Qt,1,2,"ng-template",30)(10,Wt,1,1,"ng-template",31),e.k0s()(),e.j41(11,"td",32)(12,"p-cellEditor"),e.DNE(13,Jt,1,3,"ng-template",30)(14,Zt,1,1,"ng-template",31),e.k0s()()()}if(2&g){const t=A.$implicit;e.R7$(4),e.JRh(t.productID),e.R7$(2),e.JRh(t.product.name),e.R7$(),e.Y8G("pEditableColumn",t.count),e.R7$(4),e.Y8G("pEditableColumn",t.price)}}function eg(g,A){if(1&g&&(e.j41(0,"tr")(1,"td",35),e.EFF(2,"\u0418\u0442\u043e\u0433\u043e:"),e.k0s(),e.j41(3,"td",36),e.EFF(4),e.k0s(),e.j41(5,"td",36),e.EFF(6),e.k0s()()),2&g){const t=e.XpG(4);e.R7$(4),e.SpI(" ",t.calculationTotalProductCount," "),e.R7$(2),e.SpI(" ",t.calculationTotalSum," ")}}function tg(g,A){if(1&g&&(e.j41(0,"p-table",25),e.DNE(1,Kt,10,0,"ng-template",14)(2,qt,15,4,"ng-template",15)(3,eg,7,2,"ng-template",26),e.k0s()),2&g){const t=e.XpG(3);e.Y8G("value",t.calculation.items)}}function gg(g,A){if(1&g&&(e.j41(0,"div",37)(1,"div"),e.EFF(2),e.k0s()()),2&g){const t=A.$implicit;e.R7$(2),e.Lme("",t.iD,": ",t.name,"")}}function ng(g,A){1&g&&e.EFF(0,"\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u0430")}function Cg(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",5),e.DNE(1,tg,4,1,"p-table",23),e.j41(2,"p-autoComplete",24,1),e.nI1(4,"async"),e.bIt("completeMethod",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.findProductsByName(C))})("onSelect",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.addProduct(C))}),e.DNE(5,gg,3,2,"ng-template",18)(6,ng,1,0,"ng-template",19),e.k0s()()}if(2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.calculation.items.length),e.R7$(),e.Y8G("suggestions",e.bMT(4,3,t.products))("minLength",3)}}function Ig(g,A){1&g&&(e.nrm(0,"i",38),e.j41(1,"span"),e.EFF(2,"\u0422\u0438\u043f\u043e\u0444\u043e\u0440\u043c\u0430\u0442\u044b"),e.k0s())}function Ag(g,A){if(1&g&&(e.j41(0,"div",37)(1,"div"),e.EFF(2),e.k0s()()),2&g){const t=A.$implicit;e.R7$(2),e.Lme("",t.product.iD,": ",t.product.name,"")}}function ig(g,A){if(1&g&&(e.j41(0,"div",37)(1,"div"),e.EFF(2),e.k0s()()),2&g){const t=A.$implicit;e.R7$(2),e.Lme("",t.iD,": ",t.name,"")}}function ag(g,A){1&g&&e.EFF(0,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0440\u0442\u0438\u043a\u0443\u043b")}function og(g,A){if(1&g&&e.EFF(0),2&g){const t=e.XpG().$implicit;e.E5c(" \u0410\u0440\u0442\u0438\u043a\u0443\u043b: ",t.productPackage.iD,", ",t.productPackage.productCount,"\u0448\u0442, ",t.name," ")}}function lg(g,A){1&g&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"\u0422\u0438\u043f \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438"),e.k0s(),e.j41(3,"th"),e.EFF(4,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.k0s(),e.j41(5,"th"),e.EFF(6,"\u0426\u0435\u043d\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438"),e.k0s(),e.j41(7,"th"),e.EFF(8,"\u0421\u0443\u043c\u043c\u0430"),e.k0s()())}function rg(g,A){if(1&g&&(e.j41(0,"tr")(1,"td",35),e.EFF(2,"\u0418\u0442\u043e\u0433\u043e:"),e.k0s(),e.j41(3,"td",36),e.EFF(4),e.k0s()()),2&g){const t=e.XpG(3).$implicit,n=e.XpG(3);e.R7$(4),e.JRh(n.getPackagePrice(t))}}function sg(g,A){if(1&g&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&g){const t=A.ngIf;e.R7$(),e.SpI(" ",t.name," ")}}function cg(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",48)(1,"p-inputNumber",58),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG(2).$implicit;return e.DH7(I.amount,C)||(I.amount=C),e.Njj(C)}),e.k0s(),e.nrm(2,"span",59),e.nI1(3,"safeHtml"),e.k0s()}if(2&g){const t=e.XpG().ngIf,n=e.XpG().$implicit,C=e.XpG(6);e.R7$(),e.Y8G("useGrouping",!1)("minFractionDigits",t.decimalPlaces)("maxFractionDigits",t.decimalPlaces),e.R50("ngModel",n.amount),e.R7$(),e.Y8G("innerHtml",e.bMT(3,5,C.getUnitOfMeasure(t.unitOfMeasure)),e.npT)}}function pg(g,A){if(1&g&&(e.qex(0),e.EFF(1),e.nrm(2,"span",60),e.nI1(3,"safeHtml"),e.bVm()),2&g){const t=e.XpG().ngIf,n=e.XpG().$implicit,C=e.XpG(6);e.R7$(),e.SpI(" ",n.amount,""),e.R7$(),e.Y8G("innerHtml",e.bMT(3,2,C.getUnitOfMeasure(t.unitOfMeasure)),e.npT)}}function dg(g,A){1&g&&(e.j41(0,"p-cellEditor"),e.DNE(1,cg,4,7,"ng-template",30)(2,pg,4,4,"ng-template",31),e.k0s())}function _g(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",48)(1,"p-inputNumber",61),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG().$implicit;return e.DH7(I.pricePerUom,C)||(I.pricePerUom=C),e.Njj(C)}),e.k0s(),e.nrm(2,"span",59),e.nI1(3,"safeHtml"),e.k0s()}if(2&g){const t=e.XpG().$implicit,n=e.XpG(6);e.R7$(),e.Y8G("useGrouping",!1)("minFractionDigits",0)("maxFractionDigits",2),e.R50("ngModel",t.pricePerUom),e.R7$(),e.Y8G("innerHtml",e.bMT(3,5,"\u20bd/"+n.getUnitOfMeasureByPackageTypeID(t.packageTypeID)),e.npT)}}function ug(g,A){if(1&g&&(e.EFF(0),e.nrm(1,"span",60)),2&g){const t=e.XpG().$implicit,n=e.XpG(6);e.SpI(" ",t.pricePerUom,"\u20bd/"),e.R7$(),e.Y8G("innerHtml",n.getUnitOfMeasureByPackageTypeID(t.packageTypeID),e.npT)}}function mg(g,A){if(1&g){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"p-button",55),e.bIt("click",function(){const C=e.eBV(t).rowIndex,I=e.XpG(3).$implicit,i=e.XpG(3);return e.Njj(i.removeItem(I.salesItemPackages,C))}),e.k0s(),e.DNE(3,sg,2,1,"span",21),e.k0s(),e.j41(4,"td",56),e.DNE(5,dg,3,0,"p-cellEditor",21),e.k0s(),e.j41(6,"td",57)(7,"p-cellEditor"),e.DNE(8,_g,4,7,"ng-template",30)(9,ug,2,2,"ng-template",31),e.k0s()(),e.j41(10,"td",36),e.EFF(11),e.nI1(12,"number"),e.k0s()()}if(2&g){const t=A.$implicit,n=e.XpG(6);e.R7$(3),e.Y8G("ngIf",n.getPackageType(t.packageTypeID)),e.R7$(),e.Y8G("pEditableColumn",t.amount),e.R7$(),e.Y8G("ngIf",n.getPackageType(t.packageTypeID)),e.R7$(),e.Y8G("pEditableColumn",t.pricePerUom),e.R7$(5),e.SpI(" ",e.i5U(12,5,t.pricePerUom*t.amount,"1.2-2"),"\u20bd ")}}function hg(g,A){if(1&g&&(e.j41(0,"p-table",25),e.DNE(1,lg,9,0,"ng-template",14)(2,rg,5,1,"ng-template",26)(3,mg,13,8,"ng-template",15),e.k0s()),2&g){const t=e.XpG(2).$implicit;e.Y8G("value",t.salesItemPackages)}}function fg(g,A){if(1&g&&(e.j41(0,"div",37),e.nrm(1,"div",62),e.nI1(2,"safeHtml"),e.k0s()),2&g){const t=A.$implicit,n=e.XpG(5);e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,t.name+" ("+(null==t.price?"-":t.price)+" \u20bd/"+n.getUnitOfMeasure(t.unitOfMeasure)+")"),e.npT)}}function bg(g,A){if(1&g&&(e.j41(0,"div",37)(1,"div"),e.EFF(2),e.k0s()()),2&g){const t=A.$implicit;e.R7$(2),e.JRh(t.name)}}function Tg(g,A){1&g&&e.EFF(0,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u043d \u043f\u0440\u043e\u0434\u0430\u0436")}function vg(g,A){1&g&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"\u041a\u0430\u043d\u0430\u043b"),e.k0s(),e.j41(3,"th",36),e.EFF(4,"\u0426\u0435\u043d\u0430"),e.k0s(),e.j41(5,"th",36),e.EFF(6,"\u0421\u0435\u0431\u0435\u0441"),e.k0s(),e.j41(7,"th",36),e.EFF(8,"\u041e\u0442\u0433\u0440\u0443\u0437\u043a\u0430"),e.k0s(),e.j41(9,"th",36),e.EFF(10,"\u0420\u0435\u043a\u043b\u0430\u043c\u0430, \u20bd/\u043f\u043b\u0430\u043d"),e.k0s(),e.j41(11,"th"),e.EFF(12,"\u041a\u043e\u043b-\u0432\u043e"),e.k0s(),e.j41(13,"th",36),e.EFF(14,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.k0s(),e.j41(15,"th",36),e.EFF(16,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b"),e.k0s(),e.nrm(17,"th"),e.k0s())}function yg(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",48)(1,"p-inputNumber",74),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG(2).$implicit;return e.DH7(I.price,C)||(I.price=C),e.Njj(C)}),e.k0s(),e.j41(2,"span",50),e.EFF(3,"\u20bd"),e.k0s()()}if(2&g){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("useGrouping",!1),e.R50("ngModel",t.price),e.Y8G("minFractionDigits",0)("maxFractionDigits",2)}}function xg(g,A){if(1&g&&(e.j41(0,"div"),e.EFF(1),e.k0s(),e.j41(2,"p-tag",75),e.EFF(3),e.nI1(4,"number"),e.nI1(5,"number"),e.k0s(),e.j41(6,"div"),e.EFF(7),e.nI1(8,"number"),e.k0s()),2&g){const t=e.XpG().ngIf,n=e.XpG().$implicit;e.R7$(),e.SpI(" ",n.price,"\u20bd "),e.R7$(),e.Y8G("severity",n.price<t.costWithCommission?"danger":(n.price-t.costWithCommission)/t.cost>t.profitRate/100?"success":"info"),e.R7$(),e.Lme(" ",e.i5U(4,6,n.price-t.costWithCommission,"1.2-2"),"\u20bd/",e.i5U(5,9,(n.price-t.costWithCommission)/t.cost*100,"1.0-2"),"% "),e.R7$(4),e.Lme(" (",e.i5U(8,12,(t.cost*(1+t.profitRate/100)+n.commissionAddition)/(1-n.commissionMultiplier/100),"1.2-2"),"\u20bd \u0434\u043b\u044f ",t.profitRate,"%) ")}}function Sg(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",48)(1,"p-inputNumber",76),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG(2).$implicit;return e.DH7(I.deliveryCost,C)||(I.deliveryCost=C),e.Njj(C)}),e.k0s(),e.j41(2,"span",50),e.EFF(3,"\u20bd"),e.k0s()()}if(2&g){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("useGrouping",!1)("minFractionDigits",0)("maxFractionDigits",2),e.R50("ngModel",t.deliveryCost)}}function Eg(g,A){if(1&g&&(e.j41(0,"div",36),e.EFF(1),e.k0s()),2&g){const t=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",t.deliveryCost,"\u20bd ")}}function kg(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",48)(1,"p-inputNumber",74),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG(2).$implicit;return e.DH7(I.marketingBudget,C)||(I.marketingBudget=C),e.Njj(C)}),e.k0s(),e.j41(2,"span",50),e.EFF(3,"\u20bd"),e.k0s()()}if(2&g){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("useGrouping",!1),e.R50("ngModel",t.marketingBudget),e.Y8G("minFractionDigits",0)("maxFractionDigits",2)}}function Ng(g,A){if(1&g&&e.EFF(0),2&g){const t=e.XpG(2).$implicit;e.SpI(" ",t.marketingBudget," ")}}function Dg(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",48)(1,"p-inputNumber",33),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG(2).$implicit;return e.DH7(I.amount,C)||(I.amount=C),e.Njj(C)}),e.k0s(),e.j41(2,"span",50),e.EFF(3,"\u0448\u0442"),e.k0s()()}if(2&g){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("useGrouping",!1),e.R50("ngModel",t.amount)}}function Gg(g,A){if(1&g&&e.EFF(0),2&g){const t=e.XpG(2).$implicit;e.SpI(" ",t.amount,"\u0448\u0442 ")}}function Fg(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",48)(1,"p-inputNumber",74),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG(2).$implicit;return e.DH7(I.commissionMultiplier,C)||(I.commissionMultiplier=C),e.Njj(C)}),e.k0s(),e.j41(2,"span",50),e.EFF(3,"%"),e.k0s()()}if(2&g){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("useGrouping",!1),e.R50("ngModel",t.commissionMultiplier),e.Y8G("minFractionDigits",1)("maxFractionDigits",1)}}function wg(g,A){if(1&g&&e.EFF(0),2&g){const t=e.XpG(2).$implicit;e.SpI(" ",t.commissionMultiplier,"% ")}}function jg(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",48)(1,"p-inputNumber",74),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG(2).$implicit;return e.DH7(I.returnPercentage,C)||(I.returnPercentage=C),e.Njj(C)}),e.k0s(),e.j41(2,"span",50),e.EFF(3,"%"),e.k0s()()}if(2&g){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("useGrouping",!1),e.R50("ngModel",t.returnPercentage),e.Y8G("minFractionDigits",1)("maxFractionDigits",1)}}function Rg(g,A){if(1&g&&e.EFF(0),2&g){const t=e.XpG(2).$implicit;e.SpI(" ",t.returnPercentage,"% ")}}function Pg(g,A){if(1&g){const t=e.RV6();e.j41(0,"tr")(1,"td",66),e.EFF(2),e.k0s(),e.j41(3,"td",67)(4,"p-cellEditor"),e.DNE(5,yg,4,4,"ng-template",30)(6,xg,9,15,"ng-template",31),e.k0s()(),e.j41(7,"td",68),e.EFF(8),e.nI1(9,"number"),e.nrm(10,"br"),e.EFF(11),e.nI1(12,"number"),e.k0s(),e.j41(13,"td",69)(14,"p-cellEditor"),e.DNE(15,Sg,4,4,"ng-template",30)(16,Eg,2,1,"ng-template",31),e.k0s()(),e.j41(17,"td",70)(18,"p-cellEditor"),e.DNE(19,kg,4,4,"ng-template",30)(20,Ng,1,1,"ng-template",31),e.k0s()(),e.j41(21,"td",71)(22,"p-cellEditor"),e.DNE(23,Dg,4,2,"ng-template",30)(24,Gg,1,1,"ng-template",31),e.k0s()(),e.j41(25,"td",72)(26,"p-cellEditor"),e.DNE(27,Fg,4,4,"ng-template",30)(28,wg,1,1,"ng-template",31),e.k0s()(),e.j41(29,"td",73)(30,"p-cellEditor"),e.DNE(31,jg,4,4,"ng-template",30)(32,Rg,1,1,"ng-template",31),e.k0s()(),e.j41(33,"td",66)(34,"p-button",28),e.bIt("click",function(){e.eBV(t);const C=e.XpG().rowIndex,I=e.XpG(2).$implicit,i=e.XpG(3);return e.Njj(i.removeItem(I.salesPlans,C))}),e.k0s()()()}if(2&g){const t=A.ngIf,n=e.XpG().$implicit;e.R7$(2),e.SpI(" ",n.salesChannel.name," "),e.R7$(),e.Y8G("pEditableColumn",n.price),e.R7$(5),e.SpI(" ",e.i5U(9,8,t.costWithCommission,"1.2-2"),"\u20bd "),e.R7$(3),e.SpI(" (",e.i5U(12,11,(t.cost+n.commissionAddition)/(1-n.commissionMultiplier/100),"1.2-2"),"\u20bd) "),e.R7$(6),e.Y8G("pEditableColumn",n.marketingBudget),e.R7$(4),e.Y8G("pEditableColumn",n.amount),e.R7$(4),e.Y8G("pEditableColumn",n.commissionMultiplier),e.R7$(4),e.Y8G("pEditableColumn",n.returnPercentage)}}function Mg(g,A){if(1&g){const t=e.RV6();e.j41(0,"p-calendar",77),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG().$implicit;return e.DH7(I.deliveryDate,C)||(I.deliveryDate=C),e.Njj(C)}),e.k0s()}if(2&g){const t=e.XpG().$implicit;e.R50("ngModel",t.deliveryDate),e.Y8G("readonlyInput",!0)}}function Bg(g,A){if(1&g&&(e.EFF(0),e.nI1(1,"date")),2&g){const t=e.XpG().$implicit;e.SpI(" ",e.i5U(1,1,t.deliveryDate,"dd.MM.yyyy")," ")}}function Vg(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",48)(1,"p-inputNumber",74),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG().$implicit;return e.DH7(I.commissionAddition,C)||(I.commissionAddition=C),e.Njj(C)}),e.k0s(),e.j41(2,"span",50),e.EFF(3,"\u20bd"),e.k0s()()}if(2&g){const t=e.XpG().$implicit;e.R7$(),e.Y8G("useGrouping",!1),e.R50("ngModel",t.commissionAddition),e.Y8G("minFractionDigits",2)("maxFractionDigits",2)}}function Yg(g,A){if(1&g&&e.EFF(0),2&g){const t=e.XpG().$implicit;e.SpI(" ",t.commissionAddition,"\u20bd ")}}function $g(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",48)(1,"p-inputNumber",74),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG().$implicit;return e.DH7(I.returnCost,C)||(I.returnCost=C),e.Njj(C)}),e.k0s(),e.j41(2,"span",50),e.EFF(3,"\u20bd"),e.k0s()()}if(2&g){const t=e.XpG().$implicit;e.R7$(),e.Y8G("useGrouping",!1),e.R50("ngModel",t.returnCost),e.Y8G("minFractionDigits",2)("maxFractionDigits",2)}}function Xg(g,A){if(1&g&&e.EFF(0),2&g){const t=e.XpG().$implicit;e.SpI(" ",t.returnCost,"\u20bd ")}}function Og(g,A){if(1&g&&(e.DNE(0,Pg,35,14,"tr",21),e.j41(1,"tr")(2,"td",63)(3,"p-cellEditor"),e.DNE(4,Mg,1,2,"ng-template",30)(5,Bg,2,4,"ng-template",31),e.k0s()(),e.j41(6,"td",64)(7,"p-cellEditor"),e.DNE(8,Vg,4,4,"ng-template",30)(9,Yg,1,1,"ng-template",31),e.k0s()(),e.j41(10,"td",65)(11,"p-cellEditor"),e.DNE(12,$g,4,4,"ng-template",30)(13,Xg,1,1,"ng-template",31),e.k0s()()()),2&g){const t=A.$implicit,n=e.XpG(2).$implicit,C=e.XpG().$implicit,I=e.XpG(2);e.Y8G("ngIf",e.l_i(3,Ut,I.getSelfCost(n,t,C,!1),I.getSelfCost(n,t,C,!0))),e.R7$(6),e.Y8G("pEditableColumn",t.commissionAddition),e.R7$(4),e.Y8G("pEditableColumn",t.returnCost)}}function Lg(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",41)(1,"p-button",42),e.bIt("click",function(){e.eBV(t);const C=e.XpG().index,I=e.XpG().$implicit,i=e.XpG(2);return e.Njj(i.removeItem(I.salesItems,C))}),e.k0s(),e.j41(2,"h5"),e.EFF(3,"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438"),e.k0s(),e.j41(4,"div",43)(5,"div",44)(6,"div")(7,"label",45),e.EFF(8,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.k0s()(),e.j41(9,"input",46),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG().$implicit;return e.DH7(I.name,C)||(I.name=C),e.Njj(C)}),e.k0s()(),e.j41(10,"div",44)(11,"label",47),e.EFF(12,"\u041e\u0431\u044a\u0451\u043c"),e.k0s(),e.j41(13,"div",48)(14,"p-inputNumber",49),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG().$implicit;return e.DH7(I.volume,C)||(I.volume=C),e.Njj(C)}),e.k0s(),e.j41(15,"span",50),e.EFF(16,"\u043b"),e.k0s()()(),e.j41(17,"div",44)(18,"label",51),e.EFF(19,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0444\u0430\u0441\u043e\u0432\u043a\u0438"),e.k0s(),e.j41(20,"div",48)(21,"p-inputNumber",52),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG().$implicit;return e.DH7(I.packagingPrice,C)||(I.packagingPrice=C),e.Njj(C)}),e.k0s(),e.j41(22,"span",50),e.EFF(23,"\u20bd"),e.k0s()()()(),e.DNE(24,hg,4,1,"p-table",23),e.j41(25,"p-dropdown",53,2),e.bIt("onChange",function(C){e.eBV(t);const I=e.XpG().$implicit,i=e.XpG(3);return e.Njj(i.addSalesItemPackage(I,C.value))}),e.DNE(27,fg,3,3,"ng-template",18),e.k0s()(),e.j41(28,"div",41)(29,"p-dropdown",54,3),e.nI1(31,"async"),e.bIt("onChange",function(C){e.eBV(t);const I=e.XpG().$implicit,i=e.XpG(3);return e.Njj(i.addSalesPlan(I,C.value))}),e.DNE(32,bg,3,1,"ng-template",18)(33,Tg,1,0,"ng-template",19),e.k0s(),e.j41(34,"p-table",25),e.DNE(35,vg,18,0,"ng-template",14)(36,Og,14,6,"ng-template",15),e.k0s()()}if(2&g){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(9),e.R50("ngModel",t.name),e.R7$(5),e.Y8G("useGrouping",!1)("minFractionDigits",0)("maxFractionDigits",1),e.R50("ngModel",t.volume),e.R7$(7),e.Y8G("useGrouping",!1)("minFractionDigits",0)("maxFractionDigits",2),e.R50("ngModel",t.packagingPrice),e.R7$(3),e.Y8G("ngIf",null==t.salesItemPackages?null:t.salesItemPackages.length),e.R7$(),e.Y8G("options",n.getAvailablePackageTypes(t)),e.R7$(4),e.Y8G("options",e.bMT(31,14,n.salesChannels))("autoDisplayFirst",!1),e.R7$(5),e.Y8G("value",t.salesPlans)}}function Ug(g,A){1&g&&(e.qex(0),e.j41(1,"p-accordionTab",39),e.DNE(2,og,1,3,"ng-template",14)(3,Lg,37,16,"ng-template",40),e.k0s(),e.bVm())}function Hg(g,A){if(1&g&&(e.qex(0),e.DNE(1,Ug,4,0,"ng-container",20),e.bVm()),2&g){const t=A.$implicit;e.R7$(),e.Y8G("ngForOf",t.salesItems)}}function zg(g,A){if(1&g){const t=e.RV6();e.qex(0),e.j41(1,"p-dialog",78),e.mxI("visibleChange",function(C){e.eBV(t);const I=e.XpG(2);return e.DH7(I.duplicateProductDialogVisible,C)||(I.duplicateProductDialogVisible=C),e.Njj(C)}),e.j41(2,"p",79),e.EFF(3),e.k0s()(),e.bVm()}if(2&g){const t=e.XpG(2);e.R7$(),e.Aen(e.lJ4(7,Ht)),e.Y8G("modal",!0),e.R50("visible",t.duplicateProductDialogVisible),e.Y8G("draggable",!1)("resizable",!1),e.R7$(2),e.SpI(" ",t.addedProduct.name," ")}}function Kg(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",5)(1,"h5"),e.EFF(2,"\u0420\u0430\u0441\u0447\u0451\u0442 \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u0438 \u043f\u043e \u0430\u0440\u0442\u0438\u043a\u0443\u043b\u0443"),e.k0s(),e.j41(3,"span",6)(4,"input",7),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG();return e.DH7(I.calculation.name,C)||(I.calculation.name=C),e.Njj(C)}),e.k0s(),e.j41(5,"label",8),e.EFF(6,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0441\u0447\u0451\u0442\u0430"),e.k0s()(),e.j41(7,"span",6)(8,"p-calendar",9),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG();return e.DH7(I.calculation.date,C)||(I.calculation.date=C),e.Njj(C)}),e.k0s(),e.j41(9,"label",10),e.EFF(10,"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0443\u043f\u043a\u0438"),e.k0s()(),e.j41(11,"div",11)(12,"p-button",12),e.bIt("click",function(){e.eBV(t);const C=e.XpG();return e.Njj(C.savePurchaseBatch())}),e.k0s()(),e.j41(13,"p-tabView",13)(14,"p-tabPanel"),e.DNE(15,zt,3,0,"ng-template",14)(16,Cg,7,5,"ng-template",15),e.k0s(),e.j41(17,"p-tabPanel"),e.DNE(18,Ig,3,0,"ng-template",14),e.j41(19,"div",5)(20,"p-dropdown",16,0),e.bIt("onChange",function(C){e.eBV(t);const I=e.XpG();return e.Njj(I.addSalesItem(C.value))}),e.DNE(22,Ag,3,2,"ng-template",17)(23,ig,3,2,"ng-template",18)(24,ag,1,0,"ng-template",19),e.k0s(),e.j41(25,"p-accordion"),e.DNE(26,Hg,2,1,"ng-container",20),e.k0s()()()(),e.DNE(27,zg,4,8,"ng-container",21),e.k0s()}if(2&g){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.calculation.name),e.R7$(4),e.R50("ngModel",t.calculation.date),e.Y8G("readonlyInput",!0),e.R7$(12),e.Y8G("ngModel",t.selectedProduct)("options",t.calculation.items)("autoDisplayFirst",!1)("group",!0),e.R7$(6),e.Y8G("ngForOf",t.calculation.items),e.R7$(),e.Y8G("ngIf",t.addedProduct)}}let Qg=(()=>{class g extends w.x{constructor(t,n,C,I,i,a,s,m,c){super(c),this.route=t,this.productClient=n,this.packageTypeClient=C,this.purchaseBatchClient=I,this.purchaseBatchCommandHandlerClient=i,this.salesChannelClient=a,this.messageService=s,this.purchaseService=m,this.productSearchSubject=new ee.B,this.purchaseBatchIDSubject=new ee.B,this.products=new v.t([]),this.salesChannels=new v.t([])}get duplicateProductDialogVisible(){return!!this.addedProduct}set duplicateProductDialogVisible(t){t||(this.addedProduct=null)}ngOnInit(){this.titleService.setTitle("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0443\u043f\u043a\u0438"),this.purchaseBatchIDSubject.pipe((0,j.Q)(this.destroyed)).pipe((0,E.n)(n=>this.purchaseBatchClient.getPurchaseBatch(n).pipe((0,_.W)(C=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u043a\u0443\u043f\u043a\u0438",severity:"error",detail:C}),u.w))))).subscribe(n=>{this.calculation=n,this.titleService.setTitle(`\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0443\u043f\u043a\u0438 - ${n.name}`)}),this.productSearchSubject.pipe((0,j.Q)(this.destroyed)).pipe((0,E.n)(n=>this.productClient.findProducts(new d.D.FindProductsModel({count:10,offset:0,name:n})).pipe((0,_.W)(C=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:C}),u.w))))).subscribe(n=>{this.products.next(n.items)}),this.salesChannelClient.getSalesChannels().pipe((0,_.W)(n=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u043a\u0430\u043d\u0430\u043b\u043e\u0432 \u043f\u0440\u043e\u0434\u0430\u0436",severity:"error",detail:n}),u.w))).subscribe(n=>{this.salesChannels.next(n)});const t=+this.route.snapshot.paramMap.get("id");t>0&&t!=this.calculation?.iD?this.purchaseBatchIDSubject.next(t):this.calculation=new d.D.PurchaseBatch({date:new Date,status:d.D.PurchaseBatchStatus.Unknown,items:[],name:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043a\u0443\u043f\u043a\u0430",iD:0})}addSalesPlan(t,n){if(n){t.salesPlans||(t.salesPlans=[]);const C=this.getSalesItemProductPackage(t),I=this.getProductPackageBatchItem(C),i=new d.D.SalesPlan;i.salesChannel=n,i.salesChannelID=n.iD,i.amount=0,i.marketingBudget=0,i.deliveryCost=0,i.deliveryDate=new Date,i.status=d.D.SalesPlanStatus.InProcess,i.price=I.price+t.packagingPrice+this.getPackagePrice(t),t.salesPlans.push(i),this.salesChannelDropdown.clear(null)}}createNewSalesItem(t,n){return new d.D.SalesItem({packagingPrice:0,volume:0,salesItemPackages:[],salesPlans:[],iD:0,name:"\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0430",productPackageID:t.iD,productPackage:t,purchaseBatchItemID:n.iD})}getSalesItemProductPackage(t){return this.getProductPackageBatchItem(t.productPackage).product.packages.find(I=>I.iD==t.productPackageID)}getProductPackageBatchItem(t){return this.calculation.items.find(C=>C.productID==t.productID)}addSalesItem(t){if(t){const n=this.getProductPackageBatchItem(t),C=this.createNewSalesItem(t,n);n.salesItems.push(C),this.productPackageDropdown.clear(null)}}removeItem(t,n){t.splice(n,1)}getAvailablePackageTypes(t){const n=[],C=new Set(t.salesItemPackages.map(i=>i.packageTypeID)),I=this.purchaseService.getPackageTypes();for(const i of I)C.has(i.iD)||n.push(i);return n}addSalesItemPackage(t,n){n&&(t.salesItemPackages.push(new d.D.SalesItemPackage({packageTypeID:n.iD,amount:0,pricePerUom:n.price??0,salesItemID:t.iD})),this.packageTypeDropdown.clear(null))}getSelfCost(t,n,C,I=!0){return this.purchaseService.getSalesPlanSelfCost(t,n,C,I)}getPackagePrice(t){return this.purchaseService.getSalesItemCosts(t)}getPackageType(t){return this.purchaseService.getPackageType(t)}unassignedProductCount(t){return t.items.flatMap(C=>C.salesItems.map(I=>({item:C,format:I,assignedCount:I.salesPlans.reduce((i,a)=>i+a.amount,0)})))}findProductsByName(t){t.query.trim().length>2&&this.productSearchSubject.next(t.query)}addProduct(t){const n=t.value;if(n){this.productAutocomplete.clear();const C=this.calculation.items.find(I=>I.productID==n.iD);this.selectedProduct=null,C?this.addedProduct=n:this.calculation.items.push(new d.D.PurchaseBatchItem({productID:n.iD,count:0,product:n,purchaseBatchID:this.calculation.iD,price:0,salesItems:[],iD:0}))}}savePurchaseBatch(){this.purchaseBatchCommandHandlerClient.updatePurchaseBatch(this.calculation).pipe((0,_.W)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:t}),u.w))).subscribe(t=>{this.calculation.iD=t.iD,this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043f\u0430\u0440\u0442\u0438\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"})})}get calculationTotalProductCount(){return this.calculation.items.reduce((t,n)=>Math.round(t+n.count),0)}get calculationTotalSum(){return this.calculation.items.reduce((t,n)=>Math.round(t+n.price*n.count),0)}getUnitOfMeasureByPackageTypeID(t){const C=this.purchaseService.getPackageTypes().find(I=>I.iD==t);return C?this.getUnitOfMeasure(C.unitOfMeasure):"?"}getUnitOfMeasure(t){let n;switch(t){case d.D.UnitOfMeasure.Piece:n="\u0448\u0442";break;case d.D.UnitOfMeasure.SquareMeter:n="\u043c&sup2;";break;default:n=""}return n}static{this.\u0275fac=function(n){return new(n||g)(e.rXU(S.nX),e.rXU(d.D.ProductClient),e.rXU(d.D.PackageTypeClient),e.rXU(d.D.PurchaseBatchClient),e.rXU(R.X.PurchaseBatchClient),e.rXU(d.D.SalesChannelClient),e.rXU(p.bg),e.rXU(P),e.rXU(G.hE))}}static{this.\u0275cmp=e.VBU({type:g,selectors:[["app-purchase-editor"]],viewQuery:function(n,C){if(1&n&&(e.GBs($t,5),e.GBs(Xt,5),e.GBs(Ot,5),e.GBs(Lt,5)),2&n){let I;e.mGM(I=e.lsd())&&(C.productPackageDropdown=I.first),e.mGM(I=e.lsd())&&(C.packageTypeDropdown=I.first),e.mGM(I=e.lsd())&&(C.salesChannelDropdown=I.first),e.mGM(I=e.lsd())&&(C.productAutocomplete=I.first)}},features:[e.Vt3],decls:2,vars:1,consts:[["productPackageDropdown",""],["productAutocomplete",""],["packageTypeDropdown",""],["salesChannelDropdown",""],["class","card",4,"ngIf"],[1,"card"],[1,"p-float-label"],["id","productName","type","text","pInputText","",1,"w-full","md:w-30rem","mb-5","p-3",3,"ngModelChange","ngModel"],["for","productName",1,"font-bold"],["input","date","placeholder","\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0443\u043f\u043a\u0438","dateFormat","dd.mm.yy",3,"ngModelChange","ngModel","readonlyInput"],["for","date","dateFormat","dd.mm.yy",1,"font-bold"],[1,"mt-3"],["icon","pi pi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"click"],["styleClass","tabview-custom"],["pTemplate","header"],["pTemplate","body"],["styleClass","m-3","appendTo","body","placeholder","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0440\u0442\u0438\u043a\u0443\u043b","optionGroupChildren","product.packages",3,"onChange","ngModel","options","autoDisplayFirst","group"],["pTemplate","group"],["pTemplate","item"],["pTemplate","selectedItem"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"pi","pi-shopping-cart","pi-fw"],[3,"value",4,"ngIf"],["styleClass","mb-3","field","name","placeholder","\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u0430",3,"completeMethod","onSelect","suggestions","minLength"],[3,"value"],["pTemplate","footer"],["width","10%"],["icon","pi pi-trash",3,"click"],["pEditableColumnField","count",1,"text-right",3,"pEditableColumn"],["pTemplate","input"],["pTemplate","output"],["pEditableColumnField","price",1,"text-right",3,"pEditableColumn"],[3,"ngModelChange","useGrouping","ngModel"],[3,"ngModelChange","useGrouping","ngModel","maxFractionDigits"],["colspan","3",1,"text-right"],[1,"text-right"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-box","pi-fw"],["transitionOptions","50ms"],["pTemplate","content"],[1,"card","m-2"],["label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0438\u043f\u043e\u0444\u043e\u0440\u043c\u0430\u0442","styleClass","mb-3","icon","pi pi-trash",3,"click"],[1,"grid"],[1,"col","xs:col-12"],["for","name"],["maxlength","100","pInputText","","inputId","name",3,"ngModelChange","ngModel"],["for","volume"],[1,"p-inputgroup"],["inputId","volume",3,"ngModelChange","useGrouping","minFractionDigits","maxFractionDigits","ngModel"],[1,"p-inputgroup-addon"],["for","packagingPrice"],["inputId","packagingPrice",3,"ngModelChange","useGrouping","minFractionDigits","maxFractionDigits","ngModel"],["styleClass","m-3","appendTo","body","optionLabel","name","placeholder","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435",3,"onChange","options"],["styleClass","m-3","appendTo","body","placeholder","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u043d \u043f\u0440\u043e\u0434\u0430\u0436","optionLabel","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u043d \u043f\u0440\u043e\u0434\u0430\u0436",3,"onChange","options","autoDisplayFirst"],["icon","pi pi-trash","styleClass","p-button-sm",3,"click"],["pEditableColumnField","amount",1,"text-right",3,"pEditableColumn"],["pEditableColumnField","pricePerUom",1,"text-right",3,"pEditableColumn"],[3,"ngModelChange","useGrouping","minFractionDigits","maxFractionDigits","ngModel"],[1,"p-inputgroup-addon",3,"innerHtml"],[3,"innerHtml"],["emptyValue","empty",3,"ngModelChange","useGrouping","minFractionDigits","maxFractionDigits","ngModel"],[3,"innerHTML"],["pEditableColumn","",1,"text-right"],["pEditableColumnField","commissionAddition",1,"text-right",3,"pEditableColumn"],["pEditableColumnField","returnCost",1,"text-right",3,"pEditableColumn"],["rowspan","2"],["rowspan","2","pEditableColumnField","price",1,"text-right",3,"pEditableColumn"],["rowspan","2",1,"text-right"],["pEditableColumn",""],["rowspan","2","pEditableColumnField","marketingBudget",1,"text-right",3,"pEditableColumn"],["rowspan","2","pEditableColumnField","amount",1,"text-right",3,"pEditableColumn"],["pEditableColumnField","commissionMultiplier",1,"text-right",3,"pEditableColumn"],["pEditableColumnField","returnPercentage",1,"text-right",3,"pEditableColumn"],[3,"ngModelChange","useGrouping","ngModel","minFractionDigits","maxFractionDigits"],[3,"severity"],["inputId","deliveryCost",3,"ngModelChange","useGrouping","minFractionDigits","maxFractionDigits","ngModel"],["input","date","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u0433\u0440\u0443\u0437\u043a\u0438","appendTo","body","dateFormat","dd.mm.yy",3,"ngModelChange","ngModel","readonlyInput"],["header","\u041e\u0448\u0438\u0431\u043a\u0430",3,"visibleChange","modal","visible","draggable","resizable"],[1,"m-0"]],template:function(n,C){1&n&&(e.nrm(0,"p-toast"),e.DNE(1,Kg,28,9,"div",4)),2&n&&(e.R7$(),e.Y8G("ngIf",C.calculation))},dependencies:[o.Sq,o.bT,h.me,h.BC,h.tU,h.vS,f.XI,p.Ei,f.hp,f.c5,k.y8,x.$n,Ce,ne,oe,ae,X.S,O.YI,L.ms,U.l,le.j9,re.Vv,se.v,o.Jj,o.QX,o.vh,Yt]})}}return g})();const Wg=g=>({id:g}),Jg=g=>["/purchase","edit",g];function Zg(g,A){if(1&g&&(e.j41(0,"div",4)(1,"h5"),e.EFF(2,"\u0417\u0430\u043a\u0443\u043f\u043a\u0430"),e.k0s(),e.j41(3,"div",5)(4,"div",6)(5,"div",7)(6,"span",8),e.EFF(7,"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0443\u043f\u043a\u0438:"),e.k0s(),e.j41(8,"span"),e.EFF(9),e.k0s()(),e.j41(10,"div",7)(11,"span",8),e.EFF(12,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0437\u0438\u0446\u0438\u0439:"),e.k0s(),e.j41(13,"span"),e.EFF(14),e.k0s()(),e.j41(15,"div",7)(16,"span",8),e.EFF(17,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432:"),e.k0s(),e.j41(18,"span"),e.EFF(19),e.k0s()()()()()),2&g){const t=e.XpG(2);e.R7$(9),e.SpI("",t.batchInfo.sum,"\u20bd"),e.R7$(5),e.JRh(t.batchInfo.positionCount),e.R7$(5),e.JRh(t.batchInfo.productCount)}}function qg(g,A){if(1&g&&(e.j41(0,"div",11)(1,"div",7)(2,"div",8),e.EFF(3,"\u0422\u043e\u0432\u0430\u0440:"),e.k0s(),e.j41(4,"div"),e.EFF(5),e.k0s()(),e.j41(6,"div",7)(7,"div",8),e.EFF(8,"\u041f\u0440\u043e\u0434\u0430\u0436\u0438, \u043f\u043b\u0430\u043d:"),e.k0s(),e.j41(9,"div"),e.EFF(10),e.k0s()(),e.j41(11,"div",7)(12,"div",8),e.EFF(13,"\u041f\u0440\u043e\u0434\u0430\u0436\u0438, \u0444\u0430\u043a\u0442:"),e.k0s(),e.j41(14,"div"),e.EFF(15),e.k0s()(),e.j41(16,"div",7)(17,"div",8),e.EFF(18,"\u041f\u0440\u043e\u0434\u0430\u0436\u0438, \u043f\u043b\u0430\u043d:"),e.k0s(),e.j41(19,"div"),e.EFF(20),e.nI1(21,"number"),e.k0s()(),e.j41(22,"div",7)(23,"div",8),e.EFF(24,"\u041f\u0440\u043e\u0434\u0430\u0436\u0438, \u0444\u0430\u043a\u0442:"),e.k0s(),e.j41(25,"div"),e.EFF(26),e.nI1(27,"number"),e.k0s()(),e.j41(28,"div",7)(29,"div",8),e.EFF(30,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f, \u043f\u043b\u0430\u043d:"),e.k0s(),e.j41(31,"div"),e.EFF(32),e.nI1(33,"number"),e.k0s()(),e.j41(34,"div",7)(35,"div",8),e.EFF(36,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f, \u0444\u0430\u043a\u0442:"),e.k0s(),e.j41(37,"div"),e.EFF(38),e.nI1(39,"number"),e.k0s()(),e.j41(40,"div",7)(41,"div",8),e.EFF(42,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430, \u043f\u043b\u0430\u043d:"),e.k0s(),e.j41(43,"div"),e.EFF(44),e.nI1(45,"number"),e.k0s()(),e.j41(46,"div",7)(47,"div",8),e.EFF(48,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430, \u0444\u0430\u043a\u0442:"),e.k0s(),e.j41(49,"div"),e.EFF(50),e.nI1(51,"number"),e.k0s()(),e.j41(52,"div",7)(53,"div",8),e.EFF(54,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b, \u043f\u043b\u0430\u043d:"),e.k0s(),e.j41(55,"div"),e.EFF(56),e.k0s()(),e.j41(57,"div",7)(58,"div",8),e.EFF(59,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b, \u0444\u0430\u043a\u0442:"),e.k0s(),e.j41(60,"div"),e.EFF(61),e.k0s()(),e.j41(62,"div",7)(63,"div",8),e.EFF(64,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c, \u043f\u043b\u0430\u043d:"),e.k0s(),e.j41(65,"div"),e.EFF(66),e.nI1(67,"number"),e.k0s()(),e.j41(68,"div",7)(69,"div",8),e.EFF(70,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c, \u0444\u0430\u043a\u0442:"),e.k0s(),e.j41(71,"div"),e.EFF(72),e.nI1(73,"number"),e.k0s()()()),2&g){const t=A.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(5),e.SpI("",t.plannedAmount,"\u0448\u0442"),e.R7$(5),e.SpI("",t.soldAmount,"\u0448\u0442"),e.R7$(5),e.SpI("",e.i5U(21,13,t.plannedSum,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",e.i5U(27,16,t.soldSum,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",e.i5U(33,19,t.plannedCommissionPercent,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",e.i5U(39,22,t.commissionPercent,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",e.i5U(45,25,t.plannedCommissionAddition,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",e.i5U(51,28,t.commissionAddition,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",t.plannedReturnCount,"\u0448\u0442"),e.R7$(5),e.SpI("",t.returnCount,"\u0448\u0442"),e.R7$(5),e.SpI("",e.i5U(67,31,t.plannedProfit,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",e.i5U(73,34,t.profit,"1.2-2"),"\u20bd")}}function en(g,A){if(1&g&&(e.j41(0,"div",4)(1,"h5"),e.EFF(2),e.k0s(),e.j41(3,"div",5),e.DNE(4,qg,74,37,"div",10),e.k0s()()),2&g){const t=A.$implicit;e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.Y8G("ngForOf",t.plans)}}function tn(g,A){if(1&g&&(e.j41(0,"div",4)(1,"h4"),e.EFF(2,"\u041f\u043b\u0430\u043d\u044b \u043f\u0440\u043e\u0434\u0430\u0436"),e.k0s(),e.DNE(3,en,5,2,"div",9),e.k0s()),2&g){const t=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",t.salesInfo.salesChannels)}}function gn(g,A){if(1&g){const t=e.RV6();e.qex(0),e.j41(1,"h1"),e.EFF(2),e.k0s(),e.j41(3,"p-button",1),e.bIt("click",function(){e.eBV(t);const C=e.XpG();return e.Njj(C.calcPlans())}),e.k0s(),e.nrm(4,"p-button",2),e.DNE(5,Zg,20,3,"div",3)(6,tn,4,1,"div",3),e.bVm()}if(2&g){const t=e.XpG();e.R7$(2),e.JRh(t.batch.name),e.R7$(2),e.Y8G("routerLink",e.eq3(6,Jg,e.eq3(4,Wg,t.batch.iD))),e.R7$(),e.Y8G("ngIf",t.batchInfo),e.R7$(),e.Y8G("ngIf",t.salesInfo)}}let nn=(()=>{class g extends w.x{constructor(t,n,C){super(C),this.purchaseService=t,this.route=n,this.batchID=new v.t(null),this.salesPlanIDs=new v.t([])}ngOnInit(){this.titleService.setTitle("\u0421\u0432\u043e\u0434\u043a\u0430 \u043f\u043e \u0437\u0430\u043a\u0443\u043f\u043a\u0435");const t=+this.route.snapshot.paramMap.get("id");t>0&&this.batchID.next(t),this.batchID.pipe((0,j.Q)(this.destroyed)).pipe((0,$.p)(n=>!!n)).pipe((0,E.n)(n=>this.purchaseService.getBatch(n))).subscribe(n=>{this.batch=n,this.updateBatchInfo(),this.titleService.setTitle(`\u0421\u0432\u043e\u0434\u043a\u0430 \u043f\u043e \u0437\u0430\u043a\u0443\u043f\u043a\u0435 - ${n.name}`)}),this.salesPlanIDs.pipe((0,j.Q)(this.destroyed)).pipe((0,$.p)(n=>!!n?.length)).pipe((0,E.n)(n=>this.purchaseService.getSalesPlansSummaries(n))).subscribe(n=>{this.summaries=n,this.salesInfo=this.getSalesInfo(this.batch,n)})}updateBatchInfo(){this.batchInfo=this.batch?this.getBatchInfo(this.batch):{},this.salesInfo={},this.summaries=[],this.salesPlanIDs.next(this.batch.items.reduce((t,n)=>n.salesItems.reduce((C,I)=>I.salesPlans.reduce((i,a)=>(t.push(a.iD),t),t),t),[]))}getBatchInfo(t){const n={};return n.sum=t.items.reduce((C,I)=>C+I.count*I.price,0),n.productCount=t.items.reduce((C,I)=>C+I.count,0),n.positionCount=t.items.length,n}getSalesInfo(t,n){const C={},I=[];for(const i of t.items)for(const s of i.salesItems){this.purchaseService.getSalesItemCosts(s);for(const c of s.salesPlans){const b=n.find(J=>J.iD==c.iD);let Y=I.find(J=>J.channelID==c.salesChannelID);Y||(Y={channelID:c.salesChannelID,name:c.salesChannel.name,plans:[]},I.push(Y)),this.purchaseService.getSalesPlanSelfCost(s,c,i);const uA=this.purchaseService.getSalesPlanSelfCost(s,c,i)*c.amount,mA=this.purchaseService.getSalesItemCosts(s)*c.amount;Y.plans.push({name:s.productPackage.name+", "+s.name,plannedAmount:c.amount,soldAmount:b.salesCount,plannedSum:c.price*c.amount,soldSum:b.salesSum,plannedCommissionAddition:-c.commissionAddition*c.amount,plannedCommissionPercent:-Math.ceil(c.amount*c.price*c.commissionMultiplier/100),commissionAddition:b.commissionAddition,commissionPercent:b.commissionPercent,plannedReturnCount:Math.ceil(c.amount*c.returnPercentage/100),returnCount:b.returnCount,plannedProfit:c.amount*c.price-uA-c.deliveryCost,profit:b.salesSum-b.returnSum+b.commissionPercent+b.commissionAddition-mA-c.deliveryCost-i.count*i.price})}}return C.salesChannels=I,C}calcPlans(){this.purchaseService.calcPlans()}static{this.\u0275fac=function(n){return new(n||g)(e.rXU(P),e.rXU(S.nX),e.rXU(G.hE))}}static{this.\u0275cmp=e.VBU({type:g,selectors:[["app-purchase-summary"]],inputs:{batchID:"batchID"},features:[e.Jv_([{provide:h.kq,useExisting:(0,e.Rfq)(()=>g),multi:!0}]),e.Vt3],decls:1,vars:1,consts:[[4,"ngIf"],["styleClass","mb-3","label","\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"click"],["styleClass","mb-3","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043a\u0443\u043f\u043a\u0443",3,"routerLink"],["class","card",4,"ngIf"],[1,"card"],[1,"grid"],[1,"col-12","md:col-6","xl:col-4"],[1,"flex","justify-content-between"],[1,"font-bold","text-900"],["class","card",4,"ngFor","ngForOf"],["class","col-6 md:col-12 xl:col-4",4,"ngFor","ngForOf"],[1,"col-6","md:col-12","xl:col-4"]],template:function(n,C){1&n&&e.DNE(0,gn,7,8,"ng-container",0),2&n&&e.Y8G("ngIf",C.batch)},dependencies:[o.Sq,o.bT,x.$n,S.Wk,o.QX]})}}return g})();var Cn=l(152),In=l(3294),ce=l(2356),H=l(9071),pe=l(3306),de=l(5434),_e=l(6018),B=l(5998),z=l(8757);const ue=g=>({"p-treenode-droppoint-active":g}),An=(g,A)=>["p-treenode",g,A],me=g=>({height:g}),an=g=>({"padding-left":g}),on=(g,A,t)=>({"p-treenode-selectable":g,"p-treenode-dragover":A,"p-highlight":t}),V=g=>({$implicit:g}),ln=(g,A)=>({"p-checkbox-disabled p-disabled":g,"p-variant-filled":A}),rn=(g,A)=>({"p-highlight":g,"p-indeterminate":A}),sn=(g,A)=>({$implicit:g,partialSelected:A}),he=g=>({display:g}),cn=g=>({"p-treenode-collapsed":g}),pn=(g,A)=>({"p-treenode-selectable":g,"p-highlight":A}),fe=g=>({"p-treenode-connector-line":g});function dn(g,A){if(1&g){const t=e.RV6();e.j41(0,"li",4),e.bIt("drop",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDropPoint(C,-1))})("dragover",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDropPointDragOver(C))})("dragenter",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDropPointDragEnter(C,-1))})("dragleave",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDropPointDragLeave(C))}),e.k0s()}if(2&g){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(2,ue,t.draghoverPrev)),e.BMQ("aria-hidden",!0)}}function _n(g,A){1&g&&e.nrm(0,"ChevronRightIcon",14),2&g&&e.Y8G("styleClass","p-tree-toggler-icon")}function un(g,A){1&g&&e.nrm(0,"ChevronDownIcon",14),2&g&&e.Y8G("styleClass","p-tree-toggler-icon")}function mn(g,A){if(1&g&&(e.qex(0),e.DNE(1,_n,1,1,"ChevronRightIcon",13)(2,un,1,1,"ChevronDownIcon",13),e.bVm()),2&g){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",!t.node.expanded),e.R7$(),e.Y8G("ngIf",t.node.expanded)}}function hn(g,A){1&g&&(e.qex(0),e.nrm(1,"SpinnerIcon",15),e.bVm()),2&g&&(e.R7$(),e.Y8G("spin",!0)("styleClass","p-tree-node-toggler-icon"))}function fn(g,A){if(1&g&&(e.qex(0),e.DNE(1,mn,3,2,"ng-container",8)(2,hn,2,2,"ng-container",8),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",!t.node.loading),e.R7$(),e.Y8G("ngIf","icon"===t.loadingMode&&t.node.loading)}}function bn(g,A){}function Tn(g,A){1&g&&e.DNE(0,bn,0,0,"ng-template")}function vn(g,A){if(1&g&&(e.j41(0,"span",16),e.DNE(1,Tn,1,0,null,17),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",t.tree.togglerIconTemplate)("ngTemplateOutletContext",e.eq3(2,V,t.node.expanded))}}function yn(g,A){1&g&&e.nrm(0,"CheckIcon",14),2&g&&e.Y8G("styleClass","p-checkbox-icon")}function xn(g,A){1&g&&e.nrm(0,"MinusIcon",14),2&g&&e.Y8G("styleClass","p-checkbox-icon")}function Sn(g,A){if(1&g&&(e.qex(0),e.DNE(1,yn,1,1,"CheckIcon",13)(2,xn,1,1,"MinusIcon",13),e.bVm()),2&g){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",!t.node.partialSelected&&t.isSelected()),e.R7$(),e.Y8G("ngIf",t.node.partialSelected)}}function En(g,A){}function kn(g,A){1&g&&e.DNE(0,En,0,0,"ng-template")}function Nn(g,A){if(1&g&&(e.j41(0,"div",18)(1,"div",19),e.DNE(2,Sn,3,2,"ng-container",8)(3,kn,1,0,null,17),e.k0s()()),2&g){const t=e.XpG(3);e.Y8G("ngClass",e.l_i(5,ln,!1===t.node.selectable,"filled"===(null==t.tree?null:t.tree.config.inputStyle()))),e.R7$(),e.Y8G("ngClass",e.l_i(8,rn,t.isSelected(),t.node.partialSelected)),e.R7$(),e.Y8G("ngIf",!t.tree.checkboxIconTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",t.tree.checkboxIconTemplate)("ngTemplateOutletContext",e.l_i(11,sn,t.isSelected(),t.node.partialSelected))}}function Dn(g,A){if(1&g&&e.nrm(0,"span"),2&g){const t=e.XpG(3);e.HbH(t.getIcon())}}function Gn(g,A){if(1&g&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.JRh(t.node.label)}}function Fn(g,A){1&g&&e.eu8(0)}function wn(g,A){if(1&g&&(e.j41(0,"span"),e.DNE(1,Fn,1,0,"ng-container",17),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",t.tree.getTemplateForNode(t.node))("ngTemplateOutletContext",e.eq3(2,V,t.node))}}function jn(g,A){if(1&g&&e.nrm(0,"p-treeNode",22),2&g){const t=A.$implicit,n=A.first,C=A.last,I=A.index,i=e.XpG(4);e.Y8G("node",t)("parentNode",i.node)("firstChild",n)("lastChild",C)("index",I)("itemSize",i.itemSize)("level",i.level+1)("loadingMode",i.loadingMode)}}function Rn(g,A){if(1&g&&(e.j41(0,"ul",20),e.DNE(1,jn,1,8,"p-treeNode",21),e.k0s()),2&g){const t=e.XpG(3);e.Y8G("ngStyle",e.eq3(3,he,t.node.expanded?"block":"none")),e.R7$(),e.Y8G("ngForOf",t.node.children)("ngForTrackBy",t.tree.trackBy)}}function Pn(g,A){if(1&g){const t=e.RV6();e.j41(0,"li",5),e.bIt("keydown",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onKeyDown(C))}),e.j41(1,"div",6),e.bIt("click",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onNodeClick(C))})("contextmenu",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onNodeRightClick(C))})("touchend",function(){e.eBV(t);const C=e.XpG(2);return e.Njj(C.onNodeTouchEnd())})("drop",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDropNode(C))})("dragover",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDropNodeDragOver(C))})("dragenter",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDropNodeDragEnter(C))})("dragleave",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDropNodeDragLeave(C))})("dragstart",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDragStart(C))})("dragend",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDragStop(C))}),e.j41(2,"button",7),e.bIt("click",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.toggle(C))}),e.DNE(3,fn,3,2,"ng-container",8)(4,vn,2,4,"span",9),e.k0s(),e.DNE(5,Nn,4,14,"div",10)(6,Dn,1,2,"span",3),e.j41(7,"span",11),e.DNE(8,Gn,2,1,"span",8)(9,wn,2,4,"span",8),e.k0s()(),e.DNE(10,Rn,2,5,"ul",12),e.k0s()}if(2&g){const t=e.XpG(2);e.Aen(t.node.style),e.Y8G("ngClass",e.l_i(24,An,t.node.styleClass||"",t.isLeaf()?"p-treenode-leaf":""))("ngStyle",e.eq3(27,me,t.itemSize+"px")),e.BMQ("aria-label",t.node.label)("aria-checked",t.ariaChecked)("aria-setsize",t.node.children?t.node.children.length:0)("aria-selected",t.ariaSelected)("aria-expanded",t.node.expanded)("aria-posinset",t.index+1)("aria-level",t.level+1)("tabindex",0===t.index?0:-1)("data-id",t.node.key),e.R7$(),e.Y8G("ngStyle",e.eq3(29,an,t.level*t.indentation+"rem"))("draggable",t.tree.draggableNodes)("ngClass",e.sMw(31,on,t.tree.selectionMode&&!1!==t.node.selectable,t.draghoverNode,t.isSelected())),e.R7$(),e.BMQ("data-pc-section","toggler"),e.R7$(),e.Y8G("ngIf",!t.tree.togglerIconTemplate),e.R7$(),e.Y8G("ngIf",t.tree.togglerIconTemplate),e.R7$(),e.Y8G("ngIf","checkbox"==t.tree.selectionMode),e.R7$(),e.Y8G("ngIf",t.node.icon||t.node.expandedIcon||t.node.collapsedIcon),e.R7$(2),e.Y8G("ngIf",!t.tree.getTemplateForNode(t.node)),e.R7$(),e.Y8G("ngIf",t.tree.getTemplateForNode(t.node)),e.R7$(),e.Y8G("ngIf",!t.tree.virtualScroll&&t.node.children&&t.node.expanded)}}function Mn(g,A){if(1&g){const t=e.RV6();e.j41(0,"li",4),e.bIt("drop",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDropPoint(C,1))})("dragover",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDropPointDragOver(C))})("dragenter",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDropPointDragEnter(C,1))})("dragleave",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onDropPointDragLeave(C))}),e.k0s()}if(2&g){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(2,ue,t.draghoverNext)),e.BMQ("aria-hidden",!0)}}function Bn(g,A){if(1&g&&(e.j41(0,"td",28)(1,"table",29)(2,"tbody")(3,"tr"),e.nrm(4,"td",30),e.k0s(),e.j41(5,"tr"),e.nrm(6,"td",30),e.k0s()()()()),2&g){const t=e.XpG(3);e.R7$(4),e.Y8G("ngClass",e.eq3(2,fe,!t.firstChild)),e.R7$(2),e.Y8G("ngClass",e.eq3(4,fe,!t.lastChild))}}function Vn(g,A){if(1&g&&e.nrm(0,"PlusIcon",33),2&g){const t=e.XpG(5);e.Y8G("styleClass","p-tree-toggler-icon")("ariaLabel",t.tree.togglerAriaLabel)}}function Yn(g,A){if(1&g&&e.nrm(0,"MinusIcon",33),2&g){const t=e.XpG(5);e.Y8G("styleClass","p-tree-toggler-icon")("ariaLabel",t.tree.togglerAriaLabel)}}function $n(g,A){if(1&g&&(e.qex(0),e.DNE(1,Vn,1,2,"PlusIcon",32)(2,Yn,1,2,"MinusIcon",32),e.bVm()),2&g){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",!t.node.expanded),e.R7$(),e.Y8G("ngIf",t.node.expanded)}}function Xn(g,A){}function On(g,A){1&g&&e.DNE(0,Xn,0,0,"ng-template")}function Ln(g,A){if(1&g&&(e.j41(0,"span",16),e.DNE(1,On,1,0,null,17),e.k0s()),2&g){const t=e.XpG(4);e.R7$(),e.Y8G("ngTemplateOutlet",t.tree.togglerIconTemplate)("ngTemplateOutletContext",e.eq3(2,V,t.node.expanded))}}function Un(g,A){if(1&g){const t=e.RV6();e.j41(0,"span",31),e.bIt("click",function(C){e.eBV(t);const I=e.XpG(3);return e.Njj(I.toggle(C))}),e.DNE(1,$n,3,2,"ng-container",8)(2,Ln,2,4,"span",9),e.k0s()}if(2&g){const t=e.XpG(3);e.Y8G("ngClass","p-tree-toggler"),e.R7$(),e.Y8G("ngIf",!t.tree.togglerIconTemplate),e.R7$(),e.Y8G("ngIf",t.tree.togglerIconTemplate)}}function Hn(g,A){if(1&g&&e.nrm(0,"span"),2&g){const t=e.XpG(3);e.HbH(t.getIcon())}}function zn(g,A){if(1&g&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.JRh(t.node.label)}}function Kn(g,A){1&g&&e.eu8(0)}function Qn(g,A){if(1&g&&(e.j41(0,"span"),e.DNE(1,Kn,1,0,"ng-container",17),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",t.tree.getTemplateForNode(t.node))("ngTemplateOutletContext",e.eq3(2,V,t.node))}}function Wn(g,A){if(1&g&&e.nrm(0,"p-treeNode",37),2&g){const n=A.first,C=A.last;e.Y8G("node",A.$implicit)("firstChild",n)("lastChild",C)}}function Jn(g,A){if(1&g&&(e.j41(0,"td",34)(1,"div",35),e.DNE(2,Wn,1,3,"p-treeNode",36),e.k0s()()),2&g){const t=e.XpG(3);e.Y8G("ngStyle",e.eq3(3,he,t.node.expanded?"table-cell":"none")),e.R7$(2),e.Y8G("ngForOf",t.node.children)("ngForTrackBy",t.tree.trackBy)}}function Zn(g,A){if(1&g){const t=e.RV6();e.j41(0,"table")(1,"tbody")(2,"tr"),e.DNE(3,Bn,7,6,"td",23),e.j41(4,"td",24)(5,"div",25),e.bIt("click",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onNodeClick(C))})("contextmenu",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onNodeRightClick(C))})("touchend",function(){e.eBV(t);const C=e.XpG(2);return e.Njj(C.onNodeTouchEnd())})("keydown",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onNodeKeydown(C))}),e.DNE(6,Un,3,3,"span",26)(7,Hn,1,2,"span",3),e.j41(8,"span",11),e.DNE(9,zn,2,1,"span",8)(10,Qn,2,4,"span",8),e.k0s()()(),e.DNE(11,Jn,3,5,"td",27),e.k0s()()()}if(2&g){const t=e.XpG(2);e.HbH(t.node.styleClass),e.R7$(3),e.Y8G("ngIf",!t.root),e.R7$(),e.Y8G("ngClass",e.eq3(10,cn,!t.node.expanded)),e.R7$(),e.Y8G("ngClass",e.l_i(12,pn,t.tree.selectionMode,t.isSelected())),e.R7$(),e.Y8G("ngIf",!t.isLeaf()),e.R7$(),e.Y8G("ngIf",t.node.icon||t.node.expandedIcon||t.node.collapsedIcon),e.R7$(2),e.Y8G("ngIf",!t.tree.getTemplateForNode(t.node)),e.R7$(),e.Y8G("ngIf",t.tree.getTemplateForNode(t.node)),e.R7$(),e.Y8G("ngIf",t.node.children&&t.node.expanded)}}function qn(g,A){if(1&g&&e.DNE(0,dn,1,4,"li",1)(1,Pn,11,35,"li",2)(2,Mn,1,4,"li",1)(3,Zn,12,15,"table",3),2&g){const t=e.XpG();e.Y8G("ngIf",t.tree.droppableNodes),e.R7$(),e.Y8G("ngIf",!t.tree.horizontal),e.R7$(),e.Y8G("ngIf",t.tree.droppableNodes&&t.lastChild),e.R7$(),e.Y8G("ngIf",t.tree.horizontal)}}const eC=["filter"],tC=["scroller"],gC=["wrapper"],nC=(g,A,t,n)=>({"p-tree p-component":!0,"p-tree-selectable":g,"p-treenode-dragover":A,"p-tree-loading":t,"p-tree-flex-scrollable":n}),CC=g=>({options:g}),IC=g=>({"max-height":g}),AC=g=>({"p-tree p-tree-horizontal p-component":!0,"p-tree-selectable":g});function iC(g,A){if(1&g&&e.nrm(0,"i"),2&g){const t=e.XpG(3);e.HbH("p-tree-loading-icon pi-spin "+t.loadingIcon)}}function aC(g,A){1&g&&e.nrm(0,"SpinnerIcon",17),2&g&&e.Y8G("spin",!0)("styleClass","p-tree-loading-icon")}function oC(g,A){}function lC(g,A){1&g&&e.DNE(0,oC,0,0,"ng-template")}function rC(g,A){if(1&g&&(e.j41(0,"span",18),e.DNE(1,lC,1,0,null,9),e.k0s()),2&g){const t=e.XpG(4);e.R7$(),e.Y8G("ngTemplateOutlet",t.loadingIconTemplate)}}function sC(g,A){if(1&g&&(e.qex(0),e.DNE(1,aC,1,2,"SpinnerIcon",15)(2,rC,2,1,"span",16),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",!t.loadingIconTemplate),e.R7$(),e.Y8G("ngIf",t.loadingIconTemplate)}}function cC(g,A){if(1&g&&(e.j41(0,"div",13),e.DNE(1,iC,1,2,"i",14)(2,sC,3,2,"ng-container",11),e.k0s()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.loadingIcon),e.R7$(),e.Y8G("ngIf",!t.loadingIcon)}}function pC(g,A){1&g&&e.eu8(0)}function dC(g,A){1&g&&e.nrm(0,"SearchIcon",23),2&g&&e.Y8G("styleClass","p-tree-filter-icon")}function _C(g,A){}function uC(g,A){1&g&&e.DNE(0,_C,0,0,"ng-template")}function mC(g,A){if(1&g&&(e.j41(0,"span",24),e.DNE(1,uC,1,0,null,9),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",t.filterIconTemplate)}}function hC(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",19)(1,"input",20,0),e.bIt("keydown.enter",function(C){return e.eBV(t),e.Njj(C.preventDefault())})("input",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I._filter(C.target.value))}),e.k0s(),e.DNE(3,dC,1,1,"SearchIcon",21)(4,mC,2,1,"span",22),e.k0s()}if(2&g){const t=e.XpG(2);e.R7$(),e.BMQ("placeholder",t.filterPlaceholder),e.R7$(2),e.Y8G("ngIf",!t.filterIconTemplate),e.R7$(),e.Y8G("ngIf",t.filterIconTemplate)}}function fC(g,A){if(1&g&&e.nrm(0,"p-treeNode",31,2),2&g){const t=A.$implicit,n=A.first,C=e.XpG(2).options,I=e.XpG(4);e.Y8G("level",t.level)("rowNode",t)("node",t.node)("parentNode",t.parent)("firstChild",n)("lastChild",t.lastChild)("index",t.index)("itemSize",C.itemSize)("indentation",I.indentation)("loadingMode",I.loadingMode)}}function bC(g,A){if(1&g&&(e.j41(0,"ul",29),e.DNE(1,fC,2,10,"p-treeNode",30),e.k0s()),2&g){const t=e.XpG(),n=t.$implicit,C=t.options,I=e.XpG(4);e.Aen(C.contentStyle),e.Y8G("ngClass",C.contentStyleClass),e.BMQ("aria-label",I.ariaLabel)("aria-labelledby",I.ariaLabelledBy),e.R7$(),e.Y8G("ngForOf",n)("ngForTrackBy",I.trackBy)}}function TC(g,A){1&g&&e.DNE(0,bC,2,7,"ul",28),2&g&&e.Y8G("ngIf",A.$implicit)}function vC(g,A){1&g&&e.eu8(0)}function yC(g,A){if(1&g&&e.DNE(0,vC,1,0,"ng-container",33),2&g){const t=A.options,n=e.XpG(5);e.Y8G("ngTemplateOutlet",n.loaderTemplate)("ngTemplateOutletContext",e.eq3(2,CC,t))}}function xC(g,A){1&g&&(e.qex(0),e.DNE(1,yC,1,4,"ng-template",32),e.bVm())}function SC(g,A){if(1&g){const t=e.RV6();e.j41(0,"p-scroller",26,1),e.bIt("onScroll",function(C){e.eBV(t);const I=e.XpG(3);return e.Njj(I.onScroll.emit(C))})("onScrollIndexChange",function(C){e.eBV(t);const I=e.XpG(3);return e.Njj(I.onScrollIndexChange.emit(C))})("onLazyLoad",function(C){e.eBV(t);const I=e.XpG(3);return e.Njj(I.onLazyLoad.emit(C))}),e.DNE(2,TC,1,1,"ng-template",27)(3,xC,2,0,"ng-container",11),e.k0s()}if(2&g){const t=e.XpG(3);e.Aen(e.eq3(9,me,"flex"!==t.scrollHeight?t.scrollHeight:void 0)),e.Y8G("items",t.serializedValue)("tabindex",-1)("scrollHeight","flex"!==t.scrollHeight?void 0:"100%")("itemSize",t.virtualScrollItemSize||t._virtualNodeHeight)("lazy",t.lazy)("options",t.virtualScrollOptions),e.R7$(3),e.Y8G("ngIf",t.loaderTemplate)}}function EC(g,A){if(1&g&&e.nrm(0,"p-treeNode",38),2&g){const t=A.$implicit,n=A.first,C=A.last,I=A.index,i=e.XpG(5);e.Y8G("node",t)("firstChild",n)("lastChild",C)("index",I)("level",0)("loadingMode",i.loadingMode)}}function kC(g,A){if(1&g&&(e.j41(0,"ul",36),e.DNE(1,EC,1,6,"p-treeNode",37),e.k0s()),2&g){const t=e.XpG(4);e.BMQ("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy),e.R7$(),e.Y8G("ngForOf",t.getRootNode())("ngForTrackBy",t.trackBy)}}function NC(g,A){if(1&g&&(e.qex(0),e.j41(1,"div",34,3),e.DNE(3,kC,2,4,"ul",35),e.k0s(),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngStyle",e.eq3(2,IC,t.scrollHeight)),e.R7$(2),e.Y8G("ngIf",t.getRootNode())}}function DC(g,A){if(1&g&&(e.qex(0),e.DNE(1,SC,4,11,"p-scroller",25)(2,NC,4,4,"ng-container",11),e.bVm()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.virtualScroll),e.R7$(),e.Y8G("ngIf",!t.virtualScroll)}}function GC(g,A){if(1&g&&(e.qex(0),e.EFF(1),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.emptyMessageLabel," ")}}function FC(g,A){1&g&&e.eu8(0,null,4)}function wC(g,A){if(1&g&&(e.j41(0,"div",39),e.DNE(1,GC,2,1,"ng-container",40)(2,FC,2,0,"ng-container",9),e.k0s()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.emptyMessageTemplate)("ngIfElse",t.emptyFilter),e.R7$(),e.Y8G("ngTemplateOutlet",t.emptyMessageTemplate)}}function jC(g,A){1&g&&e.eu8(0)}function RC(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",7),e.bIt("drop",function(C){e.eBV(t);const I=e.XpG();return e.Njj(I.onDrop(C))})("dragover",function(C){e.eBV(t);const I=e.XpG();return e.Njj(I.onDragOver(C))})("dragenter",function(){e.eBV(t);const C=e.XpG();return e.Njj(C.onDragEnter())})("dragleave",function(C){e.eBV(t);const I=e.XpG();return e.Njj(I.onDragLeave(C))}),e.DNE(1,cC,3,2,"div",8)(2,pC,1,0,"ng-container",9)(3,hC,5,3,"div",10)(4,DC,3,2,"ng-container",11)(5,wC,3,3,"div",12)(6,jC,1,0,"ng-container",9),e.k0s()}if(2&g){let t;const n=e.XpG();e.HbH(n.styleClass),e.Y8G("ngClass",e.ziG(10,nC,n.selectionMode,n.dragHover,n.loading,"flex"===n.scrollHeight))("ngStyle",n.style),e.R7$(),e.Y8G("ngIf",n.loading&&"mask"===n.loadingMode),e.R7$(),e.Y8G("ngTemplateOutlet",n.headerTemplate),e.R7$(),e.Y8G("ngIf",n.filter),e.R7$(),e.Y8G("ngIf",null==(t=n.getRootNode())?null:t.length),e.R7$(),e.Y8G("ngIf",!n.loading&&(null==n.getRootNode()||0===n.getRootNode().length)),e.R7$(),e.Y8G("ngTemplateOutlet",n.footerTemplate)}}function PC(g,A){1&g&&e.eu8(0)}function MC(g,A){if(1&g&&e.nrm(0,"i"),2&g){const t=e.XpG(3);e.HbH("p-tree-loading-icon pi-spin "+t.loadingIcon)}}function BC(g,A){1&g&&e.nrm(0,"SpinnerIcon",17),2&g&&e.Y8G("spin",!0)("styleClass","p-tree-loading-icon")}function VC(g,A){}function YC(g,A){1&g&&e.DNE(0,VC,0,0,"ng-template")}function $C(g,A){if(1&g&&(e.j41(0,"span",18),e.DNE(1,YC,1,0,null,9),e.k0s()),2&g){const t=e.XpG(4);e.R7$(),e.Y8G("ngTemplateOutlet",t.loadingIconTemplate)}}function XC(g,A){if(1&g&&(e.qex(0),e.DNE(1,BC,1,2,"SpinnerIcon",15)(2,$C,2,1,"span",16),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",!t.loadingIconTemplate),e.R7$(),e.Y8G("ngIf",t.loadingIconTemplate)}}function OC(g,A){if(1&g&&(e.j41(0,"div",43),e.DNE(1,MC,1,2,"i",14)(2,XC,3,2,"ng-container",11),e.k0s()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.loadingIcon),e.R7$(),e.Y8G("ngIf",!t.loadingIcon)}}function LC(g,A){if(1&g&&(e.j41(0,"table"),e.nrm(1,"p-treeNode",44),e.k0s()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("node",t.value[0])("root",!0)}}function UC(g,A){if(1&g&&(e.qex(0),e.EFF(1),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.emptyMessageLabel," ")}}function HC(g,A){1&g&&e.eu8(0,null,4)}function zC(g,A){if(1&g&&(e.j41(0,"div",39),e.DNE(1,UC,2,1,"ng-container",40)(2,HC,2,0,"ng-container",9),e.k0s()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.emptyMessageTemplate)("ngIfElse",t.emptyFilter),e.R7$(),e.Y8G("ngTemplateOutlet",t.emptyMessageTemplate)}}function KC(g,A){1&g&&e.eu8(0)}function QC(g,A){if(1&g&&(e.j41(0,"div",41),e.DNE(1,PC,1,0,"ng-container",9)(2,OC,3,2,"div",42)(3,LC,2,2,"table",11)(4,zC,3,3,"div",12)(5,KC,1,0,"ng-container",9),e.k0s()),2&g){const t=e.XpG();e.HbH(t.styleClass),e.Y8G("ngClass",e.eq3(9,AC,t.selectionMode))("ngStyle",t.style),e.R7$(),e.Y8G("ngTemplateOutlet",t.headerTemplate),e.R7$(),e.Y8G("ngIf",t.loading),e.R7$(),e.Y8G("ngIf",t.value&&t.value[0]),e.R7$(),e.Y8G("ngIf",!t.loading&&(null==t.getRootNode()||0===t.getRootNode().length)),e.R7$(),e.Y8G("ngTemplateOutlet",t.footerTemplate)}}let WC=(()=>{class g{static ICON_CLASS="p-treenode-icon ";rowNode;node;parentNode;root;index;firstChild;lastChild;level;indentation;itemSize;loadingMode;tree;timeout;draghoverPrev;draghoverNext;draghoverNode;get ariaSelected(){return"single"===this.tree.selectionMode||"multiple"===this.tree.selectionMode?this.isSelected():void 0}get ariaChecked(){return"checkbox"===this.tree.selectionMode?this.isSelected():void 0}constructor(t){this.tree=t}ngOnInit(){this.node.parent=this.parentNode;const n=this.tree.el.nativeElement.closest("p-dialog");this.parentNode&&!n&&(this.setAllNodesTabIndexes(),this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value)))}getIcon(){let t;return t=this.node.icon?this.node.icon:this.node.expanded&&this.node.children&&this.node.children?.length?this.node.expandedIcon:this.node.collapsedIcon,g.ICON_CLASS+" "+t}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(t){this.node.expanded?this.collapse(t):this.expand(t),t.stopPropagation()}expand(t){this.node.expanded=!0,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeExpand.emit({originalEvent:t,node:this.node})}collapse(t){this.node.expanded=!1,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeCollapse.emit({originalEvent:t,node:this.node})}onNodeClick(t){this.tree.onNodeClick(t,this.node)}onNodeKeydown(t){"Enter"===t.key&&this.tree.onNodeClick(t,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(t){this.tree.onNodeRightClick(t,this.node)}isSelected(){return this.tree.isSelected(this.node)}isSameNode(t){return t.currentTarget&&(t.currentTarget.isSameNode(t.target)||t.currentTarget.isSameNode(t.target.closest('[role="treeitem"]')))}onDropPoint(t,n){t.preventDefault();let C=this.tree.dragNode,a=this.tree.dragNodeTree!==this.tree||1===n||this.tree.dragNodeIndex!==this.index-1;if(this.tree.allowDrop(C,this.node,this.tree.dragNodeScope,"between")&&a){let s={...this.createDropPointEventMetadata(n)};this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:t,dragNode:C,dropNode:this.node,dropPoint:"between",index:this.index,accept:()=>{this.processPointDrop(s)}}):(this.processPointDrop(s),this.tree.onNodeDrop.emit({originalEvent:t,dragNode:C,dropNode:this.node,dropPoint:"between",index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(t){let n=t.dropNode.parent?t.dropNode.parent.children:this.tree.value;t.dragNodeSubNodes.splice(t.dragNodeIndex,1);let C=this.index;t.position<0?(C=t.dragNodeSubNodes===n?t.dragNodeIndex>t.index?t.index:t.index-1:t.index,n.splice(C,0,t.dragNode)):(C=n.length,n.push(t.dragNode)),this.tree.dragDropService.stopDrag({node:t.dragNode,subNodes:t.dropNode.parent?t.dropNode.parent.children:this.tree.value,index:t.dragNodeIndex})}createDropPointEventMetadata(t){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:t}}onDropPointDragOver(t){t.dataTransfer.dropEffect="move",t.preventDefault()}onDropPointDragEnter(t,n){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope,"between")&&(n<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(t){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(t){this.tree.draggableNodes&&!1!==this.node.draggable?(t.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):t.preventDefault()}onDragStop(t){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(t){t.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(t.preventDefault(),t.stopPropagation())}onDropNode(t){if(this.tree.droppableNodes&&!1!==this.node?.droppable){let n=this.tree.dragNode;if(this.tree.allowDrop(n,this.node,this.tree.dragNodeScope)){let C={...this.createDropNodeEventMetadata()};this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:t,dragNode:n,dropNode:this.node,dropPoint:"node",index:this.index,accept:()=>{this.processNodeDrop(C)}}):(this.processNodeDrop(C),this.tree.onNodeDrop.emit({originalEvent:t,dragNode:n,dropNode:this.node,dropPoint:"node",index:this.index}))}}t.preventDefault(),t.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(t){let n=t.dragNodeIndex;t.dragNodeSubNodes.splice(n,1),t.dropNode.children?t.dropNode.children.push(t.dragNode):t.dropNode.children=[t.dragNode],this.tree.dragDropService.stopDrag({node:t.dragNode,subNodes:t.dropNode.parent?t.dropNode.parent.children:this.tree.value,index:n})}onDropNodeDragEnter(t){this.tree.droppableNodes&&!1!==this.node?.droppable&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(t){if(this.tree.droppableNodes){let n=t.currentTarget.getBoundingClientRect();(t.x>n.left+n.width||t.x<n.left||t.y>=Math.floor(n.top+n.height)||t.y<n.top)&&(this.draghoverNode=!1)}}onKeyDown(t){if(this.isSameNode(t)&&(!this.tree.contextMenu||"block"!==this.tree.contextMenu.containerViewChild?.nativeElement.style.display))switch(t.code){case"ArrowDown":this.onArrowDown(t);break;case"ArrowUp":this.onArrowUp(t);break;case"ArrowRight":this.onArrowRight(t);break;case"ArrowLeft":this.onArrowLeft(t);break;case"Enter":case"NumpadEnter":this.onEnter(t);break;case"Space":const n=t.target instanceof HTMLElement&&t.target.nodeName;["INPUT"].includes(n)||this.onEnter(t);break;case"Tab":this.setAllNodesTabIndexes()}}onArrowUp(t){const n="toggler"===t.target.getAttribute("data-pc-section")?t.target.closest('[role="treeitem"]'):t.target.parentElement;if(n.previousElementSibling)this.focusRowChange(n,n.previousElementSibling,this.findLastVisibleDescendant(n.previousElementSibling));else{let C=this.getParentNodeElement(n);C&&this.focusRowChange(n,C)}t.preventDefault()}onArrowDown(t){const n="toggler"===t.target.getAttribute("data-pc-section")?t.target.closest('[role="treeitem"]'):t.target,C=n.children[1];if(C&&C.children.length>0)this.focusRowChange(n,C.children[0]);else if(n.parentElement.nextElementSibling)this.focusRowChange(n,n.parentElement.nextElementSibling);else{let I=this.findNextSiblingOfAncestor(n.parentElement);I&&this.focusRowChange(n,I)}t.preventDefault()}onArrowRight(t){!this.node?.expanded&&!this.tree.isNodeLeaf(this.node)&&(this.expand(t),t.currentTarget.tabIndex=-1,setTimeout(()=>{this.onArrowDown(t)},1)),t.preventDefault()}onArrowLeft(t){const n="toggler"===t.target.getAttribute("data-pc-section")?t.target.closest('[role="treeitem"]'):t.target;if(0===this.level&&!this.node?.expanded)return!1;if(this.node?.expanded)return void this.collapse(t);let C=this.getParentNodeElement(n.parentElement);C&&this.focusRowChange(t.currentTarget,C),t.preventDefault()}isActionableElement(t){const n=t.target;return n instanceof HTMLElement&&("A"==n.nodeName||"BUTTON"==n.nodeName)}onEnter(t){this.tree.onNodeClick(t,this.node),this.setTabIndexForSelectionMode(t,this.tree.nodeTouched),this.isActionableElement(t)||t.preventDefault()}setAllNodesTabIndexes(){const t=r.D.find(this.tree.el.nativeElement,".p-treenode"),n=[...t].some(C=>"true"===C.getAttribute("aria-selected")||"true"===C.getAttribute("aria-checked"));[...t].forEach(C=>{C.tabIndex=-1}),n?[...t].filter(I=>"true"===I.getAttribute("aria-selected")||"true"===I.getAttribute("aria-checked"))[0].tabIndex=0:[...t][0].tabIndex=0}setTabIndexForSelectionMode(t,n){if(null!==this.tree.selectionMode){const C=[...r.D.find(this.tree.el.nativeElement,".p-treenode")];t.currentTarget.tabIndex=!1===n?-1:0,C.every(I=>-1===I.tabIndex)&&(C[0].tabIndex=0)}}findNextSiblingOfAncestor(t){let n=this.getParentNodeElement(t);return n?n.nextElementSibling?n.nextElementSibling:this.findNextSiblingOfAncestor(n):null}findLastVisibleDescendant(t){const C=Array.from(t.children).find(I=>r.D.hasClass(I,"p-treenode")).children[1];return C&&C.children.length>0?this.findLastVisibleDescendant(C.children[C.children.length-1]):t}getParentNodeElement(t){const n=t.parentElement?.parentElement?.parentElement;return"P-TREENODE"===n?.tagName?n:null}focusNode(t){this.tree.droppableNodes?t.children[1].focus():t.children[0].focus()}focusRowChange(t,n,C){t.tabIndex="-1",n.children[0].tabIndex="0",this.focusNode(C||n)}focusVirtualNode(){this.timeout=setTimeout(()=>{let t=r.D.findSingle(document.body,`[data-id="${this.node?.key??this.node?.data}"]`);r.D.focus(t)},1)}static \u0275fac=function(n){return new(n||g)(e.rXU((0,e.Rfq)(()=>K)))};static \u0275cmp=e.VBU({type:g,selectors:[["p-treeNode"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:[2,"root","root",e.L39],index:[2,"index","index",e.Udg],firstChild:[2,"firstChild","firstChild",e.L39],lastChild:[2,"lastChild","lastChild",e.L39],level:[2,"level","level",e.Udg],indentation:[2,"indentation","indentation",e.Udg],itemSize:[2,"itemSize","itemSize",e.Udg],loadingMode:"loadingMode"},features:[e.GFd],decls:1,vars:1,consts:[[3,"ngIf"],["class","p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],["role","treeitem",3,"ngClass","ngStyle","style","keydown",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-treenode-droppoint",3,"drop","dragover","dragenter","dragleave","ngClass"],["role","treeitem",3,"keydown","ngClass","ngStyle"],[1,"p-treenode-content",3,"click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","ngStyle","draggable","ngClass"],["type","button","pRipple","","tabindex","-1",1,"p-tree-toggler","p-link",3,"click"],[4,"ngIf"],["class","p-tree-toggler-icon",4,"ngIf"],["class","p-checkbox p-component","aria-hidden","true",3,"ngClass",4,"ngIf"],[1,"p-treenode-label"],["class","p-treenode-children","role","group",3,"ngStyle",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"spin","styleClass"],[1,"p-tree-toggler-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"p-checkbox","p-component",3,"ngClass"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],["role","group",1,"p-treenode-children",3,"ngStyle"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode"],["class","p-treenode-connector",4,"ngIf"],[1,"p-treenode",3,"ngClass"],["tabindex","0",1,"p-treenode-content",3,"click","contextmenu","touchend","keydown","ngClass"],[3,"ngClass","click",4,"ngIf"],["class","p-treenode-children-container",3,"ngStyle",4,"ngIf"],[1,"p-treenode-connector"],[1,"p-treenode-connector-table"],[3,"ngClass"],[3,"click","ngClass"],[3,"styleClass","ariaLabel",4,"ngIf"],[3,"styleClass","ariaLabel"],[1,"p-treenode-children-container",3,"ngStyle"],[1,"p-treenode-children"],[3,"node","firstChild","lastChild",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild"]],template:function(n,C){1&n&&e.DNE(0,qn,4,4,"ng-template",0),2&n&&e.Y8G("ngIf",C.node)},dependencies:()=>[o.YU,o.Sq,o.bT,o.T3,o.B3,F.n,pe.S,N.D,D.v,de.Q,z.N,_e.c,g],encapsulation:2})}return g})(),K=(()=>{class g{el;dragDropService;config;cd;value;selectionMode;loadingMode="mask";selection;style;styleClass;contextMenu;layout="vertical";draggableScope;droppableScope;draggableNodes;droppableNodes;metaKeySelection=!1;propagateSelectionUp=!0;propagateSelectionDown=!0;loading;loadingIcon;emptyMessage="";ariaLabel;togglerAriaLabel;ariaLabelledBy;validateDrop;filter;filterBy="label";filterMode="lenient";filterPlaceholder;filteredNodes;filterLocale;scrollHeight;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;indentation=1.5;_templateMap;trackBy=(t,n)=>n;_virtualNodeHeight;get virtualNodeHeight(){return this._virtualNodeHeight}set virtualNodeHeight(t){this._virtualNodeHeight=t,console.warn("The virtualNodeHeight property is deprecated, use virtualScrollItemSize property instead.")}selectionChange=new e.bkB;onNodeSelect=new e.bkB;onNodeUnselect=new e.bkB;onNodeExpand=new e.bkB;onNodeCollapse=new e.bkB;onNodeContextMenuSelect=new e.bkB;onNodeDrop=new e.bkB;onLazyLoad=new e.bkB;onScroll=new e.bkB;onScrollIndexChange=new e.bkB;onFilter=new e.bkB;templates;filterViewChild;scroller;wrapperViewChild;serializedValue;headerTemplate;footerTemplate;loaderTemplate;emptyMessageTemplate;togglerIconTemplate;checkboxIconTemplate;loadingIconTemplate;filterIconTemplate;nodeTouched;dragNodeTree;dragNode;dragNodeSubNodes;dragNodeIndex;dragNodeScope;dragHover;dragStartSubscription;dragStopSubscription;constructor(t,n,C,I){this.el=t,this.dragDropService=n,this.config=C,this.cd=I}ngOnInit(){this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(t=>{this.dragNodeTree=t.tree,this.dragNode=t.node,this.dragNodeSubNodes=t.subNodes,this.dragNodeIndex=t.index,this.dragNodeScope=t.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(t=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(t){t.value&&(this.updateSerializedValue(),this.hasFilterActive()&&this._filter(this.filterViewChild.nativeElement.value))}get horizontal(){return"horizontal"==this.layout}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(p.Yj.EMPTY_MESSAGE)}ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"empty":this.emptyMessageTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"togglericon":this.togglerIconTemplate=t.template;break;case"checkboxicon":this.checkboxIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;default:this._templateMap[t.name]=t.template}})}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(t,n,C,I){n&&n.length&&n.forEach((i,a)=>{i.parent=t;const s={node:i,parent:t,level:C,visible:I&&(!t||t.expanded),lastChild:a===n.length-1,index:a};this.serializedValue.push(s),s.visible&&i.expanded&&this.serializeNodes(i,i.children,C+1,s.visible)})}onNodeClick(t,n){let C=t.target;if(!r.D.hasClass(C,"p-tree-toggler")&&!r.D.hasClass(C,"p-tree-toggler-icon")){if(this.selectionMode){if(!1===n.selectable)return void(n.style="--p-focus-ring-color: none;");if(n.style="--p-focus-ring-color: var(--primary-color)",this.hasFilteredNodes()&&!(n=this.getNodeWithKey(n.key,this.filteredNodes)))return;let I=this.findIndexInSelection(n),i=I>=0;if(this.isCheckboxSelectionMode())i?(this.propagateSelectionDown?this.propagateDown(n,!1):this.selection=this.selection.filter((a,s)=>s!=I),this.propagateSelectionUp&&n.parent&&this.propagateUp(n.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:t,node:n})):(this.propagateSelectionDown?this.propagateDown(n,!0):this.selection=[...this.selection||[],n],this.propagateSelectionUp&&n.parent&&this.propagateUp(n.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:t,node:n}));else if(!this.nodeTouched&&this.metaKeySelection){let s=t.metaKey||t.ctrlKey;i&&s?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((m,c)=>c!=I),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:t,node:n})):(this.isSingleSelectionMode()?this.selectionChange.emit(n):this.isMultipleSelectionMode()&&(this.selection=s&&this.selection||[],this.selection=[...this.selection,n],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:t,node:n}))}else this.isSingleSelectionMode()?i?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:n})):(this.selection=n,setTimeout(()=>{this.onNodeSelect.emit({originalEvent:t,node:n})})):i?(this.selection=this.selection.filter((s,m)=>m!=I),this.onNodeUnselect.emit({originalEvent:t,node:n})):(this.selection=[...this.selection||[],n],setTimeout(()=>{this.onNodeSelect.emit({originalEvent:t,node:n})})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(t,n){if(this.contextMenu){let I=t.target.getAttribute("class");if(I&&I.includes("p-tree-toggler"))return;this.findIndexInSelection(n)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(n):this.selectionChange.emit([n])),this.contextMenu.show(t),this.onNodeContextMenuSelect.emit({originalEvent:t,node:n})}}findIndexInSelection(t){return this.selectionMode&&this.selection?(this.isSingleSelectionMode()?[this.selection]:this.selection).findIndex(C=>C===t||C.key===t.key&&void 0!==C.key):-1}syncNodeOption(t,n,C,I){const i=this.hasFilteredNodes()?this.getNodeWithKey(t.key,n):null;i&&(i[C]=I||t[C])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}hasFilterActive(){return this.filter&&this.filterViewChild?.nativeElement?.value.length>0}getNodeWithKey(t,n){for(let C of n){if(C.key===t)return C;if(C.children){let I=this.getNodeWithKey(t,C.children);if(I)return I}}}propagateUp(t,n){if(t.children&&t.children.length){let I=0,i=!1;for(let a of t.children)this.isSelected(a)?I++:a.partialSelected&&(i=!0);if(n&&I==t.children.length)this.selection=[...this.selection||[],t],t.partialSelected=!1;else{if(!n){let a=this.findIndexInSelection(t);a>=0&&(this.selection=this.selection.filter((s,m)=>m!=a))}t.partialSelected=!!(i||I>0&&I!=t.children.length)}this.syncNodeOption(t,this.filteredNodes,"partialSelected")}let C=t.parent;C&&this.propagateUp(C,n)}propagateDown(t,n){let C=this.findIndexInSelection(t);if(n&&-1==C&&!1!==t.selectable?this.selection=[...this.selection||[],this.filterUnselectableChildren(t)]:!n&&C>-1&&(this.selection=this.selection.filter((I,i)=>i!=C)),t.partialSelected=!1,this.syncNodeOption(t,this.filteredNodes,"partialSelected"),t.children&&t.children.length)for(let I of t.children)this.propagateDown(I,n)}filterUnselectableChildren(t){let n=Object.assign({},t);if(n.children&&n.children.length)for(let C of n.children)!1===C.selectable&&(n.children=n.children.filter(I=>I!=C)),C=this.filterUnselectableChildren(C);return n}isSelected(t){return-1!=this.findIndexInSelection(t)}isSingleSelectionMode(){return this.selectionMode&&"single"==this.selectionMode}isMultipleSelectionMode(){return this.selectionMode&&"multiple"==this.selectionMode}isCheckboxSelectionMode(){return this.selectionMode&&"checkbox"==this.selectionMode}isNodeLeaf(t){return 0!=t.leaf&&!(t.children&&t.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(t){return this._templateMap?t.type?this._templateMap[t.type]:this._templateMap.default:null}onDragOver(t){this.droppableNodes&&(!this.value||0===this.value.length)&&(t.dataTransfer.dropEffect="move",t.preventDefault())}onDrop(t){if(this.droppableNodes&&(!this.value||0===this.value.length)){t.preventDefault();let n=this.dragNode;if(this.allowDrop(n,null,this.dragNodeScope)){let C=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:t,dragNode:n,dropNode:null,index:C,accept:()=>{this.processTreeDrop(n,C)}}):(this.onNodeDrop.emit({originalEvent:t,dragNode:n,dropNode:null,index:C}),this.processTreeDrop(n,C))}}}processTreeDrop(t,n){this.dragNodeSubNodes.splice(n,1),this.value.push(t),this.dragDropService.stopDrag({node:t})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(t){if(this.droppableNodes){let n=t.currentTarget.getBoundingClientRect();(t.x>n.left+n.width||t.x<n.left||t.y>n.top+n.height||t.y<n.top)&&(this.dragHover=!1)}}allowDrop(t,n,C,I="node"){if(t){if(this.isValidDragScope(C)){let i=!0;if(n)if(t===n)i=!1;else{let a=n.parent;for(;null!=a;){if(a===t){i=!1;break}a=a.parent}}return i}return!1}return!1}isValidDragScope(t){let n=this.droppableScope;if(n){if("string"==typeof n){if("string"==typeof t)return n===t;if(Array.isArray(t))return-1!=t.indexOf(n)}else if(Array.isArray(n)){if("string"==typeof t)return-1!=n.indexOf(t);if(Array.isArray(t))for(let C of n)for(let I of t)if(C===I)return!0}return!1}return!0}_filter(t){let n=t;if(""===n)this.filteredNodes=null;else{this.filteredNodes=[];const C=this.filterBy.split(","),I=y.BF.removeAccents(n).toLocaleLowerCase(this.filterLocale),i="strict"===this.filterMode;for(let a of this.value){let s={...a},m={searchFields:C,filterText:I,isStrictMode:i};(i&&(this.findFilteredNodes(s,m)||this.isFilterMatched(s,m))||!i&&(this.isFilterMatched(s,m)||this.findFilteredNodes(s,m)))&&this.filteredNodes.push(s)}}this.updateSerializedValue(),this.onFilter.emit({filter:n,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(t){this.virtualScroll&&this.scroller?.scrollToIndex(t)}scrollTo(t){this.virtualScroll?this.scroller?.scrollTo(t):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(t):(this.wrapperViewChild.nativeElement.scrollLeft=t.left,this.wrapperViewChild.nativeElement.scrollTop=t.top))}findFilteredNodes(t,n){if(t){let C=!1;if(t.children){let I=[...t.children];t.children=[];for(let i of I){let a={...i};this.isFilterMatched(a,n)&&(C=!0,t.children.push(a))}}if(C)return t.expanded=!0,!0}}isFilterMatched(t,n){let{searchFields:C,filterText:I,isStrictMode:i}=n,a=!1;for(let s of C)y.BF.removeAccents(String(y.BF.resolveFieldData(t,s))).toLocaleLowerCase(this.filterLocale).indexOf(I)>-1&&(a=!0);return(!a||i&&!this.isNodeLeaf(t))&&(a=this.findFilteredNodes(t,{searchFields:C,filterText:I,isStrictMode:i})||a),a}getIndex(t,n){const C=t.getItemOptions;return C?C(n).index:n}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||g)(e.rXU(e.aKT),e.rXU(p.$9,8),e.rXU(p.r1),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:g,selectors:[["p-tree"]],contentQueries:function(n,C,I){if(1&n&&e.wni(I,p.Ei,4),2&n){let i;e.mGM(i=e.lsd())&&(C.templates=i)}},viewQuery:function(n,C){if(1&n&&(e.GBs(eC,5),e.GBs(tC,5),e.GBs(gC,5)),2&n){let I;e.mGM(I=e.lsd())&&(C.filterViewChild=I.first),e.mGM(I=e.lsd())&&(C.scroller=I.first),e.mGM(I=e.lsd())&&(C.wrapperViewChild=I.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",selectionMode:"selectionMode",loadingMode:"loadingMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",layout:"layout",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:[2,"draggableNodes","draggableNodes",e.L39],droppableNodes:[2,"droppableNodes","droppableNodes",e.L39],metaKeySelection:[2,"metaKeySelection","metaKeySelection",e.L39],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",e.L39],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",e.L39],loading:[2,"loading","loading",e.L39],loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:[2,"validateDrop","validateDrop",e.L39],filter:[2,"filter","filter",e.L39],filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",e.L39],virtualScroll:[2,"virtualScroll","virtualScroll",e.L39],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",e.Udg],virtualScrollOptions:"virtualScrollOptions",indentation:[2,"indentation","indentation",e.Udg],_templateMap:"_templateMap",trackBy:"trackBy",virtualNodeHeight:"virtualNodeHeight"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[e.GFd,e.OA$],decls:2,vars:2,consts:[["filter",""],["scroller",""],["treeNode",""],["wrapper",""],["emptyFilter",""],[3,"ngClass","ngStyle","class","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"drop","dragover","dragenter","dragleave","ngClass","ngStyle"],["class","p-tree-loading-overlay p-component-overlay",4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tree-filter-container",4,"ngIf"],[4,"ngIf"],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-tree-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-tree-loading-icon"],[1,"p-tree-filter-container"],["type","search","autocomplete","off",1,"p-tree-filter","p-inputtext","p-component",3,"keydown.enter","input"],[3,"styleClass",4,"ngIf"],["class","p-tree-filter-icon",4,"ngIf"],[3,"styleClass"],[1,"p-tree-filter-icon"],["styleClass","p-tree-wrapper",3,"items","tabindex","style","scrollHeight","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],["styleClass","p-tree-wrapper",3,"onScroll","onScrollIndexChange","onLazyLoad","items","tabindex","scrollHeight","itemSize","lazy","options"],["pTemplate","content"],["class","p-tree-container","role","tree",3,"ngClass","style",4,"ngIf"],["role","tree",1,"p-tree-container",3,"ngClass"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode"],["pTemplate","loader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-tree-wrapper",3,"ngStyle"],["class","p-tree-container","role","tree",4,"ngIf"],["role","tree",1,"p-tree-container"],[3,"node","firstChild","lastChild","index","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level","loadingMode"],[1,"p-tree-empty-message"],[4,"ngIf","ngIfElse"],[3,"ngClass","ngStyle"],["class","p-tree-loading-mask p-component-overlay",4,"ngIf"],[1,"p-tree-loading-mask","p-component-overlay"],[3,"node","root"]],template:function(n,C){1&n&&e.DNE(0,RC,7,15,"div",5)(1,QC,6,11,"div",6),2&n&&(e.Y8G("ngIf",!C.horizontal),e.R7$(),e.Y8G("ngIf",C.horizontal))},dependencies:()=>[o.YU,o.Sq,o.bT,o.T3,o.B3,p.Ei,H.H,B.W,z.N,WC],styles:["@layer primeng{.p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:flex;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:flex;flex:1;height:100%;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0 none}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal tr,.p-tree.p-tree-horizontal td{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:flex;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-x scroll center center transparent;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf,.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-y scroll 0 0 transparent;width:1px}.p-tree.p-tree-horizontal table{height:0}.p-scroller .p-tree-container{overflow:visible}}\n"],encapsulation:2})}return g})(),Q=(()=>{class g{static \u0275fac=function(n){return new(n||g)};static \u0275mod=e.$C({type:g});static \u0275inj=e.G2t({imports:[o.MD,p.Gg,F.Z,H.h,pe.S,N.D,D.v,de.Q,B.W,z.N,_e.c,p.Gg,H.h]})}return g})();var be=l(5430),W=l(9335),Te=l(1880);const JC=["container"],ZC=["focusInput"],qC=["filter"],eI=["tree"],tI=["panel"],gI=["overlay"],nI=["firstHiddenFocusableEl"],CI=["lastHiddenFocusableEl"],II=(g,A)=>({$implicit:g,placeholder:A}),ve=(g,A)=>({$implicit:g,options:A}),AI=g=>({"max-height":g}),iI=g=>({$implicit:g}),aI=(g,A)=>({$implicit:g,partialSelected:A});function oI(g,A){1&g&&e.eu8(0)}function lI(g,A){if(1&g&&(e.qex(0),e.DNE(1,oI,1,0,"ng-container",22),e.bVm()),2&g){const t=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",t.valueTemplate)("ngTemplateOutletContext",e.l_i(2,II,t.value,t.placeholder))}}function rI(g,A){if(1&g&&(e.qex(0),e.EFF(1),e.bVm()),2&g){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.label||"empty"," ")}}function sI(g,A){if(1&g&&(e.j41(0,"div",24)(1,"span",25),e.EFF(2),e.k0s()()),2&g){const t=A.$implicit;e.R7$(2),e.JRh(t.label)}}function cI(g,A){if(1&g&&(e.qex(0),e.EFF(1),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.JRh(t.placeholder||"empty")}}function pI(g,A){if(1&g&&e.DNE(0,sI,3,1,"div",23)(1,cI,2,1,"ng-container",16),2&g){const t=e.XpG(2);e.Y8G("ngForOf",t.value),e.R7$(),e.Y8G("ngIf",t.emptyValue)}}function dI(g,A){if(1&g&&e.DNE(0,rI,2,1,"ng-container",15)(1,pI,2,2,"ng-template",null,4,e.C5r),2&g){const t=e.sdS(2),n=e.XpG();e.Y8G("ngIf","comma"===n.display)("ngIfElse",t)}}function _I(g,A){if(1&g){const t=e.RV6();e.j41(0,"TimesIcon",28),e.bIt("click",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.clear(C))}),e.k0s()}2&g&&e.Y8G("styleClass","p-treeselect-clear-icon")}function uI(g,A){}function mI(g,A){1&g&&e.DNE(0,uI,0,0,"ng-template")}function hI(g,A){if(1&g){const t=e.RV6();e.j41(0,"span",29),e.bIt("click",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.clear(C))}),e.DNE(1,mI,1,0,null,30),e.k0s()}if(2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngTemplateOutlet",t.clearIconTemplate)}}function fI(g,A){if(1&g&&(e.qex(0),e.DNE(1,_I,1,1,"TimesIcon",26)(2,hI,2,1,"span",27),e.bVm()),2&g){const t=e.XpG();e.R7$(),e.Y8G("ngIf",!t.clearIconTemplate),e.R7$(),e.Y8G("ngIf",t.clearIconTemplate)}}function bI(g,A){1&g&&e.nrm(0,"ChevronDownIcon",31),2&g&&e.Y8G("styleClass","p-treeselect-trigger-icon")}function TI(g,A){}function vI(g,A){1&g&&e.DNE(0,TI,0,0,"ng-template")}function yI(g,A){if(1&g&&(e.j41(0,"span",32),e.DNE(1,vI,1,0,null,30),e.k0s()),2&g){const t=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",t.triggerIconTemplate)}}function xI(g,A){1&g&&e.eu8(0)}function SI(g,A){1&g&&e.nrm(0,"SearchIcon",31),2&g&&e.Y8G("styleClass","p-treeselect-filter-icon")}function EI(g,A){}function kI(g,A){1&g&&e.DNE(0,EI,0,0,"ng-template")}function NI(g,A){if(1&g&&(e.j41(0,"span",43),e.DNE(1,kI,1,0,null,30),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",t.filterIconTemplate)}}function DI(g,A){1&g&&e.nrm(0,"TimesIcon")}function GI(g,A){}function FI(g,A){1&g&&e.DNE(0,GI,0,0,"ng-template")}function wI(g,A){if(1&g&&(e.j41(0,"span"),e.DNE(1,FI,1,0,null,30),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function jI(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",38),e.bIt("keydown.arrowdown",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onArrowDown(C))}),e.j41(1,"div",39)(2,"input",40,9),e.bIt("keydown.enter",function(C){return e.eBV(t),e.Njj(C.preventDefault())})("input",function(C){e.eBV(t);const I=e.XpG(2);return e.Njj(I.onFilterInput(C))}),e.k0s(),e.DNE(4,SI,1,1,"SearchIcon",18)(5,NI,2,1,"span",41),e.k0s(),e.j41(6,"button",42),e.bIt("click",function(){e.eBV(t);const C=e.XpG(2);return e.Njj(C.hide())}),e.DNE(7,DI,1,0,"TimesIcon",16)(8,wI,2,1,"span",16),e.k0s()()}if(2&g){const t=e.XpG(2);e.R7$(2),e.Y8G("value",t.filterValue),e.BMQ("placeholder",t.filterPlaceholder),e.R7$(2),e.Y8G("ngIf",!t.filterIconTemplate),e.R7$(),e.Y8G("ngIf",t.filterIconTemplate),e.R7$(2),e.Y8G("ngIf",!t.closeIconTemplate),e.R7$(),e.Y8G("ngIf",t.closeIconTemplate)}}function RI(g,A){1&g&&e.eu8(0)}function PI(g,A){if(1&g&&e.DNE(0,RI,1,0,"ng-container",30),2&g){const t=e.XpG(3);e.Y8G("ngTemplateOutlet",t.emptyTemplate)}}function MI(g,A){1&g&&(e.qex(0),e.DNE(1,PI,1,1,"ng-template",44),e.bVm())}function BI(g,A){1&g&&e.eu8(0)}function VI(g,A){if(1&g&&e.DNE(0,BI,1,0,"ng-container",22),2&g){const t=A.$implicit,n=e.XpG(3);e.Y8G("ngTemplateOutlet",n.itemTogglerIconTemplate)("ngTemplateOutletContext",e.eq3(2,iI,t))}}function YI(g,A){1&g&&e.DNE(0,VI,1,4,"ng-template",45)}function $I(g,A){1&g&&e.eu8(0)}function XI(g,A){if(1&g&&e.DNE(0,$I,1,0,"ng-container",22),2&g){const t=A.$implicit,n=A.partialSelected,C=e.XpG(3);e.Y8G("ngTemplateOutlet",C.itemCheckboxIconTemplate)("ngTemplateOutletContext",e.l_i(2,aI,t,n))}}function OI(g,A){1&g&&e.DNE(0,XI,1,5,"ng-template",46)}function LI(g,A){1&g&&e.eu8(0)}function UI(g,A){if(1&g&&e.DNE(0,LI,1,0,"ng-container",30),2&g){const t=e.XpG(3);e.Y8G("ngTemplateOutlet",t.itemLoadingIconTemplate)}}function HI(g,A){1&g&&e.DNE(0,UI,1,1,"ng-template",47)}function zI(g,A){1&g&&e.eu8(0)}function KI(g,A){if(1&g){const t=e.RV6();e.j41(0,"div",33,5)(2,"span",34,6),e.bIt("focus",function(C){e.eBV(t);const I=e.XpG();return e.Njj(I.onFirstHiddenFocus(C))}),e.k0s(),e.DNE(4,xI,1,0,"ng-container",22)(5,jI,9,6,"div",35),e.j41(6,"div",36)(7,"p-tree",37,7),e.bIt("selectionChange",function(C){e.eBV(t);const I=e.XpG();return e.Njj(I.onSelectionChange(C))})("onNodeExpand",function(C){e.eBV(t);const I=e.XpG();return e.Njj(I.nodeExpand(C))})("onNodeCollapse",function(C){e.eBV(t);const I=e.XpG();return e.Njj(I.nodeCollapse(C))})("onNodeSelect",function(C){e.eBV(t);const I=e.XpG();return e.Njj(I.onSelect(C))})("onNodeUnselect",function(C){e.eBV(t);const I=e.XpG();return e.Njj(I.onUnselect(C))}),e.DNE(9,MI,2,0,"ng-container",16)(10,YI,1,0,null,16)(11,OI,1,0,null,16)(12,HI,1,0,null,16),e.k0s()(),e.DNE(13,zI,1,0,"ng-container",22),e.j41(14,"span",34,8),e.bIt("focus",function(C){e.eBV(t);const I=e.XpG();return e.Njj(I.onLastHiddenFocus(C))}),e.k0s()()}if(2&g){const t=e.XpG();e.HbH(t.panelStyleClass),e.Y8G("ngStyle",t.panelStyle)("ngClass",t.panelClass),e.BMQ("id",t.listId),e.R7$(2),e.BMQ("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),e.R7$(2),e.Y8G("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",e.l_i(38,ve,t.value,t.options)),e.R7$(),e.Y8G("ngIf",t.filter),e.R7$(),e.Y8G("ngStyle",e.eq3(41,AI,t.scrollHeight)),e.R7$(),e.Y8G("value",t.options)("propagateSelectionDown",t.propagateSelectionDown)("propagateSelectionUp",t.propagateSelectionUp)("selectionMode",t.selectionMode)("selection",t.value)("metaKeySelection",t.metaKeySelection)("emptyMessage",t.emptyMessage)("filterBy",t.filterBy)("filterMode",t.filterMode)("filterPlaceholder",t.filterPlaceholder)("filterLocale",t.filterLocale)("filteredNodes",t.filteredNodes)("virtualScroll",t.virtualScroll)("virtualScrollItemSize",t.virtualScrollItemSize)("virtualScrollOptions",t.virtualScrollOptions)("_templateMap",t.templateMap)("loading",t.loading),e.R7$(2),e.Y8G("ngIf",t.emptyTemplate),e.R7$(),e.Y8G("ngIf",t.itemTogglerIconTemplate),e.R7$(),e.Y8G("ngIf",t.itemCheckboxIconTemplate),e.R7$(),e.Y8G("ngIf",t.itemLoadingIconTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",e.l_i(43,ve,t.value,t.options)),e.R7$(),e.BMQ("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}const QI={provide:h.kq,useExisting:(0,e.Rfq)(()=>ye),multi:!0};let ye=(()=>{class g{config;cd;el;overlayService;inputId;scrollHeight="400px";disabled;metaKeySelection=!1;variant="outlined";display="comma";selectionMode="single";tabindex="0";ariaLabel;ariaLabelledBy;placeholder;panelClass;panelStyle;panelStyleClass;containerStyle;containerStyleClass;labelStyle;labelStyleClass;overlayOptions;emptyMessage="";appendTo;filter=!1;filterBy="label";filterMode="lenient";filterPlaceholder;filterLocale;filterInputAutoFocus=!0;propagateSelectionDown=!0;propagateSelectionUp=!0;showClear=!1;resetFilterOnHide=!0;virtualScroll;virtualScrollItemSize;virtualScrollOptions;autofocus;get options(){return this._options}set options(t){this._options=t,this.updateTreeState()}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}loading;onNodeExpand=new e.bkB;onNodeCollapse=new e.bkB;onShow=new e.bkB;onHide=new e.bkB;onClear=new e.bkB;onFilter=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;onNodeUnselect=new e.bkB;onNodeSelect=new e.bkB;_showTransitionOptions;_hideTransitionOptions;templates;containerEl;focusInput;filterViewChild;treeViewChild;panelEl;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;filteredNodes;filterValue=null;serializedValue;valueTemplate;headerTemplate;emptyTemplate;footerTemplate;clearIconTemplate;triggerIconTemplate;filterIconTemplate;closeIconTemplate;itemTogglerIconTemplate;itemCheckboxIconTemplate;itemLoadingIconTemplate;focused;overlayVisible;selfChange;value;expandedNodes=[];_options;templateMap;onModelChange=()=>{};onModelTouched=()=>{};listId="";constructor(t,n,C,I){this.config=t,this.cd=n,this.el=C,this.overlayService=I}ngOnInit(){this.listId=(0,y._Y)()+"_list",this.updateTreeState()}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(t=>{switch(t.getType()){case"value":this.valueTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"triggericon":this.triggerIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"itemtogglericon":this.itemTogglerIconTemplate=t.template;break;case"itemcheckboxicon":this.itemCheckboxIconTemplate=t.template;break;case"itemloadingicon":this.itemLoadingIconTemplate=t.template;break;default:t.name?this.templateMap[t.name]=t.template:this.valueTemplate=t.template}})}onOverlayAnimationStart(t){if("visible"===t.toState)if(this.filter)y.BF.isNotEmpty(this.filterValue)&&this.treeViewChild?._filter(this.filterValue),this.filterInputAutoFocus&&this.filterViewChild?.nativeElement.focus();else{let n=r.D.getFocusableElements(this.panelEl.nativeElement);n&&n.length>0&&n[0].focus()}}onOverlayBeforeHide(t){let n=r.D.getFocusableElements(this.containerEl.nativeElement);n&&n.length>0&&n[0].focus()}onSelectionChange(t){this.value=t,this.onModelChange(this.value),this.cd.markForCheck()}onClick(t){this.disabled||!this.overlayViewChild?.el?.nativeElement?.contains(t.target)&&!r.D.hasClass(t.target,"p-treeselect-close")&&!r.D.hasClass(t.target,"p-checkbox-box")&&!r.D.hasClass(t.target,"p-checkbox-icon")&&(this.overlayVisible?this.hide():this.show(),this.focusInput?.nativeElement.focus())}onKeyDown(t){switch(t.code){case"ArrowDown":this.overlayVisible||(this.show(),t.preventDefault()),this.onArrowDown(t),t.preventDefault();break;case"Space":case"Enter":this.overlayVisible||(this.show(),t.preventDefault());break;case"Escape":this.overlayVisible&&(this.hide(),this.focusInput?.nativeElement.focus(),t.preventDefault());break;case"Tab":this.onTabKey(t)}}onFilterInput(t){this.filterValue=t.target.value,this.treeViewChild?._filter(this.filterValue),this.onFilter.emit({filter:this.filterValue,filteredValue:this.treeViewChild?.filteredNodes}),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}onArrowDown(t){if(this.overlayVisible&&this.panelEl?.nativeElement){let n=r.D.getFocusableElements(this.panelEl.nativeElement,".p-treenode");n&&n.length>0&&n[0].focus(),t.preventDefault()}}onFirstHiddenFocus(t){const n=t.relatedTarget===this.focusInput?.nativeElement?r.D.getFirstFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInput?.nativeElement;r.D.focus(n)}onLastHiddenFocus(t){const n=t.relatedTarget===this.focusInput?.nativeElement?r.D.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInput?.nativeElement;r.D.focus(n)}show(){this.overlayVisible=!0}hide(t){this.overlayVisible=!1,this.resetFilter(),this.onHide.emit(t),this.cd.markForCheck()}clear(t){this.value=null,this.resetExpandedNodes(),this.resetPartialSelected(),this.onModelChange(this.value),this.onClear.emit(),t.stopPropagation()}checkValue(){return null!==this.value&&y.BF.isNotEmpty(this.value)}onTabKey(t,n=!1){n||(this.overlayVisible&&this.hasFocusableElements()?(r.D.focus(t.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),t.preventDefault()):this.overlayVisible&&this.hide(this.filter))}hasFocusableElements(){return r.D.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}resetFilter(){this.filter&&!this.resetFilterOnHide?(this.filteredNodes=this.treeViewChild?.filteredNodes,this.treeViewChild?.resetFilter()):this.filterValue=null}updateTreeState(){if(this.value){let t="single"===this.selectionMode?[this.value]:[...this.value];this.resetExpandedNodes(),this.resetPartialSelected(),t&&this.options&&this.updateTreeBranchState(null,null,t)}}updateTreeBranchState(t,n,C){if(t){if(this.isSelected(t)&&(this.expandPath(n),C.splice(C.indexOf(t),1)),C.length>0&&t.children)for(let I of t.children)this.updateTreeBranchState(I,[...n,t],C)}else for(let I of this.options)this.updateTreeBranchState(I,[],C)}expandPath(t){for(let n of t)n.expanded=!0;this.expandedNodes=[...t]}nodeExpand(t){this.onNodeExpand.emit(t),this.expandedNodes.push(t.node)}nodeCollapse(t){this.onNodeCollapse.emit(t),this.expandedNodes.splice(this.expandedNodes.indexOf(t.node),1)}resetExpandedNodes(){for(let t of this.expandedNodes)t.expanded=!1;this.expandedNodes=[]}resetPartialSelected(t=this.options){if(t)for(let n of t)n.partialSelected=!1,n.children&&n.children?.length>0&&this.resetPartialSelected(n.children)}findSelectedNodes(t,n,C){if(t){if(this.isSelected(t)&&(C.push(t),delete n[t.key]),Object.keys(n).length&&t.children)for(let I of t.children)this.findSelectedNodes(I,n,C)}else for(let I of this.options)this.findSelectedNodes(I,n,C)}isSelected(t){return-1!=this.findIndexInSelection(t)}findIndexInSelection(t){return this.value?("single"===this.selectionMode?[this.value]:this.value).findIndex(C=>C===t||C.key===t.key&&void 0!==C.key):-1}onSelect(t){this.onNodeSelect.emit(t),"single"===this.selectionMode&&(this.hide(),this.focusInput?.nativeElement.focus())}onUnselect(t){this.onNodeUnselect.emit(t)}onInputFocus(t){this.disabled||(this.focused=!0,this.onFocus.emit(t))}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.onModelTouched()}writeValue(t){this.value=t,this.updateTreeState(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){setTimeout(()=>{this.disabled=t,this.cd.markForCheck()})}containerClass(){return{"p-treeselect p-component p-inputwrapper":!0,"p-treeselect-chip":"chip"===this.display,"p-disabled":this.disabled,"p-focus":this.focused,"p-variant-filled":"filled"===this.variant||"filled"===this.config.inputStyle()}}labelClass(){return{"p-treeselect-label":!0,"p-placeholder":this.label===this.placeholder,"p-treeselect-label-empty":!this.placeholder&&this.emptyValue}}get emptyValue(){return!this.value||0===Object.keys(this.value).length}get emptyOptions(){return!this.options||0===this.options.length}get label(){let t=this.value||[];return t.length?t.map(n=>n.label).join(", "):"single"===this.selectionMode&&this.value?t.label:this.placeholder}static \u0275fac=function(n){return new(n||g)(e.rXU(p.r1),e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(p.si))};static \u0275cmp=e.VBU({type:g,selectors:[["p-treeSelect"]],contentQueries:function(n,C,I){if(1&n&&e.wni(I,p.Ei,4),2&n){let i;e.mGM(i=e.lsd())&&(C.templates=i)}},viewQuery:function(n,C){if(1&n&&(e.GBs(JC,5),e.GBs(ZC,5),e.GBs(qC,5),e.GBs(eI,5),e.GBs(tI,5),e.GBs(gI,5),e.GBs(nI,5),e.GBs(CI,5)),2&n){let I;e.mGM(I=e.lsd())&&(C.containerEl=I.first),e.mGM(I=e.lsd())&&(C.focusInput=I.first),e.mGM(I=e.lsd())&&(C.filterViewChild=I.first),e.mGM(I=e.lsd())&&(C.treeViewChild=I.first),e.mGM(I=e.lsd())&&(C.panelEl=I.first),e.mGM(I=e.lsd())&&(C.overlayViewChild=I.first),e.mGM(I=e.lsd())&&(C.firstHiddenFocusableElementOnOverlay=I.first),e.mGM(I=e.lsd())&&(C.lastHiddenFocusableElementOnOverlay=I.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(n,C){2&n&&e.AVh("p-inputwrapper-filled",!C.emptyValue)("p-inputwrapper-focus",C.focused)("p-treeselect-clearable",C.showClear&&!C.disabled)},inputs:{inputId:"inputId",scrollHeight:"scrollHeight",disabled:[2,"disabled","disabled",e.L39],metaKeySelection:[2,"metaKeySelection","metaKeySelection",e.L39],variant:"variant",display:"display",selectionMode:"selectionMode",tabindex:"tabindex",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",placeholder:"placeholder",panelClass:"panelClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",containerStyle:"containerStyle",containerStyleClass:"containerStyleClass",labelStyle:"labelStyle",labelStyleClass:"labelStyleClass",overlayOptions:"overlayOptions",emptyMessage:"emptyMessage",appendTo:"appendTo",filter:[2,"filter","filter",e.L39],filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",filterInputAutoFocus:[2,"filterInputAutoFocus","filterInputAutoFocus",e.L39],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",e.L39],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",e.L39],showClear:[2,"showClear","showClear",e.L39],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",e.L39],virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",autofocus:[2,"autofocus","autofocus",e.L39],options:"options",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",loading:[2,"loading","loading",e.L39]},outputs:{onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onShow:"onShow",onHide:"onHide",onClear:"onClear",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onNodeUnselect:"onNodeUnselect",onNodeSelect:"onNodeSelect"},features:[e.Jv_([QI]),e.GFd],decls:17,vars:30,consts:[["container",""],["focusInput",""],["defaultValueTemplate",""],["overlay",""],["chipsValueTemplate",""],["panel",""],["firstHiddenFocusableEl",""],["tree",""],["lastHiddenFocusableEl",""],["filter",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["type","text","role","combobox","readonly","","pAutoFocus","",3,"focus","blur","keydown","disabled","autofocus"],[1,"p-treeselect-label-container"],[3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["role","button","aria-haspopup","tree",1,"p-treeselect-trigger"],[3,"styleClass",4,"ngIf"],["class","p-treeselect-trigger-icon",4,"ngIf"],[3,"visibleChange","onAnimationStart","onBeforeHide","onShow","onHide","visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-treeselect-token",4,"ngFor","ngForOf"],[1,"p-treeselect-token"],[1,"p-treeselect-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-treeselect-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-treeselect-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"styleClass"],[1,"p-treeselect-trigger-icon"],[1,"p-treeselect-panel","p-component",3,"ngStyle","ngClass"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-treeselect-header",3,"keydown.arrowdown",4,"ngIf"],[1,"p-treeselect-items-wrapper",3,"ngStyle"],[3,"selectionChange","onNodeExpand","onNodeCollapse","onNodeSelect","onNodeUnselect","value","propagateSelectionDown","propagateSelectionUp","selectionMode","selection","metaKeySelection","emptyMessage","filterBy","filterMode","filterPlaceholder","filterLocale","filteredNodes","virtualScroll","virtualScrollItemSize","virtualScrollOptions","_templateMap","loading"],[1,"p-treeselect-header",3,"keydown.arrowdown"],[1,"p-treeselect-filter-container"],["type","search","autocomplete","off",1,"p-treeselect-filter","p-inputtext","p-component",3,"keydown.enter","input","value"],["class","p-treeselect-filter-icon",4,"ngIf"],[1,"p-treeselect-close","p-link",3,"click"],[1,"p-treeselect-filter-icon"],["pTemplate","empty"],["pTemplate","togglericon"],["pTemplate","checkboxicon"],["pTemplate","loadingicon"]],template:function(n,C){if(1&n){const I=e.RV6();e.j41(0,"div",10,0),e.bIt("click",function(a){return e.eBV(I),e.Njj(C.onClick(a))}),e.j41(2,"div",11)(3,"input",12,1),e.bIt("focus",function(a){return e.eBV(I),e.Njj(C.onInputFocus(a))})("blur",function(a){return e.eBV(I),e.Njj(C.onInputBlur(a))})("keydown",function(a){return e.eBV(I),e.Njj(C.onKeyDown(a))}),e.k0s()(),e.j41(5,"div",13)(6,"div",14),e.DNE(7,lI,2,5,"ng-container",15)(8,dI,3,2,"ng-template",null,2,e.C5r),e.k0s(),e.DNE(10,fI,3,2,"ng-container",16),e.k0s(),e.j41(11,"div",17),e.DNE(12,bI,1,1,"ChevronDownIcon",18)(13,yI,2,1,"span",19),e.k0s(),e.j41(14,"p-overlay",20,3),e.mxI("visibleChange",function(a){return e.eBV(I),e.DH7(C.overlayVisible,a)||(C.overlayVisible=a),e.Njj(a)}),e.bIt("onAnimationStart",function(a){return e.eBV(I),e.Njj(C.onOverlayAnimationStart(a))})("onBeforeHide",function(a){return e.eBV(I),e.Njj(C.onOverlayBeforeHide(a))})("onShow",function(a){return e.eBV(I),e.Njj(C.onShow.emit(a))})("onHide",function(a){return e.eBV(I),e.Njj(C.hide(a))}),e.DNE(16,KI,16,46,"ng-template",21),e.k0s()()}if(2&n){let I,i;const a=e.sdS(9);e.HbH(C.containerStyleClass),e.Y8G("ngClass",C.containerClass())("ngStyle",C.containerStyle),e.R7$(3),e.Y8G("disabled",C.disabled)("autofocus",C.autofocus),e.BMQ("id",C.inputId)("tabindex",C.disabled?-1:C.tabindex)("aria-controls",C.overlayVisible?C.listId:null)("aria-haspopup","tree")("aria-expanded",null!==(I=C.overlayVisible)&&void 0!==I&&I)("aria-labelledby",C.ariaLabelledBy)("aria-label",C.ariaLabel||("p-emptylabel"===C.label?void 0:C.label)),e.R7$(3),e.HbH(C.labelStyleClass),e.Y8G("ngClass",C.labelClass())("ngStyle",C.labelStyle),e.R7$(),e.Y8G("ngIf",C.valueTemplate)("ngIfElse",a),e.R7$(3),e.Y8G("ngIf",C.checkValue()&&!C.disabled&&C.showClear),e.R7$(),e.BMQ("aria-expanded",null!==(i=C.overlayVisible)&&void 0!==i&&i)("aria-label","treeselect trigger"),e.R7$(),e.Y8G("ngIf",!C.triggerIconTemplate),e.R7$(),e.Y8G("ngIf",C.triggerIconTemplate),e.R7$(),e.R50("visible",C.overlayVisible),e.Y8G("options",C.overlayOptions)("target","@parent")("appendTo",C.appendTo)("showTransitionOptions",C.showTransitionOptions)("hideTransitionOptions",C.hideTransitionOptions)}},dependencies:()=>[o.YU,o.Sq,o.bT,o.T3,o.B3,W.hJ,p.Ei,K,Te.q,B.W,M.A,N.D],styles:["@layer primeng{.p-treeselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-treeselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-treeselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer;display:flex}.p-treeselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-treeselect-label-empty{overflow:hidden;visibility:hidden}.p-treeselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-treeselect-items-wrapper{overflow:auto}.p-treeselect-header{display:flex;align-items:center;justify-content:space-between}.p-treeselect-filter-container{position:relative;flex:1 1 auto}.p-treeselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-treeselect-filter-container .p-inputtext{width:100%}.p-treeselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative;margin-left:auto}.p-treeselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-treeselect{display:flex}.p-treeselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-treeselect-clearable{position:relative}}\n"],encapsulation:2,changeDetection:0})}return g})(),WI=(()=>{class g{static \u0275fac=function(n){return new(n||g)};static \u0275mod=e.$C({type:g});static \u0275inj=e.G2t({imports:[o.MD,W.z_,F.Z,p.Gg,Q,Te.u,B.W,M.A,N.D,W.z_,p.Gg,Q]})}return g})();function JI(g,A){if(1&g){const t=e.RV6();e.j41(0,"p-checkbox",7),e.mxI("ngModelChange",function(C){const I=e.eBV(t).$implicit;return e.DH7(I.data.analyzable,C)||(I.data.analyzable=C),e.Njj(C)}),e.bIt("onChange",function(C){const I=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.updateCategoryAnalizability(I.data.iD,C))}),e.k0s(),e.EFF(1)}if(2&g){const t=A.$implicit;e.R50("ngModel",t.data.analyzable),e.Y8G("binary",!0),e.R7$(),e.SpI(" ",t.label," ")}}function ZI(g,A){if(1&g){const t=e.RV6();e.j41(0,"p-checkbox",7),e.mxI("ngModelChange",function(C){const I=e.eBV(t).$implicit;return e.DH7(I.data.analyzable,C)||(I.data.analyzable=C),e.Njj(C)}),e.bIt("onChange",function(C){const I=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.updateTypeAnalizability(I.data.iD,C))}),e.k0s(),e.EFF(1)}if(2&g){const t=A.$implicit;e.R50("ngModel",t.data.analyzable),e.Y8G("binary",!0),e.R7$(),e.SpI(" ",t.label," ")}}function qI(g,A){}const tA=()=>({"min-width":"75rem"}),gA=()=>[10,25,50],nA=()=>({width:"50vw"});function CA(g,A){1&g&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.k0s(),e.j41(3,"th",6),e.EFF(4,"\u0415\u0434\u0438\u043d\u0438\u0446\u0430 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f "),e.nrm(5,"p-sortIcon",7),e.k0s(),e.j41(6,"th"),e.EFF(7,"\u041a\u0432\u0430\u043d\u0442"),e.k0s(),e.j41(8,"th"),e.EFF(9,"\u0426\u0435\u043d\u044b"),e.k0s(),e.nrm(10,"th"),e.k0s())}function IA(g,A){if(1&g&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&g){const t=A.$implicit;e.R7$(),e.SpI(" ",t.name," ")}}function AA(g,A){if(1&g){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td")(8,"ul"),e.DNE(9,IA,2,1,"li",8),e.k0s()(),e.j41(10,"td")(11,"p-button",9),e.bIt("click",function(){const C=e.eBV(t).$implicit,I=e.XpG(2);return e.Njj(I.showEditPackageTypeDialog(C))}),e.k0s(),e.j41(12,"p-button",10),e.bIt("click",function(){const C=e.eBV(t).$implicit,I=e.XpG(2);return e.Njj(I.removePackageType(C))}),e.k0s()()()}if(2&g){const t=A.$implicit,n=e.XpG(2);e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(n.getMeasureUnitText(t.unitOfMeasure)),e.R7$(2),e.JRh(n.getQuantum(t)),e.R7$(3),e.Y8G("ngForOf",t.prices)}}function iA(g,A){if(1&g&&(e.j41(0,"p-table",3),e.DNE(1,CA,11,0,"ng-template",4)(2,AA,13,4,"ng-template",5),e.k0s()),2&g){const t=e.XpG();e.Y8G("value",t.data)("tableStyle",e.lJ4(6,tA))("paginator",!0)("rows",50)("rowsPerPageOptions",e.lJ4(7,gA))("totalRecords",t.totalRecords)}}function aA(g,A){if(1&g){const t=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(t);const C=e.XpG(2);return e.Njj(C.addPackageType())}),e.EFF(1,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),e.k0s()}}function oA(g,A){if(1&g){const t=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(t);const C=e.XpG(2);return e.Njj(C.updatePackageType())}),e.EFF(1,"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"),e.k0s()}}function lA(g,A){if(1&g){const t=e.RV6();e.j41(0,"p-dialog",11),e.mxI("visibleChange",function(C){e.eBV(t);const I=e.XpG();return e.DH7(I.showDialog,C)||(I.showDialog=C),e.Njj(C)}),e.j41(1,"div",12)(2,"div",13)(3,"label",14),e.EFF(4,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.k0s(),e.j41(5,"input",15),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG();return e.DH7(I.newItem.name,C)||(I.newItem.name=C),e.Njj(C)}),e.k0s()(),e.j41(6,"div",13)(7,"label",16),e.EFF(8,"\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c, \u0437\u043d\u0430\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u044f\u0442\u043e\u0439"),e.k0s(),e.j41(9,"p-inputNumber",17),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG();return e.DH7(I.newItem.decimalPlaces,C)||(I.newItem.decimalPlaces=C),e.Njj(C)}),e.k0s()(),e.j41(10,"div",13)(11,"label",18),e.EFF(12,"\u0415\u0434\u0438\u043d\u0438\u0446\u0430 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f"),e.k0s(),e.j41(13,"p-dropdown",19),e.mxI("ngModelChange",function(C){e.eBV(t);const I=e.XpG();return e.DH7(I.newItem.unitOfMeasure,C)||(I.newItem.unitOfMeasure=C),e.Njj(C)}),e.k0s()()(),e.DNE(14,aA,2,0,"button",20)(15,oA,2,0,"button",20),e.k0s()}if(2&g){const t=e.XpG();e.Aen(e.lJ4(17,nA)),e.Y8G("header",t.dialogTitle)("modal",!0),e.R50("visible",t.showDialog),e.Y8G("draggable",!1)("resizable",!1),e.R7$(5),e.R50("ngModel",t.newItem.name),e.R7$(4),e.R50("ngModel",t.newItem.decimalPlaces),e.Y8G("min",0)("max",5)("showButtons",!0),e.R7$(4),e.R50("ngModel",t.newItem.unitOfMeasure),e.Y8G("options",t.measureUnits)("autoDisplayFirst",!1),e.R7$(),e.Y8G("ngIf",t.isAdding),e.R7$(),e.Y8G("ngIf",!t.isAdding)}}const rA=[{path:"edit",component:Qg},{path:"",component:Re},{path:"product-tree",component:(()=>{class g extends w.x{constructor(t,n,C){super(C),this.messageService=t,this.categoryTreeService=n,this.filteredCategories=new v.t([]),this.selectedCategory=null,this.filterTextChanged=new v.t("")}onShow(t){t.filterValue=this.filterTextChanged.getValue()}ngOnInit(){this.titleService.setTitle("\u0414\u0435\u0440\u0435\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),this.filterTextChanged.pipe((0,Cn.B)(500),(0,In.F)()).pipe((0,E.n)(t=>this.categoryTreeService.filterCategories(new ce.z.FilterCategoryModel({term:t,count:10})).pipe((0,_.W)(n=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439",severity:"error",detail:n}),u.w))))).subscribe(t=>{const n=t.map(C=>this.mapCategory(C,null,null));this.filteredCategories.next(n)})}onFilterNodeSelect(t){const n=t.node.leaf?t.node.parent.data.iD:t.node.iD;this.loadChildCategories(n,C=>this.topCategories=C.map(I=>this.mapCategory(I,null,n)))}clearCategoriesFilter(t){t.filterValue="",this.filterCategories("")}loadChildCategories(t,n){this.loading=!0,this.categoryTreeService.getCategories(t).pipe((0,_.W)(C=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:C}),this.loading=!1,u.w))).subscribe(C=>{n(C.sort((I,i)=>I.name.localeCompare(i.name))),this.loading=!1})}mapProductType(t){return{label:t.name,children:[],leaf:!0,key:t.iD.toString(),icon:"pi pi-list",hasChildren:!1,type:"productType",data:t}}mapCategory(t,n,C){const I={label:t.name,expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",leaf:!1,key:t.iD.toString(),icon:"pi pi-folder",type:"category",data:t,parent:n};if(C==t.iD){let i=I;for(;i;)i.expanded=!0,i=i.parent}return I.children=t.children?.sort((i,a)=>i.name.localeCompare(a.name)).map(i=>this.mapCategory(i,I,C))??[],I.children=I.children.concat(t.types.sort((i,a)=>i.name.localeCompare(a.name)).map(i=>this.mapProductType(i))),I}filterCategories(t){this.filterTextChanged.next(t)}importProductTypes(){this.categoryTreeService.importCategoryTree().pipe((0,_.W)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:t}),u.w))).subscribe(()=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})})}updateCategoryAnalizability(t,n){this.categoryTreeService.setCategoryAnalyzability(t,n.checked).pipe((0,_.W)(C=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u043b\u0430\u0433\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",severity:"error",detail:C}),u.w))).subscribe(()=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})})}updateTypeAnalizability(t,n){this.categoryTreeService.setProductTypeAnalyzability(t,n.checked).pipe((0,_.W)(C=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u043b\u0430\u0433\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0442\u0438\u043f\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:C}),u.w))).subscribe(()=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})})}static{this.\u0275fac=function(n){return new(n||g)(e.rXU(p.bg),e.rXU(ce.z.CategoryTreeClient),e.rXU(G.hE))}}static{this.\u0275cmp=e.VBU({type:g,selectors:[["app-product-tree"]],features:[e.Vt3],decls:10,vars:6,consts:[["treeSelect",""],["containerStyleClass","w-full","appendTo","body","placeholder","Select Item",1,"md:w-20rem","w-full",3,"onShow","onClear","onNodeSelect","onFilter","options","filter","filterInputAutoFocus"],["pButton","",3,"click"],["filterMode","strict","filterPlaceholder","\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c",1,"w-full","md:w-30rem",3,"value"],["pTemplate","category"],["pTemplate","productType"],["pTemplate","empty"],[3,"ngModelChange","onChange","ngModel","binary"]],template:function(n,C){if(1&n){const I=e.RV6();e.nrm(0,"p-toast"),e.j41(1,"p-treeSelect",1,0),e.nI1(3,"async"),e.bIt("onShow",function(){e.eBV(I);const a=e.sdS(2);return e.Njj(C.onShow(a))})("onClear",function(){e.eBV(I);const a=e.sdS(2);return e.Njj(C.clearCategoriesFilter(a))})("onNodeSelect",function(a){return e.eBV(I),e.Njj(C.onFilterNodeSelect(a))})("onFilter",function(){e.eBV(I);const a=e.sdS(2);return e.Njj(C.filterCategories(a.filterValue))}),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return e.eBV(I),e.Njj(C.importProductTypes())}),e.EFF(5,"\u0418\u043c\u043f\u043e\u0440\u0442 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),e.k0s(),e.j41(6,"p-tree",3),e.DNE(7,JI,2,3,"ng-template",4)(8,ZI,2,3,"ng-template",5)(9,qI,0,0,"ng-template",6),e.k0s()}2&n&&(e.R7$(),e.Y8G("options",e.bMT(3,4,C.filteredCategories))("filter",!0)("filterInputAutoFocus",!0),e.R7$(5),e.Y8G("value",C.topCategories))},dependencies:[h.BC,h.vS,p.Ei,k.y8,x._f,K,be.Sc,ye,o.Jj]})}}return g})()},{path:"package-type/list",component:(()=>{class g{constructor(t,n){this.purchaseService=t,this.messageService=n,this.measureUnits=[{value:d.D.UnitOfMeasure.Piece,name:"\u0448\u0442"},{value:d.D.UnitOfMeasure.SquareMeter,name:"\u043c2"},{value:d.D.UnitOfMeasure.Meter,name:"\u043c"}]}getMeasureUnitText(t){return this.measureUnits.find(n=>n.value==t)?.name??t.toString()}get data(){return this.purchaseService.getPackageTypes()}getQuantum(t){return Math.pow(10,-t.decimalPlaces)}showAddPackageTypeDialog(){this.isAdding=!0,this.dialogTitle="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",this.newItem={decimalPlaces:0},this.showDialog=!0}showEditPackageTypeDialog(t){this.isAdding=!1,this.dialogTitle="\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",this.newItem=t,this.showDialog=!0}removePackageType(t){this.purchaseService.removePackageType(t.iD).pipe((0,_.W)(n=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:n}),u.w))).subscribe()}addPackageType(){this.purchaseService.addPackageType(this.newItem).pipe((0,_.W)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:t}),u.w))).subscribe(()=>{this.showDialog=!1})}updatePackageType(){this.purchaseService.updatePackageType(this.newItem).pipe((0,_.W)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:t}),u.w))).subscribe(()=>{this.showDialog=!1})}static{this.\u0275fac=function(n){return new(n||g)(e.rXU(P),e.rXU(p.bg))}}static{this.\u0275cmp=e.VBU({type:g,selectors:[["app-package-type-list"]],decls:7,vars:2,consts:[[3,"click"],["dataKey","iD",3,"value","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords",4,"ngIf"],[3,"header","modal","style","visible","draggable","resizable","visibleChange",4,"ngIf"],["dataKey","iD",3,"value","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","unitOfMeasure"],["field","unitOfMeasure"],[4,"ngFor","ngForOf"],["type","button","pRipple","","icon","pi pi-pencil",3,"click"],["icon","pi pi-trash",3,"click"],[3,"visibleChange","header","modal","visible","draggable","resizable"],[1,"card"],[1,"flex-auto","m-3"],["for","name",1,"block","font-bold"],["pInputText","","inputId","name",3,"ngModelChange","ngModel"],["for","decimalPlaces",1,"mb-2","block","font-bold"],["inputId","decimalPlaces",3,"ngModelChange","ngModel","min","max","showButtons"],["for","unitOfMeasure",1,"mb-2","block","font-bold"],["appendTo","body","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0435\u0434\u0438\u043d\u0438\u0446\u0443 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u0439","inputId","unitOfMeasure","optionLabel","name","optionValue","value",3,"ngModelChange","ngModel","options","autoDisplayFirst"],["pButton","",3,"click",4,"ngIf"],["pButton","",3,"click"]],template:function(n,C){1&n&&(e.nrm(0,"p-toast"),e.j41(1,"h1"),e.EFF(2,"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),e.k0s(),e.j41(3,"p-button",0),e.bIt("click",function(){return C.showAddPackageTypeDialog()}),e.EFF(4,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),e.k0s(),e.DNE(5,iA,3,8,"p-table",1)(6,lA,16,18,"p-dialog",2)),2&n&&(e.R7$(5),e.Y8G("ngIf",C.data),e.R7$(),e.Y8G("ngIf",C.newItem))},dependencies:[o.Sq,o.bT,h.me,h.BC,h.vS,f.XI,p.Ei,f.Tg,f.yc,k.y8,x._f,x.$n,X.S,O.YI,L.ms,U.l]})}}return g})()},{path:"summary",component:nn}];let sA=(()=>{class g{static{this.\u0275fac=function(n){return new(n||g)}}static{this.\u0275mod=e.$C({type:g})}static{this.\u0275inj=e.G2t({imports:[S.iI.forChild(rA),S.iI]})}}return g})();var cA=l(491);let pA=(()=>{class g{static{this.\u0275fac=function(n){return new(n||g)}}static{this.\u0275mod=e.$C({type:g})}static{this.\u0275inj=e.G2t({imports:[o.MD]})}}return g})(),dA=(()=>{class g{static{this.\u0275fac=function(n){return new(n||g)}}static{this.\u0275mod=e.$C({type:g})}static{this.\u0275inj=e.G2t({providers:[d.D.PurchaseBatchClient,d.D.ProductClient,d.D.PackageTypeClient,d.D.SalesChannelClient,R.X.PurchaseBatchClient,R.X.PackageTypeClient,P],imports:[o.MD,h.YN,f.bG,k.MB,x.tm,k.MB,cA.D,gt,Vt,X.u,O.O3,L.kr,U.P,pA,le.$$,sA,Q,be.q4,re.rO,se.$,WI]})}}return g})()}}]);