(self.webpackChunkseller=self.webpackChunkseller||[]).push([[155],{8155:(P,B,r)=>{"use strict";r.r(B),r.d(B,{SearchTermModule:()=>le});var v=r(177),t=r(9909),S=r(6648),k=r(4412),D=r(152),I=r(6977),b=r(3294),F=r(8141),_=r(9437),p=r(983),h=r(5558),a=r(2180),s=r(2356),o=r(2578),e=r(4438),y=r(5779),G=r(345),A=r(4238),O=r(612),j=r(1141),Y=r(9820),N=r(5430),m=r(8833),M=r(9417),l=r(1802),f=r(2242),d=r(3227),E=r(544),R=r(935),U=r(9998);const $=()=>({"min-width":"75rem"}),Q=()=>[10,25,50];function H(c,T){if(1&c){const n=e.RV6();e.qex(0),e.j41(1,"div",22)(2,"span",7)(3,"p-inputNumber",23),e.mxI("ngModelChange",function(i){e.eBV(n);const g=e.XpG(2);return e.DH7(g.filterModel.surgePercent,i)||(g.filterModel.surgePercent=i),e.Njj(i)}),e.k0s(),e.j41(4,"label",24),e.EFF(5,"\u0420\u043e\u0441\u0442 \u043d\u0435 \u043c\u0435\u043d\u0435\u0435, %"),e.k0s()()(),e.bVm()}if(2&c){const n=e.XpG(2);e.R7$(3),e.R50("ngModel",n.filterModel.surgePercent),e.Y8G("showButtons",!0)("step",10)}}function K(c,T){if(1&c){const n=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"span",7)(3,"input",8),e.mxI("ngModelChange",function(i){e.eBV(n);const g=e.XpG();return e.DH7(g.filterModel.term,i)||(g.filterModel.term=i),e.Njj(i)}),e.k0s(),e.j41(4,"label",9),e.EFF(5,"\u0422\u0438\u043f \u0442\u043e\u0432\u0430\u0440\u0430"),e.k0s()(),e.j41(6,"span")(7,"button",10),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.clearTerm())}),e.k0s()()(),e.j41(8,"div",11)(9,"span",7)(10,"p-calendar",12),e.mxI("ngModelChange",function(i){e.eBV(n);const g=e.XpG();return e.DH7(g.date,i)||(g.date=i),e.Njj(i)}),e.k0s(),e.j41(11,"label",13),e.EFF(12,"\u041c\u0435\u0441\u044f\u0446\u044b"),e.k0s()()(),e.j41(13,"div",11)(14,"span",7)(15,"p-inputNumber",14),e.mxI("ngModelChange",function(i){e.eBV(n);const g=e.XpG();return e.DH7(g.filterModel.minQueryCount,i)||(g.filterModel.minQueryCount=i),e.Njj(i)}),e.k0s(),e.j41(16,"label",15),e.EFF(17,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432"),e.k0s()()(),e.j41(18,"div",16)(19,"p-checkbox",17),e.mxI("ngModelChange",function(i){e.eBV(n);const g=e.XpG();return e.DH7(g.filterModel.enableSurgeFilter,i)||(g.filterModel.enableSurgeFilter=i),e.Njj(i)}),e.k0s()(),e.DNE(20,H,6,3,"ng-container",18),e.j41(21,"div",19)(22,"button",20),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.updateFilter())}),e.EFF(23,"\u0418\u0441\u043a\u0430\u0442\u044c"),e.k0s(),e.j41(24,"button",21),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.exportFile())}),e.EFF(25,"\u0421\u043a\u0430\u0447\u0430\u0442\u044c Excel"),e.k0s()()()}if(2&c){const n=e.XpG();e.R7$(3),e.R50("ngModel",n.filterModel.term),e.R7$(7),e.R50("ngModel",n.date),e.Y8G("minDate",n.minDate)("maxDate",n.maxDate)("showClear",!0)("readonlyInput",!0),e.R7$(5),e.R50("ngModel",n.filterModel.minQueryCount),e.Y8G("showButtons",!0)("min",0)("step",100),e.R7$(4),e.R50("ngModel",n.filterModel.enableSurgeFilter),e.Y8G("binary",!0),e.R7$(),e.Y8G("ngIf",n.filterModel.enableSurgeFilter)}}function J(c,T){1&c&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"\u0422\u0438\u043f \u0442\u043e\u0432\u0430\u0440\u0430"),e.k0s(),e.nrm(3,"th"),e.k0s())}function Z(c,T){if(1&c&&(e.j41(0,"div",39)(1,"div"),e.EFF(2),e.k0s(),e.j41(3,"div"),e.EFF(4),e.k0s()()),2&c){const n=T.$implicit;e.R7$(2),e.JRh(n.count),e.R7$(2),e.JRh(n.term)}}function q(c,T){if(1&c&&(e.j41(0,"div",39)(1,"div"),e.EFF(2),e.k0s(),e.j41(3,"div"),e.EFF(4),e.k0s()()),2&c){const n=T.$implicit;e.R7$(2),e.JRh(n.count),e.R7$(2),e.JRh(n.term)}}function ee(c,T){if(1&c&&(e.j41(0,"div",40)(1,"span"),e.EFF(2),e.k0s()()),2&c){const n=T.$implicit;e.R7$(2),e.JRh(n.isAssociation?"\u0410\u0441\u0441\u043e\u0446\u0438\u0430\u0446\u0438\u0438":"\u0417\u0430\u043f\u0440\u043e\u0441\u044b")}}function te(c,T){if(1&c&&(e.j41(0,"p-dropdown",35),e.nI1(1,"async"),e.nI1(2,"async"),e.DNE(3,Z,5,2,"ng-template",36)(4,q,5,2,"ng-template",37)(5,ee,3,1,"ng-template",38),e.k0s()),2&c){let n,u;const i=e.XpG().$implicit;e.Y8G("ngModel",null==(n=e.bMT(1,3,i.queries))?null:n.header)("options",null==(u=e.bMT(2,5,i.queries))?null:u.groups)("group",!0)}}function ne(c,T){if(1&c&&(e.j41(0,"tr")(1,"td")(2,"div")(3,"div",25)(4,"div"),e.EFF(5),e.k0s(),e.j41(6,"div"),e.DNE(7,te,6,7,"p-dropdown",26),e.k0s()(),e.j41(8,"div",27),e.nrm(9,"a",28)(10,"a",29)(11,"a",30)(12,"a",31)(13,"a",32),e.k0s()()(),e.j41(14,"td")(15,"div"),e.nrm(16,"p-tag",33)(17,"p-tag",34),e.k0s()()()),2&c){const n=T.$implicit,u=e.XpG();e.R7$(5),e.SpI(" ",n.term," "),e.R7$(2),e.Y8G("ngIf",null==n.phrases?null:n.phrases.length),e.R7$(2),e.Aen(null!=n.historyItems&&n.historyItems.length?"":"color: grey"),e.Y8G("pRowToggler",n)("size",u.small),e.R7$(),e.Mz_("href","https://wordstat.yandex.ru/?words=",n.term,"",e.B4B),e.R7$(),e.Mz_("href","https://trends.google.com/trends/explore?q=",n.term,"",e.B4B),e.R7$(),e.Mz_("href","https://www.ozon.ru/search/?text=",n.cleanTerm,"",e.B4B),e.R7$(),e.Mz_("href","https://www.wildberries.ru/catalog/0/search.aspx?search=",n.cleanTerm,"",e.B4B),e.R7$(3),e.Y8G("severity",n.historyUpdateStatusTag)("title",u.getStatusText(n.historyUpdateStatus)),e.R7$(),e.Y8G("severity",n.phraseUpdateStatusTag)("title",u.getStatusText(n.phraseUpdateStatus))}}function se(c,T){if(1&c&&(e.j41(0,"tr")(1,"td",41),e.nrm(2,"p-chart",42),e.nI1(3,"async"),e.k0s()()),2&c){const n=e.XpG().$implicit;e.R7$(2),e.Y8G("data",e.bMT(3,2,n.history))("height",150)}}function ae(c,T){if(1&c&&e.DNE(0,se,4,4,"tr",18),2&c){const n=T.$implicit;e.Y8G("ngIf",null==n.historyItems?null:n.historyItems.length)}}class oe extends s.z.SearchTermWithHistory{constructor(T){super(T),this.historyData=null,this.queryData=null,this.chartOptions={animation:!1,scales:{y:{ticks:{stepSize:100}}}},this.queries=(0,S.H)(new Promise(u=>{let i=this.queryData;if(!i){const g=this.phrases?.filter(x=>x.isAssociation).sort((x,L)=>L.count-x.count),C=this.phrases?.filter(x=>!x.isAssociation).sort((x,L)=>+L.count-+x.count);i={groups:[]},C&&(i.groups.push({isAssociation:!1,items:C}),i.header=C?.[0]),g&&(i.groups.push({isAssociation:!0,items:g}),i.header||=C?.[0])}u(i)})),this.history=(0,S.H)(new Promise(u=>{let i=this.historyData;if(!i){const g=new Set;let C=12,x=-1;const L=this.historyItems?.reduce((w,V)=>{C=Math.min(C,V.month),x=Math.max(x,V.month),g.add(V.month);const W=w.get(V.year)??new Array(12);return W[V.month]=V.count,w.set(V.year,W),w},new Map)??[];C<x&&L.forEach(w=>{C>0&&w.splice(0,C),x<11&&w.splice(x+1,11-x)});const X=new Date,z=[];for(let w=C;w<=x;w++)X.setMonth(w-1,1),z.push(X.toLocaleString("default",{month:"long"}));i={labels:z,datasets:[]},[...L.keys()].sort().forEach(w=>{i.datasets.push({label:w,data:L.get(w)})}),this.historyData=L}u(i)}));this.cleanTerm=T.term.endsWith(" \u043a\u0443\u043f\u0438\u0442\u044c")?T.term.substring(0,T.term.length-7):T.term}getUpdateStatusTag(T){switch(T){case s.z.SearchTermStatus.Ready:return"success";case s.z.SearchTermStatus.QueuedForUpdate:return"info";case s.z.SearchTermStatus.Downloaded:return"warning";default:return"danger"}}get historyUpdateStatusTag(){return this.getUpdateStatusTag(this.historyUpdateStatus)}get phraseUpdateStatusTag(){return this.getUpdateStatusTag(this.phraseUpdateStatus)}}const ie=[{path:"",component:(()=>{class c extends a.x{constructor(n,u,i,g){super(i),this.searchTermService=n,this.messageService=u,this.dbService=g,this.filterModel=new s.z.FindSearchTermsModel({term:"",offset:0,count:50,surgePercent:100,enableSurgeFilter:!1}),this.minDate=new Date((new Date).getFullYear()-1,0,1),this.maxDate=new Date((new Date).getFullYear()+1,11,1),this.loading=!1,this.totalRecords=0,this.searchTermFilterSubject=new k.t(null)}ngOnInit(){this.titleService.setTitle("\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430"),this.filterSubscription=this.searchTermFilterSubject.pipe((0,D.B)(1e3)).pipe((0,I.Q)(this.destroyed)).pipe((0,b.F)()).pipe((0,F.M)(n=>{const u=n.toJSON();delete u.Offset,this.dbService.update("filters",{id:c.name,data:u}).pipe((0,_.W)(i=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430",severity:"error",detail:i}),p.w))).subscribe(),this.loading=!0})).pipe((0,h.n)(n=>this.searchTermService.findSearchTerms(n).pipe((0,_.W)(u=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u043a\u0443\u043f\u043e\u043a",severity:"error",detail:u}),this.loading=!1,p.w))))).subscribe(n=>{this.data=n.items.map(u=>new oe(u)),this.totalRecords=n.totalCount,this.loading=!1}),this.dbService.getByID("filters",c.name).subscribe(n=>{if(n&&n.data&&(this.filterModel=new s.z.FindSearchTermsModel(s.z.FindSearchTermsModel.fromJS(n.data)),null!=this.filterModel.monthFrom)){const u=this.filterModel.monthTo??this.filterModel.monthFrom,i=new Date;i.setMonth(u),i.setDate(1);const g=this.filterModel.monthFrom<=u?i.getFullYear():i.getFullYear()-1,C=new Date(g,this.filterModel.monthFrom,1);this.date=[C,i]}this.searchTermFilterSubject.next(this.filterModel)})}onDataLazyLoad(n){this.filterModel.offset=n.first,this.filterModel.count=n.rows,this.updateFilter()}getStatusText(n){switch(n){case s.z.SearchTermStatus.Ready:return"\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b";case s.z.SearchTermStatus.QueuedForUpdate:return"\u0412 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443";case s.z.SearchTermStatus.Downloaded:return"\u0412 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}}clearTerm(){this.filterModel.term=null}updateFilter(){const n=this.date?.[0]?.getMonth(),u=this.date?.[1]?.getMonth();this.filterModel.monthFrom=n??u,this.filterModel.monthTo=u??n,this.searchTermFilterSubject.next(new s.z.FindSearchTermsModel(this.filterModel))}enqueueUpdate(n,u,i){const g=u?s.z.SearchTermStatus.QueuedForUpdate:n.historyUpdateStatus,C=i?s.z.SearchTermStatus.QueuedForUpdate:n.phraseUpdateStatus,x=new s.z.UpdateSearchTermStatusModel({iDs:[n.iD],historyUpdateStatus:g,phraseUpdateStatus:C});this.searchTermService.updateSearchTermStatus(x).pipe((0,_.W)(L=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",severity:"error",detail:L}),this.loading=!1,p.w))).subscribe(()=>{n.historyUpdateStatus=g,n.phraseUpdateStatus=C,this.loading=!1})}exportFile(){this.updateFilter(),this.searchTermService.exportSearchTerms(this.searchTermFilterSubject.value).subscribe(n=>{(0,o.saveAs)(n.data,n.fileName)})}static{this.\u0275fac=function(u){return new(u||c)(e.rXU(s.z.SearchTermClient),e.rXU(y.bg),e.rXU(G.hE),e.rXU(A.MX))}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["app-search-term-list"]],features:[e.Vt3],decls:9,vars:11,consts:[["dataKey","iD",3,"onLazyLoad","value","breakpoint","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","loading"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"card","formgrid","grid","m-5"],[1,"field","md:col-4","col-12","my-3","p-inputgroup"],[1,"p-float-label"],["inputId","term","pInputText","","type","text",3,"ngModelChange","ngModel"],["for","term"],["type","button","pButton","","icon","pi pi-times","styleClass","p-button-danger",3,"click"],[1,"field","md:col-4","col-12","my-3"],["inputId","date","dateFormat","MM","selectionMode","range","view","month",3,"ngModelChange","ngModel","minDate","maxDate","showClear","readonlyInput"],["for","date"],["inputId","notificationPeriodInDays","autocomplete","off",3,"ngModelChange","ngModel","showButtons","min","step"],["htmlFor","notificationPeriodInDays"],[1,"field-checkbox","col-12"],["label","\u041f\u043e\u0438\u0441\u043a \u0441\u0435\u0437\u043e\u043d\u043e\u0432","inputId","surgeFilter",3,"ngModelChange","ngModel","binary"],[4,"ngIf"],[1,"m-2"],["pButton","",3,"click"],["pButton","",1,"mx-1",3,"click"],[1,"field","col-12","my-3"],["inputId","surgePercent",3,"ngModelChange","ngModel","showButtons","step"],["for","surgePercent"],[1,"mb-3"],["appendTo","body",3,"ngModel","optionsLabel","options","group",4,"ngIf"],[1,"flex","gap-3"],["href","",1,"pi","pi-chart-line","p-button-sm",3,"pRowToggler","size"],["rel","noreferrer","target","_blank",1,"pi","wordstat",3,"href"],["rel","noreferrer","target","_blank",1,"pi","google-trends",3,"href"],["rel","noreferrer","target","_blank",1,"pi","ozon",3,"href"],["rel","noreferrer","target","_blank",1,"pi","wb",3,"href"],["icon","pi pi-chart-line",3,"severity","title"],["icon","pi pi-search",3,"severity","title"],["appendTo","body",3,"ngModel","optionsLabel","options","group"],["pTemplate","item"],["pTemplate","selectedItem"],["pTemplate","group"],[1,"flex","align-items-center","gap-2"],[1,"flex","align-items-center"],["colspan","5"],["type","line",3,"data","height"]],template:function(u,i){1&u&&(e.nrm(0,"p-toast")(1,"p-scrollTop"),e.j41(2,"h1"),e.EFF(3,"\u0412\u043e\u0441\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),e.k0s(),e.j41(4,"p-table",0),e.bIt("onLazyLoad",function(C){return i.onDataLazyLoad(C)}),e.DNE(5,K,26,13,"ng-template",1)(6,J,4,0,"ng-template",2)(7,ne,18,19,"ng-template",3)(8,ae,1,1,"ng-template",4),e.k0s()),2&u&&(e.R7$(4),e.Y8G("value",i.data)("breakpoint","960px")("lazy",!0)("tableStyle",e.lJ4(9,$))("paginator",!0)("rows",50)("rowsPerPageOptions",e.lJ4(10,Q))("totalRecords",i.totalRecords)("loading",i.loading))},dependencies:[O.Vv,j._f,y.Ei,Y.X,N.Sc,v.bT,m.ms,M.me,M.BC,M.vS,l.YI,f.S,d.l,E.XI,E.FP,R.v,U.y8,v.Jj]})}}return c})()},{path:"update",component:(()=>{class c{constructor(n,u){this.service=n,this.messageService=u,this.count=100}enqueueUpdate(){this.service.enqueueForUpdate(this.count).pipe((0,_.W)(n=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c",severity:"error",detail:n}),p.w))).subscribe(()=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u041f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043d\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})})}static{this.\u0275fac=function(u){return new(u||c)(e.rXU(s.z.CategoryTreeClient),e.rXU(y.bg))}}static{this.\u0275cmp=e.VBU({type:c,selectors:[["app-search-term-update"]],decls:6,vars:3,consts:[[1,"flex-auto"],["for","count",1,"mb-2","block","font-bold"],["inputId","count",3,"ngModelChange","ngModel","showButtons","step"],["label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",3,"click"]],template:function(u,i){1&u&&(e.EFF(0,"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f wordstat "),e.j41(1,"div",0)(2,"label",1),e.EFF(3,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.k0s(),e.j41(4,"p-inputNumber",2),e.mxI("ngModelChange",function(C){return e.DH7(i.count,C)||(i.count=C),C}),e.k0s()(),e.j41(5,"p-button",3),e.bIt("click",function(){return i.enqueueUpdate()}),e.k0s()),2&u&&(e.R7$(4),e.R50("ngModel",i.count),e.Y8G("showButtons",!0)("step",100))},dependencies:[j.$n,M.BC,M.vS,l.YI]})}}return c})()}];let re=(()=>{class c{static{this.\u0275fac=function(u){return new(u||c)}}static{this.\u0275mod=e.$C({type:c})}static{this.\u0275inj=e.G2t({imports:[t.iI.forChild(ie),t.iI]})}}return c})(),le=(()=>{class c{static{this.\u0275fac=function(u){return new(u||c)}}static{this.\u0275mod=e.$C({type:c})}static{this.\u0275inj=e.G2t({providers:[s.z.SearchTermClient],imports:[O.rO,Y.F,N.q4,v.MD,m.kr,M.YN,l.O3,f.u,d.F,re,E.bG,R.$,U.MB]})}}return c})()},2578:function(P,B){var r,t;void 0!==(t="function"==typeof(r=function(){"use strict";function k(p,h,a){var s=new XMLHttpRequest;s.open("GET",p),s.responseType="blob",s.onload=function(){_(s.response,h,a)},s.onerror=function(){console.error("could not download file")},s.send()}function D(p){var h=new XMLHttpRequest;h.open("HEAD",p,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function I(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(h)}}var b="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,F=b.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),_=b.saveAs||("object"!=typeof window||window!==b?function(){}:"download"in HTMLAnchorElement.prototype&&!F?function(p,h,a){var s=b.URL||b.webkitURL,o=document.createElement("a");o.download=h=h||p.name||"download",o.rel="noopener","string"==typeof p?(o.href=p,o.origin===location.origin?I(o):D(o.href)?k(p,h,a):I(o,o.target="_blank")):(o.href=s.createObjectURL(p),setTimeout(function(){s.revokeObjectURL(o.href)},4e4),setTimeout(function(){I(o)},0))}:"msSaveOrOpenBlob"in navigator?function(p,h,a){if(h=h||p.name||"download","string"!=typeof p)navigator.msSaveOrOpenBlob(function S(p,h){return typeof h>"u"?h={autoBom:!1}:"object"!=typeof h&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\ufeff",p],{type:p.type}):p}(p,a),h);else if(D(p))k(p,h,a);else{var s=document.createElement("a");s.href=p,s.target="_blank",setTimeout(function(){I(s)})}}:function(p,h,a,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof p)return k(p,h,a);var o="application/octet-stream"===p.type,e=/constructor/i.test(b.HTMLElement)||b.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||o&&e||F)&&typeof FileReader<"u"){var G=new FileReader;G.onloadend=function(){var j=G.result;j=y?j:j.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=j:location=j,s=null},G.readAsDataURL(p)}else{var A=b.URL||b.webkitURL,O=A.createObjectURL(p);s?s.location=O:location.href=O,s=null,setTimeout(function(){A.revokeObjectURL(O)},4e4)}});b.saveAs=_.saveAs=_,P.exports=_})?r.apply(B,[]):r)&&(P.exports=t)},152:(P,B,r)=>{"use strict";r.d(B,{B:()=>k});var v=r(8839),t=r(9974),S=r(4360);function k(D,I=v.E){return(0,t.N)((b,F)=>{let _=null,p=null,h=null;const a=()=>{if(_){_.unsubscribe(),_=null;const o=p;p=null,F.next(o)}};function s(){const o=h+D,e=I.now();if(e<o)return _=this.schedule(void 0,o-e),void F.add(_);a()}b.subscribe((0,S._)(F,o=>{p=o,h=I.now(),_||(_=I.schedule(s,D),F.add(_))},()=>{a(),F.complete()},void 0,()=>{p=_=null}))})}},8839:(P,B,r)=>{"use strict";r.d(B,{b:()=>p,E:()=>_});var v=r(8359);class t extends v.yU{constructor(a,s){super()}schedule(a,s=0){return this}}const S={setInterval(h,a,...s){const{delegate:o}=S;return o?.setInterval?o.setInterval(h,a,...s):setInterval(h,a,...s)},clearInterval(h){const{delegate:a}=S;return(a?.clearInterval||clearInterval)(h)},delegate:void 0};var k=r(7908),I=r(6129);class b{constructor(a,s=b.now){this.schedulerActionCtor=a,this.now=s}schedule(a,s=0,o){return new this.schedulerActionCtor(this,a).schedule(o,s)}}b.now=I.U.now;const _=new class F extends b{constructor(a,s=b.now){super(a,s),this.actions=[],this._active=!1}flush(a){const{actions:s}=this;if(this._active)return void s.push(a);let o;this._active=!0;do{if(o=a.execute(a.state,a.delay))break}while(a=s.shift());if(this._active=!1,o){for(;a=s.shift();)a.unsubscribe();throw o}}}(class D extends t{constructor(a,s){super(a,s),this.scheduler=a,this.work=s,this.pending=!1}schedule(a,s=0){var o;if(this.closed)return this;this.state=a;const e=this.id,y=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(y,e,s)),this.pending=!0,this.delay=s,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(y,this.id,s),this}requestAsyncId(a,s,o=0){return S.setInterval(a.flush.bind(a,this),o)}recycleAsyncId(a,s,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return s;null!=s&&S.clearInterval(s)}execute(a,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(a,s);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(a,s){let e,o=!1;try{this.work(a)}catch(y){o=!0,e=y||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),e}unsubscribe(){if(!this.closed){const{id:a,scheduler:s}=this,{actions:o}=s;this.work=this.state=this.scheduler=null,this.pending=!1,(0,k.o)(o,this),null!=a&&(this.id=this.recycleAsyncId(s,a,null)),this.delay=null,super.unsubscribe()}}}),p=_},5430:(P,B,r)=>{"use strict";r.d(B,{Sc:()=>Y,q4:()=>N});var v=r(177),t=r(4438),S=r(9417),k=r(5779),D=r(1880),I=r(3306),b=r(4420);const F=["input"],_=(m,M,l,f)=>({"p-checkbox p-component":!0,"p-checkbox-checked":m,"p-checkbox-disabled":M,"p-checkbox-focused":l,"p-variant-filled":f}),p=(m,M,l)=>({"p-highlight":m,"p-disabled":M,"p-focus":l}),h=(m,M,l)=>({"p-checkbox-label":!0,"p-checkbox-label-active":m,"p-disabled":M,"p-checkbox-label-focus":l});function a(m,M){if(1&m&&t.nrm(0,"span",10),2&m){const l=t.XpG(3);t.Y8G("ngClass",l.checkboxIcon),t.BMQ("data-pc-section","icon")}}function s(m,M){1&m&&t.nrm(0,"CheckIcon",11),2&m&&(t.Y8G("styleClass","p-checkbox-icon"),t.BMQ("data-pc-section","icon"))}function o(m,M){if(1&m&&(t.qex(0),t.DNE(1,a,1,2,"span",8)(2,s,1,2,"CheckIcon",9),t.bVm()),2&m){const l=t.XpG(2);t.R7$(),t.Y8G("ngIf",l.checkboxIcon),t.R7$(),t.Y8G("ngIf",!l.checkboxIcon)}}function e(m,M){}function y(m,M){1&m&&t.DNE(0,e,0,0,"ng-template")}function G(m,M){if(1&m&&(t.j41(0,"span",12),t.DNE(1,y,1,0,null,13),t.k0s()),2&m){const l=t.XpG(2);t.BMQ("data-pc-section","icon"),t.R7$(),t.Y8G("ngTemplateOutlet",l.checkboxIconTemplate)}}function A(m,M){if(1&m&&(t.qex(0),t.DNE(1,o,3,2,"ng-container",5)(2,G,2,2,"span",7),t.bVm()),2&m){const l=t.XpG();t.R7$(),t.Y8G("ngIf",!l.checkboxIconTemplate),t.R7$(),t.Y8G("ngIf",l.checkboxIconTemplate)}}function O(m,M){if(1&m){const l=t.RV6();t.j41(0,"label",14),t.bIt("click",function(d){t.eBV(l);const E=t.XpG(),R=t.sdS(3);return t.Njj(E.onClick(d,R,!0))}),t.EFF(1),t.k0s()}if(2&m){const l=t.XpG();t.HbH(l.labelStyleClass),t.Y8G("ngClass",t.sMw(6,h,l.checked(),l.disabled,l.focused)),t.BMQ("for",l.inputId)("data-pc-section","label"),t.R7$(),t.SpI(" ",l.label,"")}}const j={provide:S.kq,useExisting:(0,t.Rfq)(()=>Y),multi:!0};let Y=(()=>{class m{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new t.bkB;onFocus=new t.bkB;onBlur=new t.bkB;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(l,f,d){this.cd=l,this.injector=f,this.config=d}ngAfterContentInit(){this.templates.forEach(l=>{"icon"===l.getType()&&(this.checkboxIconTemplate=l.template)})}onClick(l,f,d){l.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(l),d&&f.focus())}updateModel(l){let f;const d=this.injector.get(S.vO,null,{optional:!0,self:!0}),E=d&&!this.formControl?d.value:this.model;this.binary?(f=this.checked()?this.falseValue:this.trueValue,this.model=f,this.onModelChange(f)):(f=this.checked()?E.filter(R=>!b.BF.equals(R,this.value)):E?[...E,this.value]:[this.value],this.onModelChange(f),this.model=f,this.formControl&&this.formControl.setValue(f)),this.onChange.emit({checked:f,originalEvent:l})}handleChange(l){this.readonly||this.updateModel(l)}onInputFocus(l){this.focused=!0,this.onFocus.emit(l)}onInputBlur(l){this.focused=!1,this.onBlur.emit(l),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(l){this.model=l,this.cd.markForCheck()}registerOnChange(l){this.onModelChange=l}registerOnTouched(l){this.onModelTouched=l}setDisabledState(l){setTimeout(()=>{this.disabled=l,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:b.BF.contains(this.value,this.model)}static \u0275fac=function(f){return new(f||m)(t.rXU(t.gRc),t.rXU(t.zZn),t.rXU(k.r1))};static \u0275cmp=t.VBU({type:m,selectors:[["p-checkbox"]],contentQueries:function(f,d,E){if(1&f&&t.wni(E,k.Ei,4),2&f){let R;t.mGM(R=t.lsd())&&(d.templates=R)}},viewQuery:function(f,d){if(1&f&&t.GBs(F,5),2&f){let E;t.mGM(E=t.lsd())&&(d.inputViewChild=E.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",t.L39],binary:[2,"binary","binary",t.L39],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",t.Udg],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",t.L39],required:[2,"required","required",t.L39],autofocus:[2,"autofocus","autofocus",t.L39],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[t.Jv_([j]),t.GFd],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(f,d){if(1&f){const E=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"input",3,0),t.bIt("change",function(U){return t.eBV(E),t.Njj(d.handleChange(U))})("focus",function(U){return t.eBV(E),t.Njj(d.onInputFocus(U))})("blur",function(U){return t.eBV(E),t.Njj(d.onInputBlur(U))}),t.k0s()(),t.j41(4,"div",4),t.bIt("click",function(U){t.eBV(E);const $=t.sdS(3);return t.Njj(d.onClick(U,$,!0))}),t.DNE(5,A,3,2,"ng-container",5),t.k0s()(),t.DNE(6,O,2,10,"label",6)}2&f&&(t.HbH(d.styleClass),t.Y8G("ngStyle",d.style)("ngClass",t.ziG(28,_,d.checked(),d.disabled,d.focused,"filled"===d.variant||"filled"===d.config.inputStyle())),t.BMQ("data-pc-name","checkbox")("data-pc-section","root"),t.R7$(),t.BMQ("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),t.R7$(),t.Y8G("value",d.value)("checked",d.checked())("disabled",d.disabled)("readonly",d.readonly)("autofocus",d.autofocus),t.BMQ("id",d.inputId)("name",d.name)("tabindex",d.tabindex)("required",d.required)("aria-labelledby",d.ariaLabelledBy)("aria-label",d.ariaLabel)("aria-checked",d.checked())("data-pc-section","hiddenInput"),t.R7$(2),t.Y8G("ngClass",t.sMw(33,p,d.checked(),d.disabled,d.focused)),t.BMQ("data-p-highlight",d.checked())("data-p-disabled",d.disabled)("data-p-focused",d.focused)("data-pc-section","input"),t.R7$(),t.Y8G("ngIf",d.checked()),t.R7$(),t.Y8G("ngIf",d.label))},dependencies:()=>[v.YU,v.bT,v.T3,v.B3,D.q,I.S],styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return m})(),N=(()=>{class m{static \u0275fac=function(f){return new(f||m)};static \u0275mod=t.$C({type:m});static \u0275inj=t.G2t({imports:[v.MD,D.u,I.S,k.Gg]})}return m})()},935:(P,B,r)=>{"use strict";r.d(B,{$:()=>h,v:()=>p});var v=r(177),t=r(4438),S=r(5779);const k=["*"];function D(a,s){if(1&a&&t.nrm(0,"span",5),2&a){const o=t.XpG(2);t.Y8G("ngClass",o.icon)}}function I(a,s){if(1&a&&(t.qex(0),t.DNE(1,D,1,1,"span",4),t.bVm()),2&a){const o=t.XpG();t.R7$(),t.Y8G("ngIf",o.icon)}}function b(a,s){}function F(a,s){1&a&&t.DNE(0,b,0,0,"ng-template")}function _(a,s){if(1&a&&(t.j41(0,"span",6),t.DNE(1,F,1,0,null,7),t.k0s()),2&a){const o=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",o.iconTemplate)}}let p=(()=>{class a{cd;get style(){return this._style}set style(o){this._style=o,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;templates;iconTemplate;_style;ngAfterContentInit(){this.templates?.forEach(o=>{"icon"===o.getType()&&(this.iconTemplate=o.template)})}constructor(o){this.cd=o}containerClass(){return{"p-tag p-component":!0,[`p-tag-${this.severity}`]:this.severity,"p-tag-rounded":this.rounded}}static \u0275fac=function(e){return new(e||a)(t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:a,selectors:[["p-tag"]],contentQueries:function(e,y,G){if(1&e&&t.wni(G,S.Ei,4),2&e){let A;t.mGM(A=t.lsd())&&(y.templates=A)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[2,"rounded","rounded",t.L39]},features:[t.GFd],ngContentSelectors:k,decls:6,vars:7,consts:[[3,"ngClass","ngStyle"],[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-value"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(e,y){1&e&&(t.NAR(),t.j41(0,"span",0),t.SdG(1),t.DNE(2,I,2,1,"ng-container",1)(3,_,2,1,"span",2),t.j41(4,"span",3),t.EFF(5),t.k0s()()),2&e&&(t.HbH(y.styleClass),t.Y8G("ngClass",y.containerClass())("ngStyle",y.style),t.R7$(2),t.Y8G("ngIf",!y.iconTemplate),t.R7$(),t.Y8G("ngIf",y.iconTemplate),t.R7$(2),t.JRh(y.value))},dependencies:[v.YU,v.bT,v.T3,v.B3],styles:["@layer primeng{.p-tag{display:inline-flex;align-items:center;justify-content:center}.p-tag-icon,.p-tag-value,.p-tag-icon.pi{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}}\n"],encapsulation:2,changeDetection:0})}return a})(),h=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=t.$C({type:a});static \u0275inj=t.G2t({imports:[v.MD,S.Gg,S.Gg]})}return a})()}}]);