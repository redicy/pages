"use strict";(self.webpackChunkseller=self.webpackChunkseller||[]).push([[697],{1697:(B,b,a)=>{a.r(b),a.d(b,{DashboardModule:()=>ft});var r=a(177),f=a(544),C=a(1141),S=a(9909),k=a(4412),p=a(1413),h=a(5964),m=a(6977),v=a(5558),d=a(9437),c=a(983),F=a(8839),j=a(1584),$=a(2180),t=a(4438),A=a(6354),l=a(4153),T=a(2102),y=a(4238),x=a(5779);let I=(()=>{class n{constructor(e,u,i,o,E,ht,vt){this.ozonPromoClient=e,this.ozonProductClient=u,this.reportClient=i,this.ozonRatingClient=o,this.timeService=E,this.dbService=ht,this.messageService=vt}getLatestSalesInfo(){return this.reportClient.getLatestSalesReport().pipe((0,d.W)(e=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:e}),c.w)))}getActiveProductCount(e){return this.ozonProductClient.findActiveOzonProducts(new l.D.FindActiveOzonProductsModel({minimumClusterCount:e,offset:0,count:void 0})).pipe((0,d.W)(u=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u043f\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:u}),c.w)))}getOzonLocalizationIndex(){return this.ozonRatingClient.getOzonLocalizationIndex(new Date)}getUnconfirmedOzonPromotions(){return this.ozonPromoClient.findOzonPromotionProducts(new l.D.FindOzonPromotionProductsModel({offset:0,count:0,confirmed:!1,excludeCandidates:!0})).pipe((0,d.W)(e=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:e}),c.w))).pipe((0,A.T)(e=>e.totalCount))}static{this.\u0275fac=function(u){return new(u||n)(t.KVO(l.D.OzonPromotionClient),t.KVO(l.D.OzonProductClient),t.KVO(l.D.ReportClient),t.KVO(l.D.OzonRatingClient),t.KVO(T.v),t.KVO(y.MX),t.KVO(x.bg))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Y=a(345),R=a(5716),_=a(9998),O=a(935);function N(n,s){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.JRh(t.bMT(2,1,e))}}function X(n,s){if(1&n&&(t.qex(0),t.j41(1,"div"),t.EFF(2),t.k0s(),t.bVm()),2&n){const e=t.XpG(3);t.R7$(2),t.SpI("... \u0438 \u0435\u0449\u0451 ",e.data.clusters.length-e.maxClusters," \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432")}}function W(n,s){if(1&n&&(t.j41(0,"div")(1,"span",3)(2,"b"),t.EFF(3),t.k0s(),t.EFF(4),t.nI1(5,"slice"),t.k0s(),t.j41(6,"span",4)(7,"b"),t.EFF(8),t.k0s(),t.EFF(9),t.k0s()()),2&n){const e=s.$implicit;t.R7$(3),t.JRh(e.productPackageID),t.R7$(),t.Lme(" ",e.productPackageName.length>20?t.brH(5,6,e.productPackageName,0,20)+"...":e.productPackageName," (",e.stockDays," \u0434\u043d\u0435\u0439) "),t.R7$(4),t.JRh(e.productPackageID),t.R7$(),t.Lme(" ",e.productPackageName," (",e.stockDays," \u0434\u043d\u0435\u0439) ")}}function V(n,s){if(1&n&&(t.qex(0),t.j41(1,"div"),t.EFF(2),t.k0s(),t.bVm()),2&n){const e=t.XpG(3);t.R7$(2),t.SpI("... \u0438 \u0435\u0449\u0451 ",e.data.articles.excessiveCount," \u0430\u0440\u0442\u0438\u043a\u0443\u043b\u043e\u0432")}}function L(n,s){if(1&n&&(t.qex(0),t.j41(1,"div",1),t.EFF(2,"\u0414\u0435\u0444\u0438\u0446\u0438\u0442 \u043e\u0441\u0442\u0430\u0442\u043a\u043e\u0432 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430\u0445"),t.k0s(),t.DNE(3,N,3,3,"div",2),t.nI1(4,"slice"),t.DNE(5,X,3,1,"ng-container",0),t.j41(6,"div",1),t.EFF(7,"\u0417\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0435\u0441\u044f \u0430\u0440\u0442\u0438\u043a\u0443\u043b\u044b"),t.k0s(),t.DNE(8,W,10,10,"div",2)(9,V,3,1,"ng-container",0),t.bVm()),2&n){const e=t.XpG(2);t.R7$(3),t.Y8G("ngForOf",t.brH(4,4,e.data.clusters,0,e.maxClusters)),t.R7$(2),t.Y8G("ngIf",e.data.articles.length>e.maxClusters),t.R7$(3),t.Y8G("ngForOf",e.data.articles.articles),t.R7$(),t.Y8G("ngIf",e.data.articles.excessiveCount)}}function U(n,s){if(1&n&&(t.j41(0,"span"),t.DNE(1,L,10,8,"ng-container",0),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.data.clusters.length)}}function w(n,s){1&n&&(t.j41(0,"span"),t.nrm(1,"p-skeleton",5),t.k0s())}let P=(()=>{class n{constructor(e,u){this.reportClient=e,this.messageService=u,this.data=null,this.maxArticles=3,this.maxClusters=3}ngOnInit(){this.reportClient.getOzonStockStarvationReport(new l.D.OzonStockScarcityReportRequestModel({salesAnalysisInDays:7,notificationPeriodInDays:7,respectActiveSupplyOrders:!0,respectMinimalStock:!0,respectSupplyPreparationPeriod:!0})).pipe((0,d.W)(e=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:e}),c.w))).subscribe(e=>{const u=new Set;for(const o of e)u.add(o.warehouseClusterName);const i=e.sort((o,E)=>E.stockDays-o.stockDays).slice(0,this.maxArticles+1);this.data={clusters:[...u].sort(),articles:{articles:i,excessiveCount:Math.max(e.length-i.length,0)}}})}static{this.\u0275fac=function(u){return new(u||n)(t.rXU(l.D.ReportClient),t.rXU(x.bg))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-stock-starvation-summary"]],inputs:{maxArticles:"maxArticles",maxClusters:"maxClusters"},standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[[4,"ngIf"],[1,"text-900","font-medium","text-xl"],[4,"ngFor","ngForOf"],["title","article.productPackageName",1,"inline","sm:hidden","md:hidden","lg:hidden","xl:inline"],["title","article.productPackageName",1,"hidden","sm:inline","md:inline","lg:inline","xl:hidden"],["width","10rem","height","4rem"]],template:function(u,i){1&u&&t.DNE(0,U,2,1,"span",0)(1,w,2,0,"span",0),2&u&&(t.Y8G("ngIf",i.data),t.R7$(),t.Y8G("ngIf",!i.data))},dependencies:[r.MD,r.Sq,r.bT,r.P9,r.PV]})}}return n})();var G=a(6781),z=a(2242),D=a(9417);const g=()=>({width:"2.5rem",height:"2.5rem"}),J=(n,s,e,u)=>({"pi-caret-down":n,"pi-caret-up":s,"text-green-500":e,"text-red-500":u}),H=()=>["ozon","action"],K=()=>({width:"50vw"});function Q(n,s){if(1&n&&(t.j41(0,"span",16)(1,"div"),t.EFF(2," \u0421\u0443\u0442\u043a\u0438: "),t.j41(3,"span",28),t.EFF(4),t.k0s()(),t.j41(5,"div"),t.EFF(6," \u041d\u0435\u0434\u0435\u043b\u044f: "),t.j41(7,"span",28),t.EFF(8),t.k0s()()()),2&n){const e=t.XpG();t.R7$(4),t.Lme("",e.data.lastDayOrderCount," (",e.data.lastDayOrderSum,"\u20bd)"),t.R7$(4),t.Lme("",e.data.lastWeekOrderCount," (",e.data.lastWeekOrderSum,"\u20bd)")}}function Z(n,s){1&n&&(t.j41(0,"span"),t.nrm(1,"p-skeleton",29),t.k0s())}function q(n,s){if(1&n&&(t.j41(0,"span"),t.nrm(1,"i",30),t.EFF(2),t.nI1(3,"number"),t.nI1(4,"number"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.ziG(9,J,e.data.previousWeekOrderSum>e.data.lastWeekOrderSum,e.data.previousWeekOrderSum<e.data.lastWeekOrderSum,e.data.previousWeekOrderSum<e.data.lastWeekOrderSum,e.data.previousWeekOrderSum>e.data.lastWeekOrderSum)),t.R7$(),t.Lme(" ",t.i5U(3,3,(e.data.lastWeekOrderSum-e.data.previousWeekOrderSum)/e.data.previousWeekOrderSum*100,"1.0-0"),"%, ",t.i5U(4,6,e.data.lastWeekOrderSum-e.data.previousWeekOrderSum,"1.0-0"),"\u20bd ")}}function tt(n,s){if(1&n&&(t.j41(0,"span")(1,"div",28),t.EFF(2),t.k0s(),t.DNE(3,q,5,14,"span",6),t.k0s()),2&n){const e=t.XpG();t.R7$(2),t.SpI("",e.data.lastWeekOrderSum,"\u20bd"),t.R7$(),t.Y8G("ngIf",e.data.previousWeekOrderSum)}}function et(n,s){1&n&&(t.j41(0,"span"),t.nrm(1,"p-skeleton",29),t.k0s())}function nt(n,s){1&n&&t.nrm(0,"p-skeleton",31)}function it(n,s){if(1&n&&(t.j41(0,"p-tag",32)(1,"span",33),t.EFF(2),t.k0s()()),2&n){const e=t.XpG();t.Y8G("severity",e.getRatingSeverity(e.localizationIndex,null==e.settings?null:e.settings.targetLocalizationIndex)),t.R7$(2),t.JRh(e.localizationIndex)}}function ut(n,s){1&n&&t.nrm(0,"p-skeleton",31)}function ot(n,s){if(1&n&&(t.j41(0,"p-tag",32)(1,"span",34),t.EFF(2),t.k0s()()),2&n){const e=t.XpG();t.Y8G("severity",e.unconfirmedOzonPromotionsCount?"danger":"success"),t.R7$(),t.Y8G("routerLink",e.unconfirmedOzonPromotionsCount?t.lJ4(3,H):null),t.R7$(),t.JRh(e.unconfirmedOzonPromotionsCount)}}function at(n,s){1&n&&t.nrm(0,"p-skeleton",31)}function st(n,s){if(1&n&&(t.j41(0,"p-tag",32)(1,"span",33),t.EFF(2),t.k0s()()),2&n){const e=t.XpG();t.Y8G("severity",e.getRatingSeverity(e.activeProductCount,null==e.settings?null:e.settings.targetActiveProductCount)),t.R7$(2),t.JRh(e.activeProductCount)}}function rt(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Image"),t.k0s(),t.j41(3,"th",38),t.EFF(4,"Name "),t.nrm(5,"p-sortIcon",39),t.k0s(),t.j41(6,"th",40),t.EFF(7,"Price "),t.nrm(8,"p-sortIcon",41),t.k0s(),t.j41(9,"th"),t.EFF(10,"View"),t.k0s()())}function lt(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",42),t.nrm(2,"img",43),t.k0s(),t.j41(3,"td",44),t.EFF(4),t.k0s(),t.j41(5,"td",45),t.EFF(6),t.nI1(7,"currency"),t.k0s(),t.j41(8,"td",46),t.nrm(9,"button",47),t.k0s()()),2&n){const e=s.$implicit;t.R7$(2),t.Mz_("src","assets/seller/images/product/",e.image,"",t.B4B),t.FS9("alt",e.name),t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(t.i5U(7,5,e.price,"USD"))}}function dt(n,s){if(1&n&&(t.j41(0,"p-table",35),t.DNE(1,rt,11,0,"ng-template",36)(2,lt,10,8,"ng-template",37),t.k0s()),2&n){const e=t.XpG();t.Y8G("value",e.data.lastSales)("paginator",!0)("rows",5)}}function ct(n,s){if(1&n){const e=t.RV6();t.j41(0,"p-dialog",48),t.mxI("visibleChange",function(i){t.eBV(e);const o=t.XpG();return t.DH7(o.editableSettings,i)||(o.editableSettings=i),t.Njj(i)}),t.bIt("onHide",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeDashboardSettingsDialog(!1))}),t.j41(1,"div",49)(2,"div",50)(3,"label",51),t.EFF(4,"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432 \u0443 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),t.k0s(),t.j41(5,"input",52),t.mxI("ngModelChange",function(i){t.eBV(e);const o=t.XpG();return t.DH7(o.editableSettings.activeProductMinimalClusterCount,i)||(o.editableSettings.activeProductMinimalClusterCount=i),t.Njj(i)}),t.k0s(),t.j41(6,"small"),t.EFF(7,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f \u0443 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432."),t.k0s(),t.j41(8,"label",51),t.EFF(9,"\u0427\u0430\u0441\u0442\u043e\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u043f\u0440\u043e\u0434\u0430\u0436"),t.k0s(),t.j41(10,"input",53),t.mxI("ngModelChange",function(i){t.eBV(e);const o=t.XpG();return t.DH7(o.editableSettings.salesInfoUpdateIntervalSeconds,i)||(o.editableSettings.salesInfoUpdateIntervalSeconds=i),t.Njj(i)}),t.k0s(),t.j41(11,"small"),t.EFF(12,"\u0427\u0430\u0441\u0442\u043e\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u043f\u0440\u043e\u0434\u0430\u0436\u0430\u0445, \u0441\u0435\u043a\u0443\u043d\u0434"),t.k0s(),t.j41(13,"label",54),t.EFF(14,"\u0426\u0435\u043b\u0435\u0432\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),t.k0s(),t.j41(15,"input",55),t.mxI("ngModelChange",function(i){t.eBV(e);const o=t.XpG();return t.DH7(o.editableSettings.targetActiveProductCount,i)||(o.editableSettings.targetActiveProductCount=i),t.Njj(i)}),t.k0s(),t.j41(16,"label",56),t.EFF(17,"\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u0438\u043d\u0434\u0435\u043a\u0441 \u043b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"),t.k0s(),t.j41(18,"input",57),t.mxI("ngModelChange",function(i){t.eBV(e);const o=t.XpG();return t.DH7(o.editableSettings.targetLocalizationIndex,i)||(o.editableSettings.targetLocalizationIndex=i),t.Njj(i)}),t.k0s()()(),t.j41(19,"div",50)(20,"div",58)(21,"p-button",59),t.bIt("onClick",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeDashboardSettingsDialog(!1))}),t.k0s(),t.j41(22,"p-button",60),t.bIt("onClick",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeDashboardSettingsDialog(!0))}),t.k0s()()()()}if(2&n){const e=t.XpG();t.Aen(t.lJ4(9,K)),t.Y8G("modal",!0),t.R50("visible",e.editableSettings),t.Y8G("resizable",!1),t.R7$(5),t.R50("ngModel",e.editableSettings.activeProductMinimalClusterCount),t.R7$(5),t.R50("ngModel",e.editableSettings.salesInfoUpdateIntervalSeconds),t.R7$(5),t.R50("ngModel",e.editableSettings.targetActiveProductCount),t.R7$(3),t.R50("ngModel",e.editableSettings.targetLocalizationIndex)}}let pt=(()=>{class n extends $.x{constructor(e,u,i,o){super(o),this.dashboardService=e,this.dbService=u,this.messageService=i,this.localizationIndex=void 0,this.unconfirmedOzonPromotionsCount=void 0,this.activeProductCount=void 0,this.findModelSubject=new k.t(null),this.timeSubject=new p.B}ngOnInit(){this.titleService.setTitle("Dashboard"),this.findModelSubject.pipe((0,h.p)(e=>!!e)).pipe((0,m.Q)(this.destroyed)).pipe((0,v.n)(e=>{const u=Object.assign({},e);return this.dbService.update("filters",{id:n.name,data:u}).pipe((0,d.W)(o=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0434\u0430\u0448\u0431\u043e\u0440\u0434\u0430",severity:"error",detail:o}),c.w)))})).subscribe(e=>{const u=1e3*this.settings.salesInfoUpdateIntervalSeconds;!function M(n=0,s=F.E){n<0&&(n=0),(0,j.O)(n,n,s)}(u),this.timeSubject.next(),(0,j.O)(0,u).pipe((0,m.Q)(this.destroyed)).pipe((0,m.Q)(this.timeSubject)).pipe((0,v.n)(()=>this.dashboardService.getLatestSalesInfo())).subscribe(o=>{this.data=o}),this.dashboardService.getUnconfirmedOzonPromotions().subscribe(o=>{this.unconfirmedOzonPromotionsCount=o}),this.dashboardService.getOzonLocalizationIndex().subscribe(o=>{this.localizationIndex=o}),this.dashboardService.getActiveProductCount(this.settings.activeProductMinimalClusterCount).subscribe(o=>{this.activeProductCount=o.length})}),this.dbService.getByID("filters",n.name).pipe((0,d.W)(e=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:e}),c.w))).subscribe(e=>{const u={activeProductMinimalClusterCount:3,salesInfoUpdateIntervalSeconds:60,targetActiveProductCount:void 0,targetLocalizationIndex:90};e?.data&&Object.assign(u,e.data),this.settings=u,this.findModelSubject.next(u)})}getRatingSeverity(e,u){let i="secondary";if(e&&u){const o=100*e/u;i=o<80?"danger":o<90?"warning":o<95?"info":"success"}return i}showDashboardSettingsDialog(){this.editableSettings=Object.assign({},this.settings)}closeDashboardSettingsDialog(e){e&&(this.settings=this.editableSettings,this.findModelSubject.next(this.settings)),this.editableSettings=void 0}static{this.\u0275fac=function(u){return new(u||n)(t.rXU(I),t.rXU(y.MX),t.rXU(x.bg),t.rXU(Y.hE))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["ng-component"]],features:[t.Vt3],decls:70,vars:28,consts:[[1,"grid"],[1,"col-12","lg:col-6","xl:col-3"],[1,"card","mb-0"],[1,"flex","justify-content-between","mb-3"],[1,"block","text-500","font-medium","mb-3"],["class","text-500",4,"ngIf"],[4,"ngIf"],[1,"flex","align-items-center","justify-content-center","bg-blue-100","border-round",3,"ngStyle"],[1,"pi","pi-shopping-cart","text-blue-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-orange-100","border-round",3,"ngStyle"],[1,"pi","pi-dollar","text-orange-500","text-xl"],[1,"col-12","lg:col-4","xl:col-2"],["width","3rem","height","2rem",4,"ngIf"],[3,"severity",4,"ngIf"],[1,"flex","align-items-center","justify-content-center","bg-cyan-100","border-round",3,"ngStyle"],[1,"pi","pi-map-marker","text-orange-500","text-xl"],[1,"text-500"],[1,"flex","align-items-center","justify-content-center","bg-purple-100","border-round",3,"ngStyle"],[1,"pi","ozon-fbo","text-purple-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-purple-100","border-round","m-1",3,"ngStyle"],[1,"flex","align-items-center","justify-content-center","bg-indigo-100","border-round","m-1",3,"ngStyle"],[1,"pi","pi-cog","text-purple-500","text-xl",3,"click"],[1,"col-12","xl:col-6"],[3,"maxArticles","maxClusters"],[1,"pi","pi-warehouse","text-red-500","text-xl"],[1,"card"],["responsiveLayout","scroll",3,"value","paginator","rows",4,"ngIf"],["header","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u0430\u0448\u0431\u043e\u0440\u0434\u0430",3,"modal","style","visible","resizable","visibleChange","onHide",4,"ngIf"],[1,"text-900","font-medium","text-xl"],["width","10rem","height","4rem"],[1,"pi",3,"ngClass"],["width","3rem","height","2rem"],[3,"severity"],[1,"font-medium","text-xl"],[1,"font-medium","text-xl",3,"routerLink"],["responsiveLayout","scroll",3,"value","paginator","rows"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","name"],["field","name"],["pSortableColumn","price"],["field","price"],[2,"width","15%","min-width","5rem"],["width","50",1,"shadow-4",3,"src","alt"],[2,"width","35%","min-width","7rem"],[2,"width","35%","min-width","8rem"],[2,"width","15%"],["pButton","","pRipple","","type","button","icon","pi pi-search",1,"p-button","p-component","p-button-text","p-button-icon-only"],["header","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u0430\u0448\u0431\u043e\u0440\u0434\u0430",3,"visibleChange","onHide","modal","visible","resizable"],[1,"card","flex","justify-content-center"],[1,"flex","flex-column","gap-2"],["for","activeProductMinimalClusterCount"],["pInputText","","id","activeProductMinimalClusterCount","autocomplete","off",3,"ngModelChange","ngModel"],["pInputText","","id","salesInfoUpdateIntervalSeconds","autocomplete","off",3,"ngModelChange","ngModel"],["for","targetActiveProductCount"],["pInputText","","id","targetActiveProductCount","autocomplete","off",3,"ngModelChange","ngModel"],["for","targetLocalizationIndex"],["pInputText","","id","targetLocalizationIndex","autocomplete","off",3,"ngModelChange","ngModel"],[1,"flex","justify-content-end","gap-2"],["label","Cancel","severity","secondary",3,"onClick"],["label","Save",3,"onClick"]],template:function(u,i){1&u&&(t.nrm(0,"p-toast"),t.j41(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div")(6,"span",4),t.EFF(7,"\u0417\u0430\u043a\u0430\u0437\u044b"),t.k0s(),t.DNE(8,Q,9,4,"span",5)(9,Z,2,0,"span",6),t.k0s(),t.j41(10,"div",7),t.nrm(11,"i",8),t.k0s()()()(),t.j41(12,"div",1)(13,"div",2)(14,"div",3)(15,"div")(16,"span",4),t.EFF(17,"\u0414\u043e\u0445\u043e\u0434 \u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e"),t.k0s(),t.DNE(18,tt,4,2,"span",6)(19,et,2,0,"span",6),t.k0s(),t.j41(20,"div",9),t.nrm(21,"i",10),t.k0s()()()(),t.j41(22,"div",11)(23,"div",2)(24,"div",3)(25,"div")(26,"span",4),t.EFF(27,"\u0418\u043d\u0434\u0435\u043a\u0441 \u043b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"),t.k0s(),t.DNE(28,nt,1,0,"p-skeleton",12)(29,it,3,2,"p-tag",13),t.k0s(),t.j41(30,"div",14),t.nrm(31,"i",15),t.k0s()(),t.j41(32,"span",16),t.EFF(33,"\u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 14 \u0434\u043d\u0435\u0439"),t.k0s()()(),t.j41(34,"div",11)(35,"div",2)(36,"div",3)(37,"div")(38,"span",4),t.EFF(39,"\u041d\u043e\u0432\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0432 \u0430\u043a\u0446\u0438\u044f\u0445"),t.k0s(),t.DNE(40,ut,1,0,"p-skeleton",12)(41,ot,3,4,"p-tag",13),t.k0s(),t.j41(42,"div",17),t.nrm(43,"i",18),t.k0s()()()(),t.j41(44,"div",11)(45,"div",2)(46,"div",3)(47,"div")(48,"span",4),t.EFF(49,"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),t.k0s(),t.DNE(50,at,1,0,"p-skeleton",12)(51,st,3,2,"p-tag",13),t.k0s(),t.j41(52,"div",19),t.nrm(53,"i",18),t.k0s(),t.j41(54,"div",20)(55,"i",21),t.bIt("click",function(){return i.showDashboardSettingsDialog()}),t.k0s()()()()(),t.j41(56,"div",22)(57,"div",2)(58,"div",3),t.nrm(59,"app-stock-starvation-summary",23),t.j41(60,"div",7),t.nrm(61,"i",24),t.k0s()(),t.j41(62,"span",16),t.EFF(63,"\u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 7 \u0434\u043d\u0435\u0439"),t.k0s()()(),t.j41(64,"div",22)(65,"div",25)(66,"h5"),t.EFF(67,"Recent Sales"),t.k0s(),t.DNE(68,dt,3,3,"p-table",26),t.k0s()()(),t.DNE(69,ct,23,10,"p-dialog",27)),2&u&&(t.R7$(8),t.Y8G("ngIf",i.data),t.R7$(),t.Y8G("ngIf",!i.data),t.R7$(),t.Y8G("ngStyle",t.lJ4(21,g)),t.R7$(8),t.Y8G("ngIf",i.data),t.R7$(),t.Y8G("ngIf",!i.data),t.R7$(),t.Y8G("ngStyle",t.lJ4(22,g)),t.R7$(8),t.Y8G("ngIf",void 0===i.localizationIndex||!i.settings),t.R7$(),t.Y8G("ngIf",void 0!==i.localizationIndex&&i.settings),t.R7$(),t.Y8G("ngStyle",t.lJ4(23,g)),t.R7$(10),t.Y8G("ngIf",void 0===i.unconfirmedOzonPromotionsCount),t.R7$(),t.Y8G("ngIf",0===i.unconfirmedOzonPromotionsCount||i.unconfirmedOzonPromotionsCount),t.R7$(),t.Y8G("ngStyle",t.lJ4(24,g)),t.R7$(8),t.Y8G("ngIf",void 0===i.activeProductCount||!i.settings),t.R7$(),t.Y8G("ngIf",void 0!==i.activeProductCount&&i.settings),t.R7$(),t.Y8G("ngStyle",t.lJ4(25,g)),t.R7$(2),t.Y8G("ngStyle",t.lJ4(26,g)),t.R7$(5),t.Y8G("maxArticles",3)("maxClusters",5),t.R7$(),t.Y8G("ngStyle",t.lJ4(27,g)),t.R7$(8),t.Y8G("ngIf",!1),t.R7$(),t.Y8G("ngIf",i.editableSettings))},dependencies:[r.YU,r.bT,r.B3,f.XI,x.Ei,f.Tg,f.yc,C._f,C.$n,S.Wk,R.E,_.y8,O.v,P,G.l,z.S,D.me,D.BC,D.vS,r.QX,r.oe],encapsulation:2})}}return n})(),mt=(()=>{class n{static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[S.iI.forChild([{path:"",component:pt}]),S.iI]})}}return n})();var gt=a(491);let ft=(()=>{class n{static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({providers:[l.D.OzonSalesOrderClient,l.D.ReportClient,l.D.OzonRatingClient,l.D.OzonPromotionClient,l.D.OzonProductClient,I],imports:[r.MD,f.bG,C.tm,mt,R.k,_.MB,O.$,P,G.P,z.u,D.YN,gt.D]})}}return n})()},1584:(B,b,a)=>{a.d(b,{O:()=>k});var r=a(1985),f=a(8839),C=a(9470);function k(p=0,h,m=f.b){let v=-1;return null!=h&&((0,C.m)(h)?m=h:v=h),new r.c(d=>{let c=function S(p){return p instanceof Date&&!isNaN(p)}(p)?+p-m.now():p;c<0&&(c=0);let F=0;return m.schedule(function(){d.closed||(d.next(F++),0<=v?this.schedule(void 0,v):d.complete())},c)})}}}]);