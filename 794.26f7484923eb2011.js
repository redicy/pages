"use strict";(self.webpackChunkseller=self.webpackChunkseller||[]).push([[794],{1826:(St,ce,v)=>{v.r(ce),v.d(ce,{PurchaseModule:()=>hl});var y=v(177),x=v(2115),J=v(2180),z=v(4412),ge=v(5964),ue=v(3294),Q=v(152),q=v(5558),T=v(9437),V=v(983),G=v(4153),e=v(4438),B=v(6557),E=v(4238),N=v(5779),$=v(345),_e=v(8537),H=v(1141),Ee=v(5430),L=v(9417),fe=v(2242),Z=v(544),pe=v(9998);const Kt=["productPackageAutocomplete"],Qt=()=>["/purchase/edit"],qt=()=>[10,25,50],en=()=>({"min-width":"75rem"}),kt=g=>({id:g}),tn=g=>["summary",g],nn=g=>["edit",g];function gn(g,I){if(1&g&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&g){const t=I.$implicit;e.R7$(),e.Lme("",t.iD,": ",t.name,"")}}function rn(g,I){if(1&g&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&g){const t=I.$implicit;e.R7$(),e.Lme("",t.iD,": ",t.name,"")}}function on(g,I){if(1&g&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&g){const t=I.$implicit;e.R7$(),e.Lme("",t.iD,": ",t.name,"")}}function sn(g,I){if(1&g){const t=e.RV6();e.j41(0,"tr")(1,"th")(2,"button",8),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.toggleCheckedBatches())}),e.k0s()(),e.j41(3,"th"),e.EFF(4," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 "),e.k0s(),e.j41(5,"th"),e.EFF(6,"\u0414\u0430\u0442\u0430"),e.k0s(),e.j41(7,"th"),e.EFF(8,"\u0421\u0442\u0430\u0442\u0443\u0441"),e.k0s(),e.j41(9,"th"),e.EFF(10,"\u0422\u043e\u0432\u0430\u0440\u044b"),e.k0s(),e.nrm(11,"th"),e.k0s(),e.j41(12,"tr"),e.nrm(13,"th"),e.j41(14,"th")(15,"input",9),e.nI1(16,"async"),e.bIt("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.batchNameFilterSubject.next(o))}),e.k0s()(),e.nrm(17,"th")(18,"th"),e.j41(19,"th")(20,"p-autoComplete",10,0),e.bIt("completeMethod",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.findBatchProductsByName(o))})("onSelect",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.addProductFilter(o))})("onUnselect",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.removeProductFilter(o))})("onBlur",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.updateProductFilter())})("onClear",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.clearProductFilter())}),e.DNE(22,gn,2,2,"ng-template",11)(23,rn,2,2,"ng-template",12)(24,on,2,2,"ng-template",13),e.k0s()(),e.nrm(25,"th"),e.k0s()}if(2&g){const t=e.XpG(2);e.R7$(2),e.Y8G("icon",null==t.allBatchesChecked?"pi pi-question":t.allBatchesChecked?"pi pi-check":"pi pi-minus")("rounded",!0)("text",!0),e.R7$(13),e.Y8G("ngModel",e.bMT(16,9,t.batchNameFilterSubject)),e.R7$(5),e.Y8G("group",!0)("minLength",3)("multiple",!0)("showClear",!0)("suggestions",t.batchProducts)}}function ln(g,I){if(1&g&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&g){const t=I.$implicit;e.R7$(),e.SpI(" ",t.value.name," ")}}function Cn(g,I){if(1&g){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"p-checkbox",14),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.changeBatchCheckedState())}),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2);return e.DH7(s.checkedBatches,o)||(s.checkedBatches=o),e.Njj(o)}),e.k0s()(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"ul"),e.DNE(12,ln,2,1,"li",15),e.nI1(13,"keyvalue"),e.k0s()(),e.j41(14,"td"),e.nrm(15,"p-button",16)(16,"p-button",17),e.k0s()()}if(2&g){const t=I.$implicit,r=e.XpG(2);e.R7$(2),e.R50("ngModel",r.checkedBatches),e.Y8G("value",t.iD),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(e.i5U(7,8,t.date,"y-MM-dd")),e.R7$(3),e.JRh(t.status),e.R7$(3),e.Y8G("ngForOf",e.bMT(13,11,t.products)),e.R7$(3),e.Y8G("routerLink",e.eq3(15,tn,e.eq3(13,kt,t.iD))),e.R7$(),e.Y8G("routerLink",e.eq3(19,nn,e.eq3(17,kt,t.iD)))}}function In(g,I){if(1&g){const t=e.RV6();e.j41(0,"p-table",5),e.bIt("onPage",function(o){e.eBV(t);const s=e.XpG();return e.Njj(s.pageChange(o))}),e.DNE(1,sn,26,11,"ng-template",6)(2,Cn,17,21,"ng-template",7),e.k0s()}if(2&g){const t=e.XpG();e.Y8G("lazy",!0)("loading",t.loading)("paginator",!0)("rowsPerPageOptions",e.lJ4(8,qt))("rows",t.filterModel.count)("tableStyle",e.lJ4(9,en))("totalRecords",t.totalRecords)("value",t.data)}}let an=(()=>{class g extends J.x{static{this.FilterID="PurchaseListComponent"}constructor(t,r,o,s,u){super(u),this.productBatchService=t,this.purchaseBatchCommandHandlerClient=r,this.dbService=o,this.messageService=s,this.data=[],this.loading=!0,this.totalRecords=0,this.findModelSubject=new z.t(null),this.checkedBatches=[],this.allBatchesChecked=!1,this.filterModel={offset:0,count:10},this.batchProducts=[],this.batchNameFilterSubject=new z.t(null),this.productPackageIDs=[]}ngOnInit(){this.titleService.setTitle("\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0443\u043f\u043a\u0430\u043c\u0438"),this.batchNameFilterSubject.pipe((0,ge.p)(t=>!!t&&t.length>=3)).pipe((0,ue.F)()).pipe((0,Q.B)(500)).subscribe(t=>{this.filterModel.name=t,this.findBatches()}),this.findModelSubject.pipe((0,ge.p)(t=>!!t)).pipe((0,q.n)(t=>{const o=Object.assign({},t,{offset:0,name:void 0,article:void 0,dateFrom:void 0,dateTo:void 0,productPackageIDs:[]});return this.dbService.update("filters",{id:g.FilterID,data:o}).pipe((0,T.W)(u=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a",severity:"error",detail:u}),V.w))).subscribe(),this.productBatchService.findPurchaseBatches(new G.D.FindPurchaseBatchesModel(t)).pipe((0,T.W)(u=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u043a\u0443\u043f\u043e\u043a",severity:"error",detail:u}),this.loading=!1,V.w)))})).subscribe(t=>{this.checkedBatches=[],this.allBatchesChecked=!1,this.totalRecords=t.totalCount,this.data=t.items.map(r=>{const o=r;return o.products=r.items.reduce((s,u)=>u.salesItems.reduce((m,D)=>m.set(D.productPackageID,D.productPackage),s),new Map),o}),this.loading=!1}),this.dbService.getByID("filters",g.FilterID).subscribe(t=>{const r={count:50,offset:0,excludeCandidates:!1,includeProduct:!0,excludeDeleted:!0};t?.data&&Object.assign(r,t.data),this.filterModel=r,this.findModelSubject.next(this.filterModel)})}pageChange(t){(this.filterModel.count!=t.rows||this.filterModel.offset!=t.first)&&(this.filterModel.offset=t.first,this.filterModel.count=t.rows,this.findModelSubject.next(this.filterModel))}removeCheckedBatches(){this.checkedBatches.length&&this.purchaseBatchCommandHandlerClient.deletePurchaseBatches(this.checkedBatches).pipe((0,T.W)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0443\u043f\u043e\u043a",severity:"error",detail:t}),this.loading=!1,V.w))).subscribe(()=>{this.checkedBatches=[],this.messageService.add({summary:"\u0417\u0430\u043a\u0443\u043f\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b",severity:"success"}),this.loading=!1,this.findBatches()})}findBatches(t=void 0){void 0===t&&((t=this.filterModel).productPackageIDs=[...this.productPackageIDs]),this.findModelSubject.next(new G.D.FindPurchaseBatchesModel(t))}toggleCheckedBatches(){const t=!1===this.allBatchesChecked;this.allBatchesChecked=t,this.checkedBatches=t?this.data.map(r=>r.iD):[]}changeBatchCheckedState(){this.allBatchesChecked=!!this.checkedBatches.length&&(this.checkedBatches.length==this.data.length||null)}findBatchProductsByName(t){this.productBatchService.findPurchaseBatchProductPackages(new G.D.FindPurchaseBatchProductPackagesModel({name:t.query,count:10})).pipe((0,T.W)(r=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:r}),V.w))).subscribe(r=>{this.batchProducts=r})}removeProductFilter(t){const r=t.value;if(r){const o=new Set(this.productPackageIDs);o.delete(r.iD),this.productPackageIDs=[...o]}}addProductFilter(t){const r=t.value;if(r){const o=new Set(this.productPackageIDs);o.add(r.iD),this.productPackageIDs=[...o]}}clearProductFilter(){this.productPackageIDs=[],this.findBatches()}updateProductFilter(){this.findBatches()}static{this.\u0275fac=function(r){return new(r||g)(e.rXU(G.D.PurchaseBatchClient),e.rXU(B.X.PurchaseBatchClient),e.rXU(E.MX),e.rXU(N.bg),e.rXU($.hE))}}static{this.\u0275cmp=e.VBU({type:g,selectors:[["app-purchase-list"]],viewQuery:function(r,o){if(1&r&&e.GBs(Kt,5),2&r){let s;e.mGM(s=e.lsd())&&(o.productPackageAutocomplete=s.first)}},features:[e.Vt3],decls:9,vars:4,consts:[["productPackageAutocomplete",""],[1,"flex","gap-2"],[3,"routerLink"],["severity","danger",3,"click","disabled"],["dataKey","iD",3,"lazy","loading","paginator","rowsPerPageOptions","rows","tableStyle","totalRecords","value","onPage",4,"ngIf"],["dataKey","iD",3,"onPage","lazy","loading","paginator","rowsPerPageOptions","rows","tableStyle","totalRecords","value"],["pTemplate","header"],["pTemplate","body"],["pButton","","size","small",3,"click","icon","rounded","text"],["pInputText","",3,"ngModelChange","ngModel"],["attachTo","body","optionGroupChildren","packages","placeholder","\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u0430","styleClass","mb-3",3,"completeMethod","onSelect","onUnselect","onBlur","onClear","group","minLength","multiple","showClear","suggestions"],["pTemplate","group"],["pTemplate","selectedItem"],["pTemplate","item"],["name","batches","styleClass","ml-3",3,"click","ngModelChange","ngModel","value"],[4,"ngFor","ngForOf"],["icon","pi pi-dollar",3,"routerLink"],["icon","pi pi-pencil",3,"routerLink"]],template:function(r,o){1&r&&(e.nrm(0,"p-toast"),e.j41(1,"h1"),e.EFF(2,"\u0417\u0430\u043a\u0443\u043f\u043a\u0438"),e.k0s(),e.j41(3,"div",1)(4,"p-button",2),e.EFF(5,"\u041d\u043e\u0432\u0430\u044f"),e.k0s(),e.j41(6,"p-button",3),e.bIt("click",function(){return o.removeCheckedBatches()}),e.EFF(7,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 "),e.k0s()(),e.DNE(8,In,3,10,"p-table",4)),2&r&&(e.R7$(4),e.Y8G("routerLink",e.lJ4(3,Qt)),e.R7$(2),e.Y8G("disabled",!(null!=o.checkedBatches&&o.checkedBatches.length)),e.R7$(2),e.Y8G("ngIf",o.data))},dependencies:[N.Ei,_e.j9,H._f,H.$n,Ee.Sc,y.Sq,y.bT,L.me,L.BC,L.vS,fe.S,x.Wk,Z.XI,pe.y8,y.Jj,y.vh,y.lG]})}}return g})();var Tt=v(1413),we=v(6977),Dt=v(8141);let Fe=(()=>{class g{constructor(t,r,o,s){this.packageTypeClient=t,this.packageTypeCommandHandlerClient=r,this.messageService=o,this.purchaseClient=s,this.packageTypes=new z.t([]),this.packageTypeClient.getPackageTypes().pipe((0,T.W)(u=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0442\u0438\u043f\u043e\u0432 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:u}),V.w))).subscribe(u=>{this.packageTypes.next(u)})}getBatch(t){return this.purchaseClient.getPurchaseBatch(t)}getSalesPlanSelfCost(t,r,o){const s=this.getSalesItemCosts(t),u=+r.returnCost*+r.returnPercentage/100,m=r.amount?+r.marketingBudget/r.amount:0,D=r.amount?Math.ceil(100*+r.deliveryCost/+r.amount)/100:0;return o.price+s+u+D+m}getPackageTypes(){return this.packageTypes.value}getPackageType(t){return this.packageTypes.value.find(r=>r.iD==t)}getSalesItemCosts(t){let r=0;for(const o of t.salesItemPackages)r+=Math.ceil(o.pricePerUom*o.amount*100)/100;return r+=t.packagingPrice,r=Math.ceil(100*r)/100,r}getSalesPlanCommission(t){return Math.ceil(+t.commissionMultiplier*+t.price)/100+ +t.commissionAddition}calcPlans(){this.purchaseClient.calcSalesPlans().pipe((0,T.W)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0442\u0438\u043f\u043e\u0432 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:t}),V.w))).subscribe(()=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u041f\u0435\u0440\u0435\u0440\u0430\u0441\u0447\u0451\u0442 \u043f\u043b\u0430\u043d\u043e\u0432 \u043f\u0440\u043e\u0434\u0430\u0436 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d"})})}getSalesPlansSummaries(t){return this.purchaseClient.getSalesPlansSummaries(t)}addPackageType(t){return this.packageTypeCommandHandlerClient.addPackageType(t)}updatePackageType(t){return this.packageTypeCommandHandlerClient.updatePackageType(t).pipe((0,Dt.M)(()=>{this.packageTypes.next(this.packageTypes.value.map(r=>r.iD==t.iD?t:r))}))}removePackageType(t){return this.packageTypeCommandHandlerClient.removePackageType(t).pipe((0,Dt.M)(()=>{this.packageTypes.next(this.packageTypes.value.filter(r=>r.iD!=t))}))}static{this.\u0275fac=function(r){return new(r||g)(e.KVO(G.D.PackageTypeClient),e.KVO(B.X.PackageTypeClient),e.KVO(N.bg),e.KVO(G.D.PurchaseBatchClient))}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var be=v(2637),ot=v(612),st=v(6781),je=v(8833),Be=v(1802),w=v(1455),Pt=v(8148),Re=v(8807),Ge=v(1512),ve=v(563),Me=v(8542),te=v(4420);const xt=["*"];function An(g,I){1&g&&e.eu8(0)}function cn(g,I){if(1&g&&(e.qex(0),e.DNE(1,An,1,0,"ng-container",3),e.bVm()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngTemplateOutlet",t.contentTemplate)}}function un(g,I){if(1&g&&(e.j41(0,"div",1),e.SdG(1),e.DNE(2,cn,2,1,"ng-container",2),e.k0s()),2&g){const t=e.XpG();e.Y8G("hidden",!t.selected),e.BMQ("id",t.tabView.getTabContentId(t.id))("aria-hidden",!t.selected)("aria-labelledby",t.tabView.getTabHeaderActionId(t.id))("data-pc-name","tabpanel"),e.R7$(2),e.Y8G("ngIf",t.contentTemplate&&(t.cache?t.loaded:t.selected))}}const pn=["content"],dn=["navbar"],hn=["prevBtn"],mn=["nextBtn"],_n=["inkbar"],fn=["elementToObserve"],bn=g=>({"p-tabview p-component":!0,"p-tabview-scrollable":g}),vn=(g,I)=>({"p-highlight":g,"p-disabled":I});function yn(g,I){1&g&&e.nrm(0,"ChevronLeftIcon"),2&g&&e.BMQ("aria-hidden",!0)}function Sn(g,I){}function kn(g,I){1&g&&e.DNE(0,Sn,0,0,"ng-template")}function Tn(g,I){if(1&g){const t=e.RV6();e.j41(0,"button",15,4),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.navBackward())}),e.DNE(2,yn,1,1,"ChevronLeftIcon",16)(3,kn,1,0,null,17),e.k0s()}if(2&g){const t=e.XpG();e.BMQ("tabindex",t.tabindex)("aria-label",t.prevButtonAriaLabel),e.R7$(2),e.Y8G("ngIf",!t.previousIconTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",t.previousIconTemplate)}}function Dn(g,I){if(1&g&&e.nrm(0,"span",26),2&g){const t=e.XpG(3).$implicit;e.Y8G("ngClass",t.leftIcon)}}function Pn(g,I){}function xn(g,I){1&g&&e.DNE(0,Pn,0,0,"ng-template")}function Nn(g,I){if(1&g&&(e.j41(0,"span",27),e.DNE(1,xn,1,0,null,17),e.k0s()),2&g){const t=e.XpG(3).$implicit;e.R7$(),e.Y8G("ngTemplateOutlet",t.leftIconTemplate)}}function En(g,I){if(1&g&&e.nrm(0,"span",28),2&g){const t=e.XpG(3).$implicit;e.Y8G("ngClass",t.rightIcon)}}function wn(g,I){}function Fn(g,I){1&g&&e.DNE(0,wn,0,0,"ng-template")}function jn(g,I){if(1&g&&(e.j41(0,"span",29),e.DNE(1,Fn,1,0,null,17),e.k0s()),2&g){const t=e.XpG(3).$implicit;e.R7$(),e.Y8G("ngTemplateOutlet",t.rightIconTemplate)}}function Bn(g,I){if(1&g&&(e.qex(0),e.DNE(1,Dn,1,1,"span",21)(2,Nn,2,1,"span",22),e.j41(3,"span",23),e.EFF(4),e.k0s(),e.DNE(5,En,1,1,"span",24)(6,jn,2,1,"span",25),e.bVm()),2&g){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf",t.leftIcon&&!t.leftIconTemplate),e.R7$(),e.Y8G("ngIf",t.leftIconTemplate),e.R7$(2),e.JRh(t.header),e.R7$(),e.Y8G("ngIf",t.rightIcon&&!t.rightIconTemplate),e.R7$(),e.Y8G("ngIf",t.rightIconTemplate)}}function Rn(g,I){1&g&&e.eu8(0)}function Gn(g,I){if(1&g){const t=e.RV6();e.j41(0,"TimesIcon",32),e.bIt("click",function(o){e.eBV(t);const s=e.XpG(3).$implicit,u=e.XpG();return e.Njj(u.close(o,s))}),e.k0s()}2&g&&e.Y8G("styleClass","p-tabview-close")}function Mn(g,I){1&g&&e.nrm(0,"span",33)}function On(g,I){}function Vn(g,I){1&g&&e.DNE(0,On,0,0,"ng-template")}function $n(g,I){if(1&g&&(e.qex(0),e.DNE(1,Gn,1,1,"TimesIcon",30)(2,Mn,1,0,"span",31)(3,Vn,1,0,null,17),e.bVm()),2&g){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf",!t.closeIconTemplate),e.R7$(),e.Y8G("ngIf",t.closeIconTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function Un(g,I){if(1&g){const t=e.RV6();e.j41(0,"li",19)(1,"a",20),e.bIt("click",function(o){e.eBV(t);const s=e.XpG().$implicit,u=e.XpG();return e.Njj(u.open(o,s))})("keydown",function(o){e.eBV(t);const s=e.XpG().$implicit,u=e.XpG();return e.Njj(u.onTabKeyDown(o,s))}),e.DNE(2,Bn,7,5,"ng-container",16)(3,Rn,1,0,"ng-container",17)(4,$n,4,3,"ng-container",16),e.k0s()()}if(2&g){const t=e.XpG(),r=t.$implicit,o=t.index,s=e.XpG();e.HbH(r.headerStyleClass),e.Y8G("ngClass",e.l_i(19,vn,r.selected,r.disabled))("ngStyle",r.headerStyle),e.BMQ("data-p-disabled",r.disabled),e.R7$(),e.Y8G("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass),e.BMQ("id",s.getTabHeaderActionId(r.id))("aria-controls",s.getTabContentId(r.id))("aria-selected",r.selected)("tabindex",r.disabled||!r.selected?"-1":s.tabindex)("aria-disabled",r.disabled)("data-pc-index",o)("data-pc-section","headeraction"),e.R7$(),e.Y8G("ngIf",!r.headerTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",r.headerTemplate),e.R7$(),e.Y8G("ngIf",r.closable)}}function Ln(g,I){1&g&&e.DNE(0,Un,5,22,"li",18),2&g&&e.Y8G("ngIf",!I.$implicit.closed)}function Yn(g,I){1&g&&e.nrm(0,"ChevronRightIcon"),2&g&&e.BMQ("aria-hidden",!0)}function zn(g,I){}function Xn(g,I){1&g&&e.DNE(0,zn,0,0,"ng-template")}function Jn(g,I){if(1&g){const t=e.RV6();e.j41(0,"button",34,5),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.navForward())}),e.DNE(2,Yn,1,1,"ChevronRightIcon",16)(3,Xn,1,0,null,17),e.k0s()}if(2&g){const t=e.XpG();e.BMQ("tabindex",t.tabindex)("aria-label",t.nextButtonAriaLabel),e.R7$(2),e.Y8G("ngIf",!t.nextIconTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",t.nextIconTemplate)}}let Nt=(()=>{class g{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(t){this._headerStyle=t,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(t){this._headerStyleClass=t,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(t){this._selected=t,this.loaded||this.cd.detectChanges(),t&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(t){this._disabled=t,this.tabView.cd.markForCheck()}get header(){return this._header}set header(t){this._header=t,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(t){this._leftIcon=t,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(t){this._rightIcon=t,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(t,r,o,s){this.el=r,this.viewContainer=o,this.cd=s,this.tabView=t,this.id=(0,te._Y)()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template;break;case"righticon":this.rightIconTemplate=t.template;break;case"lefticon":this.leftIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template}})}ngOnDestroy(){this.view=null}static \u0275fac=function(r){return new(r||g)(e.rXU((0,e.Rfq)(()=>Et)),e.rXU(e.aKT),e.rXU(e.c1b),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:g,selectors:[["p-tabPanel"]],contentQueries:function(r,o,s){if(1&r&&e.wni(s,N.Ei,4),2&r){let u;e.mGM(u=e.lsd())&&(o.templates=u)}},hostAttrs:[1,"p-element"],inputs:{closable:[2,"closable","closable",e.L39],headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:[2,"cache","cache",e.L39],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},features:[e.GFd],ngContentSelectors:xt,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(r,o){1&r&&(e.NAR(),e.DNE(0,un,3,6,"div",0)),2&r&&e.Y8G("ngIf",!o.closed)},dependencies:[y.bT,y.T3],encapsulation:2})}return g})(),Et=(()=>{class g{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(t))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new e.bkB;onClose=new e.bkB;activeIndexChange=new e.bkB;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(t,r,o,s){this.platformId=t,this.el=r,this.cd=o,this.renderer=s}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(t=>{this.initTabs(),this.refreshButtonState(),this.callResizeObserver()}),this.templates.forEach(t=>{switch(t.getType()){case"previousicon":this.previousIconTemplate=t.template;break;case"nexticon":this.nextIconTemplate=t.template}})}callResizeObserver(){(0,y.UE)(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}ngAfterViewInit(){this.callResizeObserver()}bindResizeObserver(){this.container=w.D.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=w.D.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){(0,y.UE)(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(t){return`${t}_header_action`}getTabContentId(t){return`${t}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(t,r){switch(t.code){case"ArrowLeft":this.onTabArrowLeftKey(t);break;case"ArrowRight":this.onTabArrowRightKey(t);break;case"Home":case"PageUp":this.onTabHomeKey(t);break;case"End":case"PageDown":this.onTabEndKey(t);break;case"Enter":case"Space":this.open(t,r)}}onTabArrowLeftKey(t){const r=this.findPrevHeaderAction(t.target.parentElement),o=w.D.getAttribute(r,"data-pc-index");r?this.changeFocusedTab(t,r,o):this.onTabEndKey(t),t.preventDefault()}onTabArrowRightKey(t){const r=this.findNextHeaderAction(t.target.parentElement),o=w.D.getAttribute(r,"data-pc-index");r?this.changeFocusedTab(t,r,o):this.onTabHomeKey(t),t.preventDefault()}onTabHomeKey(t){const r=this.findFirstHeaderAction(),o=w.D.getAttribute(r,"data-pc-index");this.changeFocusedTab(t,r,o),t.preventDefault()}onTabEndKey(t){const r=this.findLastHeaderAction(),o=w.D.getAttribute(r,"data-pc-index");this.changeFocusedTab(t,r,o),t.preventDefault()}changeFocusedTab(t,r,o){r&&(w.D.focus(r),r.scrollIntoView({block:"nearest"}),this.selectOnFocus)&&this.open(t,this.tabs[o])}findNextHeaderAction(t,r=!1){const o=r?t:t.nextElementSibling;return o?w.D.getAttribute(o,"data-p-disabled")||"inkbar"===w.D.getAttribute(o,"data-pc-section")?this.findNextHeaderAction(o):w.D.findSingle(o,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(t,r=!1){const o=r?t:t.previousElementSibling;return o?w.D.getAttribute(o,"data-p-disabled")||"inkbar"===w.D.getAttribute(o,"data-pc-section")?this.findPrevHeaderAction(o):w.D.findSingle(o,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){return this.findNextHeaderAction(this.navbar.nativeElement.firstElementChild,!0)}findLastHeaderAction(){const t=this.navbar.nativeElement.lastElementChild,r="inkbar"===w.D.getAttribute(t,"data-pc-section")?t.previousElementSibling:t;return this.findPrevHeaderAction(r,!0)}open(t,r){if(r.disabled)t&&t.preventDefault();else{if(!r.selected){let o=this.findSelectedTab();o&&(o.selected=!1),this.tabChanged=!0,r.selected=!0;let s=this.findTabIndex(r);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(s),this.onChange.emit({originalEvent:t,index:s}),this.updateScrollBar(s)}t&&t.preventDefault()}}close(t,r){this.controlClose?this.onClose.emit({originalEvent:t,index:this.findTabIndex(r),close:()=>{this.closeTab(r)}}):(this.closeTab(r),this.onClose.emit({originalEvent:t,index:this.findTabIndex(r)}))}closeTab(t){if(!t.disabled){if(t.selected){this.tabChanged=!0,t.selected=!1;for(let r=0;r<this.tabs.length;r++){let o=this.tabs[r];if(!o.closed&&!t.disabled&&o!=t){o.selected=!0;break}}}t.closed=!0,setTimeout(()=>{this.updateInkBar()})}}findSelectedTab(){for(let t=0;t<this.tabs.length;t++)if(this.tabs[t].selected)return this.tabs[t];return null}findTabIndex(t){let r=-1;for(let o=0;o<this.tabs.length;o++)if(this.tabs[o]==t){r=o;break}return r}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if((0,y.UE)(this.platformId)&&this.navbar){const t=w.D.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!t)return;this.inkbar.nativeElement.style.width=w.D.getWidth(t)+"px",this.inkbar.nativeElement.style.left=w.D.getOffset(t).left-w.D.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(t){let r=this.navbar.nativeElement.children[t];r&&r.scrollIntoView({block:"nearest"})}updateButtonState(){const t=this.content.nativeElement,{scrollLeft:r,scrollWidth:o}=t,s=w.D.getWidth(t);this.backwardIsDisabled=0===r,this.forwardIsDisabled=Math.round(r)===o-s}refreshButtonState(){this.container=w.D.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=w.D.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.list.offsetWidth>=this.container.offsetWidth&&(this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.markForCheck())}onScroll(t){this.scrollable&&this.updateButtonState(),t.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((t,r)=>r?t+w.D.getWidth(r):t,0)}navBackward(){const t=this.content.nativeElement,r=w.D.getWidth(t)-this.getVisibleButtonWidths(),o=t.scrollLeft-r;t.scrollLeft=o<=0?0:o}navForward(){const t=this.content.nativeElement,r=w.D.getWidth(t)-this.getVisibleButtonWidths(),o=t.scrollLeft+r,s=t.scrollWidth-r;t.scrollLeft=o>=s?s:o}static \u0275fac=function(r){return new(r||g)(e.rXU(e.Agw),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(e.sFG))};static \u0275cmp=e.VBU({type:g,selectors:[["p-tabView"]],contentQueries:function(r,o,s){if(1&r&&(e.wni(s,Nt,4),e.wni(s,N.Ei,4)),2&r){let u;e.mGM(u=e.lsd())&&(o.tabPanels=u),e.mGM(u=e.lsd())&&(o.templates=u)}},viewQuery:function(r,o){if(1&r&&(e.GBs(pn,5),e.GBs(dn,5),e.GBs(hn,5),e.GBs(mn,5),e.GBs(_n,5),e.GBs(fn,5)),2&r){let s;e.mGM(s=e.lsd())&&(o.content=s.first),e.mGM(s=e.lsd())&&(o.navbar=s.first),e.mGM(s=e.lsd())&&(o.prevBtn=s.first),e.mGM(s=e.lsd())&&(o.nextBtn=s.first),e.mGM(s=e.lsd())&&(o.inkbar=s.first),e.mGM(s=e.lsd())&&(o.elementToObserve=s.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:[2,"controlClose","controlClose",e.L39],scrollable:[2,"scrollable","scrollable",e.L39],activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",e.L39],nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:[2,"autoHideButtons","autoHideButtons",e.L39],tabindex:[2,"tabindex","tabindex",e.Udg]},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},features:[e.GFd],ngContentSelectors:xt,decls:14,vars:13,consts:[["elementToObserve",""],["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["role","tablist",1,"p-tabview-nav"],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"click","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"click","styleClass"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"]],template:function(r,o){if(1&r){const s=e.RV6();e.NAR(),e.j41(0,"div",6)(1,"div",7,0),e.DNE(3,Tn,4,4,"button",8),e.j41(4,"div",9,1),e.bIt("scroll",function(m){return e.eBV(s),e.Njj(o.onScroll(m))}),e.j41(6,"ul",10,2),e.DNE(8,Ln,1,1,"ng-template",11),e.nrm(9,"li",12,3),e.k0s()(),e.DNE(11,Jn,4,4,"button",13),e.k0s(),e.j41(12,"div",14),e.SdG(13),e.k0s()()}2&r&&(e.HbH(o.styleClass),e.Y8G("ngClass",e.eq3(11,bn,o.scrollable))("ngStyle",o.style),e.BMQ("data-pc-name","tabview"),e.R7$(3),e.Y8G("ngIf",o.scrollable&&!o.backwardIsDisabled&&o.autoHideButtons),e.R7$(),e.BMQ("data-pc-section","navcontent"),e.R7$(2),e.BMQ("data-pc-section","nav"),e.R7$(2),e.Y8G("ngForOf",o.tabs),e.R7$(),e.BMQ("data-pc-section","inkbar"),e.R7$(2),e.Y8G("ngIf",o.scrollable&&!o.forwardIsDisabled&&o.buttonVisible))},dependencies:()=>[y.YU,y.Sq,y.bT,y.T3,y.B3,Me.m,ve.n,Ge.A,Pt.Y,Re.v],styles:["@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}\n"],encapsulation:2,changeDetection:0})}return g})(),Wn=(()=>{class g{static \u0275fac=function(r){return new(r||g)};static \u0275mod=e.$C({type:g});static \u0275inj=e.G2t({imports:[y.MD,N.Gg,Me.S,ve.Z,Ge.A,Pt.Y,Re.v,N.Gg]})}return g})();var wt=v(935);let Ft=(()=>{class g{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}static{this.\u0275fac=function(r){return new(r||g)(e.rXU($.up,16))}}static{this.\u0275pipe=e.EJ8({name:"safeHtml",type:g,pure:!0})}}return g})();const Hn=["productPackageDropdown"],Zn=["packageTypeDropdown"],Kn=["salesChannelDropdown"],Qn=["productAutocomplete"],qn=(g,I)=>({profitRate:20,cost:g,commission:I}),ei=(g,I)=>({cost:g,commission:I}),ti=()=>[0,10,20],ni=()=>({width:"50vw"});function ii(g,I){1&g&&(e.nrm(0,"i",21),e.j41(1,"span"),e.EFF(2,"\u0417\u0430\u043a\u0443\u043f\u043a\u0430"),e.k0s())}function gi(g,I){1&g&&(e.j41(0,"tr"),e.nrm(1,"th",26),e.j41(2,"th",26),e.EFF(3,"ID"),e.k0s(),e.j41(4,"th"),e.EFF(5,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.k0s(),e.j41(6,"th",26),e.EFF(7,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.k0s(),e.j41(8,"th",26),e.EFF(9,"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043d\u0430"),e.k0s()())}function ri(g,I){if(1&g){const t=e.RV6();e.j41(0,"p-inputNumber",32),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG().$implicit;return e.DH7(s.count,o)||(s.count=o),e.Njj(o)}),e.k0s()}if(2&g){const t=e.XpG().$implicit;e.R50("ngModel",t.count),e.Y8G("min",0)("required",!0)("useGrouping",!1)}}function oi(g,I){if(1&g&&e.EFF(0),2&g){const t=e.XpG().$implicit;e.SpI(" ",t.count," ")}}function si(g,I){if(1&g){const t=e.RV6();e.j41(0,"p-inputNumber",33),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG().$implicit;return e.DH7(s.price,o)||(s.price=o),e.Njj(o)}),e.k0s()}if(2&g){const t=e.XpG().$implicit;e.R50("ngModel",t.price),e.Y8G("maxFractionDigits",2)("min",0)("required",!0)("useGrouping",!1)}}function li(g,I){if(1&g&&e.EFF(0),2&g){const t=e.XpG().$implicit;e.SpI(" ",t.price," ")}}function Ci(g,I){if(1&g){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"p-button",27),e.bIt("click",function(){const o=e.eBV(t).rowIndex,s=e.XpG(4);return e.Njj(s.removeItem(s.calculation.items,o))}),e.k0s()(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td",28)(8,"p-cellEditor"),e.DNE(9,ri,1,4,"ng-template",29)(10,oi,1,1,"ng-template",30),e.k0s()(),e.j41(11,"td",31)(12,"p-cellEditor"),e.DNE(13,si,1,5,"ng-template",29)(14,li,1,1,"ng-template",30),e.k0s()()()}if(2&g){const t=I.$implicit;e.R7$(4),e.JRh(t.productID),e.R7$(2),e.JRh(t.product.name),e.R7$(),e.Y8G("pEditableColumn",t.count),e.R7$(4),e.Y8G("pEditableColumn",t.price)}}function Ii(g,I){if(1&g&&(e.j41(0,"tr")(1,"td",34),e.EFF(2,"\u0418\u0442\u043e\u0433\u043e:"),e.k0s(),e.j41(3,"td",35),e.EFF(4),e.k0s(),e.j41(5,"td",35),e.EFF(6),e.k0s()()),2&g){const t=e.XpG(4);e.R7$(4),e.SpI(" ",t.calculationTotalProductCount," "),e.R7$(2),e.SpI(" ",t.calculationTotalSum," ")}}function ai(g,I){if(1&g&&(e.j41(0,"p-table",24),e.DNE(1,gi,10,0,"ng-template",14)(2,Ci,15,4,"ng-template",15)(3,Ii,7,2,"ng-template",25),e.k0s()),2&g){const t=e.XpG(3);e.Y8G("value",t.calculation.items)}}function Ai(g,I){if(1&g&&(e.j41(0,"div",36)(1,"div"),e.EFF(2),e.k0s()()),2&g){const t=I.$implicit;e.R7$(2),e.Lme("",t.iD,": ",t.name,"")}}function ci(g,I){1&g&&e.EFF(0,"\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u0430")}function ui(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",5),e.DNE(1,ai,4,1,"p-table",22),e.j41(2,"p-autoComplete",23,1),e.nI1(4,"async"),e.bIt("completeMethod",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.findProductsByName(o))})("onSelect",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.addProduct(o))}),e.DNE(5,Ai,3,2,"ng-template",17)(6,ci,1,0,"ng-template",18),e.k0s()()}if(2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.calculation.items.length),e.R7$(),e.Y8G("minLength",3)("suggestions",e.bMT(4,3,t.products))}}function pi(g,I){1&g&&(e.nrm(0,"i",37),e.j41(1,"span"),e.EFF(2,"\u0422\u0438\u043f\u043e\u0444\u043e\u0440\u043c\u0430\u0442\u044b"),e.k0s())}function di(g,I){if(1&g&&(e.j41(0,"div",36)(1,"div"),e.EFF(2),e.k0s()()),2&g){const t=I.$implicit;e.R7$(2),e.Lme("",t.iD,": ",t.name,"")}}function hi(g,I){1&g&&e.EFF(0,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0440\u0442\u0438\u043a\u0443\u043b")}function mi(g,I){if(1&g&&e.EFF(0),2&g){const t=e.XpG().$implicit;e.E5c(" \u0410\u0440\u0442\u0438\u043a\u0443\u043b: ",t.productPackage.iD,", ",t.productPackage.productCount,"\u0448\u0442, ",t.name," ")}}function _i(g,I){1&g&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"\u0422\u0438\u043f \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438"),e.k0s(),e.j41(3,"th"),e.EFF(4,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.k0s(),e.j41(5,"th"),e.EFF(6,"\u0426\u0435\u043d\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438"),e.k0s(),e.j41(7,"th"),e.EFF(8,"\u0421\u0443\u043c\u043c\u0430"),e.k0s()())}function fi(g,I){if(1&g&&(e.j41(0,"tr")(1,"td",34),e.EFF(2,"\u0418\u0442\u043e\u0433\u043e:"),e.k0s(),e.j41(3,"td",35),e.EFF(4),e.k0s()()),2&g){const t=e.XpG(3).$implicit,r=e.XpG(3);e.R7$(4),e.JRh(r.getPackagePrice(t))}}function bi(g,I){if(1&g&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&g){const t=I.ngIf;e.R7$(),e.SpI(" ",t.name," ")}}function vi(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",47)(1,"p-inputNumber",57),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2).$implicit;return e.DH7(s.amount,o)||(s.amount=o),e.Njj(o)}),e.k0s(),e.nrm(2,"span",58),e.nI1(3,"safeHtml"),e.k0s()}if(2&g){const t=e.XpG().ngIf,r=e.XpG().$implicit,o=e.XpG(6);e.R7$(),e.R50("ngModel",r.amount),e.Y8G("maxFractionDigits",t.decimalPlaces)("minFractionDigits",t.decimalPlaces)("min",0)("showButtons",!0)("step",1/o.Math.pow(10,t.decimalPlaces))("useGrouping",!1),e.R7$(),e.Y8G("innerHtml",e.bMT(3,8,o.getUnitOfMeasure(t.unitOfMeasure)),e.npT)}}function yi(g,I){if(1&g&&(e.qex(0),e.EFF(1),e.nrm(2,"span",59),e.nI1(3,"safeHtml"),e.bVm()),2&g){const t=e.XpG().ngIf,r=e.XpG().$implicit,o=e.XpG(6);e.R7$(),e.SpI(" ",r.amount,""),e.R7$(),e.Y8G("innerHtml",e.bMT(3,2,o.getUnitOfMeasure(t.unitOfMeasure)),e.npT)}}function Si(g,I){1&g&&(e.j41(0,"p-cellEditor"),e.DNE(1,vi,4,10,"ng-template",29)(2,yi,4,4,"ng-template",30),e.k0s())}function ki(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",47)(1,"p-inputNumber",60),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG().$implicit;return e.DH7(s.pricePerUom,o)||(s.pricePerUom=o),e.Njj(o)}),e.k0s(),e.nrm(2,"span",58),e.nI1(3,"safeHtml"),e.k0s()}if(2&g){const t=e.XpG().$implicit,r=e.XpG(6);e.R7$(),e.R50("ngModel",t.pricePerUom),e.Y8G("maxFractionDigits",2)("minFractionDigits",0)("min",0)("showButtons",!0)("step",1)("useGrouping",!1),e.R7$(),e.Y8G("innerHtml",e.bMT(3,8,"\u20bd/"+r.getUnitOfMeasureByPackageTypeID(t.packageTypeID)),e.npT)}}function Ti(g,I){if(1&g&&(e.EFF(0),e.nrm(1,"span",59)),2&g){const t=e.XpG().$implicit,r=e.XpG(6);e.SpI(" ",t.pricePerUom,"\u20bd/"),e.R7$(),e.Y8G("innerHtml",r.getUnitOfMeasureByPackageTypeID(t.packageTypeID),e.npT)}}function Di(g,I){if(1&g){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"p-button",54),e.bIt("click",function(){const o=e.eBV(t).rowIndex,s=e.XpG(3).$implicit,u=e.XpG(3);return e.Njj(u.removeItem(s.salesItemPackages,o))}),e.k0s(),e.DNE(3,bi,2,1,"span",20),e.k0s(),e.j41(4,"td",55),e.DNE(5,Si,3,0,"p-cellEditor",20),e.k0s(),e.j41(6,"td",56)(7,"p-cellEditor"),e.DNE(8,ki,4,10,"ng-template",29)(9,Ti,2,2,"ng-template",30),e.k0s()(),e.j41(10,"td",35),e.EFF(11),e.nI1(12,"number"),e.k0s()()}if(2&g){const t=I.$implicit,r=e.XpG(6);e.R7$(3),e.Y8G("ngIf",r.getPackageType(t.packageTypeID)),e.R7$(),e.Y8G("pEditableColumn",t.amount),e.R7$(),e.Y8G("ngIf",r.getPackageType(t.packageTypeID)),e.R7$(),e.Y8G("pEditableColumn",t.pricePerUom),e.R7$(5),e.SpI(" ",e.i5U(12,5,t.pricePerUom*t.amount,"1.2-2"),"\u20bd ")}}function Pi(g,I){if(1&g&&(e.j41(0,"p-table",24),e.DNE(1,_i,9,0,"ng-template",14)(2,fi,5,1,"ng-template",25)(3,Di,13,8,"ng-template",15),e.k0s()),2&g){const t=e.XpG(2).$implicit;e.Y8G("value",t.salesItemPackages)}}function xi(g,I){if(1&g&&(e.j41(0,"div",36),e.nrm(1,"div",61),e.nI1(2,"safeHtml"),e.k0s()),2&g){let t;const r=I.$implicit,o=e.XpG(5);e.R7$(),e.Y8G("innerHTML",e.bMT(2,1,r.name+" ("+(null!==(t=null==r.prices||null==r.prices[0]?null:r.prices[0].price)&&void 0!==t?t:"-")+" \u20bd/"+o.getUnitOfMeasure(r.unitOfMeasure)+")"),e.npT)}}function Ni(g,I){if(1&g&&(e.j41(0,"div",36)(1,"div"),e.EFF(2),e.k0s()()),2&g){const t=I.$implicit;e.R7$(2),e.JRh(t.name)}}function Ei(g,I){1&g&&e.EFF(0,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u043d \u043f\u0440\u043e\u0434\u0430\u0436 ")}function wi(g,I){1&g&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"\u041a\u0430\u043d\u0430\u043b"),e.k0s(),e.j41(3,"th",35),e.EFF(4,"\u0426\u0435\u043d\u0430"),e.k0s(),e.j41(5,"th",35),e.EFF(6,"\u0421\u0435\u0431\u0435\u0441"),e.k0s(),e.j41(7,"th",35),e.EFF(8,"\u041e\u0442\u0433\u0440\u0443\u0437\u043a\u0430"),e.k0s(),e.j41(9,"th",35),e.EFF(10,"\u0420\u0435\u043a\u043b\u0430\u043c\u0430, \u20bd/\u043f\u043b\u0430\u043d"),e.k0s(),e.j41(11,"th"),e.EFF(12,"\u041a\u043e\u043b-\u0432\u043e"),e.k0s(),e.j41(13,"th",35),e.EFF(14,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.k0s(),e.j41(15,"th",35),e.EFF(16,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b"),e.k0s(),e.nrm(17,"th"),e.k0s())}function Fi(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",47)(1,"p-inputNumber",74),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2).$implicit;return e.DH7(s.price,o)||(s.price=o),e.Njj(o)}),e.k0s(),e.j41(2,"span",49),e.EFF(3,"\u20bd"),e.k0s()()}if(2&g){const t=e.XpG(2).$implicit;e.R7$(),e.R50("ngModel",t.price),e.Y8G("maxFractionDigits",2)("minFractionDigits",0)("min",0)("required",!0)("showButtons",!0)("step",1)("useGrouping",!1)}}function ji(g,I){if(1&g&&(e.j41(0,"div"),e.EFF(1),e.k0s(),e.j41(2,"p-tag",75),e.EFF(3),e.nI1(4,"number"),e.nI1(5,"number"),e.k0s()),2&g){const t=e.XpG().ngIf,r=e.XpG().$implicit;e.R7$(),e.SpI(" ",r.price,"\u20bd "),e.R7$(),e.Y8G("severity",r.price<t.commission+t.cost?"danger":(r.price-(t.commission+t.cost))/t.cost>t.profitRate/100?"success":"info"),e.R7$(),e.Lme(" ",e.i5U(4,4,r.price-(t.commission+t.cost),"1.2-2"),"\u20bd/",e.i5U(5,7,(r.price-(t.commission+t.cost))/t.cost*100,"1.0-2"),"% ")}}function Bi(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",47)(1,"p-inputNumber",76),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2).$implicit;return e.DH7(s.deliveryCost,o)||(s.deliveryCost=o),e.Njj(o)}),e.k0s(),e.j41(2,"span",49),e.EFF(3,"\u20bd"),e.k0s()()}if(2&g){const t=e.XpG(2).$implicit;e.R7$(),e.R50("ngModel",t.deliveryCost),e.Y8G("maxFractionDigits",2)("minFractionDigits",0)("min",0)("required",!0)("showButtons",!0)("step",50)("useGrouping",!1)}}function Ri(g,I){if(1&g&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&g){const t=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",t.deliveryCost,"\u20bd ")}}function Gi(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",47)(1,"p-inputNumber",74),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2).$implicit;return e.DH7(s.marketingBudget,o)||(s.marketingBudget=o),e.Njj(o)}),e.k0s(),e.j41(2,"span",49),e.EFF(3,"\u20bd"),e.k0s()()}if(2&g){const t=e.XpG(2).$implicit;e.R7$(),e.R50("ngModel",t.marketingBudget),e.Y8G("maxFractionDigits",2)("minFractionDigits",0)("min",0)("required",!0)("showButtons",!0)("step",100)("useGrouping",!1)}}function Mi(g,I){if(1&g&&e.EFF(0),2&g){const t=e.XpG(2).$implicit;e.SpI(" ",t.marketingBudget," ")}}function Oi(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",47)(1,"p-inputNumber",78),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2).$implicit;return e.DH7(s.amount,o)||(s.amount=o),e.Njj(o)}),e.k0s(),e.j41(2,"span",49),e.EFF(3,"\u0448\u0442"),e.k0s()()}if(2&g){const t=e.XpG(2).$implicit;e.R7$(),e.R50("ngModel",t.amount),e.Y8G("min",0)("required",!0)("showButtons",!0)("step",10)("useGrouping",!1)}}function Vi(g,I){if(1&g&&e.EFF(0),2&g){const t=e.XpG(2).$implicit;e.SpI(" ",t.amount,"\u0448\u0442 ")}}function $i(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",47)(1,"p-inputNumber",74),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2).$implicit;return e.DH7(s.commissionMultiplier,o)||(s.commissionMultiplier=o),e.Njj(o)}),e.k0s(),e.j41(2,"span",49),e.EFF(3,"%"),e.k0s()()}if(2&g){const t=e.XpG(2).$implicit;e.R7$(),e.R50("ngModel",t.commissionMultiplier),e.Y8G("maxFractionDigits",1)("minFractionDigits",1)("min",0)("required",!0)("showButtons",!0)("step",.5)("useGrouping",!1)}}function Ui(g,I){if(1&g&&(e.j41(0,"div",79),e.EFF(1),e.k0s()),2&g){const t=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",t.commissionMultiplier,"% ")}}function Li(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",47)(1,"p-inputNumber",74),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2).$implicit;return e.DH7(s.returnPercentage,o)||(s.returnPercentage=o),e.Njj(o)}),e.k0s(),e.j41(2,"span",49),e.EFF(3,"%"),e.k0s()()}if(2&g){const t=e.XpG(2).$implicit;e.R7$(),e.R50("ngModel",t.returnPercentage),e.Y8G("maxFractionDigits",1)("minFractionDigits",1)("min",0)("required",!0)("showButtons",!0)("step",.5)("useGrouping",!1)}}function Yi(g,I){if(1&g&&e.EFF(0),2&g){const t=e.XpG(2).$implicit;e.SpI(" ",t.returnPercentage,"% ")}}function zi(g,I){if(1&g){const t=e.RV6();e.j41(0,"tr")(1,"td",65)(2,"div"),e.EFF(3),e.k0s()(),e.j41(4,"td",66)(5,"p-cellEditor"),e.DNE(6,Fi,4,8,"ng-template",29)(7,ji,6,10,"ng-template",30),e.k0s()(),e.j41(8,"td",67)(9,"div",68),e.EFF(10),e.nI1(11,"number"),e.k0s()(),e.j41(12,"td",69)(13,"p-cellEditor"),e.DNE(14,Bi,4,8,"ng-template",29)(15,Ri,2,1,"ng-template",30),e.k0s()(),e.j41(16,"td",70)(17,"p-cellEditor"),e.DNE(18,Gi,4,8,"ng-template",29)(19,Mi,1,1,"ng-template",30),e.k0s()(),e.j41(20,"td",71)(21,"p-cellEditor"),e.DNE(22,Oi,4,6,"ng-template",29)(23,Vi,1,1,"ng-template",30),e.k0s()(),e.j41(24,"td",72)(25,"p-cellEditor"),e.DNE(26,$i,4,8,"ng-template",29)(27,Ui,2,1,"ng-template",30),e.k0s()(),e.j41(28,"td",73)(29,"p-cellEditor"),e.DNE(30,Li,4,8,"ng-template",29)(31,Yi,1,1,"ng-template",30),e.k0s()(),e.j41(32,"td",65)(33,"p-button",27),e.bIt("click",function(){e.eBV(t);const o=e.XpG().rowIndex,s=e.XpG(2).$implicit,u=e.XpG(3);return e.Njj(u.removeItem(s.salesPlans,o))}),e.k0s()()()}if(2&g){const t=I.ngIf,r=e.XpG().$implicit;e.R7$(3),e.SpI(" ",null==r.salesChannel?null:r.salesChannel.name," "),e.R7$(),e.Y8G("pEditableColumn",r.price),e.R7$(6),e.SpI(" ",e.i5U(11,7,t.commission+t.cost,"1.2-2"),"\u20bd "),e.R7$(6),e.Y8G("pEditableColumn",r.marketingBudget),e.R7$(4),e.Y8G("pEditableColumn",r.amount),e.R7$(4),e.Y8G("pEditableColumn",r.commissionMultiplier),e.R7$(4),e.Y8G("pEditableColumn",r.returnPercentage)}}function Xi(g,I){if(1&g){const t=e.RV6();e.j41(0,"p-calendar",80),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG().$implicit;return e.DH7(s.deliveryDate,o)||(s.deliveryDate=o),e.Njj(o)}),e.k0s()}if(2&g){const t=e.XpG().$implicit;e.R50("ngModel",t.deliveryDate),e.Y8G("readonlyInput",!0)}}function Ji(g,I){if(1&g&&(e.EFF(0),e.nI1(1,"date")),2&g){const t=e.XpG().$implicit;e.SpI(" ",e.i5U(1,1,t.deliveryDate,"dd.MM.yyyy")," ")}}function Wi(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",47)(1,"p-inputNumber",74),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG().$implicit;return e.DH7(s.commissionAddition,o)||(s.commissionAddition=o),e.Njj(o)}),e.k0s(),e.j41(2,"span",49),e.EFF(3,"\u20bd"),e.k0s()()}if(2&g){const t=e.XpG().$implicit,r=e.XpG(5);e.R7$(),e.R50("ngModel",t.commissionAddition),e.Y8G("maxFractionDigits",2)("minFractionDigits",2)("min",r.getLogisticPrice(t))("required",!0)("showButtons",!0)("step",5)("useGrouping",!1)}}function Hi(g,I){if(1&g&&(e.j41(0,"div",81),e.EFF(1),e.k0s()),2&g){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.commissionAddition,"\u20bd ")}}function Zi(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",47)(1,"p-inputNumber",74),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG().$implicit;return e.DH7(s.returnCost,o)||(s.returnCost=o),e.Njj(o)}),e.k0s(),e.j41(2,"span",49),e.EFF(3,"\u20bd"),e.k0s()()}if(2&g){const t=e.XpG().$implicit,r=e.XpG(5);e.R7$(),e.R50("ngModel",t.returnCost),e.Y8G("maxFractionDigits",2)("minFractionDigits",2)("min",r.getBackwardLogisticPrice(t))("required",!0)("showButtons",!0)("step",5)("useGrouping",!1)}}function Ki(g,I){if(1&g&&e.EFF(0),2&g){const t=e.XpG().$implicit;e.SpI(" ",t.returnCost,"\u20bd ")}}function Qi(g,I){if(1&g){const t=e.RV6();e.j41(0,"span",85),e.bIt("click",function(){const o=e.eBV(t).ngIf,s=e.XpG(3).$implicit;return e.Njj(s.price=o)}),e.EFF(1),e.nI1(2,"number"),e.k0s()}if(2&g){const t=I.ngIf,r=e.XpG().$implicit;e.Y8G("pTooltip","\u041e\u0442\u043f\u0443\u0441\u043a\u043d\u0430\u044f \u0446\u0435\u043d\u0430 \u0434\u043b\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u0438 "+r+"%"),e.R7$(),e.Lme(" ",e.i5U(2,3,t,"1.2-2"),"\u20bd \u0434\u043b\u044f ",r,"% ")}}function qi(g,I){if(1&g&&(e.j41(0,"div"),e.DNE(1,Qi,3,6,"span",84),e.k0s()),2&g){const t=I.$implicit,r=e.XpG().ngIf,o=e.XpG().$implicit,s=e.XpG(5);e.R7$(),e.Y8G("ngIf",s.Math.ceil(100*(r.cost*(1+t/100)+o.commissionAddition)/(1-o.commissionMultiplier/100))/100)}}function eg(g,I){if(1&g&&(e.j41(0,"div",88),e.EFF(1),e.k0s()),2&g){const t=e.XpG(3).$implicit,r=e.XpG(5);e.R7$(),e.SpI(" ",r.getLogisticPrice(t),"\u20bd ")}}function tg(g,I){if(1&g){const t=e.RV6();e.qex(0),e.j41(1,"p-dropdown",86),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2).$implicit;return e.DH7(s.selectedLogisticCoefficient,o)||(s.selectedLogisticCoefficient=o),e.Njj(o)}),e.k0s(),e.DNE(2,eg,2,1,"div",87),e.bVm()}if(2&g){const t=e.XpG(2).$implicit;e.R7$(),e.R50("ngModel",t.selectedLogisticCoefficient),e.Y8G("options",null==t.salesChannel?null:t.salesChannel.logisticCoefficients),e.R7$(),e.Y8G("ngIf",null==t.salesChannel||null==t.salesChannel.logisticCoefficients?null:t.salesChannel.logisticCoefficients.length)}}function ng(g,I){if(1&g&&(e.j41(0,"tr")(1,"td"),e.DNE(2,qi,2,1,"div",19),e.k0s(),e.nrm(3,"td")(4,"td"),e.j41(5,"td",35),e.DNE(6,tg,3,3,"ng-container",20),e.k0s(),e.j41(7,"td",35)(8,"div",82),e.EFF(9),e.k0s(),e.j41(10,"div",83),e.EFF(11),e.k0s()()()),2&g){const t=e.XpG().$implicit,r=e.XpG(5);e.R7$(2),e.Y8G("ngForOf",e.lJ4(4,ti)),e.R7$(4),e.Y8G("ngIf",null==t.salesChannel||null==t.salesChannel.logisticCoefficients?null:t.salesChannel.logisticCoefficients.length),e.R7$(3),e.SpI("",null==t.salesChannel?null:t.salesChannel.CancelledSaleHandlingPrice,"\u20bd "),e.R7$(2),e.SpI("",r.getBackwardLogisticPrice(t),"\u20bd")}}function ig(g,I){if(1&g&&(e.DNE(0,zi,34,10,"tr",20),e.j41(1,"tr")(2,"td",62)(3,"p-cellEditor"),e.DNE(4,Xi,1,2,"ng-template",29)(5,Ji,2,4,"ng-template",30),e.k0s()(),e.j41(6,"td",63)(7,"p-cellEditor"),e.DNE(8,Wi,4,8,"ng-template",29)(9,Hi,2,1,"ng-template",30),e.k0s()(),e.j41(10,"td",64)(11,"p-cellEditor"),e.DNE(12,Zi,4,8,"ng-template",29)(13,Ki,1,1,"ng-template",30),e.k0s()()(),e.DNE(14,ng,12,5,"tr",20)),2&g){const t=I.$implicit,r=e.XpG(2).$implicit,o=e.XpG().$implicit,s=e.XpG(2);e.Y8G("ngIf",e.l_i(4,qn,s.getSelfCost(r,t,o),s.getCommission(t))),e.R7$(6),e.Y8G("pEditableColumn",t.commissionAddition),e.R7$(4),e.Y8G("pEditableColumn",t.returnCost),e.R7$(4),e.Y8G("ngIf",e.l_i(7,ei,s.getSelfCost(r,t,o),s.getCommission(t)))}}function gg(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",40)(1,"p-button",41),e.bIt("click",function(){e.eBV(t);const o=e.XpG().index,s=e.XpG().$implicit,u=e.XpG(2);return e.Njj(u.removeItem(s.salesItems,o))}),e.k0s(),e.j41(2,"h5"),e.EFF(3,"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438"),e.k0s(),e.j41(4,"div",42)(5,"div",43)(6,"div")(7,"label",44),e.EFF(8,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.k0s()(),e.j41(9,"input",45),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG().$implicit;return e.DH7(s.name,o)||(s.name=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",43)(11,"label",46),e.EFF(12,"\u041e\u0431\u044a\u0451\u043c"),e.k0s(),e.j41(13,"div",47)(14,"p-inputNumber",48),e.bIt("onInput",function(){e.eBV(t);const o=e.XpG().$implicit,s=e.XpG(3);return e.Njj(s.onVolumeUpdated(o))}),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG().$implicit;return e.DH7(s.volume,o)||(s.volume=o),e.Njj(o)}),e.k0s(),e.j41(15,"span",49),e.EFF(16,"\u043b"),e.k0s()()(),e.j41(17,"div",43)(18,"label",50),e.EFF(19,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0444\u0430\u0441\u043e\u0432\u043a\u0438"),e.k0s(),e.j41(20,"div",47)(21,"p-inputNumber",51),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG().$implicit;return e.DH7(s.packagingPrice,o)||(s.packagingPrice=o),e.Njj(o)}),e.k0s(),e.j41(22,"span",49),e.EFF(23,"\u20bd"),e.k0s()()()(),e.DNE(24,Pi,4,1,"p-table",22),e.j41(25,"p-dropdown",52,2),e.bIt("onChange",function(o){e.eBV(t);const s=e.XpG().$implicit,u=e.XpG(3);return e.Njj(u.addSalesItemPackage(s,o.value))}),e.DNE(27,xi,3,3,"ng-template",17),e.k0s()(),e.j41(28,"div",40)(29,"p-dropdown",53,3),e.nI1(31,"async"),e.bIt("onChange",function(o){e.eBV(t);const s=e.XpG().$implicit,u=e.XpG(3);return e.Njj(u.addSalesPlan(s,o.value))}),e.DNE(32,Ni,3,1,"ng-template",17)(33,Ei,1,0,"ng-template",18),e.k0s(),e.j41(34,"p-table",24),e.DNE(35,wi,18,0,"ng-template",14)(36,ig,15,10,"ng-template",15),e.k0s()()}if(2&g){const t=e.XpG().$implicit,r=e.XpG(3);e.R7$(9),e.R50("ngModel",t.name),e.R7$(5),e.R50("ngModel",t.volume),e.Y8G("maxFractionDigits",1)("minFractionDigits",0)("min",0)("showButtons",!0)("step",.1)("useGrouping",!1),e.R7$(7),e.R50("ngModel",t.packagingPrice),e.Y8G("maxFractionDigits",2)("minFractionDigits",0)("showButtons",!0)("step",1)("useGrouping",!1),e.R7$(3),e.Y8G("ngIf",null==t.salesItemPackages?null:t.salesItemPackages.length),e.R7$(),e.Y8G("options",r.getAvailablePackageTypes(t)),e.R7$(4),e.Y8G("autoDisplayFirst",!1)("options",e.bMT(31,19,r.salesChannels)),e.R7$(5),e.Y8G("value",t.salesPlans)}}function rg(g,I){1&g&&(e.qex(0),e.j41(1,"p-accordionTab",38),e.DNE(2,mi,1,3,"ng-template",14)(3,gg,37,21,"ng-template",39),e.k0s(),e.bVm())}function og(g,I){if(1&g&&(e.qex(0),e.DNE(1,rg,4,0,"ng-container",19),e.bVm()),2&g){const t=I.$implicit;e.R7$(),e.Y8G("ngForOf",t.salesItems)}}function sg(g,I){if(1&g){const t=e.RV6();e.qex(0),e.j41(1,"p-dialog",89),e.mxI("visibleChange",function(o){e.eBV(t);const s=e.XpG(2);return e.DH7(s.duplicateProductDialogVisible,o)||(s.duplicateProductDialogVisible=o),e.Njj(o)}),e.j41(2,"p",90),e.EFF(3),e.k0s()(),e.bVm()}if(2&g){const t=e.XpG(2);e.R7$(),e.Aen(e.lJ4(7,ni)),e.R50("visible",t.duplicateProductDialogVisible),e.Y8G("draggable",!1)("modal",!0)("resizable",!1),e.R7$(2),e.SpI(" ",t.addedProduct.name," ")}}function lg(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",5)(1,"h5"),e.EFF(2,"\u0420\u0430\u0441\u0447\u0451\u0442 \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u0438 \u043f\u043e \u0430\u0440\u0442\u0438\u043a\u0443\u043b\u0443"),e.k0s(),e.j41(3,"span",6)(4,"input",7),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.calculation.name,o)||(s.calculation.name=o),e.Njj(o)}),e.k0s(),e.j41(5,"label",8),e.EFF(6,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0441\u0447\u0451\u0442\u0430"),e.k0s()(),e.j41(7,"span",6)(8,"p-calendar",9),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.calculation.date,o)||(s.calculation.date=o),e.Njj(o)}),e.k0s(),e.j41(9,"label",10),e.EFF(10,"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0443\u043f\u043a\u0438"),e.k0s()(),e.j41(11,"div",11)(12,"p-button",12),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.savePurchaseBatch())}),e.k0s()(),e.j41(13,"p-tabView",13)(14,"p-tabPanel"),e.DNE(15,ii,3,0,"ng-template",14)(16,ui,7,5,"ng-template",15),e.k0s(),e.j41(17,"p-tabPanel"),e.DNE(18,pi,3,0,"ng-template",14),e.j41(19,"div",5)(20,"p-dropdown",16,0),e.bIt("onChange",function(o){e.eBV(t);const s=e.XpG();return e.Njj(s.addSalesItem(o.value))}),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.selectedProductPackage,o)||(s.selectedProductPackage=o),e.Njj(o)}),e.DNE(22,di,3,2,"ng-template",17)(23,hi,1,0,"ng-template",18),e.k0s(),e.j41(24,"p-accordion"),e.DNE(25,og,2,1,"ng-container",19),e.k0s()()()(),e.DNE(26,sg,4,8,"ng-container",20),e.k0s()}if(2&g){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.calculation.name),e.R7$(4),e.R50("ngModel",t.calculation.date),e.Y8G("readonlyInput",!0),e.R7$(12),e.R50("ngModel",t.selectedProductPackage),e.Y8G("options",t.batchPackages),e.R7$(5),e.Y8G("ngForOf",t.calculation.items),e.R7$(),e.Y8G("ngIf",t.addedProduct)}}let Cg=(()=>{class g extends J.x{constructor(t,r,o,s,u,m,D,F){super(F),this.route=t,this.productClient=r,this.purchaseBatchCommandHandlerClient=o,this.salesChannelClient=s,this.messageService=u,this.purchaseService=m,this.router=D,this.productSearchSubject=new Tt.B,this.purchaseBatchIDSubject=new Tt.B,this.batchPackages=[],this.products=new z.t([]),this.salesChannels=new z.t([]),this.Math=Math,this.loading=!1}get duplicateProductDialogVisible(){return!!this.addedProduct}set duplicateProductDialogVisible(t){t||(this.addedProduct=null)}get calculationTotalProductCount(){return this.calculation.items.reduce((t,r)=>Math.round(t+r.count),0)}get calculationTotalSum(){return this.calculation.items.reduce((t,r)=>Math.round(t+r.price*r.count),0)}ngOnInit(){this.titleService.setTitle("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0443\u043f\u043a\u0438"),this.purchaseBatchIDSubject.pipe((0,we.Q)(this.destroyed)).pipe((0,q.n)(r=>this.purchaseService.getBatch(r).pipe((0,T.W)(o=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u043a\u0443\u043f\u043a\u0438",severity:"error",detail:o}),V.w))))).subscribe(r=>{this.batchPackages=r.items.map(o=>o.product.packages).flat(),r.items.forEach(o=>{const s=o.product.packages.reduce((u,m)=>(u.set(m.iD,m),u),new Map);o.salesItems.forEach(u=>{let m={productPackage:s.get(u.productPackageID)};Object.assign(u,m);const D=this.salesChannels.getValue();u.salesPlans.forEach(F=>{const j=D.find(S=>S.iD==F.salesChannelID);if(j){const S=F.salesChannel?.logisticCoefficients;Object.assign(F,{salesChannel:j,selectedLogisticCoefficient:S?.length?S[S.length-1]:null,baseLogisticCost:this.getBaseLogisticCost(u.volume,j.logisticPrices),baseBackwardLogisticCost:this.getBaseLogisticCost(u.volume,j.backwardLogisticPrices)})}})})}),this.calculation=r,this.titleService.setTitle(`\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0443\u043f\u043a\u0438 - ${r.name}`)}),this.productSearchSubject.pipe((0,we.Q)(this.destroyed)).pipe((0,q.n)(r=>this.productClient.findProducts(new G.D.FindProductsModel({count:10,offset:0,name:r,excludedIDs:this.calculation.items.map(o=>o.productID)})).pipe((0,T.W)(o=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:o}),V.w))))).subscribe(r=>{this.products.next(r.items)}),this.salesChannelClient.getSalesChannels().pipe((0,T.W)(r=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u043a\u0430\u043d\u0430\u043b\u043e\u0432 \u043f\u0440\u043e\u0434\u0430\u0436",severity:"error",detail:r}),V.w))).subscribe(r=>{const o=r.map(s=>{const u=s.logisticCoefficients.sort((D,F)=>D.priority-F.priority||D.name.localeCompare(F.name));return s.logisticPrices.sort((D,F)=>F.maxVolume-D.maxVolume),s.backwardLogisticPrices.sort((D,F)=>F.maxVolume-D.maxVolume),Object.assign(s,{logisticCoefficients:u})});this.salesChannels.next(o)});const t=+this.route.snapshot.paramMap.get("id");t>0&&t!=this.calculation?.iD?this.purchaseBatchIDSubject.next(t):this.calculation=new G.D.PurchaseBatch({date:new Date,status:G.D.PurchaseBatchStatus.Unknown,items:[],name:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043a\u0443\u043f\u043a\u0430",iD:0})}addSalesPlan(t,r){if(r){t.salesPlans||(t.salesPlans=[]);const o=this.getSalesItemProductPackage(t),s=this.getProductPackageBatchItem(o),u={salesItem:null,salesItemID:t.iD,iD:0,salesPerMonth:0,salesChannel:r,salesChannelID:r.iD,commissionAddition:0,commissionMultiplier:0,returnPercentage:0,returnCost:0,amount:0,marketingBudget:0,deliveryCost:0,deliveryDate:new Date,status:G.D.SalesPlanStatus.InProcess,price:s.price+t.packagingPrice+this.getPackagePrice(t),baseLogisticCost:this.getBaseLogisticCost(t.volume,r.logisticPrices),baseBackwardLogisticCost:this.getBaseLogisticCost(t.volume,r.backwardLogisticPrices),selectedLogisticCoefficient:null},m=new G.D.SalesPlan(u);t.salesPlans.push(m),this.salesChannelDropdown.clear(null)}}getSalesItemProductPackage(t){return this.getProductPackageBatchItem(t.productPackage).product.packages.find(s=>s.iD==t.productPackageID)}getProductPackageBatchItem(t){return this.calculation.items.find(o=>o.productID==t.productID)}addSalesItem(t){if(t){const r=this.getProductPackageBatchItem(t),o=this.createNewSalesItem(t,r);r.salesItems.push(o),this.productPackageDropdown.clear()}}removeItem(t,r){t.splice(r,1)}getAvailablePackageTypes(t){const r=[],o=new Set(t.salesItemPackages.map(u=>u.packageTypeID)),s=this.purchaseService.getPackageTypes();for(const u of s)o.has(u.iD)||r.push(u);return r}addSalesItemPackage(t,r){r&&(t.salesItemPackages.push(new G.D.SalesItemPackage({packageTypeID:r.iD,amount:0,pricePerUom:r.prices?.[0]?.price??0,salesItemID:t.iD})),this.packageTypeDropdown.clear(null))}getSelfCost(t,r,o){return this.purchaseService.getSalesPlanSelfCost(t,r,o)}getCommission(t){return this.purchaseService.getSalesPlanCommission(t)}getPackagePrice(t){return this.purchaseService.getSalesItemCosts(t)}getPackageType(t){return this.purchaseService.getPackageType(t)}findProductsByName(t){t.query.trim().length>2&&this.productSearchSubject.next(t.query)}addProduct(t){const r=t.value;if(r){this.productAutocomplete.clear();const o=this.calculation.items.find(s=>s.productID==r.iD);if(this.selectedProduct=null,o)this.addedProduct=r;else{const s=new G.D.PurchaseBatchItem({productID:r.iD,count:0,product:r,purchaseBatchID:this.calculation.iD,price:0,salesItems:[],iD:0});this.calculation.items.push(s),this.batchPackages.push(...r.packages)}}}savePurchaseBatch(){this.loading=!0,this.purchaseBatchCommandHandlerClient.updatePurchaseBatch(this.calculation).pipe((0,T.W)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0443\u043f\u043a\u0438",severity:"error",detail:t}),this.loading=!1,V.w))).subscribe(t=>{this.calculation.iD||this.router.navigate(["purchase","edit",{id:t}]),this.purchaseService.getBatch(t).pipe((0,T.W)(r=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u043a\u0443\u043f\u043a\u0438",severity:"error",detail:r}),this.loading=!1,V.w))).subscribe(r=>{this.calculation=r,this.loading=!1,this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0443\u043f\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e"})})})}getUnitOfMeasureByPackageTypeID(t){const o=this.purchaseService.getPackageTypes().find(s=>s.iD==t);return o?this.getUnitOfMeasure(o.unitOfMeasure):"?"}getUnitOfMeasure(t){let r;switch(t){case G.D.UnitOfMeasure.Piece:r="\u0448\u0442";break;case G.D.UnitOfMeasure.SquareMeter:r="\u043c&sup2;";break;default:r=""}return r}onVolumeUpdated(t){t.salesPlans.forEach(r=>{r.baseLogisticCost=this.getBaseLogisticCost(t.volume,r.salesChannel.logisticPrices),r.baseBackwardLogisticCost=this.getBaseLogisticCost(t.volume,r.salesChannel.backwardLogisticPrices)})}createNewSalesItem(t,r){return new G.D.SalesItem({packagingPrice:0,volume:0,salesItemPackages:[],salesPlans:[],iD:0,name:"\u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0430\u044f \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0430",productPackageID:t.iD,productPackage:t,purchaseBatchItemID:r.iD})}getBaseLogisticCost(t,r){let s,o=0,u=t;if(r?.length)for(let m=0;m<=r.length;m++){const D=m==r.length?void 0:r[m],F=u-(D?.maxVolume??0);if(s&&(F>0||null==D)&&(o+=Math.ceil(s.additive?F:u)*(s.pricePerUnit??0)+(s.basePrice??0),!s?.additive))break;u>D.maxVolume&&(u=D?.maxVolume??0),s=D}return o}getLogisticPrice(t){const r=t.baseLogisticCost??0,o=t.selectedLogisticCoefficient?.salesPriceMultiplier??0;return Math.floor(100*(r*(t.selectedLogisticCoefficient?.logisticPriceMultiplier??1)+(t.selectedLogisticCoefficient?.logisticPriceAddition??0)+t.price*o))/100}getBackwardLogisticPrice(t){const r=t.baseBackwardLogisticCost??0,o=t.selectedLogisticCoefficient?.salesPriceMultiplier??0;return Math.floor(100*(r*(t.selectedLogisticCoefficient?.logisticPriceMultiplier??1)+(t.selectedLogisticCoefficient?.logisticPriceAddition??0)+(t.salesChannel?.cancelledSaleHandlingPrice??0)+t.price*o))/100}static{this.\u0275fac=function(r){return new(r||g)(e.rXU(x.nX),e.rXU(G.D.ProductClient),e.rXU(B.X.PurchaseBatchClient),e.rXU(G.D.SalesChannelClient),e.rXU(N.bg),e.rXU(Fe),e.rXU(x.Ix),e.rXU($.hE))}}static{this.\u0275cmp=e.VBU({type:g,selectors:[["app-purchase-editor"]],viewQuery:function(r,o){if(1&r&&(e.GBs(Hn,5),e.GBs(Zn,5),e.GBs(Kn,5),e.GBs(Qn,5)),2&r){let s;e.mGM(s=e.lsd())&&(o.productPackageDropdown=s.first),e.mGM(s=e.lsd())&&(o.packageTypeDropdown=s.first),e.mGM(s=e.lsd())&&(o.salesChannelDropdown=s.first),e.mGM(s=e.lsd())&&(o.productAutocomplete=s.first)}},features:[e.Vt3],decls:2,vars:1,consts:[["productPackageDropdown",""],["productAutocomplete",""],["packageTypeDropdown",""],["salesChannelDropdown",""],["class","card",4,"ngIf"],[1,"card"],[1,"p-float-label"],["id","productName","pInputText","","type","text",1,"w-full","md:w-30rem","mb-5","p-3",3,"ngModelChange","ngModel"],["for","productName",1,"font-bold"],["dateFormat","dd.mm.yy","input","date","placeholder","\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0443\u043f\u043a\u0438",3,"ngModelChange","ngModel","readonlyInput"],["dateFormat","dd.mm.yy","for","date",1,"font-bold"],[1,"mt-3"],["icon","pi pi-save","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"click"],["styleClass","tabview-custom"],["pTemplate","header"],["pTemplate","body"],["appendTo","body","optionGroupChildren","product.packages","placeholder","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0440\u0442\u0438\u043a\u0443\u043b","styleClass","m-3",3,"onChange","ngModelChange","ngModel","options"],["pTemplate","item"],["pTemplate","selectedItem"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"pi","pi-shopping-cart","pi-fw"],[3,"value",4,"ngIf"],["field","name","placeholder","\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u0430","styleClass","mb-3",3,"completeMethod","onSelect","minLength","suggestions"],[3,"value"],["pTemplate","footer"],["width","10%"],["icon","pi pi-trash",3,"click"],["pEditableColumnField","count",1,"text-right",3,"pEditableColumn"],["pTemplate","input"],["pTemplate","output"],["pEditableColumnField","price",1,"text-right",3,"pEditableColumn"],[3,"ngModelChange","ngModel","min","required","useGrouping"],[3,"ngModelChange","ngModel","maxFractionDigits","min","required","useGrouping"],["colspan","3",1,"text-right"],[1,"text-right"],[1,"flex","align-items-center","gap-2"],[1,"pi","pi-box","pi-fw"],["transitionOptions","50ms"],["pTemplate","content"],[1,"card","m-2"],["icon","pi pi-trash","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0438\u043f\u043e\u0444\u043e\u0440\u043c\u0430\u0442","styleClass","mb-3",3,"click"],[1,"grid"],[1,"col","xs:col-12"],["for","name"],["inputId","name","maxlength","100","pInputText","",3,"ngModelChange","ngModel"],["for","volume"],[1,"p-inputgroup"],["inputId","volume",3,"onInput","ngModelChange","ngModel","maxFractionDigits","minFractionDigits","min","showButtons","step","useGrouping"],[1,"p-inputgroup-addon"],["for","packagingPrice"],["inputId","packagingPrice",3,"ngModelChange","ngModel","maxFractionDigits","minFractionDigits","showButtons","step","useGrouping"],["appendTo","body","optionLabel","name","placeholder","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435","styleClass","m-3",3,"onChange","options"],["appendTo","body","optionLabel","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u043d \u043f\u0440\u043e\u0434\u0430\u0436","placeholder","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043b\u0430\u043d \u043f\u0440\u043e\u0434\u0430\u0436","styleClass","m-3",3,"onChange","autoDisplayFirst","options"],["icon","pi pi-trash","styleClass","p-button-sm",3,"click"],["pEditableColumnField","amount",1,"text-right",3,"pEditableColumn"],["pEditableColumnField","pricePerUom",1,"text-right",3,"pEditableColumn"],[3,"ngModelChange","ngModel","maxFractionDigits","minFractionDigits","min","showButtons","step","useGrouping"],[1,"p-inputgroup-addon",3,"innerHtml"],[3,"innerHtml"],["emptyValue","empty",3,"ngModelChange","ngModel","maxFractionDigits","minFractionDigits","min","showButtons","step","useGrouping"],[3,"innerHTML"],["pEditableColumn","",1,"text-right"],["pEditableColumnField","commissionAddition",1,"text-right",3,"pEditableColumn"],["pEditableColumnField","returnCost",1,"text-right",3,"pEditableColumn"],["rowspan","3"],["pEditableColumnField","price","rowspan","2",1,"text-right",3,"pEditableColumn"],["rowspan","2",1,"text-right"],["pTooltip","\u0421\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u0440\u0438 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043e\u0442\u043f\u0443\u0441\u043a\u043d\u043e\u0439 \u0446\u0435\u043d\u0435"],["pEditableColumn",""],["pEditableColumnField","marketingBudget","rowspan","3",1,"text-right",3,"pEditableColumn"],["pEditableColumnField","amount","rowspan","3",1,"text-right",3,"pEditableColumn"],["pEditableColumnField","commissionMultiplier",1,"text-right",3,"pEditableColumn"],["pEditableColumnField","returnPercentage",1,"text-right",3,"pEditableColumn"],[3,"ngModelChange","ngModel","maxFractionDigits","minFractionDigits","min","required","showButtons","step","useGrouping"],[3,"severity"],["inputId","deliveryCost",3,"ngModelChange","ngModel","maxFractionDigits","minFractionDigits","min","required","showButtons","step","useGrouping"],["pTooltip","\u0417\u0430\u0442\u0440\u0430\u0442\u044b \u043d\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0443 \u043f\u0430\u0440\u0442\u0438\u0438 \u0434\u043e \u0442\u043e\u0447\u043a\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 (\u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e \u0442\u0440\u0430\u043d\u0437\u0438\u0442\u043d\u043e\u0433\u043e \u0441\u043a\u043b\u0430\u0434\u0430, \u043a\u0440\u043e\u0441\u0441-\u0434\u043e\u043a\u0438\u043d\u0433 \u0438 \u0442.\u043f.)",1,"text-right"],[3,"ngModelChange","ngModel","min","required","showButtons","step","useGrouping"],["pTooltip","\u0421\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u044b\u0445 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439 (\u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043a\u0430\u043d\u0430\u043b\u0430 \u043f\u0440\u043e\u0434\u0430\u0436, \u044d\u043a\u0432\u0430\u0439\u0440\u0438\u043d\u0433 \u0438 \u0442.\u043f.)"],["appendTo","body","dateFormat","dd.mm.yy","input","date","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u0433\u0440\u0443\u0437\u043a\u0438",3,"ngModelChange","ngModel","readonlyInput"],["pTooltip","\u0421\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0439 (\u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0434\u043e \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044f, \u041f\u0412\u0417 \u0438 \u0442.\u043f.)"],["pTooltip","\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0442\u043c\u0435\u043d\u044b"],["pTooltip","\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u043b\u043e\u0433\u0438\u0441\u0442\u0438\u043a\u0438"],["class","p-tag p-danger cursor-pointer",3,"pTooltip","click",4,"ngIf"],[1,"p-tag","p-danger","cursor-pointer",3,"click","pTooltip"],["appendTo","body","optionLabel","name","placeholder","\u041a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442 \u043b\u043e\u0433\u0438\u0441\u0442\u0438\u043a\u0438",3,"ngModelChange","ngModel","options"],["pTooltip","\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043b\u043e\u0433\u0438\u0441\u0442\u0438\u043a\u0438",4,"ngIf"],["pTooltip","\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043b\u043e\u0433\u0438\u0441\u0442\u0438\u043a\u0438"],["header","\u041e\u0448\u0438\u0431\u043a\u0430",3,"visibleChange","visible","draggable","modal","resizable"],[1,"m-0"]],template:function(r,o){1&r&&(e.nrm(0,"p-toast"),e.DNE(1,lg,27,7,"div",4)),2&r&&(e.R7$(),e.Y8G("ngIf",o.calculation))},dependencies:[be.nD,be.gV,N.Ei,_e.j9,H.$n,ot.Vv,y.Sq,y.bT,st.l,je.ms,L.me,L.BC,L.YS,L.tU,L.vS,Be.YI,fe.S,Et,Nt,Z.XI,Z.hp,Z.c5,wt.v,pe.y8,Me.m,y.Jj,y.QX,y.vh,Ft]})}}return g})();const Ig=g=>({id:g}),ag=g=>["/purchase","edit",g];function Ag(g,I){if(1&g&&(e.j41(0,"div",4)(1,"h5"),e.EFF(2,"\u0417\u0430\u043a\u0443\u043f\u043a\u0430"),e.k0s(),e.j41(3,"div",5)(4,"div",6)(5,"div",7)(6,"span",8),e.EFF(7,"\u0421\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0443\u043f\u043a\u0438:"),e.k0s(),e.j41(8,"span"),e.EFF(9),e.k0s()(),e.j41(10,"div",7)(11,"span",8),e.EFF(12,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0437\u0438\u0446\u0438\u0439:"),e.k0s(),e.j41(13,"span"),e.EFF(14),e.k0s()(),e.j41(15,"div",7)(16,"span",8),e.EFF(17,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432:"),e.k0s(),e.j41(18,"span"),e.EFF(19),e.k0s()()()()()),2&g){const t=e.XpG(2);e.R7$(9),e.SpI("",t.batchInfo.sum,"\u20bd"),e.R7$(5),e.JRh(t.batchInfo.positionCount),e.R7$(5),e.JRh(t.batchInfo.productCount)}}function cg(g,I){if(1&g&&(e.j41(0,"div",11)(1,"div",7)(2,"div",8),e.EFF(3,"\u0422\u043e\u0432\u0430\u0440:"),e.k0s(),e.j41(4,"div"),e.EFF(5),e.k0s()(),e.j41(6,"div",7)(7,"div",8),e.EFF(8,"\u041f\u0440\u043e\u0434\u0430\u0436\u0438, \u043f\u043b\u0430\u043d:"),e.k0s(),e.j41(9,"div"),e.EFF(10),e.k0s()(),e.j41(11,"div",7)(12,"div",8),e.EFF(13,"\u041f\u0440\u043e\u0434\u0430\u0436\u0438, \u0444\u0430\u043a\u0442:"),e.k0s(),e.j41(14,"div"),e.EFF(15),e.k0s()(),e.j41(16,"div",7)(17,"div",8),e.EFF(18,"\u041f\u0440\u043e\u0434\u0430\u0436\u0438, \u043f\u043b\u0430\u043d:"),e.k0s(),e.j41(19,"div"),e.EFF(20),e.nI1(21,"number"),e.k0s()(),e.j41(22,"div",7)(23,"div",8),e.EFF(24,"\u041f\u0440\u043e\u0434\u0430\u0436\u0438, \u0444\u0430\u043a\u0442:"),e.k0s(),e.j41(25,"div"),e.EFF(26),e.nI1(27,"number"),e.k0s()(),e.j41(28,"div",7)(29,"div",8),e.EFF(30,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f, \u043f\u043b\u0430\u043d:"),e.k0s(),e.j41(31,"div"),e.EFF(32),e.nI1(33,"number"),e.k0s()(),e.j41(34,"div",7)(35,"div",8),e.EFF(36,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f, \u0444\u0430\u043a\u0442:"),e.k0s(),e.j41(37,"div"),e.EFF(38),e.nI1(39,"number"),e.k0s()(),e.j41(40,"div",7)(41,"div",8),e.EFF(42,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430, \u043f\u043b\u0430\u043d:"),e.k0s(),e.j41(43,"div"),e.EFF(44),e.nI1(45,"number"),e.k0s()(),e.j41(46,"div",7)(47,"div",8),e.EFF(48,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430, \u0444\u0430\u043a\u0442:"),e.k0s(),e.j41(49,"div"),e.EFF(50),e.nI1(51,"number"),e.k0s()(),e.j41(52,"div",7)(53,"div",8),e.EFF(54,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b, \u043f\u043b\u0430\u043d:"),e.k0s(),e.j41(55,"div"),e.EFF(56),e.k0s()(),e.j41(57,"div",7)(58,"div",8),e.EFF(59,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b, \u0444\u0430\u043a\u0442:"),e.k0s(),e.j41(60,"div"),e.EFF(61),e.k0s()(),e.j41(62,"div",7)(63,"div",8),e.EFF(64,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c, \u043f\u043b\u0430\u043d:"),e.k0s(),e.j41(65,"div"),e.EFF(66),e.nI1(67,"number"),e.k0s()(),e.j41(68,"div",7)(69,"div",8),e.EFF(70,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c, \u0444\u0430\u043a\u0442:"),e.k0s(),e.j41(71,"div"),e.EFF(72),e.nI1(73,"number"),e.k0s()()()),2&g){const t=I.$implicit;e.R7$(5),e.JRh(t.name),e.R7$(5),e.SpI("",t.plannedAmount,"\u0448\u0442"),e.R7$(5),e.SpI("",t.soldAmount,"\u0448\u0442"),e.R7$(5),e.SpI("",e.i5U(21,13,t.plannedSum,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",e.i5U(27,16,t.soldSum,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",e.i5U(33,19,t.plannedCommissionPercent,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",e.i5U(39,22,t.commissionPercent,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",e.i5U(45,25,t.plannedCommissionAddition,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",e.i5U(51,28,t.commissionAddition,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",t.plannedReturnCount,"\u0448\u0442"),e.R7$(5),e.SpI("",t.returnCount,"\u0448\u0442"),e.R7$(5),e.SpI("",e.i5U(67,31,t.plannedProfit,"1.2-2"),"\u20bd"),e.R7$(6),e.SpI("",e.i5U(73,34,t.profit,"1.2-2"),"\u20bd")}}function ug(g,I){if(1&g&&(e.j41(0,"div",4)(1,"h5"),e.EFF(2),e.k0s(),e.j41(3,"div",5),e.DNE(4,cg,74,37,"div",10),e.k0s()()),2&g){const t=I.$implicit;e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.Y8G("ngForOf",t.plans)}}function pg(g,I){if(1&g&&(e.j41(0,"div",4)(1,"h4"),e.EFF(2,"\u041f\u043b\u0430\u043d\u044b \u043f\u0440\u043e\u0434\u0430\u0436"),e.k0s(),e.DNE(3,ug,5,2,"div",9),e.k0s()),2&g){const t=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",t.salesInfo.salesChannels)}}function dg(g,I){if(1&g){const t=e.RV6();e.qex(0),e.j41(1,"h1"),e.EFF(2),e.k0s(),e.j41(3,"p-button",1),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.calcPlans())}),e.k0s(),e.nrm(4,"p-button",2),e.DNE(5,Ag,20,3,"div",3)(6,pg,4,1,"div",3),e.bVm()}if(2&g){const t=e.XpG();e.R7$(2),e.JRh(t.batch.name),e.R7$(2),e.Y8G("routerLink",e.eq3(6,ag,e.eq3(4,Ig,t.batch.iD))),e.R7$(),e.Y8G("ngIf",t.batchInfo),e.R7$(),e.Y8G("ngIf",t.salesInfo)}}let hg=(()=>{class g extends J.x{constructor(t,r,o){super(o),this.purchaseService=t,this.route=r,this.batchID=new z.t(null),this.salesPlanIDs=new z.t([])}ngOnInit(){this.titleService.setTitle("\u0421\u0432\u043e\u0434\u043a\u0430 \u043f\u043e \u0437\u0430\u043a\u0443\u043f\u043a\u0435");const t=+this.route.snapshot.paramMap.get("id");t>0&&this.batchID.next(t),this.batchID.pipe((0,we.Q)(this.destroyed)).pipe((0,ge.p)(r=>!!r)).pipe((0,q.n)(r=>this.purchaseService.getBatch(r))).subscribe(r=>{this.batch=r,this.updateBatchInfo(),this.titleService.setTitle(`\u0421\u0432\u043e\u0434\u043a\u0430 \u043f\u043e \u0437\u0430\u043a\u0443\u043f\u043a\u0435 - ${r.name}`)}),this.salesPlanIDs.pipe((0,we.Q)(this.destroyed)).pipe((0,ge.p)(r=>!!r?.length)).pipe((0,q.n)(r=>this.purchaseService.getSalesPlansSummaries(r))).subscribe(r=>{this.summaries=r,this.salesInfo=this.getSalesInfo(this.batch,r)})}updateBatchInfo(){this.batchInfo=this.batch?this.getBatchInfo(this.batch):{},this.salesInfo={},this.summaries=[],this.salesPlanIDs.next(this.batch.items.reduce((t,r)=>r.salesItems.reduce((o,s)=>s.salesPlans.reduce((u,m)=>(t.push(m.iD),t),t),t),[]))}getBatchInfo(t){const r={};return r.sum=t.items.reduce((o,s)=>o+s.count*s.price,0),r.productCount=t.items.reduce((o,s)=>o+s.count,0),r.positionCount=t.items.length,r}getSalesInfo(t,r){const o={},s=[];for(const u of t.items)for(const D of u.salesItems){this.purchaseService.getSalesItemCosts(D);for(const j of D.salesPlans){const S=r.find(K=>K.iD==j.iD);let P=s.find(K=>K.channelID==j.salesChannelID);P||(P={channelID:j.salesChannelID,name:j.salesChannel.name,plans:[]},s.push(P)),this.purchaseService.getSalesPlanSelfCost(D,j,u);const X=this.purchaseService.getSalesPlanSelfCost(D,j,u)*j.amount,ee=this.purchaseService.getSalesItemCosts(D)*j.amount;P.plans.push({name:D.productPackage.name+", "+D.name,plannedAmount:j.amount,soldAmount:S.salesCount,plannedSum:j.price*j.amount,soldSum:S.salesSum,plannedCommissionAddition:-j.commissionAddition*j.amount,plannedCommissionPercent:-Math.ceil(j.amount*j.price*j.commissionMultiplier/100),commissionAddition:S.commissionAddition,commissionPercent:S.commissionPercent,plannedReturnCount:Math.ceil(j.amount*j.returnPercentage/100),returnCount:S.returnCount,plannedProfit:j.amount*j.price-X-j.deliveryCost,profit:S.salesSum-S.returnSum+S.commissionPercent+S.commissionAddition-ee-j.deliveryCost-u.count*u.price})}}return o.salesChannels=s,o}calcPlans(){this.purchaseService.calcPlans()}static{this.\u0275fac=function(r){return new(r||g)(e.rXU(Fe),e.rXU(x.nX),e.rXU($.hE))}}static{this.\u0275cmp=e.VBU({type:g,selectors:[["app-purchase-summary"]],inputs:{batchID:"batchID"},features:[e.Jv_([{provide:L.kq,useExisting:(0,e.Rfq)(()=>g),multi:!0}]),e.Vt3],decls:1,vars:1,consts:[[4,"ngIf"],["styleClass","mb-3","label","\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c",3,"click"],["styleClass","mb-3","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u043a\u0443\u043f\u043a\u0443",3,"routerLink"],["class","card",4,"ngIf"],[1,"card"],[1,"grid"],[1,"col-12","md:col-6","xl:col-4"],[1,"flex","justify-content-between"],[1,"font-bold","text-900"],["class","card",4,"ngFor","ngForOf"],["class","col-6 md:col-12 xl:col-4",4,"ngFor","ngForOf"],[1,"col-6","md:col-12","xl:col-4"]],template:function(r,o){1&r&&e.DNE(0,dg,7,8,"ng-container",0),2&r&&e.Y8G("ngIf",o.batch)},dependencies:[H.$n,y.Sq,y.bT,x.Wk,y.QX]})}}return g})();var jt=v(2356),ye=v(9071),Bt=v(3306),Oe=v(2423),Rt=v(5434),Gt=v(6018),Ve=v(5998),lt=v(8757);const Mt=g=>({"p-treenode-droppoint-active":g}),mg=(g,I)=>["p-treenode",g,I],Ot=g=>({height:g}),_g=g=>({"padding-left":g}),fg=(g,I,t)=>({"p-treenode-selectable":g,"p-treenode-dragover":I,"p-highlight":t}),$e=g=>({$implicit:g}),bg=(g,I)=>({"p-checkbox-disabled p-disabled":g,"p-variant-filled":I}),vg=(g,I)=>({"p-highlight":g,"p-indeterminate":I}),yg=(g,I)=>({$implicit:g,partialSelected:I}),Vt=g=>({display:g}),Sg=g=>({"p-treenode-collapsed":g}),kg=(g,I)=>({"p-treenode-selectable":g,"p-highlight":I}),$t=g=>({"p-treenode-connector-line":g});function Tg(g,I){if(1&g){const t=e.RV6();e.j41(0,"li",4),e.bIt("drop",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDropPoint(o,-1))})("dragover",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDropPointDragOver(o))})("dragenter",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDropPointDragEnter(o,-1))})("dragleave",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDropPointDragLeave(o))}),e.k0s()}if(2&g){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(2,Mt,t.draghoverPrev)),e.BMQ("aria-hidden",!0)}}function Dg(g,I){1&g&&e.nrm(0,"ChevronRightIcon",14),2&g&&e.Y8G("styleClass","p-tree-toggler-icon")}function Pg(g,I){1&g&&e.nrm(0,"ChevronDownIcon",14),2&g&&e.Y8G("styleClass","p-tree-toggler-icon")}function xg(g,I){if(1&g&&(e.qex(0),e.DNE(1,Dg,1,1,"ChevronRightIcon",13)(2,Pg,1,1,"ChevronDownIcon",13),e.bVm()),2&g){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",!t.node.expanded),e.R7$(),e.Y8G("ngIf",t.node.expanded)}}function Ng(g,I){1&g&&(e.qex(0),e.nrm(1,"SpinnerIcon",15),e.bVm()),2&g&&(e.R7$(),e.Y8G("spin",!0)("styleClass","p-tree-node-toggler-icon"))}function Eg(g,I){if(1&g&&(e.qex(0),e.DNE(1,xg,3,2,"ng-container",8)(2,Ng,2,2,"ng-container",8),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",!t.node.loading),e.R7$(),e.Y8G("ngIf","icon"===t.loadingMode&&t.node.loading)}}function wg(g,I){}function Fg(g,I){1&g&&e.DNE(0,wg,0,0,"ng-template")}function jg(g,I){if(1&g&&(e.j41(0,"span",16),e.DNE(1,Fg,1,0,null,17),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",t.tree.togglerIconTemplate)("ngTemplateOutletContext",e.eq3(2,$e,t.node.expanded))}}function Bg(g,I){1&g&&e.nrm(0,"CheckIcon",14),2&g&&e.Y8G("styleClass","p-checkbox-icon")}function Rg(g,I){1&g&&e.nrm(0,"MinusIcon",14),2&g&&e.Y8G("styleClass","p-checkbox-icon")}function Gg(g,I){if(1&g&&(e.qex(0),e.DNE(1,Bg,1,1,"CheckIcon",13)(2,Rg,1,1,"MinusIcon",13),e.bVm()),2&g){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",!t.node.partialSelected&&t.isSelected()),e.R7$(),e.Y8G("ngIf",t.node.partialSelected)}}function Mg(g,I){}function Og(g,I){1&g&&e.DNE(0,Mg,0,0,"ng-template")}function Vg(g,I){if(1&g&&(e.j41(0,"div",18)(1,"div",19),e.DNE(2,Gg,3,2,"ng-container",8)(3,Og,1,0,null,17),e.k0s()()),2&g){const t=e.XpG(3);e.Y8G("ngClass",e.l_i(5,bg,!1===t.node.selectable,"filled"===(null==t.tree?null:t.tree.config.inputStyle()))),e.R7$(),e.Y8G("ngClass",e.l_i(8,vg,t.isSelected(),t.node.partialSelected)),e.R7$(),e.Y8G("ngIf",!t.tree.checkboxIconTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",t.tree.checkboxIconTemplate)("ngTemplateOutletContext",e.l_i(11,yg,t.isSelected(),t.node.partialSelected))}}function $g(g,I){if(1&g&&e.nrm(0,"span"),2&g){const t=e.XpG(3);e.HbH(t.getIcon())}}function Ug(g,I){if(1&g&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.JRh(t.node.label)}}function Lg(g,I){1&g&&e.eu8(0)}function Yg(g,I){if(1&g&&(e.j41(0,"span"),e.DNE(1,Lg,1,0,"ng-container",17),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",t.tree.getTemplateForNode(t.node))("ngTemplateOutletContext",e.eq3(2,$e,t.node))}}function zg(g,I){if(1&g&&e.nrm(0,"p-treeNode",22),2&g){const t=I.$implicit,r=I.first,o=I.last,s=I.index,u=e.XpG(4);e.Y8G("node",t)("parentNode",u.node)("firstChild",r)("lastChild",o)("index",s)("itemSize",u.itemSize)("level",u.level+1)("loadingMode",u.loadingMode)}}function Xg(g,I){if(1&g&&(e.j41(0,"ul",20),e.DNE(1,zg,1,8,"p-treeNode",21),e.k0s()),2&g){const t=e.XpG(3);e.Y8G("ngStyle",e.eq3(3,Vt,t.node.expanded?"block":"none")),e.R7$(),e.Y8G("ngForOf",t.node.children)("ngForTrackBy",t.tree.trackBy)}}function Jg(g,I){if(1&g){const t=e.RV6();e.j41(0,"li",5),e.bIt("keydown",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onKeyDown(o))}),e.j41(1,"div",6),e.bIt("click",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onNodeClick(o))})("contextmenu",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onNodeRightClick(o))})("touchend",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onNodeTouchEnd())})("drop",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDropNode(o))})("dragover",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDropNodeDragOver(o))})("dragenter",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDropNodeDragEnter(o))})("dragleave",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDropNodeDragLeave(o))})("dragstart",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDragStart(o))})("dragend",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDragStop(o))}),e.j41(2,"button",7),e.bIt("click",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.toggle(o))}),e.DNE(3,Eg,3,2,"ng-container",8)(4,jg,2,4,"span",9),e.k0s(),e.DNE(5,Vg,4,14,"div",10)(6,$g,1,2,"span",3),e.j41(7,"span",11),e.DNE(8,Ug,2,1,"span",8)(9,Yg,2,4,"span",8),e.k0s()(),e.DNE(10,Xg,2,5,"ul",12),e.k0s()}if(2&g){const t=e.XpG(2);e.Aen(t.node.style),e.Y8G("ngClass",e.l_i(24,mg,t.node.styleClass||"",t.isLeaf()?"p-treenode-leaf":""))("ngStyle",e.eq3(27,Ot,t.itemSize+"px")),e.BMQ("aria-label",t.node.label)("aria-checked",t.ariaChecked)("aria-setsize",t.node.children?t.node.children.length:0)("aria-selected",t.ariaSelected)("aria-expanded",t.node.expanded)("aria-posinset",t.index+1)("aria-level",t.level+1)("tabindex",0===t.index?0:-1)("data-id",t.node.key),e.R7$(),e.Y8G("ngStyle",e.eq3(29,_g,t.level*t.indentation+"rem"))("draggable",t.tree.draggableNodes)("ngClass",e.sMw(31,fg,t.tree.selectionMode&&!1!==t.node.selectable,t.draghoverNode,t.isSelected())),e.R7$(),e.BMQ("data-pc-section","toggler"),e.R7$(),e.Y8G("ngIf",!t.tree.togglerIconTemplate),e.R7$(),e.Y8G("ngIf",t.tree.togglerIconTemplate),e.R7$(),e.Y8G("ngIf","checkbox"==t.tree.selectionMode),e.R7$(),e.Y8G("ngIf",t.node.icon||t.node.expandedIcon||t.node.collapsedIcon),e.R7$(2),e.Y8G("ngIf",!t.tree.getTemplateForNode(t.node)),e.R7$(),e.Y8G("ngIf",t.tree.getTemplateForNode(t.node)),e.R7$(),e.Y8G("ngIf",!t.tree.virtualScroll&&t.node.children&&t.node.expanded)}}function Wg(g,I){if(1&g){const t=e.RV6();e.j41(0,"li",4),e.bIt("drop",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDropPoint(o,1))})("dragover",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDropPointDragOver(o))})("dragenter",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDropPointDragEnter(o,1))})("dragleave",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onDropPointDragLeave(o))}),e.k0s()}if(2&g){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(2,Mt,t.draghoverNext)),e.BMQ("aria-hidden",!0)}}function Hg(g,I){if(1&g&&(e.j41(0,"td",28)(1,"table",29)(2,"tbody")(3,"tr"),e.nrm(4,"td",30),e.k0s(),e.j41(5,"tr"),e.nrm(6,"td",30),e.k0s()()()()),2&g){const t=e.XpG(3);e.R7$(4),e.Y8G("ngClass",e.eq3(2,$t,!t.firstChild)),e.R7$(2),e.Y8G("ngClass",e.eq3(4,$t,!t.lastChild))}}function Zg(g,I){if(1&g&&e.nrm(0,"PlusIcon",33),2&g){const t=e.XpG(5);e.Y8G("styleClass","p-tree-toggler-icon")("ariaLabel",t.tree.togglerAriaLabel)}}function Kg(g,I){if(1&g&&e.nrm(0,"MinusIcon",33),2&g){const t=e.XpG(5);e.Y8G("styleClass","p-tree-toggler-icon")("ariaLabel",t.tree.togglerAriaLabel)}}function Qg(g,I){if(1&g&&(e.qex(0),e.DNE(1,Zg,1,2,"PlusIcon",32)(2,Kg,1,2,"MinusIcon",32),e.bVm()),2&g){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",!t.node.expanded),e.R7$(),e.Y8G("ngIf",t.node.expanded)}}function qg(g,I){}function er(g,I){1&g&&e.DNE(0,qg,0,0,"ng-template")}function tr(g,I){if(1&g&&(e.j41(0,"span",16),e.DNE(1,er,1,0,null,17),e.k0s()),2&g){const t=e.XpG(4);e.R7$(),e.Y8G("ngTemplateOutlet",t.tree.togglerIconTemplate)("ngTemplateOutletContext",e.eq3(2,$e,t.node.expanded))}}function nr(g,I){if(1&g){const t=e.RV6();e.j41(0,"span",31),e.bIt("click",function(o){e.eBV(t);const s=e.XpG(3);return e.Njj(s.toggle(o))}),e.DNE(1,Qg,3,2,"ng-container",8)(2,tr,2,4,"span",9),e.k0s()}if(2&g){const t=e.XpG(3);e.Y8G("ngClass","p-tree-toggler"),e.R7$(),e.Y8G("ngIf",!t.tree.togglerIconTemplate),e.R7$(),e.Y8G("ngIf",t.tree.togglerIconTemplate)}}function ir(g,I){if(1&g&&e.nrm(0,"span"),2&g){const t=e.XpG(3);e.HbH(t.getIcon())}}function gr(g,I){if(1&g&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.JRh(t.node.label)}}function rr(g,I){1&g&&e.eu8(0)}function or(g,I){if(1&g&&(e.j41(0,"span"),e.DNE(1,rr,1,0,"ng-container",17),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",t.tree.getTemplateForNode(t.node))("ngTemplateOutletContext",e.eq3(2,$e,t.node))}}function sr(g,I){if(1&g&&e.nrm(0,"p-treeNode",37),2&g){const r=I.first,o=I.last;e.Y8G("node",I.$implicit)("firstChild",r)("lastChild",o)}}function lr(g,I){if(1&g&&(e.j41(0,"td",34)(1,"div",35),e.DNE(2,sr,1,3,"p-treeNode",36),e.k0s()()),2&g){const t=e.XpG(3);e.Y8G("ngStyle",e.eq3(3,Vt,t.node.expanded?"table-cell":"none")),e.R7$(2),e.Y8G("ngForOf",t.node.children)("ngForTrackBy",t.tree.trackBy)}}function Cr(g,I){if(1&g){const t=e.RV6();e.j41(0,"table")(1,"tbody")(2,"tr"),e.DNE(3,Hg,7,6,"td",23),e.j41(4,"td",24)(5,"div",25),e.bIt("click",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onNodeClick(o))})("contextmenu",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onNodeRightClick(o))})("touchend",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onNodeTouchEnd())})("keydown",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onNodeKeydown(o))}),e.DNE(6,nr,3,3,"span",26)(7,ir,1,2,"span",3),e.j41(8,"span",11),e.DNE(9,gr,2,1,"span",8)(10,or,2,4,"span",8),e.k0s()()(),e.DNE(11,lr,3,5,"td",27),e.k0s()()()}if(2&g){const t=e.XpG(2);e.HbH(t.node.styleClass),e.R7$(3),e.Y8G("ngIf",!t.root),e.R7$(),e.Y8G("ngClass",e.eq3(10,Sg,!t.node.expanded)),e.R7$(),e.Y8G("ngClass",e.l_i(12,kg,t.tree.selectionMode,t.isSelected())),e.R7$(),e.Y8G("ngIf",!t.isLeaf()),e.R7$(),e.Y8G("ngIf",t.node.icon||t.node.expandedIcon||t.node.collapsedIcon),e.R7$(2),e.Y8G("ngIf",!t.tree.getTemplateForNode(t.node)),e.R7$(),e.Y8G("ngIf",t.tree.getTemplateForNode(t.node)),e.R7$(),e.Y8G("ngIf",t.node.children&&t.node.expanded)}}function Ir(g,I){if(1&g&&e.DNE(0,Tg,1,4,"li",1)(1,Jg,11,35,"li",2)(2,Wg,1,4,"li",1)(3,Cr,12,15,"table",3),2&g){const t=e.XpG();e.Y8G("ngIf",t.tree.droppableNodes),e.R7$(),e.Y8G("ngIf",!t.tree.horizontal),e.R7$(),e.Y8G("ngIf",t.tree.droppableNodes&&t.lastChild),e.R7$(),e.Y8G("ngIf",t.tree.horizontal)}}const ar=["filter"],Ar=["scroller"],cr=["wrapper"],ur=(g,I,t,r)=>({"p-tree p-component":!0,"p-tree-selectable":g,"p-treenode-dragover":I,"p-tree-loading":t,"p-tree-flex-scrollable":r}),pr=g=>({options:g}),dr=g=>({"max-height":g}),hr=g=>({"p-tree p-tree-horizontal p-component":!0,"p-tree-selectable":g});function mr(g,I){if(1&g&&e.nrm(0,"i"),2&g){const t=e.XpG(3);e.HbH("p-tree-loading-icon pi-spin "+t.loadingIcon)}}function _r(g,I){1&g&&e.nrm(0,"SpinnerIcon",17),2&g&&e.Y8G("spin",!0)("styleClass","p-tree-loading-icon")}function fr(g,I){}function br(g,I){1&g&&e.DNE(0,fr,0,0,"ng-template")}function vr(g,I){if(1&g&&(e.j41(0,"span",18),e.DNE(1,br,1,0,null,9),e.k0s()),2&g){const t=e.XpG(4);e.R7$(),e.Y8G("ngTemplateOutlet",t.loadingIconTemplate)}}function yr(g,I){if(1&g&&(e.qex(0),e.DNE(1,_r,1,2,"SpinnerIcon",15)(2,vr,2,1,"span",16),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",!t.loadingIconTemplate),e.R7$(),e.Y8G("ngIf",t.loadingIconTemplate)}}function Sr(g,I){if(1&g&&(e.j41(0,"div",13),e.DNE(1,mr,1,2,"i",14)(2,yr,3,2,"ng-container",11),e.k0s()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.loadingIcon),e.R7$(),e.Y8G("ngIf",!t.loadingIcon)}}function kr(g,I){1&g&&e.eu8(0)}function Tr(g,I){1&g&&e.nrm(0,"SearchIcon",23),2&g&&e.Y8G("styleClass","p-tree-filter-icon")}function Dr(g,I){}function Pr(g,I){1&g&&e.DNE(0,Dr,0,0,"ng-template")}function xr(g,I){if(1&g&&(e.j41(0,"span",24),e.DNE(1,Pr,1,0,null,9),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",t.filterIconTemplate)}}function Nr(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",19)(1,"input",20,0),e.bIt("keydown.enter",function(o){return e.eBV(t),e.Njj(o.preventDefault())})("input",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s._filter(o.target.value))}),e.k0s(),e.DNE(3,Tr,1,1,"SearchIcon",21)(4,xr,2,1,"span",22),e.k0s()}if(2&g){const t=e.XpG(2);e.R7$(),e.BMQ("placeholder",t.filterPlaceholder),e.R7$(2),e.Y8G("ngIf",!t.filterIconTemplate),e.R7$(),e.Y8G("ngIf",t.filterIconTemplate)}}function Er(g,I){if(1&g&&e.nrm(0,"p-treeNode",31,2),2&g){const t=I.$implicit,r=I.first,o=e.XpG(2).options,s=e.XpG(4);e.Y8G("level",t.level)("rowNode",t)("node",t.node)("parentNode",t.parent)("firstChild",r)("lastChild",t.lastChild)("index",t.index)("itemSize",o.itemSize)("indentation",s.indentation)("loadingMode",s.loadingMode)}}function wr(g,I){if(1&g&&(e.j41(0,"ul",29),e.DNE(1,Er,2,10,"p-treeNode",30),e.k0s()),2&g){const t=e.XpG(),r=t.$implicit,o=t.options,s=e.XpG(4);e.Aen(o.contentStyle),e.Y8G("ngClass",o.contentStyleClass),e.BMQ("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledBy),e.R7$(),e.Y8G("ngForOf",r)("ngForTrackBy",s.trackBy)}}function Fr(g,I){1&g&&e.DNE(0,wr,2,7,"ul",28),2&g&&e.Y8G("ngIf",I.$implicit)}function jr(g,I){1&g&&e.eu8(0)}function Br(g,I){if(1&g&&e.DNE(0,jr,1,0,"ng-container",33),2&g){const t=I.options,r=e.XpG(5);e.Y8G("ngTemplateOutlet",r.loaderTemplate)("ngTemplateOutletContext",e.eq3(2,pr,t))}}function Rr(g,I){1&g&&(e.qex(0),e.DNE(1,Br,1,4,"ng-template",32),e.bVm())}function Gr(g,I){if(1&g){const t=e.RV6();e.j41(0,"p-scroller",26,1),e.bIt("onScroll",function(o){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onScroll.emit(o))})("onScrollIndexChange",function(o){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onScrollIndexChange.emit(o))})("onLazyLoad",function(o){e.eBV(t);const s=e.XpG(3);return e.Njj(s.onLazyLoad.emit(o))}),e.DNE(2,Fr,1,1,"ng-template",27)(3,Rr,2,0,"ng-container",11),e.k0s()}if(2&g){const t=e.XpG(3);e.Aen(e.eq3(9,Ot,"flex"!==t.scrollHeight?t.scrollHeight:void 0)),e.Y8G("items",t.serializedValue)("tabindex",-1)("scrollHeight","flex"!==t.scrollHeight?void 0:"100%")("itemSize",t.virtualScrollItemSize||t._virtualNodeHeight)("lazy",t.lazy)("options",t.virtualScrollOptions),e.R7$(3),e.Y8G("ngIf",t.loaderTemplate)}}function Mr(g,I){if(1&g&&e.nrm(0,"p-treeNode",38),2&g){const t=I.$implicit,r=I.first,o=I.last,s=I.index,u=e.XpG(5);e.Y8G("node",t)("firstChild",r)("lastChild",o)("index",s)("level",0)("loadingMode",u.loadingMode)}}function Or(g,I){if(1&g&&(e.j41(0,"ul",36),e.DNE(1,Mr,1,6,"p-treeNode",37),e.k0s()),2&g){const t=e.XpG(4);e.BMQ("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledBy),e.R7$(),e.Y8G("ngForOf",t.getRootNode())("ngForTrackBy",t.trackBy)}}function Vr(g,I){if(1&g&&(e.qex(0),e.j41(1,"div",34,3),e.DNE(3,Or,2,4,"ul",35),e.k0s(),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngStyle",e.eq3(2,dr,t.scrollHeight)),e.R7$(2),e.Y8G("ngIf",t.getRootNode())}}function $r(g,I){if(1&g&&(e.qex(0),e.DNE(1,Gr,4,11,"p-scroller",25)(2,Vr,4,4,"ng-container",11),e.bVm()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.virtualScroll),e.R7$(),e.Y8G("ngIf",!t.virtualScroll)}}function Ur(g,I){if(1&g&&(e.qex(0),e.EFF(1),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.emptyMessageLabel," ")}}function Lr(g,I){1&g&&e.eu8(0,null,4)}function Yr(g,I){if(1&g&&(e.j41(0,"div",39),e.DNE(1,Ur,2,1,"ng-container",40)(2,Lr,2,0,"ng-container",9),e.k0s()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.emptyMessageTemplate)("ngIfElse",t.emptyFilter),e.R7$(),e.Y8G("ngTemplateOutlet",t.emptyMessageTemplate)}}function zr(g,I){1&g&&e.eu8(0)}function Xr(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",7),e.bIt("drop",function(o){e.eBV(t);const s=e.XpG();return e.Njj(s.onDrop(o))})("dragover",function(o){e.eBV(t);const s=e.XpG();return e.Njj(s.onDragOver(o))})("dragenter",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onDragEnter())})("dragleave",function(o){e.eBV(t);const s=e.XpG();return e.Njj(s.onDragLeave(o))}),e.DNE(1,Sr,3,2,"div",8)(2,kr,1,0,"ng-container",9)(3,Nr,5,3,"div",10)(4,$r,3,2,"ng-container",11)(5,Yr,3,3,"div",12)(6,zr,1,0,"ng-container",9),e.k0s()}if(2&g){let t;const r=e.XpG();e.HbH(r.styleClass),e.Y8G("ngClass",e.ziG(10,ur,r.selectionMode,r.dragHover,r.loading,"flex"===r.scrollHeight))("ngStyle",r.style),e.R7$(),e.Y8G("ngIf",r.loading&&"mask"===r.loadingMode),e.R7$(),e.Y8G("ngTemplateOutlet",r.headerTemplate),e.R7$(),e.Y8G("ngIf",r.filter),e.R7$(),e.Y8G("ngIf",null==(t=r.getRootNode())?null:t.length),e.R7$(),e.Y8G("ngIf",!r.loading&&(null==r.getRootNode()||0===r.getRootNode().length)),e.R7$(),e.Y8G("ngTemplateOutlet",r.footerTemplate)}}function Jr(g,I){1&g&&e.eu8(0)}function Wr(g,I){if(1&g&&e.nrm(0,"i"),2&g){const t=e.XpG(3);e.HbH("p-tree-loading-icon pi-spin "+t.loadingIcon)}}function Hr(g,I){1&g&&e.nrm(0,"SpinnerIcon",17),2&g&&e.Y8G("spin",!0)("styleClass","p-tree-loading-icon")}function Zr(g,I){}function Kr(g,I){1&g&&e.DNE(0,Zr,0,0,"ng-template")}function Qr(g,I){if(1&g&&(e.j41(0,"span",18),e.DNE(1,Kr,1,0,null,9),e.k0s()),2&g){const t=e.XpG(4);e.R7$(),e.Y8G("ngTemplateOutlet",t.loadingIconTemplate)}}function qr(g,I){if(1&g&&(e.qex(0),e.DNE(1,Hr,1,2,"SpinnerIcon",15)(2,Qr,2,1,"span",16),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngIf",!t.loadingIconTemplate),e.R7$(),e.Y8G("ngIf",t.loadingIconTemplate)}}function eo(g,I){if(1&g&&(e.j41(0,"div",43),e.DNE(1,Wr,1,2,"i",14)(2,qr,3,2,"ng-container",11),e.k0s()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.loadingIcon),e.R7$(),e.Y8G("ngIf",!t.loadingIcon)}}function to(g,I){if(1&g&&(e.j41(0,"table"),e.nrm(1,"p-treeNode",44),e.k0s()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("node",t.value[0])("root",!0)}}function no(g,I){if(1&g&&(e.qex(0),e.EFF(1),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.emptyMessageLabel," ")}}function io(g,I){1&g&&e.eu8(0,null,4)}function go(g,I){if(1&g&&(e.j41(0,"div",39),e.DNE(1,no,2,1,"ng-container",40)(2,io,2,0,"ng-container",9),e.k0s()),2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",!t.emptyMessageTemplate)("ngIfElse",t.emptyFilter),e.R7$(),e.Y8G("ngTemplateOutlet",t.emptyMessageTemplate)}}function ro(g,I){1&g&&e.eu8(0)}function oo(g,I){if(1&g&&(e.j41(0,"div",41),e.DNE(1,Jr,1,0,"ng-container",9)(2,eo,3,2,"div",42)(3,to,2,2,"table",11)(4,go,3,3,"div",12)(5,ro,1,0,"ng-container",9),e.k0s()),2&g){const t=e.XpG();e.HbH(t.styleClass),e.Y8G("ngClass",e.eq3(9,hr,t.selectionMode))("ngStyle",t.style),e.R7$(),e.Y8G("ngTemplateOutlet",t.headerTemplate),e.R7$(),e.Y8G("ngIf",t.loading),e.R7$(),e.Y8G("ngIf",t.value&&t.value[0]),e.R7$(),e.Y8G("ngIf",!t.loading&&(null==t.getRootNode()||0===t.getRootNode().length)),e.R7$(),e.Y8G("ngTemplateOutlet",t.footerTemplate)}}let so=(()=>{class g{static ICON_CLASS="p-treenode-icon ";rowNode;node;parentNode;root;index;firstChild;lastChild;level;indentation;itemSize;loadingMode;tree;timeout;draghoverPrev;draghoverNext;draghoverNode;get ariaSelected(){return"single"===this.tree.selectionMode||"multiple"===this.tree.selectionMode?this.isSelected():void 0}get ariaChecked(){return"checkbox"===this.tree.selectionMode?this.isSelected():void 0}constructor(t){this.tree=t}ngOnInit(){this.node.parent=this.parentNode;const r=this.tree.el.nativeElement.closest("p-dialog");this.parentNode&&!r&&(this.setAllNodesTabIndexes(),this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value)))}getIcon(){let t;return t=this.node.icon?this.node.icon:this.node.expanded&&this.node.children&&this.node.children?.length?this.node.expandedIcon:this.node.collapsedIcon,g.ICON_CLASS+" "+t}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(t){this.node.expanded?this.collapse(t):this.expand(t),t.stopPropagation()}expand(t){this.node.expanded=!0,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeExpand.emit({originalEvent:t,node:this.node})}collapse(t){this.node.expanded=!1,this.tree.virtualScroll&&(this.tree.updateSerializedValue(),this.focusVirtualNode()),this.tree.onNodeCollapse.emit({originalEvent:t,node:this.node})}onNodeClick(t){this.tree.onNodeClick(t,this.node)}onNodeKeydown(t){"Enter"===t.key&&this.tree.onNodeClick(t,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(t){this.tree.onNodeRightClick(t,this.node)}isSelected(){return this.tree.isSelected(this.node)}isSameNode(t){return t.currentTarget&&(t.currentTarget.isSameNode(t.target)||t.currentTarget.isSameNode(t.target.closest('[role="treeitem"]')))}onDropPoint(t,r){t.preventDefault();let o=this.tree.dragNode,m=this.tree.dragNodeTree!==this.tree||1===r||this.tree.dragNodeIndex!==this.index-1;if(this.tree.allowDrop(o,this.node,this.tree.dragNodeScope,"between")&&m){let D={...this.createDropPointEventMetadata(r)};this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:t,dragNode:o,dropNode:this.node,dropPoint:"between",index:this.index,accept:()=>{this.processPointDrop(D)}}):(this.processPointDrop(D),this.tree.onNodeDrop.emit({originalEvent:t,dragNode:o,dropNode:this.node,dropPoint:"between",index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(t){let r=t.dropNode.parent?t.dropNode.parent.children:this.tree.value;t.dragNodeSubNodes.splice(t.dragNodeIndex,1);let o=this.index;t.position<0?(o=t.dragNodeSubNodes===r?t.dragNodeIndex>t.index?t.index:t.index-1:t.index,r.splice(o,0,t.dragNode)):(o=r.length,r.push(t.dragNode)),this.tree.dragDropService.stopDrag({node:t.dragNode,subNodes:t.dropNode.parent?t.dropNode.parent.children:this.tree.value,index:t.dragNodeIndex})}createDropPointEventMetadata(t){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:t}}onDropPointDragOver(t){t.dataTransfer.dropEffect="move",t.preventDefault()}onDropPointDragEnter(t,r){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope,"between")&&(r<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(t){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(t){this.tree.draggableNodes&&!1!==this.node.draggable?(t.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):t.preventDefault()}onDragStop(t){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node?.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(t){t.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(t.preventDefault(),t.stopPropagation())}onDropNode(t){if(this.tree.droppableNodes&&!1!==this.node?.droppable){let r=this.tree.dragNode;if(this.tree.allowDrop(r,this.node,this.tree.dragNodeScope)){let o={...this.createDropNodeEventMetadata()};this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:t,dragNode:r,dropNode:this.node,dropPoint:"node",index:this.index,accept:()=>{this.processNodeDrop(o)}}):(this.processNodeDrop(o),this.tree.onNodeDrop.emit({originalEvent:t,dragNode:r,dropNode:this.node,dropPoint:"node",index:this.index}))}}t.preventDefault(),t.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(t){let r=t.dragNodeIndex;t.dragNodeSubNodes.splice(r,1),t.dropNode.children?t.dropNode.children.push(t.dragNode):t.dropNode.children=[t.dragNode],this.tree.dragDropService.stopDrag({node:t.dragNode,subNodes:t.dropNode.parent?t.dropNode.parent.children:this.tree.value,index:r})}onDropNodeDragEnter(t){this.tree.droppableNodes&&!1!==this.node?.droppable&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(t){if(this.tree.droppableNodes){let r=t.currentTarget.getBoundingClientRect();(t.x>r.left+r.width||t.x<r.left||t.y>=Math.floor(r.top+r.height)||t.y<r.top)&&(this.draghoverNode=!1)}}onKeyDown(t){if(this.isSameNode(t)&&(!this.tree.contextMenu||"block"!==this.tree.contextMenu.containerViewChild?.nativeElement.style.display))switch(t.code){case"ArrowDown":this.onArrowDown(t);break;case"ArrowUp":this.onArrowUp(t);break;case"ArrowRight":this.onArrowRight(t);break;case"ArrowLeft":this.onArrowLeft(t);break;case"Enter":case"NumpadEnter":this.onEnter(t);break;case"Space":const r=t.target instanceof HTMLElement&&t.target.nodeName;["INPUT"].includes(r)||this.onEnter(t);break;case"Tab":this.setAllNodesTabIndexes()}}onArrowUp(t){const r="toggler"===t.target.getAttribute("data-pc-section")?t.target.closest('[role="treeitem"]'):t.target.parentElement;if(r.previousElementSibling)this.focusRowChange(r,r.previousElementSibling,this.findLastVisibleDescendant(r.previousElementSibling));else{let o=this.getParentNodeElement(r);o&&this.focusRowChange(r,o)}t.preventDefault()}onArrowDown(t){const r="toggler"===t.target.getAttribute("data-pc-section")?t.target.closest('[role="treeitem"]'):t.target,o=r.children[1];if(o&&o.children.length>0)this.focusRowChange(r,o.children[0]);else if(r.parentElement.nextElementSibling)this.focusRowChange(r,r.parentElement.nextElementSibling);else{let s=this.findNextSiblingOfAncestor(r.parentElement);s&&this.focusRowChange(r,s)}t.preventDefault()}onArrowRight(t){!this.node?.expanded&&!this.tree.isNodeLeaf(this.node)&&(this.expand(t),t.currentTarget.tabIndex=-1,setTimeout(()=>{this.onArrowDown(t)},1)),t.preventDefault()}onArrowLeft(t){const r="toggler"===t.target.getAttribute("data-pc-section")?t.target.closest('[role="treeitem"]'):t.target;if(0===this.level&&!this.node?.expanded)return!1;if(this.node?.expanded)return void this.collapse(t);let o=this.getParentNodeElement(r.parentElement);o&&this.focusRowChange(t.currentTarget,o),t.preventDefault()}isActionableElement(t){const r=t.target;return r instanceof HTMLElement&&("A"==r.nodeName||"BUTTON"==r.nodeName)}onEnter(t){this.tree.onNodeClick(t,this.node),this.setTabIndexForSelectionMode(t,this.tree.nodeTouched),this.isActionableElement(t)||t.preventDefault()}setAllNodesTabIndexes(){const t=w.D.find(this.tree.el.nativeElement,".p-treenode"),r=[...t].some(o=>"true"===o.getAttribute("aria-selected")||"true"===o.getAttribute("aria-checked"));[...t].forEach(o=>{o.tabIndex=-1}),r?[...t].filter(s=>"true"===s.getAttribute("aria-selected")||"true"===s.getAttribute("aria-checked"))[0].tabIndex=0:[...t][0].tabIndex=0}setTabIndexForSelectionMode(t,r){if(null!==this.tree.selectionMode){const o=[...w.D.find(this.tree.el.nativeElement,".p-treenode")];t.currentTarget.tabIndex=!1===r?-1:0,o.every(s=>-1===s.tabIndex)&&(o[0].tabIndex=0)}}findNextSiblingOfAncestor(t){let r=this.getParentNodeElement(t);return r?r.nextElementSibling?r.nextElementSibling:this.findNextSiblingOfAncestor(r):null}findLastVisibleDescendant(t){const o=Array.from(t.children).find(s=>w.D.hasClass(s,"p-treenode")).children[1];return o&&o.children.length>0?this.findLastVisibleDescendant(o.children[o.children.length-1]):t}getParentNodeElement(t){const r=t.parentElement?.parentElement?.parentElement;return"P-TREENODE"===r?.tagName?r:null}focusNode(t){this.tree.droppableNodes?t.children[1].focus():t.children[0].focus()}focusRowChange(t,r,o){t.tabIndex="-1",r.children[0].tabIndex="0",this.focusNode(o||r)}focusVirtualNode(){this.timeout=setTimeout(()=>{let t=w.D.findSingle(document.body,`[data-id="${this.node?.key??this.node?.data}"]`);w.D.focus(t)},1)}static \u0275fac=function(r){return new(r||g)(e.rXU((0,e.Rfq)(()=>Ct)))};static \u0275cmp=e.VBU({type:g,selectors:[["p-treeNode"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:[2,"root","root",e.L39],index:[2,"index","index",e.Udg],firstChild:[2,"firstChild","firstChild",e.L39],lastChild:[2,"lastChild","lastChild",e.L39],level:[2,"level","level",e.Udg],indentation:[2,"indentation","indentation",e.Udg],itemSize:[2,"itemSize","itemSize",e.Udg],loadingMode:"loadingMode"},features:[e.GFd],decls:1,vars:1,consts:[[3,"ngIf"],["class","p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],["role","treeitem",3,"ngClass","ngStyle","style","keydown",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-treenode-droppoint",3,"drop","dragover","dragenter","dragleave","ngClass"],["role","treeitem",3,"keydown","ngClass","ngStyle"],[1,"p-treenode-content",3,"click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","ngStyle","draggable","ngClass"],["type","button","pRipple","","tabindex","-1",1,"p-tree-toggler","p-link",3,"click"],[4,"ngIf"],["class","p-tree-toggler-icon",4,"ngIf"],["class","p-checkbox p-component","aria-hidden","true",3,"ngClass",4,"ngIf"],[1,"p-treenode-label"],["class","p-treenode-children","role","group",3,"ngStyle",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"spin","styleClass"],[1,"p-tree-toggler-icon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"p-checkbox","p-component",3,"ngClass"],["role","checkbox",1,"p-checkbox-box",3,"ngClass"],["role","group",1,"p-treenode-children",3,"ngStyle"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","itemSize","level","loadingMode"],["class","p-treenode-connector",4,"ngIf"],[1,"p-treenode",3,"ngClass"],["tabindex","0",1,"p-treenode-content",3,"click","contextmenu","touchend","keydown","ngClass"],[3,"ngClass","click",4,"ngIf"],["class","p-treenode-children-container",3,"ngStyle",4,"ngIf"],[1,"p-treenode-connector"],[1,"p-treenode-connector-table"],[3,"ngClass"],[3,"click","ngClass"],[3,"styleClass","ariaLabel",4,"ngIf"],[3,"styleClass","ariaLabel"],[1,"p-treenode-children-container",3,"ngStyle"],[1,"p-treenode-children"],[3,"node","firstChild","lastChild",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild"]],template:function(r,o){1&r&&e.DNE(0,Ir,4,4,"ng-template",0),2&r&&e.Y8G("ngIf",o.node)},dependencies:()=>[y.YU,y.Sq,y.bT,y.T3,y.B3,ve.n,Bt.S,Oe.D,Re.v,Rt.Q,lt.N,Gt.c,g],encapsulation:2})}return g})(),Ct=(()=>{class g{el;dragDropService;config;cd;value;selectionMode;loadingMode="mask";selection;style;styleClass;contextMenu;layout="vertical";draggableScope;droppableScope;draggableNodes;droppableNodes;metaKeySelection=!1;propagateSelectionUp=!0;propagateSelectionDown=!0;loading;loadingIcon;emptyMessage="";ariaLabel;togglerAriaLabel;ariaLabelledBy;validateDrop;filter;filterBy="label";filterMode="lenient";filterPlaceholder;filteredNodes;filterLocale;scrollHeight;lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;indentation=1.5;_templateMap;trackBy=(t,r)=>r;_virtualNodeHeight;get virtualNodeHeight(){return this._virtualNodeHeight}set virtualNodeHeight(t){this._virtualNodeHeight=t,console.warn("The virtualNodeHeight property is deprecated, use virtualScrollItemSize property instead.")}selectionChange=new e.bkB;onNodeSelect=new e.bkB;onNodeUnselect=new e.bkB;onNodeExpand=new e.bkB;onNodeCollapse=new e.bkB;onNodeContextMenuSelect=new e.bkB;onNodeDrop=new e.bkB;onLazyLoad=new e.bkB;onScroll=new e.bkB;onScrollIndexChange=new e.bkB;onFilter=new e.bkB;templates;filterViewChild;scroller;wrapperViewChild;serializedValue;headerTemplate;footerTemplate;loaderTemplate;emptyMessageTemplate;togglerIconTemplate;checkboxIconTemplate;loadingIconTemplate;filterIconTemplate;nodeTouched;dragNodeTree;dragNode;dragNodeSubNodes;dragNodeIndex;dragNodeScope;dragHover;dragStartSubscription;dragStopSubscription;constructor(t,r,o,s){this.el=t,this.dragDropService=r,this.config=o,this.cd=s}ngOnInit(){this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(t=>{this.dragNodeTree=t.tree,this.dragNode=t.node,this.dragNodeSubNodes=t.subNodes,this.dragNodeIndex=t.index,this.dragNodeScope=t.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(t=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(t){t.value&&(this.updateSerializedValue(),this.hasFilterActive()&&this._filter(this.filterViewChild.nativeElement.value))}get horizontal(){return"horizontal"==this.layout}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(N.Yj.EMPTY_MESSAGE)}ngAfterContentInit(){this.templates.length&&(this._templateMap={}),this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"empty":this.emptyMessageTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"togglericon":this.togglerIconTemplate=t.template;break;case"checkboxicon":this.checkboxIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;default:this._templateMap[t.name]=t.template}})}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(t,r,o,s){r&&r.length&&r.forEach((u,m)=>{u.parent=t;const D={node:u,parent:t,level:o,visible:s&&(!t||t.expanded),lastChild:m===r.length-1,index:m};this.serializedValue.push(D),D.visible&&u.expanded&&this.serializeNodes(u,u.children,o+1,D.visible)})}onNodeClick(t,r){let o=t.target;if(!w.D.hasClass(o,"p-tree-toggler")&&!w.D.hasClass(o,"p-tree-toggler-icon")){if(this.selectionMode){if(!1===r.selectable)return void(r.style="--p-focus-ring-color: none;");if(r.style="--p-focus-ring-color: var(--primary-color)",this.hasFilteredNodes()&&!(r=this.getNodeWithKey(r.key,this.filteredNodes)))return;let s=this.findIndexInSelection(r),u=s>=0;if(this.isCheckboxSelectionMode())u?(this.propagateSelectionDown?this.propagateDown(r,!1):this.selection=this.selection.filter((m,D)=>D!=s),this.propagateSelectionUp&&r.parent&&this.propagateUp(r.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:t,node:r})):(this.propagateSelectionDown?this.propagateDown(r,!0):this.selection=[...this.selection||[],r],this.propagateSelectionUp&&r.parent&&this.propagateUp(r.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:t,node:r}));else if(!this.nodeTouched&&this.metaKeySelection){let D=t.metaKey||t.ctrlKey;u&&D?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((F,j)=>j!=s),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:t,node:r})):(this.isSingleSelectionMode()?this.selectionChange.emit(r):this.isMultipleSelectionMode()&&(this.selection=D&&this.selection||[],this.selection=[...this.selection,r],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:t,node:r}))}else this.isSingleSelectionMode()?u?(this.selection=null,this.onNodeUnselect.emit({originalEvent:t,node:r})):(this.selection=r,setTimeout(()=>{this.onNodeSelect.emit({originalEvent:t,node:r})})):u?(this.selection=this.selection.filter((D,F)=>F!=s),this.onNodeUnselect.emit({originalEvent:t,node:r})):(this.selection=[...this.selection||[],r],setTimeout(()=>{this.onNodeSelect.emit({originalEvent:t,node:r})})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(t,r){if(this.contextMenu){let s=t.target.getAttribute("class");if(s&&s.includes("p-tree-toggler"))return;this.findIndexInSelection(r)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(r):this.selectionChange.emit([r])),this.contextMenu.show(t),this.onNodeContextMenuSelect.emit({originalEvent:t,node:r})}}findIndexInSelection(t){return this.selectionMode&&this.selection?(this.isSingleSelectionMode()?[this.selection]:this.selection).findIndex(o=>o===t||o.key===t.key&&void 0!==o.key):-1}syncNodeOption(t,r,o,s){const u=this.hasFilteredNodes()?this.getNodeWithKey(t.key,r):null;u&&(u[o]=s||t[o])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}hasFilterActive(){return this.filter&&this.filterViewChild?.nativeElement?.value.length>0}getNodeWithKey(t,r){for(let o of r){if(o.key===t)return o;if(o.children){let s=this.getNodeWithKey(t,o.children);if(s)return s}}}propagateUp(t,r){if(t.children&&t.children.length){let s=0,u=!1;for(let m of t.children)this.isSelected(m)?s++:m.partialSelected&&(u=!0);if(r&&s==t.children.length)this.selection=[...this.selection||[],t],t.partialSelected=!1;else{if(!r){let m=this.findIndexInSelection(t);m>=0&&(this.selection=this.selection.filter((D,F)=>F!=m))}t.partialSelected=!!(u||s>0&&s!=t.children.length)}this.syncNodeOption(t,this.filteredNodes,"partialSelected")}let o=t.parent;o&&this.propagateUp(o,r)}propagateDown(t,r){let o=this.findIndexInSelection(t);if(r&&-1==o&&!1!==t.selectable?this.selection=[...this.selection||[],this.filterUnselectableChildren(t)]:!r&&o>-1&&(this.selection=this.selection.filter((s,u)=>u!=o)),t.partialSelected=!1,this.syncNodeOption(t,this.filteredNodes,"partialSelected"),t.children&&t.children.length)for(let s of t.children)this.propagateDown(s,r)}filterUnselectableChildren(t){let r=Object.assign({},t);if(r.children&&r.children.length)for(let o of r.children)!1===o.selectable&&(r.children=r.children.filter(s=>s!=o)),o=this.filterUnselectableChildren(o);return r}isSelected(t){return-1!=this.findIndexInSelection(t)}isSingleSelectionMode(){return this.selectionMode&&"single"==this.selectionMode}isMultipleSelectionMode(){return this.selectionMode&&"multiple"==this.selectionMode}isCheckboxSelectionMode(){return this.selectionMode&&"checkbox"==this.selectionMode}isNodeLeaf(t){return 0!=t.leaf&&!(t.children&&t.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(t){return this._templateMap?t.type?this._templateMap[t.type]:this._templateMap.default:null}onDragOver(t){this.droppableNodes&&(!this.value||0===this.value.length)&&(t.dataTransfer.dropEffect="move",t.preventDefault())}onDrop(t){if(this.droppableNodes&&(!this.value||0===this.value.length)){t.preventDefault();let r=this.dragNode;if(this.allowDrop(r,null,this.dragNodeScope)){let o=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:t,dragNode:r,dropNode:null,index:o,accept:()=>{this.processTreeDrop(r,o)}}):(this.onNodeDrop.emit({originalEvent:t,dragNode:r,dropNode:null,index:o}),this.processTreeDrop(r,o))}}}processTreeDrop(t,r){this.dragNodeSubNodes.splice(r,1),this.value.push(t),this.dragDropService.stopDrag({node:t})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(t){if(this.droppableNodes){let r=t.currentTarget.getBoundingClientRect();(t.x>r.left+r.width||t.x<r.left||t.y>r.top+r.height||t.y<r.top)&&(this.dragHover=!1)}}allowDrop(t,r,o,s="node"){if(t){if(this.isValidDragScope(o)){let u=!0;if(r)if(t===r)u=!1;else{let m=r.parent;for(;null!=m;){if(m===t){u=!1;break}m=m.parent}}return u}return!1}return!1}isValidDragScope(t){let r=this.droppableScope;if(r){if("string"==typeof r){if("string"==typeof t)return r===t;if(Array.isArray(t))return-1!=t.indexOf(r)}else if(Array.isArray(r)){if("string"==typeof t)return-1!=r.indexOf(t);if(Array.isArray(t))for(let o of r)for(let s of t)if(o===s)return!0}return!1}return!0}_filter(t){let r=t;if(""===r)this.filteredNodes=null;else{this.filteredNodes=[];const o=this.filterBy.split(","),s=te.BF.removeAccents(r).toLocaleLowerCase(this.filterLocale),u="strict"===this.filterMode;for(let m of this.value){let D={...m},F={searchFields:o,filterText:s,isStrictMode:u};(u&&(this.findFilteredNodes(D,F)||this.isFilterMatched(D,F))||!u&&(this.isFilterMatched(D,F)||this.findFilteredNodes(D,F)))&&this.filteredNodes.push(D)}}this.updateSerializedValue(),this.onFilter.emit({filter:r,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}scrollToVirtualIndex(t){this.virtualScroll&&this.scroller?.scrollToIndex(t)}scrollTo(t){this.virtualScroll?this.scroller?.scrollTo(t):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(t):(this.wrapperViewChild.nativeElement.scrollLeft=t.left,this.wrapperViewChild.nativeElement.scrollTop=t.top))}findFilteredNodes(t,r){if(t){let o=!1;if(t.children){let s=[...t.children];t.children=[];for(let u of s){let m={...u};this.isFilterMatched(m,r)&&(o=!0,t.children.push(m))}}if(o)return t.expanded=!0,!0}}isFilterMatched(t,r){let{searchFields:o,filterText:s,isStrictMode:u}=r,m=!1;for(let D of o)te.BF.removeAccents(String(te.BF.resolveFieldData(t,D))).toLocaleLowerCase(this.filterLocale).indexOf(s)>-1&&(m=!0);return(!m||u&&!this.isNodeLeaf(t))&&(m=this.findFilteredNodes(t,{searchFields:o,filterText:s,isStrictMode:u})||m),m}getIndex(t,r){const o=t.getItemOptions;return o?o(r).index:r}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||g)(e.rXU(e.aKT),e.rXU(N.$9,8),e.rXU(N.r1),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:g,selectors:[["p-tree"]],contentQueries:function(r,o,s){if(1&r&&e.wni(s,N.Ei,4),2&r){let u;e.mGM(u=e.lsd())&&(o.templates=u)}},viewQuery:function(r,o){if(1&r&&(e.GBs(ar,5),e.GBs(Ar,5),e.GBs(cr,5)),2&r){let s;e.mGM(s=e.lsd())&&(o.filterViewChild=s.first),e.mGM(s=e.lsd())&&(o.scroller=s.first),e.mGM(s=e.lsd())&&(o.wrapperViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",selectionMode:"selectionMode",loadingMode:"loadingMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",layout:"layout",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:[2,"draggableNodes","draggableNodes",e.L39],droppableNodes:[2,"droppableNodes","droppableNodes",e.L39],metaKeySelection:[2,"metaKeySelection","metaKeySelection",e.L39],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",e.L39],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",e.L39],loading:[2,"loading","loading",e.L39],loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:[2,"validateDrop","validateDrop",e.L39],filter:[2,"filter","filter",e.L39],filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filteredNodes:"filteredNodes",filterLocale:"filterLocale",scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",e.L39],virtualScroll:[2,"virtualScroll","virtualScroll",e.L39],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",e.Udg],virtualScrollOptions:"virtualScrollOptions",indentation:[2,"indentation","indentation",e.Udg],_templateMap:"_templateMap",trackBy:"trackBy",virtualNodeHeight:"virtualNodeHeight"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange",onFilter:"onFilter"},features:[e.GFd,e.OA$],decls:2,vars:2,consts:[["filter",""],["scroller",""],["treeNode",""],["wrapper",""],["emptyFilter",""],[3,"ngClass","ngStyle","class","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"drop","dragover","dragenter","dragleave","ngClass","ngStyle"],["class","p-tree-loading-overlay p-component-overlay",4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tree-filter-container",4,"ngIf"],[4,"ngIf"],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-tree-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-tree-loading-icon"],[1,"p-tree-filter-container"],["type","search","autocomplete","off",1,"p-tree-filter","p-inputtext","p-component",3,"keydown.enter","input"],[3,"styleClass",4,"ngIf"],["class","p-tree-filter-icon",4,"ngIf"],[3,"styleClass"],[1,"p-tree-filter-icon"],["styleClass","p-tree-wrapper",3,"items","tabindex","style","scrollHeight","itemSize","lazy","options","onScroll","onScrollIndexChange","onLazyLoad",4,"ngIf"],["styleClass","p-tree-wrapper",3,"onScroll","onScrollIndexChange","onLazyLoad","items","tabindex","scrollHeight","itemSize","lazy","options"],["pTemplate","content"],["class","p-tree-container","role","tree",3,"ngClass","style",4,"ngIf"],["role","tree",1,"p-tree-container",3,"ngClass"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"level","rowNode","node","parentNode","firstChild","lastChild","index","itemSize","indentation","loadingMode"],["pTemplate","loader"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-tree-wrapper",3,"ngStyle"],["class","p-tree-container","role","tree",4,"ngIf"],["role","tree",1,"p-tree-container"],[3,"node","firstChild","lastChild","index","level","loadingMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level","loadingMode"],[1,"p-tree-empty-message"],[4,"ngIf","ngIfElse"],[3,"ngClass","ngStyle"],["class","p-tree-loading-mask p-component-overlay",4,"ngIf"],[1,"p-tree-loading-mask","p-component-overlay"],[3,"node","root"]],template:function(r,o){1&r&&e.DNE(0,Xr,7,15,"div",5)(1,oo,6,11,"div",6),2&r&&(e.Y8G("ngIf",!o.horizontal),e.R7$(),e.Y8G("ngIf",o.horizontal))},dependencies:()=>[y.YU,y.Sq,y.bT,y.T3,y.B3,N.Ei,ye.H,Ve.W,lt.N,so],styles:["@layer primeng{.p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:flex;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:flex;flex:1;height:100%;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0 none}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal tr,.p-tree.p-tree-horizontal td{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:flex;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-x scroll center center transparent;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf,.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-y scroll 0 0 transparent;width:1px}.p-tree.p-tree-horizontal table{height:0}.p-scroller .p-tree-container{overflow:visible}}\n"],encapsulation:2})}return g})(),It=(()=>{class g{static \u0275fac=function(r){return new(r||g)};static \u0275mod=e.$C({type:g});static \u0275inj=e.G2t({imports:[y.MD,N.Gg,ve.Z,ye.h,Bt.S,Oe.D,Re.v,Rt.Q,Ve.W,lt.N,Gt.c,N.Gg,ye.h]})}return g})();var at=v(9335),Ut=v(1880);const lo=["container"],Co=["focusInput"],Io=["filter"],ao=["tree"],Ao=["panel"],co=["overlay"],uo=["firstHiddenFocusableEl"],po=["lastHiddenFocusableEl"],ho=(g,I)=>({$implicit:g,placeholder:I}),Lt=(g,I)=>({$implicit:g,options:I}),mo=g=>({"max-height":g}),_o=g=>({$implicit:g}),fo=(g,I)=>({$implicit:g,partialSelected:I});function bo(g,I){1&g&&e.eu8(0)}function vo(g,I){if(1&g&&(e.qex(0),e.DNE(1,bo,1,0,"ng-container",22),e.bVm()),2&g){const t=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",t.valueTemplate)("ngTemplateOutletContext",e.l_i(2,ho,t.value,t.placeholder))}}function yo(g,I){if(1&g&&(e.qex(0),e.EFF(1),e.bVm()),2&g){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.label||"empty"," ")}}function So(g,I){if(1&g&&(e.j41(0,"div",24)(1,"span",25),e.EFF(2),e.k0s()()),2&g){const t=I.$implicit;e.R7$(2),e.JRh(t.label)}}function ko(g,I){if(1&g&&(e.qex(0),e.EFF(1),e.bVm()),2&g){const t=e.XpG(3);e.R7$(),e.JRh(t.placeholder||"empty")}}function To(g,I){if(1&g&&e.DNE(0,So,3,1,"div",23)(1,ko,2,1,"ng-container",16),2&g){const t=e.XpG(2);e.Y8G("ngForOf",t.value),e.R7$(),e.Y8G("ngIf",t.emptyValue)}}function Do(g,I){if(1&g&&e.DNE(0,yo,2,1,"ng-container",15)(1,To,2,2,"ng-template",null,4,e.C5r),2&g){const t=e.sdS(2),r=e.XpG();e.Y8G("ngIf","comma"===r.display)("ngIfElse",t)}}function Po(g,I){if(1&g){const t=e.RV6();e.j41(0,"TimesIcon",28),e.bIt("click",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.clear(o))}),e.k0s()}2&g&&e.Y8G("styleClass","p-treeselect-clear-icon")}function xo(g,I){}function No(g,I){1&g&&e.DNE(0,xo,0,0,"ng-template")}function Eo(g,I){if(1&g){const t=e.RV6();e.j41(0,"span",29),e.bIt("click",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.clear(o))}),e.DNE(1,No,1,0,null,30),e.k0s()}if(2&g){const t=e.XpG(2);e.R7$(),e.Y8G("ngTemplateOutlet",t.clearIconTemplate)}}function wo(g,I){if(1&g&&(e.qex(0),e.DNE(1,Po,1,1,"TimesIcon",26)(2,Eo,2,1,"span",27),e.bVm()),2&g){const t=e.XpG();e.R7$(),e.Y8G("ngIf",!t.clearIconTemplate),e.R7$(),e.Y8G("ngIf",t.clearIconTemplate)}}function Fo(g,I){1&g&&e.nrm(0,"ChevronDownIcon",31),2&g&&e.Y8G("styleClass","p-treeselect-trigger-icon")}function jo(g,I){}function Bo(g,I){1&g&&e.DNE(0,jo,0,0,"ng-template")}function Ro(g,I){if(1&g&&(e.j41(0,"span",32),e.DNE(1,Bo,1,0,null,30),e.k0s()),2&g){const t=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",t.triggerIconTemplate)}}function Go(g,I){1&g&&e.eu8(0)}function Mo(g,I){1&g&&e.nrm(0,"SearchIcon",31),2&g&&e.Y8G("styleClass","p-treeselect-filter-icon")}function Oo(g,I){}function Vo(g,I){1&g&&e.DNE(0,Oo,0,0,"ng-template")}function $o(g,I){if(1&g&&(e.j41(0,"span",43),e.DNE(1,Vo,1,0,null,30),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",t.filterIconTemplate)}}function Uo(g,I){1&g&&e.nrm(0,"TimesIcon")}function Lo(g,I){}function Yo(g,I){1&g&&e.DNE(0,Lo,0,0,"ng-template")}function zo(g,I){if(1&g&&(e.j41(0,"span"),e.DNE(1,Yo,1,0,null,30),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngTemplateOutlet",t.closeIconTemplate)}}function Xo(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",38),e.bIt("keydown.arrowdown",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onArrowDown(o))}),e.j41(1,"div",39)(2,"input",40,9),e.bIt("keydown.enter",function(o){return e.eBV(t),e.Njj(o.preventDefault())})("input",function(o){e.eBV(t);const s=e.XpG(2);return e.Njj(s.onFilterInput(o))}),e.k0s(),e.DNE(4,Mo,1,1,"SearchIcon",18)(5,$o,2,1,"span",41),e.k0s(),e.j41(6,"button",42),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.hide())}),e.DNE(7,Uo,1,0,"TimesIcon",16)(8,zo,2,1,"span",16),e.k0s()()}if(2&g){const t=e.XpG(2);e.R7$(2),e.Y8G("value",t.filterValue),e.BMQ("placeholder",t.filterPlaceholder),e.R7$(2),e.Y8G("ngIf",!t.filterIconTemplate),e.R7$(),e.Y8G("ngIf",t.filterIconTemplate),e.R7$(2),e.Y8G("ngIf",!t.closeIconTemplate),e.R7$(),e.Y8G("ngIf",t.closeIconTemplate)}}function Jo(g,I){1&g&&e.eu8(0)}function Wo(g,I){if(1&g&&e.DNE(0,Jo,1,0,"ng-container",30),2&g){const t=e.XpG(3);e.Y8G("ngTemplateOutlet",t.emptyTemplate)}}function Ho(g,I){1&g&&(e.qex(0),e.DNE(1,Wo,1,1,"ng-template",44),e.bVm())}function Zo(g,I){1&g&&e.eu8(0)}function Ko(g,I){if(1&g&&e.DNE(0,Zo,1,0,"ng-container",22),2&g){const t=I.$implicit,r=e.XpG(3);e.Y8G("ngTemplateOutlet",r.itemTogglerIconTemplate)("ngTemplateOutletContext",e.eq3(2,_o,t))}}function Qo(g,I){1&g&&e.DNE(0,Ko,1,4,"ng-template",45)}function qo(g,I){1&g&&e.eu8(0)}function es(g,I){if(1&g&&e.DNE(0,qo,1,0,"ng-container",22),2&g){const t=I.$implicit,r=I.partialSelected,o=e.XpG(3);e.Y8G("ngTemplateOutlet",o.itemCheckboxIconTemplate)("ngTemplateOutletContext",e.l_i(2,fo,t,r))}}function ts(g,I){1&g&&e.DNE(0,es,1,5,"ng-template",46)}function ns(g,I){1&g&&e.eu8(0)}function is(g,I){if(1&g&&e.DNE(0,ns,1,0,"ng-container",30),2&g){const t=e.XpG(3);e.Y8G("ngTemplateOutlet",t.itemLoadingIconTemplate)}}function gs(g,I){1&g&&e.DNE(0,is,1,1,"ng-template",47)}function rs(g,I){1&g&&e.eu8(0)}function os(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",33,5)(2,"span",34,6),e.bIt("focus",function(o){e.eBV(t);const s=e.XpG();return e.Njj(s.onFirstHiddenFocus(o))}),e.k0s(),e.DNE(4,Go,1,0,"ng-container",22)(5,Xo,9,6,"div",35),e.j41(6,"div",36)(7,"p-tree",37,7),e.bIt("selectionChange",function(o){e.eBV(t);const s=e.XpG();return e.Njj(s.onSelectionChange(o))})("onNodeExpand",function(o){e.eBV(t);const s=e.XpG();return e.Njj(s.nodeExpand(o))})("onNodeCollapse",function(o){e.eBV(t);const s=e.XpG();return e.Njj(s.nodeCollapse(o))})("onNodeSelect",function(o){e.eBV(t);const s=e.XpG();return e.Njj(s.onSelect(o))})("onNodeUnselect",function(o){e.eBV(t);const s=e.XpG();return e.Njj(s.onUnselect(o))}),e.DNE(9,Ho,2,0,"ng-container",16)(10,Qo,1,0,null,16)(11,ts,1,0,null,16)(12,gs,1,0,null,16),e.k0s()(),e.DNE(13,rs,1,0,"ng-container",22),e.j41(14,"span",34,8),e.bIt("focus",function(o){e.eBV(t);const s=e.XpG();return e.Njj(s.onLastHiddenFocus(o))}),e.k0s()()}if(2&g){const t=e.XpG();e.HbH(t.panelStyleClass),e.Y8G("ngStyle",t.panelStyle)("ngClass",t.panelClass),e.BMQ("id",t.listId),e.R7$(2),e.BMQ("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),e.R7$(2),e.Y8G("ngTemplateOutlet",t.headerTemplate)("ngTemplateOutletContext",e.l_i(38,Lt,t.value,t.options)),e.R7$(),e.Y8G("ngIf",t.filter),e.R7$(),e.Y8G("ngStyle",e.eq3(41,mo,t.scrollHeight)),e.R7$(),e.Y8G("value",t.options)("propagateSelectionDown",t.propagateSelectionDown)("propagateSelectionUp",t.propagateSelectionUp)("selectionMode",t.selectionMode)("selection",t.value)("metaKeySelection",t.metaKeySelection)("emptyMessage",t.emptyMessage)("filterBy",t.filterBy)("filterMode",t.filterMode)("filterPlaceholder",t.filterPlaceholder)("filterLocale",t.filterLocale)("filteredNodes",t.filteredNodes)("virtualScroll",t.virtualScroll)("virtualScrollItemSize",t.virtualScrollItemSize)("virtualScrollOptions",t.virtualScrollOptions)("_templateMap",t.templateMap)("loading",t.loading),e.R7$(2),e.Y8G("ngIf",t.emptyTemplate),e.R7$(),e.Y8G("ngIf",t.itemTogglerIconTemplate),e.R7$(),e.Y8G("ngIf",t.itemCheckboxIconTemplate),e.R7$(),e.Y8G("ngIf",t.itemLoadingIconTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",t.footerTemplate)("ngTemplateOutletContext",e.l_i(43,Lt,t.value,t.options)),e.R7$(),e.BMQ("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}const ss={provide:L.kq,useExisting:(0,e.Rfq)(()=>Yt),multi:!0};let Yt=(()=>{class g{config;cd;el;overlayService;inputId;scrollHeight="400px";disabled;metaKeySelection=!1;variant="outlined";display="comma";selectionMode="single";tabindex="0";ariaLabel;ariaLabelledBy;placeholder;panelClass;panelStyle;panelStyleClass;containerStyle;containerStyleClass;labelStyle;labelStyleClass;overlayOptions;emptyMessage="";appendTo;filter=!1;filterBy="label";filterMode="lenient";filterPlaceholder;filterLocale;filterInputAutoFocus=!0;propagateSelectionDown=!0;propagateSelectionUp=!0;showClear=!1;resetFilterOnHide=!0;virtualScroll;virtualScrollItemSize;virtualScrollOptions;autofocus;get options(){return this._options}set options(t){this._options=t,this.updateTreeState()}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}loading;onNodeExpand=new e.bkB;onNodeCollapse=new e.bkB;onShow=new e.bkB;onHide=new e.bkB;onClear=new e.bkB;onFilter=new e.bkB;onFocus=new e.bkB;onBlur=new e.bkB;onNodeUnselect=new e.bkB;onNodeSelect=new e.bkB;_showTransitionOptions;_hideTransitionOptions;templates;containerEl;focusInput;filterViewChild;treeViewChild;panelEl;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;filteredNodes;filterValue=null;serializedValue;valueTemplate;headerTemplate;emptyTemplate;footerTemplate;clearIconTemplate;triggerIconTemplate;filterIconTemplate;closeIconTemplate;itemTogglerIconTemplate;itemCheckboxIconTemplate;itemLoadingIconTemplate;focused;overlayVisible;selfChange;value;expandedNodes=[];_options;templateMap;onModelChange=()=>{};onModelTouched=()=>{};listId="";constructor(t,r,o,s){this.config=t,this.cd=r,this.el=o,this.overlayService=s}ngOnInit(){this.listId=(0,te._Y)()+"_list",this.updateTreeState()}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(t=>{switch(t.getType()){case"value":this.valueTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"triggericon":this.triggerIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"itemtogglericon":this.itemTogglerIconTemplate=t.template;break;case"itemcheckboxicon":this.itemCheckboxIconTemplate=t.template;break;case"itemloadingicon":this.itemLoadingIconTemplate=t.template;break;default:t.name?this.templateMap[t.name]=t.template:this.valueTemplate=t.template}})}onOverlayAnimationStart(t){if("visible"===t.toState)if(this.filter)te.BF.isNotEmpty(this.filterValue)&&this.treeViewChild?._filter(this.filterValue),this.filterInputAutoFocus&&this.filterViewChild?.nativeElement.focus();else{let r=w.D.getFocusableElements(this.panelEl.nativeElement);r&&r.length>0&&r[0].focus()}}onOverlayBeforeHide(t){let r=w.D.getFocusableElements(this.containerEl.nativeElement);r&&r.length>0&&r[0].focus()}onSelectionChange(t){this.value=t,this.onModelChange(this.value),this.cd.markForCheck()}onClick(t){this.disabled||!this.overlayViewChild?.el?.nativeElement?.contains(t.target)&&!w.D.hasClass(t.target,"p-treeselect-close")&&!w.D.hasClass(t.target,"p-checkbox-box")&&!w.D.hasClass(t.target,"p-checkbox-icon")&&(this.overlayVisible?this.hide():this.show(),this.focusInput?.nativeElement.focus())}onKeyDown(t){switch(t.code){case"ArrowDown":this.overlayVisible||(this.show(),t.preventDefault()),this.onArrowDown(t),t.preventDefault();break;case"Space":case"Enter":this.overlayVisible||(this.show(),t.preventDefault());break;case"Escape":this.overlayVisible&&(this.hide(),this.focusInput?.nativeElement.focus(),t.preventDefault());break;case"Tab":this.onTabKey(t)}}onFilterInput(t){this.filterValue=t.target.value,this.treeViewChild?._filter(this.filterValue),this.onFilter.emit({filter:this.filterValue,filteredValue:this.treeViewChild?.filteredNodes}),setTimeout(()=>{this.overlayViewChild.alignOverlay()})}onArrowDown(t){if(this.overlayVisible&&this.panelEl?.nativeElement){let r=w.D.getFocusableElements(this.panelEl.nativeElement,".p-treenode");r&&r.length>0&&r[0].focus(),t.preventDefault()}}onFirstHiddenFocus(t){const r=t.relatedTarget===this.focusInput?.nativeElement?w.D.getFirstFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInput?.nativeElement;w.D.focus(r)}onLastHiddenFocus(t){const r=t.relatedTarget===this.focusInput?.nativeElement?w.D.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInput?.nativeElement;w.D.focus(r)}show(){this.overlayVisible=!0}hide(t){this.overlayVisible=!1,this.resetFilter(),this.onHide.emit(t),this.cd.markForCheck()}clear(t){this.value=null,this.resetExpandedNodes(),this.resetPartialSelected(),this.onModelChange(this.value),this.onClear.emit(),t.stopPropagation()}checkValue(){return null!==this.value&&te.BF.isNotEmpty(this.value)}onTabKey(t,r=!1){r||(this.overlayVisible&&this.hasFocusableElements()?(w.D.focus(t.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),t.preventDefault()):this.overlayVisible&&this.hide(this.filter))}hasFocusableElements(){return w.D.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}resetFilter(){this.filter&&!this.resetFilterOnHide?(this.filteredNodes=this.treeViewChild?.filteredNodes,this.treeViewChild?.resetFilter()):this.filterValue=null}updateTreeState(){if(this.value){let t="single"===this.selectionMode?[this.value]:[...this.value];this.resetExpandedNodes(),this.resetPartialSelected(),t&&this.options&&this.updateTreeBranchState(null,null,t)}}updateTreeBranchState(t,r,o){if(t){if(this.isSelected(t)&&(this.expandPath(r),o.splice(o.indexOf(t),1)),o.length>0&&t.children)for(let s of t.children)this.updateTreeBranchState(s,[...r,t],o)}else for(let s of this.options)this.updateTreeBranchState(s,[],o)}expandPath(t){for(let r of t)r.expanded=!0;this.expandedNodes=[...t]}nodeExpand(t){this.onNodeExpand.emit(t),this.expandedNodes.push(t.node)}nodeCollapse(t){this.onNodeCollapse.emit(t),this.expandedNodes.splice(this.expandedNodes.indexOf(t.node),1)}resetExpandedNodes(){for(let t of this.expandedNodes)t.expanded=!1;this.expandedNodes=[]}resetPartialSelected(t=this.options){if(t)for(let r of t)r.partialSelected=!1,r.children&&r.children?.length>0&&this.resetPartialSelected(r.children)}findSelectedNodes(t,r,o){if(t){if(this.isSelected(t)&&(o.push(t),delete r[t.key]),Object.keys(r).length&&t.children)for(let s of t.children)this.findSelectedNodes(s,r,o)}else for(let s of this.options)this.findSelectedNodes(s,r,o)}isSelected(t){return-1!=this.findIndexInSelection(t)}findIndexInSelection(t){return this.value?("single"===this.selectionMode?[this.value]:this.value).findIndex(o=>o===t||o.key===t.key&&void 0!==o.key):-1}onSelect(t){this.onNodeSelect.emit(t),"single"===this.selectionMode&&(this.hide(),this.focusInput?.nativeElement.focus())}onUnselect(t){this.onNodeUnselect.emit(t)}onInputFocus(t){this.disabled||(this.focused=!0,this.onFocus.emit(t))}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.onModelTouched()}writeValue(t){this.value=t,this.updateTreeState(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){setTimeout(()=>{this.disabled=t,this.cd.markForCheck()})}containerClass(){return{"p-treeselect p-component p-inputwrapper":!0,"p-treeselect-chip":"chip"===this.display,"p-disabled":this.disabled,"p-focus":this.focused,"p-variant-filled":"filled"===this.variant||"filled"===this.config.inputStyle()}}labelClass(){return{"p-treeselect-label":!0,"p-placeholder":this.label===this.placeholder,"p-treeselect-label-empty":!this.placeholder&&this.emptyValue}}get emptyValue(){return!this.value||0===Object.keys(this.value).length}get emptyOptions(){return!this.options||0===this.options.length}get label(){let t=this.value||[];return t.length?t.map(r=>r.label).join(", "):"single"===this.selectionMode&&this.value?t.label:this.placeholder}static \u0275fac=function(r){return new(r||g)(e.rXU(N.r1),e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(N.si))};static \u0275cmp=e.VBU({type:g,selectors:[["p-treeSelect"]],contentQueries:function(r,o,s){if(1&r&&e.wni(s,N.Ei,4),2&r){let u;e.mGM(u=e.lsd())&&(o.templates=u)}},viewQuery:function(r,o){if(1&r&&(e.GBs(lo,5),e.GBs(Co,5),e.GBs(Io,5),e.GBs(ao,5),e.GBs(Ao,5),e.GBs(co,5),e.GBs(uo,5),e.GBs(po,5)),2&r){let s;e.mGM(s=e.lsd())&&(o.containerEl=s.first),e.mGM(s=e.lsd())&&(o.focusInput=s.first),e.mGM(s=e.lsd())&&(o.filterViewChild=s.first),e.mGM(s=e.lsd())&&(o.treeViewChild=s.first),e.mGM(s=e.lsd())&&(o.panelEl=s.first),e.mGM(s=e.lsd())&&(o.overlayViewChild=s.first),e.mGM(s=e.lsd())&&(o.firstHiddenFocusableElementOnOverlay=s.first),e.mGM(s=e.lsd())&&(o.lastHiddenFocusableElementOnOverlay=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(r,o){2&r&&e.AVh("p-inputwrapper-filled",!o.emptyValue)("p-inputwrapper-focus",o.focused)("p-treeselect-clearable",o.showClear&&!o.disabled)},inputs:{inputId:"inputId",scrollHeight:"scrollHeight",disabled:[2,"disabled","disabled",e.L39],metaKeySelection:[2,"metaKeySelection","metaKeySelection",e.L39],variant:"variant",display:"display",selectionMode:"selectionMode",tabindex:"tabindex",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",placeholder:"placeholder",panelClass:"panelClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",containerStyle:"containerStyle",containerStyleClass:"containerStyleClass",labelStyle:"labelStyle",labelStyleClass:"labelStyleClass",overlayOptions:"overlayOptions",emptyMessage:"emptyMessage",appendTo:"appendTo",filter:[2,"filter","filter",e.L39],filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",filterInputAutoFocus:[2,"filterInputAutoFocus","filterInputAutoFocus",e.L39],propagateSelectionDown:[2,"propagateSelectionDown","propagateSelectionDown",e.L39],propagateSelectionUp:[2,"propagateSelectionUp","propagateSelectionUp",e.L39],showClear:[2,"showClear","showClear",e.L39],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",e.L39],virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",autofocus:[2,"autofocus","autofocus",e.L39],options:"options",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",loading:[2,"loading","loading",e.L39]},outputs:{onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onShow:"onShow",onHide:"onHide",onClear:"onClear",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onNodeUnselect:"onNodeUnselect",onNodeSelect:"onNodeSelect"},features:[e.Jv_([ss]),e.GFd],decls:17,vars:30,consts:[["container",""],["focusInput",""],["defaultValueTemplate",""],["overlay",""],["chipsValueTemplate",""],["panel",""],["firstHiddenFocusableEl",""],["tree",""],["lastHiddenFocusableEl",""],["filter",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["type","text","role","combobox","readonly","","pAutoFocus","",3,"focus","blur","keydown","disabled","autofocus"],[1,"p-treeselect-label-container"],[3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["role","button","aria-haspopup","tree",1,"p-treeselect-trigger"],[3,"styleClass",4,"ngIf"],["class","p-treeselect-trigger-icon",4,"ngIf"],[3,"visibleChange","onAnimationStart","onBeforeHide","onShow","onHide","visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-treeselect-token",4,"ngFor","ngForOf"],[1,"p-treeselect-token"],[1,"p-treeselect-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-treeselect-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-treeselect-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"styleClass"],[1,"p-treeselect-trigger-icon"],[1,"p-treeselect-panel","p-component",3,"ngStyle","ngClass"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-treeselect-header",3,"keydown.arrowdown",4,"ngIf"],[1,"p-treeselect-items-wrapper",3,"ngStyle"],[3,"selectionChange","onNodeExpand","onNodeCollapse","onNodeSelect","onNodeUnselect","value","propagateSelectionDown","propagateSelectionUp","selectionMode","selection","metaKeySelection","emptyMessage","filterBy","filterMode","filterPlaceholder","filterLocale","filteredNodes","virtualScroll","virtualScrollItemSize","virtualScrollOptions","_templateMap","loading"],[1,"p-treeselect-header",3,"keydown.arrowdown"],[1,"p-treeselect-filter-container"],["type","search","autocomplete","off",1,"p-treeselect-filter","p-inputtext","p-component",3,"keydown.enter","input","value"],["class","p-treeselect-filter-icon",4,"ngIf"],[1,"p-treeselect-close","p-link",3,"click"],[1,"p-treeselect-filter-icon"],["pTemplate","empty"],["pTemplate","togglericon"],["pTemplate","checkboxicon"],["pTemplate","loadingicon"]],template:function(r,o){if(1&r){const s=e.RV6();e.j41(0,"div",10,0),e.bIt("click",function(m){return e.eBV(s),e.Njj(o.onClick(m))}),e.j41(2,"div",11)(3,"input",12,1),e.bIt("focus",function(m){return e.eBV(s),e.Njj(o.onInputFocus(m))})("blur",function(m){return e.eBV(s),e.Njj(o.onInputBlur(m))})("keydown",function(m){return e.eBV(s),e.Njj(o.onKeyDown(m))}),e.k0s()(),e.j41(5,"div",13)(6,"div",14),e.DNE(7,vo,2,5,"ng-container",15)(8,Do,3,2,"ng-template",null,2,e.C5r),e.k0s(),e.DNE(10,wo,3,2,"ng-container",16),e.k0s(),e.j41(11,"div",17),e.DNE(12,Fo,1,1,"ChevronDownIcon",18)(13,Ro,2,1,"span",19),e.k0s(),e.j41(14,"p-overlay",20,3),e.mxI("visibleChange",function(m){return e.eBV(s),e.DH7(o.overlayVisible,m)||(o.overlayVisible=m),e.Njj(m)}),e.bIt("onAnimationStart",function(m){return e.eBV(s),e.Njj(o.onOverlayAnimationStart(m))})("onBeforeHide",function(m){return e.eBV(s),e.Njj(o.onOverlayBeforeHide(m))})("onShow",function(m){return e.eBV(s),e.Njj(o.onShow.emit(m))})("onHide",function(m){return e.eBV(s),e.Njj(o.hide(m))}),e.DNE(16,os,16,46,"ng-template",21),e.k0s()()}if(2&r){let s,u;const m=e.sdS(9);e.HbH(o.containerStyleClass),e.Y8G("ngClass",o.containerClass())("ngStyle",o.containerStyle),e.R7$(3),e.Y8G("disabled",o.disabled)("autofocus",o.autofocus),e.BMQ("id",o.inputId)("tabindex",o.disabled?-1:o.tabindex)("aria-controls",o.overlayVisible?o.listId:null)("aria-haspopup","tree")("aria-expanded",null!==(s=o.overlayVisible)&&void 0!==s&&s)("aria-labelledby",o.ariaLabelledBy)("aria-label",o.ariaLabel||("p-emptylabel"===o.label?void 0:o.label)),e.R7$(3),e.HbH(o.labelStyleClass),e.Y8G("ngClass",o.labelClass())("ngStyle",o.labelStyle),e.R7$(),e.Y8G("ngIf",o.valueTemplate)("ngIfElse",m),e.R7$(3),e.Y8G("ngIf",o.checkValue()&&!o.disabled&&o.showClear),e.R7$(),e.BMQ("aria-expanded",null!==(u=o.overlayVisible)&&void 0!==u&&u)("aria-label","treeselect trigger"),e.R7$(),e.Y8G("ngIf",!o.triggerIconTemplate),e.R7$(),e.Y8G("ngIf",o.triggerIconTemplate),e.R7$(),e.R50("visible",o.overlayVisible),e.Y8G("options",o.overlayOptions)("target","@parent")("appendTo",o.appendTo)("showTransitionOptions",o.showTransitionOptions)("hideTransitionOptions",o.hideTransitionOptions)}},dependencies:()=>[y.YU,y.Sq,y.bT,y.T3,y.B3,at.hJ,N.Ei,Ct,Ut.q,Ve.W,Ge.A,Oe.D],styles:["@layer primeng{.p-treeselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-treeselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-treeselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer;display:flex}.p-treeselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-treeselect-label-empty{overflow:hidden;visibility:hidden}.p-treeselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-treeselect-items-wrapper{overflow:auto}.p-treeselect-header{display:flex;align-items:center;justify-content:space-between}.p-treeselect-filter-container{position:relative;flex:1 1 auto}.p-treeselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-treeselect-filter-container .p-inputtext{width:100%}.p-treeselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative;margin-left:auto}.p-treeselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-treeselect{display:flex}.p-treeselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-treeselect-clearable{position:relative}}\n"],encapsulation:2,changeDetection:0})}return g})(),ls=(()=>{class g{static \u0275fac=function(r){return new(r||g)};static \u0275mod=e.$C({type:g});static \u0275inj=e.G2t({imports:[y.MD,at.z_,ve.Z,N.Gg,It,Ut.u,Ve.W,Ge.A,Oe.D,at.z_,N.Gg,It]})}return g})();function Cs(g,I){if(1&g){const t=e.RV6();e.j41(0,"p-checkbox",7),e.mxI("ngModelChange",function(o){const s=e.eBV(t).$implicit;return e.DH7(s.data.analyzable,o)||(s.data.analyzable=o),e.Njj(o)}),e.bIt("onChange",function(o){const s=e.eBV(t).$implicit,u=e.XpG();return e.Njj(u.updateCategoryAnalizability(s.data.iD,o))}),e.k0s(),e.EFF(1)}if(2&g){const t=I.$implicit;e.R50("ngModel",t.data.analyzable),e.Y8G("binary",!0),e.R7$(),e.SpI(" ",t.label," ")}}function Is(g,I){if(1&g){const t=e.RV6();e.j41(0,"p-checkbox",7),e.mxI("ngModelChange",function(o){const s=e.eBV(t).$implicit;return e.DH7(s.data.analyzable,o)||(s.data.analyzable=o),e.Njj(o)}),e.bIt("onChange",function(o){const s=e.eBV(t).$implicit,u=e.XpG();return e.Njj(u.updateTypeAnalizability(s.data.iD,o))}),e.k0s(),e.EFF(1)}if(2&g){const t=I.$implicit;e.R50("ngModel",t.data.analyzable),e.Y8G("binary",!0),e.R7$(),e.SpI(" ",t.label," ")}}function as(g,I){}let As=(()=>{class g extends J.x{constructor(t,r,o){super(o),this.messageService=t,this.categoryTreeService=r,this.filteredCategories=new z.t([]),this.selectedCategory=null,this.filterTextChanged=new z.t("")}onShow(t){t.filterValue=this.filterTextChanged.getValue()}ngOnInit(){this.titleService.setTitle("\u0414\u0435\u0440\u0435\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),this.filterTextChanged.pipe((0,Q.B)(500),(0,ue.F)()).pipe((0,q.n)(t=>this.categoryTreeService.filterCategories(new jt.z.FilterCategoryModel({term:t,count:10})).pipe((0,T.W)(r=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439",severity:"error",detail:r}),V.w))))).subscribe(t=>{const r=t.map(o=>this.mapCategory(o,null,null));this.filteredCategories.next(r)})}onFilterNodeSelect(t){const r=t.node.leaf?t.node.parent.data.iD:t.node.iD;this.loadChildCategories(r,o=>this.topCategories=o.map(s=>this.mapCategory(s,null,r)))}clearCategoriesFilter(t){t.filterValue="",this.filterCategories("")}loadChildCategories(t,r){this.loading=!0,this.categoryTreeService.getCategories(t).pipe((0,T.W)(o=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:o}),this.loading=!1,V.w))).subscribe(o=>{r(o.sort((s,u)=>s.name.localeCompare(u.name))),this.loading=!1})}mapProductType(t){return{label:t.name,children:[],leaf:!0,key:t.iD.toString(),icon:"pi pi-list",hasChildren:!1,type:"productType",data:t}}mapCategory(t,r,o){const s={label:t.name,expandedIcon:"pi pi-folder-open",collapsedIcon:"pi pi-folder",leaf:!1,key:t.iD.toString(),icon:"pi pi-folder",type:"category",data:t,parent:r};if(o==t.iD){let u=s;for(;u;)u.expanded=!0,u=u.parent}return s.children=t.children?.sort((u,m)=>u.name.localeCompare(m.name)).map(u=>this.mapCategory(u,s,o))??[],s.children=s.children.concat(t.types.sort((u,m)=>u.name.localeCompare(m.name)).map(u=>this.mapProductType(u))),s}filterCategories(t){this.filterTextChanged.next(t)}importProductTypes(){this.categoryTreeService.importCategoryTree().pipe((0,T.W)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:t}),V.w))).subscribe(()=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})})}updateCategoryAnalizability(t,r){this.categoryTreeService.setCategoryAnalyzability(t,r.checked).pipe((0,T.W)(o=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u043b\u0430\u0433\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",severity:"error",detail:o}),V.w))).subscribe(()=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})})}updateTypeAnalizability(t,r){this.categoryTreeService.setProductTypeAnalyzability(t,r.checked).pipe((0,T.W)(o=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u043b\u0430\u0433\u0430 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0442\u0438\u043f\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:o}),V.w))).subscribe(()=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0435\u0440\u0435\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})})}static{this.\u0275fac=function(r){return new(r||g)(e.rXU(N.bg),e.rXU(jt.z.CategoryTreeClient),e.rXU($.hE))}}static{this.\u0275cmp=e.VBU({type:g,selectors:[["app-product-tree"]],features:[e.Vt3],decls:10,vars:6,consts:[["treeSelect",""],["containerStyleClass","w-full","appendTo","body","placeholder","Select Item",1,"md:w-20rem","w-full",3,"onShow","onClear","onNodeSelect","onFilter","options","filter","filterInputAutoFocus"],["pButton","",3,"click"],["filterMode","strict","filterPlaceholder","\u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c",1,"w-full","md:w-30rem",3,"value"],["pTemplate","category"],["pTemplate","productType"],["pTemplate","empty"],[3,"ngModelChange","onChange","ngModel","binary"]],template:function(r,o){if(1&r){const s=e.RV6();e.nrm(0,"p-toast"),e.j41(1,"p-treeSelect",1,0),e.nI1(3,"async"),e.bIt("onShow",function(){e.eBV(s);const m=e.sdS(2);return e.Njj(o.onShow(m))})("onClear",function(){e.eBV(s);const m=e.sdS(2);return e.Njj(o.clearCategoriesFilter(m))})("onNodeSelect",function(m){return e.eBV(s),e.Njj(o.onFilterNodeSelect(m))})("onFilter",function(){e.eBV(s);const m=e.sdS(2);return e.Njj(o.filterCategories(m.filterValue))}),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return e.eBV(s),e.Njj(o.importProductTypes())}),e.EFF(5,"\u0418\u043c\u043f\u043e\u0440\u0442 \u0442\u0438\u043f\u043e\u0432 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),e.k0s(),e.j41(6,"p-tree",3),e.DNE(7,Cs,2,3,"ng-template",4)(8,Is,2,3,"ng-template",5)(9,as,0,0,"ng-template",6),e.k0s()}2&r&&(e.R7$(),e.Y8G("options",e.bMT(3,4,o.filteredCategories))("filter",!0)("filterInputAutoFocus",!0),e.R7$(5),e.Y8G("value",o.topCategories))},dependencies:[N.Ei,H._f,Ee.Sc,L.BC,L.vS,pe.y8,Ct,Yt,y.Jj]})}}return g})();var At,h=v(1397),_=v(8810),f=v(7673),cs=v(1985),d=v(1626);!function(g){g.REDICY_API_BASE_URL=new e.nKC("REDICY_API_BASE_URL");let I=(()=>{class a{constructor(i,C){this.jsonParseReviver=void 0,this.http=i,this.baseUrl=C??"/"}findShipments(i){let C=this.baseUrl+"/v1/Shipment/FindShipments";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json",Accept:"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processFindShipments(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processFindShipments(l)}catch(p){return(0,_.$)(p)}}))}processFindShipments(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=rt.fromJS(k),(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}updateShipments(){let i=this.baseUrl+"/v1/Shipment/UpdateShipments";i=i.replace(/[?&]$/,"");let C={observe:"response",responseType:"blob",headers:new d.Lr({})};return this.http.request("post",i,C).pipe((0,h.Z)(A=>this.processUpdateShipments(A))).pipe((0,T.W)(A=>{if(!(A instanceof d.xB))return(0,_.$)(A);try{return this.processUpdateShipments(A)}catch(c){return(0,_.$)(c)}}))}processUpdateShipments(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}static{this.\u0275fac=function(C){return new(C||a)(e.KVO(d.Qq),e.KVO(g.REDICY_API_BASE_URL,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();g.ShipmentClient=I;let t=(()=>{class a{constructor(i,C){this.jsonParseReviver=void 0,this.http=i,this.baseUrl=C??"/"}getLatestSalesInfo(){let i=this.baseUrl+"/v1/Dashboard/GetLatestSalesInfo";i=i.replace(/[?&]$/,"");let C={observe:"response",responseType:"blob",headers:new d.Lr({Accept:"application/json"})};return this.http.request("get",i,C).pipe((0,h.Z)(A=>this.processGetLatestSalesInfo(A))).pipe((0,T.W)(A=>{if(!(A instanceof d.xB))return(0,_.$)(A);try{return this.processGetLatestSalesInfo(A)}catch(c){return(0,_.$)(c)}}))}processGetLatestSalesInfo(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=M.fromJS(k),(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}static{this.\u0275fac=function(C){return new(C||a)(e.KVO(d.Qq),e.KVO(g.REDICY_API_BASE_URL,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();g.DashboardClient=t;let r=(()=>{class a{constructor(i,C){this.jsonParseReviver=void 0,this.http=i,this.baseUrl=C??"/"}createVideoBatch(){let i=this.baseUrl+"/v1/ImageTool/CreateVideoBatch";i=i.replace(/[?&]$/,"");let C={observe:"response",responseType:"blob",headers:new d.Lr({Accept:"application/json"})};return this.http.request("get",i,C).pipe((0,h.Z)(A=>this.processCreateVideoBatch(A))).pipe((0,T.W)(A=>{if(!(A instanceof d.xB))return(0,_.$)(A);try{return this.processCreateVideoBatch(A)}catch(c){return(0,_.$)(c)}}))}processCreateVideoBatch(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=void 0!==k?k:null,(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}finishBatch(i,C){let A=this.baseUrl+"/v1/ImageTool/FinishBatch?";if(null==i)throw new Error("The parameter 'batchID' must be defined and cannot be null.");if(A+="batchID="+encodeURIComponent(""+i)+"&",null==C)throw new Error("The parameter 'frameRate' must be defined and cannot be null.");A+="frameRate="+encodeURIComponent(""+C)+"&",A=A.replace(/[?&]$/,"");let c={observe:"response",responseType:"blob",headers:new d.Lr({Accept:"application/json"})};return this.http.request("get",A,c).pipe((0,h.Z)(l=>this.processFinishBatch(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processFinishBatch(l)}catch(p){return(0,_.$)(p)}}))}processFinishBatch(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);if(200===C||206===C){const l=i.headers?i.headers.get("content-disposition"):void 0;let p=l?/filename\*=(?:(\\?['"])(.*?)\1|(?:[^\s]+'.*?')?([^;\n]*))/g.exec(l):void 0,k=p&&p.length>1?p[3]||p[2]:void 0;return k?k=decodeURIComponent(k):(p=l?/filename="?([^"]*?)"?(;|$)/g.exec(l):void 0,k=p&&p.length>1?p[1]:void 0),(0,f.of)({fileName:k,data:A,status:C,headers:c})}return 200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}uploadBatchImage(i,C){let A=this.baseUrl+"/v1/ImageTool/UploadBatchImage?";if(null==i)throw new Error("The parameter 'batchID' must be defined and cannot be null.");A+="batchID="+encodeURIComponent(""+i)+"&",A=A.replace(/[?&]$/,"");const c=new FormData;if(null==C)throw new Error("The parameter 'files' cannot be null.");C.forEach(p=>c.append("files",p.data,p.fileName?p.fileName:"files"));let l={body:c,observe:"response",responseType:"blob",headers:new d.Lr({})};return this.http.request("post",A,l).pipe((0,h.Z)(p=>this.processUploadBatchImage(p))).pipe((0,T.W)(p=>{if(!(p instanceof d.xB))return(0,_.$)(p);try{return this.processUploadBatchImage(p)}catch(k){return(0,_.$)(k)}}))}processUploadBatchImage(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}static{this.\u0275fac=function(C){return new(C||a)(e.KVO(d.Qq),e.KVO(g.REDICY_API_BASE_URL,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();g.ImageToolClient=r;let o=(()=>{class a{constructor(i,C){this.jsonParseReviver=void 0,this.http=i,this.baseUrl=C??"/"}importProducts(){let i=this.baseUrl+"/v1/Ozon/ImportProducts";i=i.replace(/[?&]$/,"");let C={observe:"response",responseType:"blob",headers:new d.Lr({})};return this.http.request("get",i,C).pipe((0,h.Z)(A=>this.processImportProducts(A))).pipe((0,T.W)(A=>{if(!(A instanceof d.xB))return(0,_.$)(A);try{return this.processImportProducts(A)}catch(c){return(0,_.$)(c)}}))}processImportProducts(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}importTransactions(i,C){let A=this.baseUrl+"/v1/Ozon/ImportTransactions?";if(void 0===i)throw new Error("The parameter 'dateFrom' must be defined.");if(null!==i&&(A+="dateFrom="+encodeURIComponent(i?""+i.toISOString():"")+"&"),void 0===C)throw new Error("The parameter 'dateTo' must be defined.");null!==C&&(A+="dateTo="+encodeURIComponent(C?""+C.toISOString():"")+"&"),A=A.replace(/[?&]$/,"");let c={observe:"response",responseType:"blob",headers:new d.Lr({})};return this.http.request("get",A,c).pipe((0,h.Z)(l=>this.processImportTransactions(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processImportTransactions(l)}catch(p){return(0,_.$)(p)}}))}processImportTransactions(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}importWarehouses(){let i=this.baseUrl+"/v1/Ozon/ImportWarehouses";i=i.replace(/[?&]$/,"");let C={observe:"response",responseType:"blob",headers:new d.Lr({})};return this.http.request("get",i,C).pipe((0,h.Z)(A=>this.processImportWarehouses(A))).pipe((0,T.W)(A=>{if(!(A instanceof d.xB))return(0,_.$)(A);try{return this.processImportWarehouses(A)}catch(c){return(0,_.$)(c)}}))}processImportWarehouses(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}importSellerApiOzonWarehouses(i){let C=this.baseUrl+"/v1/Ozon/ImportSellerApiOzonWarehouses";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processImportSellerApiOzonWarehouses(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processImportSellerApiOzonWarehouses(l)}catch(p){return(0,_.$)(p)}}))}processImportSellerApiOzonWarehouses(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}getOzonLocalizationIndex(i,C){let A=this.baseUrl+"/v1/Ozon/GetOzonLocalizationIndex?";if(null===i)throw new Error("The parameter 'from' cannot be null.");if(void 0!==i&&(A+="from="+encodeURIComponent(i?""+i.toISOString():"")+"&"),null===C)throw new Error("The parameter 'to' cannot be null.");void 0!==C&&(A+="to="+encodeURIComponent(C?""+C.toISOString():"")+"&"),A=A.replace(/[?&]$/,"");let c={observe:"response",responseType:"blob",headers:new d.Lr({Accept:"application/json"})};return this.http.request("get",A,c).pipe((0,h.Z)(l=>this.processGetOzonLocalizationIndex(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processGetOzonLocalizationIndex(l)}catch(p){return(0,_.$)(p)}}))}processGetOzonLocalizationIndex(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=void 0!==k?k:null,(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}importProductStocks(){let i=this.baseUrl+"/v1/Ozon/ImportProductStocks";i=i.replace(/[?&]$/,"");let C={observe:"response",responseType:"blob",headers:new d.Lr({})};return this.http.request("get",i,C).pipe((0,h.Z)(A=>this.processImportProductStocks(A))).pipe((0,T.W)(A=>{if(!(A instanceof d.xB))return(0,_.$)(A);try{return this.processImportProductStocks(A)}catch(c){return(0,_.$)(c)}}))}processImportProductStocks(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}importOzonPostings(i,C){let A=this.baseUrl+"/v1/Ozon/ImportOzonPostings?";if(void 0===i)throw new Error("The parameter 'dateFrom' must be defined.");if(null!==i&&(A+="dateFrom="+encodeURIComponent(i?""+i.toISOString():"")+"&"),void 0===C)throw new Error("The parameter 'dateTo' must be defined.");null!==C&&(A+="dateTo="+encodeURIComponent(C?""+C.toISOString():"")+"&"),A=A.replace(/[?&]$/,"");let c={observe:"response",responseType:"blob",headers:new d.Lr({})};return this.http.request("post",A,c).pipe((0,h.Z)(l=>this.processImportOzonPostings(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processImportOzonPostings(l)}catch(p){return(0,_.$)(p)}}))}processImportOzonPostings(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}importOzonSupplyOrders(){let i=this.baseUrl+"/v1/Ozon/ImportOzonSupplyOrders";i=i.replace(/[?&]$/,"");let C={observe:"response",responseType:"blob",headers:new d.Lr({})};return this.http.request("post",i,C).pipe((0,h.Z)(A=>this.processImportOzonSupplyOrders(A))).pipe((0,T.W)(A=>{if(!(A instanceof d.xB))return(0,_.$)(A);try{return this.processImportOzonSupplyOrders(A)}catch(c){return(0,_.$)(c)}}))}processImportOzonSupplyOrders(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}findOzonOrders(i){let C=this.baseUrl+"/v1/Ozon/FindOzonOrders";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json",Accept:"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processFindOzonOrders(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processFindOzonOrders(l)}catch(p){return(0,_.$)(p)}}))}processFindOzonOrders(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);if(Array.isArray(k)){p=[];for(let W of k)p.push(O.fromJS(W))}else p=null;return(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}findOzonSupplyOrders(i){let C=this.baseUrl+"/v1/Ozon/FindOzonSupplyOrders";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json",Accept:"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processFindOzonSupplyOrders(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processFindOzonSupplyOrders(l)}catch(p){return(0,_.$)(p)}}))}processFindOzonSupplyOrders(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=Ue.fromJS(k),(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}updateOzonSupplyOrderCrossDockWarehouse(i,C){let A=this.baseUrl+"/v1/Ozon/UpdateOzonSupplyOrderCrossDockWarehouse?";if(null===i)throw new Error("The parameter 'supplyOrderID' cannot be null.");if(void 0!==i&&(A+="supplyOrderID="+encodeURIComponent(""+i)+"&"),null===C)throw new Error("The parameter 'warehouseID' cannot be null.");void 0!==C&&(A+="warehouseID="+encodeURIComponent(""+C)+"&"),A=A.replace(/[?&]$/,"");let c={observe:"response",responseType:"blob",headers:new d.Lr({})};return this.http.request("post",A,c).pipe((0,h.Z)(l=>this.processUpdateOzonSupplyOrderCrossDockWarehouse(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processUpdateOzonSupplyOrderCrossDockWarehouse(l)}catch(p){return(0,_.$)(p)}}))}processUpdateOzonSupplyOrderCrossDockWarehouse(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}findOzonProducts(i){let C=this.baseUrl+"/v1/Ozon/FindOzonProducts";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json",Accept:"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processFindOzonProducts(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processFindOzonProducts(l)}catch(p){return(0,_.$)(p)}}))}processFindOzonProducts(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=ze.fromJS(k),(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}findOzonOperations(i){let C=this.baseUrl+"/v1/Ozon/FindOzonOperations";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json",Accept:"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processFindOzonOperations(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processFindOzonOperations(l)}catch(p){return(0,_.$)(p)}}))}processFindOzonOperations(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=Xe.fromJS(k),(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}removeOzonProduct(i){let C=this.baseUrl+"/v1/Ozon/RemoveOzonProduct";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json"})};return this.http.request("delete",C,c).pipe((0,h.Z)(l=>this.processRemoveOzonProduct(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processRemoveOzonProduct(l)}catch(p){return(0,_.$)(p)}}))}processRemoveOzonProduct(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}static{this.\u0275fac=function(C){return new(C||a)(e.KVO(d.Qq),e.KVO(g.REDICY_API_BASE_URL,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();g.OzonClient=o;let s=(()=>{class a{constructor(i,C){this.jsonParseReviver=void 0,this.http=i,this.baseUrl=C??"/"}getOzonStockStarvationReport(i,C,A,c,l,p){let k=this.baseUrl+"/v1/Report/GetOzonStockStarvationReport?";if(null==i)throw new Error("The parameter 'salesAnalysisInDays' must be defined and cannot be null.");if(k+="salesAnalysisInDays="+encodeURIComponent(""+i)+"&",null==C)throw new Error("The parameter 'notificationPeriodInDays' must be defined and cannot be null.");if(k+="notificationPeriodInDays="+encodeURIComponent(""+C)+"&",null!=A&&(k+="date="+encodeURIComponent(A?""+A.toISOString():"")+"&"),null===c)throw new Error("The parameter 'respectMinimalStock' cannot be null.");if(void 0!==c&&(k+="respectMinimalStock="+encodeURIComponent(""+c)+"&"),null===l)throw new Error("The parameter 'respectSupplyPreparationPeriod' cannot be null.");if(void 0!==l&&(k+="respectSupplyPreparationPeriod="+encodeURIComponent(""+l)+"&"),null===p)throw new Error("The parameter 'respectActiveSupplyOrders' cannot be null.");void 0!==p&&(k+="respectActiveSupplyOrders="+encodeURIComponent(""+p)+"&"),k=k.replace(/[?&]$/,"");let W={observe:"response",responseType:"blob",headers:new d.Lr({Accept:"application/json"})};return this.http.request("get",k,W).pipe((0,h.Z)(Ne=>this.processGetOzonStockStarvationReport(Ne))).pipe((0,T.W)(Ne=>{if(!(Ne instanceof d.xB))return(0,_.$)(Ne);try{return this.processGetOzonStockStarvationReport(Ne)}catch(Tl){return(0,_.$)(Tl)}}))}processGetOzonStockStarvationReport(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);if(Array.isArray(k)){p=[];for(let W of k)p.push(P.fromJS(W))}else p=null;return(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}static{this.\u0275fac=function(C){return new(C||a)(e.KVO(d.Qq),e.KVO(g.REDICY_API_BASE_URL,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();g.ReportClient=s;let u=(()=>{class a{constructor(i,C){this.jsonParseReviver=void 0,this.http=i,this.baseUrl=C??"/"}getPackageTypesWithLatestPrices(){let i=this.baseUrl+"/v1/PackageType/GetPackageTypesWithLatestPrices";i=i.replace(/[?&]$/,"");let C={observe:"response",responseType:"blob",headers:new d.Lr({Accept:"application/json"})};return this.http.request("get",i,C).pipe((0,h.Z)(A=>this.processGetPackageTypesWithLatestPrices(A))).pipe((0,T.W)(A=>{if(!(A instanceof d.xB))return(0,_.$)(A);try{return this.processGetPackageTypesWithLatestPrices(A)}catch(c){return(0,_.$)(c)}}))}processGetPackageTypesWithLatestPrices(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);if(Array.isArray(k)){p=[];for(let W of k)p.push(Je.fromJS(W))}else p=null;return(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}addPackageType(i){let C=this.baseUrl+"/v1/PackageType/AddPackageType";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json",Accept:"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processAddPackageType(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processAddPackageType(l)}catch(p){return(0,_.$)(p)}}))}processAddPackageType(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=De.fromJS(k),(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}updatePackageType(i){let C=this.baseUrl+"/v1/PackageType/UpdatePackageType";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processUpdatePackageType(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processUpdatePackageType(l)}catch(p){return(0,_.$)(p)}}))}processUpdatePackageType(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}removePackageType(i){let C=this.baseUrl+"/v1/PackageType/RemovePackageType?";if(null==i)throw new Error("The parameter 'model' must be defined and cannot be null.");C+="model="+encodeURIComponent(""+i)+"&",C=C.replace(/[?&]$/,"");let A={observe:"response",responseType:"blob",headers:new d.Lr({})};return this.http.request("delete",C,A).pipe((0,h.Z)(c=>this.processRemovePackageType(c))).pipe((0,T.W)(c=>{if(!(c instanceof d.xB))return(0,_.$)(c);try{return this.processRemovePackageType(c)}catch(l){return(0,_.$)(l)}}))}processRemovePackageType(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}static{this.\u0275fac=function(C){return new(C||a)(e.KVO(d.Qq),e.KVO(g.REDICY_API_BASE_URL,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();g.PackageTypeClient=u;let m=(()=>{class a{constructor(i,C){this.jsonParseReviver=void 0,this.http=i,this.baseUrl=C??"/"}findProducts(i){let C=this.baseUrl+"/v1/Product/FindProducts";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json",Accept:"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processFindProducts(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processFindProducts(l)}catch(p){return(0,_.$)(p)}}))}processFindProducts(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=He.fromJS(k),(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}findProductPackages(i){let C=this.baseUrl+"/v1/Product/FindProductPackages";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json",Accept:"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processFindProductPackages(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processFindProductPackages(l)}catch(p){return(0,_.$)(p)}}))}processFindProductPackages(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=Ze.fromJS(k),(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}updateProduct(i){let C=this.baseUrl+"/v1/Product/UpdateProduct";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processUpdateProduct(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processUpdateProduct(l)}catch(p){return(0,_.$)(p)}}))}processUpdateProduct(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}updateProductPackage(i){let C=this.baseUrl+"/v1/Product/UpdateProductPackage";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processUpdateProductPackage(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processUpdateProductPackage(l)}catch(p){return(0,_.$)(p)}}))}processUpdateProductPackage(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}addProduct(i){let C=this.baseUrl+"/v1/Product/AddProduct";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json",Accept:"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processAddProduct(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processAddProduct(l)}catch(p){return(0,_.$)(p)}}))}processAddProduct(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=le.fromJS(k),(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}addProductPackage(i){let C=this.baseUrl+"/v1/Product/AddProductPackage";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json",Accept:"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processAddProductPackage(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processAddProductPackage(l)}catch(p){return(0,_.$)(p)}}))}processAddProductPackage(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=ie.fromJS(k),(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}removeProduct(i){let C=this.baseUrl+"/v1/Product/RemoveProduct";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json"})};return this.http.request("delete",C,c).pipe((0,h.Z)(l=>this.processRemoveProduct(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processRemoveProduct(l)}catch(p){return(0,_.$)(p)}}))}processRemoveProduct(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}removeProductPackage(i){let C=this.baseUrl+"/v1/Product/RemoveProductPackage";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json"})};return this.http.request("delete",C,c).pipe((0,h.Z)(l=>this.processRemoveProductPackage(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processRemoveProductPackage(l)}catch(p){return(0,_.$)(p)}}))}processRemoveProductPackage(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}static{this.\u0275fac=function(C){return new(C||a)(e.KVO(d.Qq),e.KVO(g.REDICY_API_BASE_URL,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();g.ProductClient=m;let D=(()=>{class a{constructor(i,C){this.jsonParseReviver=void 0,this.http=i,this.baseUrl=C??"/"}updatePurchaseBatch(i){let C=this.baseUrl+"/v1/PurchaseBatch/UpdatePurchaseBatch";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json",Accept:"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processUpdatePurchaseBatch(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processUpdatePurchaseBatch(l)}catch(p){return(0,_.$)(p)}}))}processUpdatePurchaseBatch(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=Ae.fromJS(k),(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}getPurchaseBatch(i){let C=this.baseUrl+"/v1/PurchaseBatch/GetPurchaseBatch?";if(null==i)throw new Error("The parameter 'model' must be defined and cannot be null.");C+="model="+encodeURIComponent(""+i)+"&",C=C.replace(/[?&]$/,"");let A={observe:"response",responseType:"blob",headers:new d.Lr({Accept:"application/json"})};return this.http.request("post",C,A).pipe((0,h.Z)(c=>this.processGetPurchaseBatch(c))).pipe((0,T.W)(c=>{if(!(c instanceof d.xB))return(0,_.$)(c);try{return this.processGetPurchaseBatch(c)}catch(l){return(0,_.$)(l)}}))}processGetPurchaseBatch(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=Ae.fromJS(k),(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}findPurchaseBatches(i){let C=this.baseUrl+"/v1/PurchaseBatch/FindPurchaseBatches";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json",Accept:"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processFindPurchaseBatches(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processFindPurchaseBatches(l)}catch(p){return(0,_.$)(p)}}))}processFindPurchaseBatches(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);return p=qe.fromJS(k),(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}getSalesPlansSummaries(i){let C=this.baseUrl+"/v1/PurchaseBatch/GetSalesPlansSummaries";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json",Accept:"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processGetSalesPlansSummaries(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processGetSalesPlansSummaries(l)}catch(p){return(0,_.$)(p)}}))}processGetSalesPlansSummaries(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);if(Array.isArray(k)){p=[];for(let W of k)p.push(et.fromJS(W))}else p=null;return(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}calcSalesPlans(){let i=this.baseUrl+"/v1/PurchaseBatch/CalcSalesPlansAsync";i=i.replace(/[?&]$/,"");let C={observe:"response",responseType:"blob",headers:new d.Lr({})};return this.http.request("get",i,C).pipe((0,h.Z)(A=>this.processCalcSalesPlans(A))).pipe((0,T.W)(A=>{if(!(A instanceof d.xB))return(0,_.$)(A);try{return this.processCalcSalesPlans(A)}catch(c){return(0,_.$)(c)}}))}processCalcSalesPlans(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}static{this.\u0275fac=function(C){return new(C||a)(e.KVO(d.Qq),e.KVO(g.REDICY_API_BASE_URL,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();g.PurchaseBatchClient=D;let F=(()=>{class a{constructor(i,C){this.jsonParseReviver=void 0,this.http=i,this.baseUrl=C??"/"}getSalesChannels(){let i=this.baseUrl+"/v1/SalesChannel/GetSalesChannels";i=i.replace(/[?&]$/,"");let C={observe:"response",responseType:"blob",headers:new d.Lr({Accept:"application/json"})};return this.http.request("get",i,C).pipe((0,h.Z)(A=>this.processGetSalesChannels(A))).pipe((0,T.W)(A=>{if(!(A instanceof d.xB))return(0,_.$)(A);try{return this.processGetSalesChannels(A)}catch(c){return(0,_.$)(c)}}))}processGetSalesChannels(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);if(Array.isArray(k)){p=[];for(let W of k)p.push(xe.fromJS(W))}else p=null;return(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}static{this.\u0275fac=function(C){return new(C||a)(e.KVO(d.Qq),e.KVO(g.REDICY_API_BASE_URL,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();g.SalesChannelClient=F;let X,j=(()=>{class a{constructor(i,C){this.jsonParseReviver=void 0,this.http=i,this.baseUrl=C??"/"}getOzonWarehouses(){let i=this.baseUrl+"/v1/Warehouse/GetOzonWarehouses";i=i.replace(/[?&]$/,"");let C={observe:"response",responseType:"blob",headers:new d.Lr({Accept:"application/json"})};return this.http.request("post",i,C).pipe((0,h.Z)(A=>this.processGetOzonWarehouses(A))).pipe((0,T.W)(A=>{if(!(A instanceof d.xB))return(0,_.$)(A);try{return this.processGetOzonWarehouses(A)}catch(c){return(0,_.$)(c)}}))}processGetOzonWarehouses(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 200===C?b(A).pipe((0,h.Z)(l=>{let p=null,k=""===l?null:JSON.parse(l,this.jsonParseReviver);if(Array.isArray(k)){p=[];for(let W of k)p.push(ne.fromJS(W))}else p=null;return(0,f.of)(p)})):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}updateOzonWarehouse(i){let C=this.baseUrl+"/v1/Warehouse/UpdateOzonWarehouse";C=C.replace(/[?&]$/,"");let c={body:JSON.stringify(i),observe:"response",responseType:"blob",headers:new d.Lr({"Content-Type":"application/json"})};return this.http.request("post",C,c).pipe((0,h.Z)(l=>this.processUpdateOzonWarehouse(l))).pipe((0,T.W)(l=>{if(!(l instanceof d.xB))return(0,_.$)(l);try{return this.processUpdateOzonWarehouse(l)}catch(p){return(0,_.$)(p)}}))}processUpdateOzonWarehouse(i){const C=i.status,A=i instanceof d.cS?i.body:i.error instanceof Blob?i.error:void 0;let c={};if(i.headers)for(let l of i.headers.keys())c[l]=i.headers.get(l);return 204===C?b(A).pipe((0,h.Z)(l=>(0,f.of)(null))):200!==C&&204!==C?b(A).pipe((0,h.Z)(l=>R("An unexpected server error occurred.",C,l,c))):(0,f.of)(null)}static{this.\u0275fac=function(C){return new(C||a)(e.KVO(d.Qq),e.KVO(g.REDICY_API_BASE_URL,8))}}static{this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac})}}return a})();g.WarehouseClient=j;class S{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.iD=n.ID,this.name=n.Name,this.disabled=n.Disabled,this.analyzable=n.Analyzable)}static fromJS(n){n="object"==typeof n?n:{};let i=new S;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).ID=this.iD,n.Name=this.name,n.Disabled=this.disabled,n.Analyzable=this.analyzable,n}}g.ProductType=S;class P{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.warehouseID=n.WarehouseID,this.warehouseName=n.WarehouseName,this.warehouseClusterName=n.WarehouseClusterName,this.productPackageID=n.ProductPackageID,this.productPackageName=n.ProductPackageName,this.salesCount=n.SalesCount,this.standaloneWarehouse=n.StandaloneWarehouse,this.present=n.Present,this.reserved=n.Reserved,this.salesRate=n.SalesRate,this.stockDays=n.StockDays,this.moving=n.Moving)}static fromJS(n){n="object"==typeof n?n:{};let i=new P;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).WarehouseID=this.warehouseID,n.WarehouseName=this.warehouseName,n.WarehouseClusterName=this.warehouseClusterName,n.ProductPackageID=this.productPackageID,n.ProductPackageName=this.productPackageName,n.SalesCount=this.salesCount,n.StandaloneWarehouse=this.standaloneWarehouse,n.Present=this.present,n.Reserved=this.reserved,n.SalesRate=this.salesRate,n.StockDays=this.stockDays,n.Moving=this.moving,n}}g.OzonStockStarvationReportItem=P;class M{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n&&(this.lastDayOrderCount=n.LastDayOrderCount,this.lastDayOrderSum=n.LastDayOrderSum,this.weekSales=n.WeekSales?U.fromJS(n.WeekSales):void 0,Array.isArray(n.LastSales))){this.lastSales=[];for(let i of n.LastSales)this.lastSales.push(O.fromJS(i))}}static fromJS(n){n="object"==typeof n?n:{};let i=new M;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).LastDayOrderCount=this.lastDayOrderCount,n.LastDayOrderSum=this.lastDayOrderSum,n.WeekSales=this.weekSales?this.weekSales.toJSON():void 0,Array.isArray(this.lastSales)){n.LastSales=[];for(let i of this.lastSales)n.LastSales.push(i.toJSON())}return n}}g.LatestSales=M;class U{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.lastWeekIncome=n.LastWeekIncome,this.previousWeekIncome=n.PreviousWeekIncome)}static fromJS(n){n="object"==typeof n?n:{};let i=new U;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).LastWeekIncome=this.lastWeekIncome,n.PreviousWeekIncome=this.previousWeekIncome,n}}g.WeekSales=U;class O{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){if(this.iD=n.ID,this.ozonOrderID=n.OzonOrderID,this.ozonOrderNumber=n.OzonOrderNumber,this.date=n.Date?new Date(n.Date.toString()):void 0,Array.isArray(n.Operations)){this.operations=[];for(let i of n.Operations)this.operations.push(ee.fromJS(i))}if(Array.isArray(n.OrderItems)){this.orderItems=[];for(let i of n.OrderItems)this.orderItems.push(Y.fromJS(i))}this.type=n.Type}}static fromJS(n){n="object"==typeof n?n:{};let i=new O;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).ID=this.iD,n.OzonOrderID=this.ozonOrderID,n.OzonOrderNumber=this.ozonOrderNumber,n.Date=this.date?this.date.toISOString():void 0,Array.isArray(this.operations)){n.Operations=[];for(let i of this.operations)n.Operations.push(i.toJSON())}if(Array.isArray(this.orderItems)){n.OrderItems=[];for(let i of this.orderItems)n.OrderItems.push(i.toJSON())}return n.Type=this.type,n}}var a;g.OzonSalesOrder=O,(a=X=g.OzonSalesOrderType||(g.OzonSalesOrderType={}))[a.Unknown=0]="Unknown",a[a.Fbo=1]="Fbo",a[a.Fbs=2]="Fbs";class ee{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n&&(this.iD=n.ID,this.date=n.Date?new Date(n.Date.toString()):void 0,this.accrualsForSale=n.AccrualsForSale,this.amount=n.Amount,this.saleCommission=n.SaleCommission,this.operationType=n.OperationType,this.accrualType=n.AccrualType,this.deliveryCharge=n.DeliveryCharge,this.returnDeliveryCharge=n.ReturnDeliveryCharge,this.postingNumber=n.PostingNumber,Array.isArray(n.Services))){this.services=[];for(let i of n.Services)this.services.push(oe.fromJS(i))}}static fromJS(n){n="object"==typeof n?n:{};let i=new ee;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).ID=this.iD,n.Date=this.date?this.date.toISOString():void 0,n.AccrualsForSale=this.accrualsForSale,n.Amount=this.amount,n.SaleCommission=this.saleCommission,n.OperationType=this.operationType,n.AccrualType=this.accrualType,n.DeliveryCharge=this.deliveryCharge,n.ReturnDeliveryCharge=this.returnDeliveryCharge,n.PostingNumber=this.postingNumber,Array.isArray(this.services)){n.Services=[];for(let i of this.services)n.Services.push(i.toJSON())}return n}}let K,re,ke,de,ml,_l,fl,bl,vl,yl,Sl,kl;g.OzonOperation=ee,function(a){a[a.ClientReturnAgentOperation=0]="ClientReturnAgentOperation",a[a.MarketplaceMarketingActionCostOperation=1]="MarketplaceMarketingActionCostOperation",a[a.MarketplaceSaleReviewsOperation=2]="MarketplaceSaleReviewsOperation",a[a.MarketplaceSellerCompensationOperation=3]="MarketplaceSellerCompensationOperation",a[a.OperationAgentDeliveredToCustomer=4]="OperationAgentDeliveredToCustomer",a[a.OperationAgentDeliveredToCustomerCanceled=5]="OperationAgentDeliveredToCustomerCanceled",a[a.OperationAgentStornoDeliveredToCustomer=6]="OperationAgentStornoDeliveredToCustomer",a[a.OperationClaim=7]="OperationClaim",a[a.OperationCorrectionSeller=8]="OperationCorrectionSeller",a[a.OperationDefectiveWriteOff=9]="OperationDefectiveWriteOff",a[a.OperationItemReturn=10]="OperationItemReturn",a[a.OperationLackWriteOff=11]="OperationLackWriteOff",a[a.OperationMarketplaceCrossDockServiceWriteOff=12]="OperationMarketplaceCrossDockServiceWriteOff",a[a.OperationMarketplaceServiceStorage=13]="OperationMarketplaceServiceStorage",a[a.OperationSetOff=14]="OperationSetOff",a[a.MarketplaceSellerReexposureDeliveryReturnOperation=15]="MarketplaceSellerReexposureDeliveryReturnOperation",a[a.OperationReturnGoodsFBSofRMS=16]="OperationReturnGoodsFBSofRMS",a[a.ReturnAgentOperationRFBS=17]="ReturnAgentOperationRFBS",a[a.MarketplaceSellerShippingCompensationReturnOperation=18]="MarketplaceSellerShippingCompensationReturnOperation",a[a.OperationMarketplaceServicePremiumCashback=19]="OperationMarketplaceServicePremiumCashback",a[a.MarketplaceServicePremiumPromotion=20]="MarketplaceServicePremiumPromotion",a[a.MarketplaceRedistributionOfAcquiringOperation=21]="MarketplaceRedistributionOfAcquiringOperation",a[a.MarketplaceReturnStorageServiceAtThePickupPointFbsItem=22]="MarketplaceReturnStorageServiceAtThePickupPointFbsItem",a[a.MarketplaceReturnStorageServiceInTheWarehouseFbsItem=23]="MarketplaceReturnStorageServiceInTheWarehouseFbsItem",a[a.MarketplaceServiceItemDeliveryKGT=24]="MarketplaceServiceItemDeliveryKGT",a[a.MarketplaceServiceItemDirectFlowLogistic=25]="MarketplaceServiceItemDirectFlowLogistic",a[a.MarketplaceServiceItemReturnFlowLogistic=26]="MarketplaceServiceItemReturnFlowLogistic",a[a.MarketplaceServicePremiumCashbackIndividualPoints=27]="MarketplaceServicePremiumCashbackIndividualPoints",a[a.OperationMarketplaceWithHoldingForUndeliverableGoods=28]="OperationMarketplaceWithHoldingForUndeliverableGoods",a[a.OperationMarketplaceSupplyAdditional=29]="OperationMarketplaceSupplyAdditional",a[a.OperationMarketplaceSupplyExpirationDateProcessing=30]="OperationMarketplaceSupplyExpirationDateProcessing",a[a.OperationMarketplaceServiceSupplyInboundCargoSurplus=31]="OperationMarketplaceServiceSupplyInboundCargoSurplus",a[a.MarketplaceSellerCompensationItemOperation=32]="MarketplaceSellerCompensationItemOperation",a[a.MarketplaceSellerCorrectionOperation=33]="MarketplaceSellerCorrectionOperation",a[a.OperationMarketplaceServiceStockDisposal=34]="OperationMarketplaceServiceStockDisposal",a[a.AccrualConsigWriteOff=35]="AccrualConsigWriteOff",a[a.OperationElectronicServiceStencil=36]="OperationElectronicServiceStencil",a[a.OperationMarketplaceServiceSupplyInboundCargoShortage=37]="OperationMarketplaceServiceSupplyInboundCargoShortage"}(K=g.OperationType||(g.OperationType={})),function(a){a[a.All=0]="All",a[a.Orders=1]="Orders",a[a.Returns=2]="Returns",a[a.Services=3]="Services",a[a.Compensation=4]="Compensation",a[a.TransferDelivery=5]="TransferDelivery",a[a.Other=6]="Other"}(re=g.TransactionType||(g.TransactionType={}));class oe{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.type=n.Type,this.price=n.Price)}static fromJS(n){n="object"==typeof n?n:{};let i=new oe;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).Type=this.type,n.Price=this.price,n}}g.OzonOperationService=oe,function(a){a[a.MarketplaceNotDeliveredCostItem=0]="MarketplaceNotDeliveredCostItem",a[a.MarketplaceReturnAfterDeliveryCostItem=1]="MarketplaceReturnAfterDeliveryCostItem",a[a.MarketplaceDeliveryCostItem=2]="MarketplaceDeliveryCostItem",a[a.MarketplaceSaleReviewsItem=3]="MarketplaceSaleReviewsItem",a[a.ItemAdvertisementForSupplierLogistic=4]="ItemAdvertisementForSupplierLogistic",a[a.MarketplaceServiceStorageItem=5]="MarketplaceServiceStorageItem",a[a.MarketplaceMarketingActionCostItem=6]="MarketplaceMarketingActionCostItem",a[a.MarketplaceServiceItemInstallment=7]="MarketplaceServiceItemInstallment",a[a.MarketplaceServiceItemMarkingItems=8]="MarketplaceServiceItemMarkingItems",a[a.MarketplaceServiceItemFlexiblePaymentSchedule=9]="MarketplaceServiceItemFlexiblePaymentSchedule",a[a.MarketplaceServiceItemReturnFromStock=10]="MarketplaceServiceItemReturnFromStock",a[a.ItemAdvertisementForSupplierLogisticSeller=11]="ItemAdvertisementForSupplierLogisticSeller",a[a.MarketplaceServiceItemDelivToCustomer=12]="MarketplaceServiceItemDelivToCustomer",a[a.MarketplaceServiceItemDirectFlowTrans=13]="MarketplaceServiceItemDirectFlowTrans",a[a.MarketplaceServiceItemDropoffFF=14]="MarketplaceServiceItemDropoffFF",a[a.MarketplaceServiceItemDropoffPVZ=15]="MarketplaceServiceItemDropoffPVZ",a[a.MarketplaceServiceItemDropoffSC=16]="MarketplaceServiceItemDropoffSC",a[a.MarketplaceServiceItemFulfillment=17]="MarketplaceServiceItemFulfillment",a[a.MarketplaceServiceItemPickup=18]="MarketplaceServiceItemPickup",a[a.MarketplaceServiceItemReturnAfterDelivToCustomer=19]="MarketplaceServiceItemReturnAfterDelivToCustomer",a[a.MarketplaceServiceItemReturnFlowTrans=20]="MarketplaceServiceItemReturnFlowTrans",a[a.MarketplaceServiceItemReturnNotDelivToCustomer=21]="MarketplaceServiceItemReturnNotDelivToCustomer",a[a.MarketplaceServiceItemReturnPartGoodsCustomer=22]="MarketplaceServiceItemReturnPartGoodsCustomer",a[a.MarketplaceRedistributionOfAcquiringOperation=23]="MarketplaceRedistributionOfAcquiringOperation",a[a.MarketplaceReturnStorageServiceAtThePickupPointFbsItem=24]="MarketplaceReturnStorageServiceAtThePickupPointFbsItem",a[a.MarketplaceReturnStorageServiceInTheWarehouseFbsItem=25]="MarketplaceReturnStorageServiceInTheWarehouseFbsItem",a[a.MarketplaceServiceItemDeliveryKGT=26]="MarketplaceServiceItemDeliveryKGT",a[a.MarketplaceServiceItemDirectFlowLogistic=27]="MarketplaceServiceItemDirectFlowLogistic",a[a.MarketplaceServiceItemReturnFlowLogistic=28]="MarketplaceServiceItemReturnFlowLogistic",a[a.MarketplaceServicePremiumCashbackIndividualPoints=29]="MarketplaceServicePremiumCashbackIndividualPoints",a[a.MarketplaceServicePremiumPromotion=30]="MarketplaceServicePremiumPromotion",a[a.OperationMarketplaceWithHoldingForUndeliverableGoods=31]="OperationMarketplaceWithHoldingForUndeliverableGoods"}(ke=g.OperationServiceType||(g.OperationServiceType={}));class Y{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.iD=n.ID,this.postingNumber=n.PostingNumber,this.currencyCode=n.CurrencyCode,this.price=n.Price,this.quantity=n.Quantity,this.product=n.Product?se.fromJS(n.Product):void 0,this.status=n.Status,this.city=n.City,this.region=n.Region,this.clusterFrom=n.ClusterFrom,this.clusterTo=n.ClusterTo,this.deliveryType=n.DeliveryType,this.ozonWarehouse=n.OzonWarehouse?ne.fromJS(n.OzonWarehouse):void 0)}static fromJS(n){n="object"==typeof n?n:{};let i=new Y;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).ID=this.iD,n.PostingNumber=this.postingNumber,n.CurrencyCode=this.currencyCode,n.Price=this.price,n.Quantity=this.quantity,n.Product=this.product?this.product.toJSON():void 0,n.Status=this.status,n.City=this.city,n.Region=this.region,n.ClusterFrom=this.clusterFrom,n.ClusterTo=this.clusterTo,n.DeliveryType=this.deliveryType,n.OzonWarehouse=this.ozonWarehouse?this.ozonWarehouse.toJSON():void 0,n}}g.OzonSalesOrderItem=Y,function(a){a[a.RUB=0]="RUB",a[a.BYN=1]="BYN",a[a.KZT=2]="KZT",a[a.EUR=3]="EUR",a[a.USD=4]="USD",a[a.CNY=5]="CNY"}(de=g.Currency||(g.Currency={}));class se{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){if(this.productPackageID=n.ProductPackageID,this.name=n.Name,this.primaryImage=n.PrimaryImage,this.categoryID=n.CategoryID,this.fboSku=n.FboSku,this.fbsSku=n.FbsSku,this.sku=n.Sku,Array.isArray(n.Barcodes)){this.barcodes=[];for(let i of n.Barcodes)this.barcodes.push(i)}if(this.marketingPrice=n.MarketingPrice,this.minPrice=n.MinPrice,this.oldPrice=n.OldPrice,this.premiumPrice=n.PremiumPrice,this.price=n.Price,this.recommendedPrice=n.RecommendedPrice,this.externalCompetitorMinimalPrice=n.ExternalCompetitorMinimalPrice,this.externalCompetitorMinimalPriceCurrency=n.ExternalCompetitorMinimalPriceCurrency,this.externalCompetitorPriceIndexValue=n.ExternalCompetitorPriceIndexValue,this.ozonCompetitorMinimalPrice=n.OzonCompetitorMinimalPrice,this.ozonCompetitorMinimalPriceCurrency=n.OzonCompetitorMinimalPriceCurrency,this.ozonCompetitorPriceIndexValue=n.OzonCompetitorPriceIndexValue,this.externalMinimalPrice=n.ExternalMinimalPrice,this.externalMinimalPriceCurrency=n.ExternalMinimalPriceCurrency,this.externalPriceIndexValue=n.ExternalPriceIndexValue,Array.isArray(n.Stocks)){this.stocks=[];for(let i of n.Stocks)this.stocks.push(ae.fromJS(i))}}}static fromJS(n){n="object"==typeof n?n:{};let i=new se;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).ProductPackageID=this.productPackageID,n.Name=this.name,n.PrimaryImage=this.primaryImage,n.CategoryID=this.categoryID,n.FboSku=this.fboSku,n.FbsSku=this.fbsSku,n.Sku=this.sku,Array.isArray(this.barcodes)){n.Barcodes=[];for(let i of this.barcodes)n.Barcodes.push(i)}if(n.MarketingPrice=this.marketingPrice,n.MinPrice=this.minPrice,n.OldPrice=this.oldPrice,n.PremiumPrice=this.premiumPrice,n.Price=this.price,n.RecommendedPrice=this.recommendedPrice,n.ExternalCompetitorMinimalPrice=this.externalCompetitorMinimalPrice,n.ExternalCompetitorMinimalPriceCurrency=this.externalCompetitorMinimalPriceCurrency,n.ExternalCompetitorPriceIndexValue=this.externalCompetitorPriceIndexValue,n.OzonCompetitorMinimalPrice=this.ozonCompetitorMinimalPrice,n.OzonCompetitorMinimalPriceCurrency=this.ozonCompetitorMinimalPriceCurrency,n.OzonCompetitorPriceIndexValue=this.ozonCompetitorPriceIndexValue,n.ExternalMinimalPrice=this.externalMinimalPrice,n.ExternalMinimalPriceCurrency=this.externalMinimalPriceCurrency,n.ExternalPriceIndexValue=this.externalPriceIndexValue,Array.isArray(this.stocks)){n.Stocks=[];for(let i of this.stocks)n.Stocks.push(i.toJSON())}return n}}g.OzonProduct=se;class ae{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.present=n.Present,this.reserved=n.Reserved,this.productID=n.ProductID,this.warehouseID=n.WarehouseID,this.warehouse=n.Warehouse?ne.fromJS(n.Warehouse):void 0)}static fromJS(n){n="object"==typeof n?n:{};let i=new ae;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).Present=this.present,n.Reserved=this.reserved,n.ProductID=this.productID,n.WarehouseID=this.warehouseID,n.Warehouse=this.warehouse?this.warehouse.toJSON():void 0,n}}g.OzonProductStock=ae;class ne{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){if(this.iD=n.ID,this.ozonID=n.OzonID,this.name=n.Name,this.address=n.Address,this.warehouseCluster=n.WarehouseCluster,this.standalone=n.Standalone,Array.isArray(n.Aliases)){this.aliases=[];for(let i of n.Aliases)this.aliases.push(i)}this.status=n.Status}}static fromJS(n){n="object"==typeof n?n:{};let i=new ne;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).ID=this.iD,n.OzonID=this.ozonID,n.Name=this.name,n.Address=this.address,n.WarehouseCluster=this.warehouseCluster,n.Standalone=this.standalone,Array.isArray(this.aliases)){n.Aliases=[];for(let i of this.aliases)n.Aliases.push(i)}return n.Status=this.status,n}}g.OzonWarehouse=ne,function(a){a[a.AwaitingPackaging=0]="AwaitingPackaging",a[a.AwaitingDeliver=1]="AwaitingDeliver",a[a.Delivering=2]="Delivering",a[a.Delivered=3]="Delivered",a[a.Cancelled=4]="Cancelled",a[a.AwaitingRegistration=5]="AwaitingRegistration",a[a.AcceptanceInProgress=6]="AcceptanceInProgress",a[a.AwaitingApprove=7]="AwaitingApprove",a[a.Arbitration=8]="Arbitration",a[a.ClientArbitration=9]="ClientArbitration",a[a.DriverPickup=10]="DriverPickup",a[a.NotAccepted=11]="NotAccepted",a[a.SentBySeller=12]="SentBySeller",a[a._13=13]="_13"}(ml=g.PostingStatus||(g.PostingStatus={}));class ut{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n&&(this.dateFrom=n.DateFrom?new Date(n.DateFrom.toString()):void 0,this.dateTo=n.DateTo?new Date(n.DateTo.toString()):void 0,Array.isArray(n.PostingNumbers))){this.postingNumbers=[];for(let i of n.PostingNumbers)this.postingNumbers.push(i)}}static fromJS(n){n="object"==typeof n?n:{};let i=new ut;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).DateFrom=this.dateFrom?this.dateFrom.toISOString():void 0,n.DateTo=this.dateTo?this.dateTo.toISOString():void 0,Array.isArray(this.postingNumbers)){n.PostingNumbers=[];for(let i of this.postingNumbers)n.PostingNumbers.push(i)}return n}}g.FindPostingsModel=ut;class Ue{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n&&(this.totalCount=n.TotalCount,Array.isArray(n.Items))){this.items=[];for(let i of n.Items)this.items.push(Te.fromJS(i))}}static fromJS(n){n="object"==typeof n?n:{};let i=new Ue;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).TotalCount=this.totalCount,Array.isArray(this.items)){n.Items=[];for(let i of this.items)n.Items.push(i.toJSON())}return n}}g.PagedResponseOfOzonSupplyOrders=Ue;class Te{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){if(this.iD=n.ID,Array.isArray(n.OrderItems)){this.orderItems=[];for(let i of n.OrderItems)this.orderItems.push(Le.fromJS(i))}this.ozonOrderNumber=n.OzonOrderNumber,this.totalQuantity=n.TotalQuantity,this.totalItemCount=n.TotalItemCount,this.ozonWarehouseOzonID=n.OzonWarehouseOzonID,this.ozonCrossDockWarehouseID=n.OzonCrossDockWarehouseID,this.date=n.Date?new Date(n.Date.toString()):void 0,this.ozonWarehouse=n.OzonWarehouse?ne.fromJS(n.OzonWarehouse):void 0,this.ozonCrossDockWarehouse=n.OzonCrossDockWarehouse?ne.fromJS(n.OzonCrossDockWarehouse):void 0,this.state=n.State}}static fromJS(n){n="object"==typeof n?n:{};let i=new Te;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).ID=this.iD,Array.isArray(this.orderItems)){n.OrderItems=[];for(let i of this.orderItems)n.OrderItems.push(i.toJSON())}return n.OzonOrderNumber=this.ozonOrderNumber,n.TotalQuantity=this.totalQuantity,n.TotalItemCount=this.totalItemCount,n.OzonWarehouseOzonID=this.ozonWarehouseOzonID,n.OzonCrossDockWarehouseID=this.ozonCrossDockWarehouseID,n.Date=this.date?this.date.toISOString():void 0,n.OzonWarehouse=this.ozonWarehouse?this.ozonWarehouse.toJSON():void 0,n.OzonCrossDockWarehouse=this.ozonCrossDockWarehouse?this.ozonCrossDockWarehouse.toJSON():void 0,n.State=this.state,n}}g.OzonSupplyOrder=Te;class Le{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.productPackageID=n.ProductPackageID,this.ozonSupplyOrderID=n.OzonSupplyOrderID,this.quantity=n.Quantity,this.productPackage=n.ProductPackage?ie.fromJS(n.ProductPackage):void 0,this.supplyOrder=n.SupplyOrder?Te.fromJS(n.SupplyOrder):void 0)}static fromJS(n){n="object"==typeof n?n:{};let i=new Le;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).ProductPackageID=this.productPackageID,n.OzonSupplyOrderID=this.ozonSupplyOrderID,n.Quantity=this.quantity,n.ProductPackage=this.productPackage?this.productPackage.toJSON():void 0,n.SupplyOrder=this.supplyOrder?this.supplyOrder.toJSON():void 0,n}}g.OzonSupplyOrderItem=Le;class ie{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.iD=n.ID,this.name=n.Name,this.minimumWarehouseStock=n.MinimumWarehouseStock,this.productCount=n.ProductCount,this.productID=n.ProductID,this.supplyPreparationTimeInDays=n.SupplyPreparationTimeInDays,this.product=n.Product?le.fromJS(n.Product):void 0)}static fromJS(n){n="object"==typeof n?n:{};let i=new ie;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).ID=this.iD,n.Name=this.name,n.MinimumWarehouseStock=this.minimumWarehouseStock,n.ProductCount=this.productCount,n.ProductID=this.productID,n.SupplyPreparationTimeInDays=this.supplyPreparationTimeInDays,n.Product=this.product?this.product.toJSON():void 0,n}}g.ProductPackage=ie;class le{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n&&(this.iD=n.ID,this.categoryID=n.CategoryID,this.stockAmount=n.StockAmount,this.name=n.Name,this.category=n.Category?Ye.fromJS(n.Category):void 0,Array.isArray(n.Packages))){this.packages=[];for(let i of n.Packages)this.packages.push(ie.fromJS(i))}}static fromJS(n){n="object"==typeof n?n:{};let i=new le;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).ID=this.iD,n.CategoryID=this.categoryID,n.StockAmount=this.stockAmount,n.Name=this.name,n.Category=this.category?this.category.toJSON():void 0,Array.isArray(this.packages)){n.Packages=[];for(let i of this.packages)n.Packages.push(i.toJSON())}return n}}g.Product=le;class Ye{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n&&(this.iD=n.ID,this.name=n.Name,Array.isArray(n.Product))){this.product=[];for(let i of n.Product)this.product.push(le.fromJS(i))}}static fromJS(n){n="object"==typeof n?n:{};let i=new Ye;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).ID=this.iD,n.Name=this.name,Array.isArray(this.product)){n.Product=[];for(let i of this.product)n.Product.push(i.toJSON())}return n}}g.ProductCategory=Ye;class pt{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.offset=n.Offset,this.count=n.Count)}static fromJS(n){n="object"==typeof n?n:{};let i=new pt;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).Offset=this.offset,n.Count=this.count,n}}g.FindOzonSupplyOrdersModel=pt;class ze{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n&&(this.totalCount=n.TotalCount,Array.isArray(n.Items))){this.items=[];for(let i of n.Items)this.items.push(se.fromJS(i))}}static fromJS(n){n="object"==typeof n?n:{};let i=new ze;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).TotalCount=this.totalCount,Array.isArray(this.items)){n.Items=[];for(let i of this.items)n.Items.push(i.toJSON())}return n}}g.PagedResponseOfOzonProducts=ze;class dt{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.offset=n.Offset,this.count=n.Count,this.productName=n.ProductName,this.productPackageID=n.ProductPackageID,this.includeStocks=n.IncludeStocks,this.orderField=n.OrderField,this.orderAscending=n.OrderAscending)}static fromJS(n){n="object"==typeof n?n:{};let i=new dt;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).Offset=this.offset,n.Count=this.count,n.ProductName=this.productName,n.ProductPackageID=this.productPackageID,n.IncludeStocks=this.includeStocks,n.OrderField=this.orderField,n.OrderAscending=this.orderAscending,n}}g.FindOzonProductsModel=dt,function(a){a[a.Unknown=0]="Unknown",a[a.ProductPackageID=1]="ProductPackageID",a[a.ProductName=2]="ProductName"}(_l=g.FindOzonProductsModelSortField||(g.FindOzonProductsModelSortField={}));class Xe{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);if(this.totalCount=n.TotalCount,Array.isArray(n.Items)){this.items=[];for(let C of n.Items)this.items.push(ee.fromJS(C))}}}static fromJS(n){n="object"==typeof n?n:{};let i=new Xe;return i.init(n),i}toJSON(n){for(var i in n="object"==typeof n?n:{},this)this.hasOwnProperty(i)&&(n[i]=this[i]);if(n.TotalCount=this.totalCount,Array.isArray(this.items)){n.Items=[];for(let C of this.items)n.Items.push(C.toJSON())}return n}}g.PagedResponseOfOzonOperations=Xe,function(a){a[a.New=0]="New",a[a.Ready=1]="Ready",a[a.Missing=2]="Missing"}(fl=g.OzonWarehouseStatus||(g.OzonWarehouseStatus={}));class ht{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.clearingWarehouseId=n.clearingWarehouseId,this.name=n.name,this.address=n.address}}static fromJS(n){n="object"==typeof n?n:{};let i=new ht;return i.init(n),i}toJSON(n){for(var i in n="object"==typeof n?n:{},this)this.hasOwnProperty(i)&&(n[i]=this[i]);return n.clearingWarehouseId=this.clearingWarehouseId,n.name=this.name,n.address=this.address,n}}g.SupplierApiOzonWarehouseInfo=ht;class mt{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.offset=n.Offset,this.count=n.Count,this.dateFrom=n.DateFrom?new Date(n.DateFrom.toString()):void 0,this.dateTo=n.DateTo?new Date(n.DateTo.toString()):void 0)}static fromJS(n){n="object"==typeof n?n:{};let i=new mt;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).Offset=this.offset,n.Count=this.count,n.DateFrom=this.dateFrom?Ce(this.dateFrom):void 0,n.DateTo=this.dateTo?Ce(this.dateTo):void 0,n}}g.FindOzonOperationsModel=mt;class Je{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.iD=n.ID,this.name=n.Name,this.unitOfMeasure=n.UnitOfMeasure,this.decimalPlaces=n.DecimalPlaces,this.price=n.Price)}static fromJS(n){n="object"==typeof n?n:{};let i=new Je;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).ID=this.iD,n.Name=this.name,n.UnitOfMeasure=this.unitOfMeasure,n.DecimalPlaces=this.decimalPlaces,n.Price=this.price,n}}g.PackageTypeWithPrice=Je,function(a){a[a.Unknown=0]="Unknown",a[a.SquareMeter=1]="SquareMeter",a[a.Piece=2]="Piece",a[a.Meter=3]="Meter"}(bl=g.UnitOfMeasure||(g.UnitOfMeasure={}));class De{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n&&(this.iD=n.ID,this.name=n.Name,this.unitOfMeasure=n.UnitOfMeasure,this.decimalPlaces=n.DecimalPlaces,Array.isArray(n.Prices))){this.prices=[];for(let i of n.Prices)this.prices.push(We.fromJS(i))}}static fromJS(n){n="object"==typeof n?n:{};let i=new De;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).ID=this.iD,n.Name=this.name,n.UnitOfMeasure=this.unitOfMeasure,n.DecimalPlaces=this.decimalPlaces,Array.isArray(this.prices)){n.Prices=[];for(let i of this.prices)n.Prices.push(i.toJSON())}return n}}g.PackageType=De;class We{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.packageTypeID=n.PackageTypeID,this.price=n.Price,this.date=n.Date?new Date(n.Date.toString()):void 0)}static fromJS(n){n="object"==typeof n?n:{};let i=new We;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).PackageTypeID=this.packageTypeID,n.Price=this.price,n.Date=this.date?this.date.toISOString():void 0,n}}g.PackageTypePrice=We;class He{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n&&(this.totalCount=n.TotalCount,Array.isArray(n.Items))){this.items=[];for(let i of n.Items)this.items.push(le.fromJS(i))}}static fromJS(n){n="object"==typeof n?n:{};let i=new He;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).TotalCount=this.totalCount,Array.isArray(this.items)){n.Items=[];for(let i of this.items)n.Items.push(i.toJSON())}return n}}g.PagedResponseOfProduct=He;class _t{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.offset=n.Offset,this.count=n.Count,this.iD=n.ID,this.name=n.Name,this.orderField=n.OrderField,this.orderAscending=n.OrderAscending)}static fromJS(n){n="object"==typeof n?n:{};let i=new _t;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).Offset=this.offset,n.Count=this.count,n.ID=this.iD,n.Name=this.name,n.OrderField=this.orderField,n.OrderAscending=this.orderAscending,n}}g.FindProductsModel=_t,function(a){a[a.Unknown=0]="Unknown",a[a.ID=1]="ID",a[a.Name=2]="Name"}(vl=g.FindProductsModelSortField||(g.FindProductsModelSortField={}));class Ze{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n&&(this.totalCount=n.TotalCount,Array.isArray(n.Items))){this.items=[];for(let i of n.Items)this.items.push(ie.fromJS(i))}}static fromJS(n){n="object"==typeof n?n:{};let i=new Ze;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).TotalCount=this.totalCount,Array.isArray(this.items)){n.Items=[];for(let i of this.items)n.Items.push(i.toJSON())}return n}}g.PagedResponseOfProductPackage=Ze;class ft{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.offset=n.Offset,this.count=n.Count,this.productPackageName=n.ProductPackageName,this.productID=n.ProductID)}static fromJS(n){n="object"==typeof n?n:{};let i=new ft;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).Offset=this.offset,n.Count=this.count,n.ProductPackageName=this.productPackageName,n.ProductID=this.productID,n}}g.FindProductPackagesModel=ft;class Ae{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n&&(this.iD=n.ID,this.name=n.Name,this.date=n.Date?new Date(n.Date.toString()):void 0,this.status=n.Status,Array.isArray(n.Items))){this.items=[];for(let i of n.Items)this.items.push(Pe.fromJS(i))}}static fromJS(n){n="object"==typeof n?n:{};let i=new Ae;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).ID=this.iD,n.Name=this.name,n.Date=this.date?Ce(this.date):void 0,n.Status=this.status,Array.isArray(this.items)){n.Items=[];for(let i of this.items)n.Items.push(i.toJSON())}return n}}g.PurchaseBatch=Ae,function(a){a[a.Unknown=0]="Unknown",a[a.Purchased=1]="Purchased",a[a.InSale=2]="InSale",a[a.Sold=3]="Sold"}(yl=g.PurchaseBatchStatus||(g.PurchaseBatchStatus={}));class Pe{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n&&(this.iD=n.ID,this.count=n.Count,this.price=n.Price,this.productID=n.ProductID,this.purchaseBatchID=n.PurchaseBatchID,this.product=n.Product?le.fromJS(n.Product):void 0,this.purchaseBatch=n.PurchaseBatch?Ae.fromJS(n.PurchaseBatch):void 0,Array.isArray(n.SalesItems))){this.salesItems=[];for(let i of n.SalesItems)this.salesItems.push(he.fromJS(i))}}static fromJS(n){n="object"==typeof n?n:{};let i=new Pe;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).ID=this.iD,n.Count=this.count,n.Price=this.price,n.ProductID=this.productID,n.PurchaseBatchID=this.purchaseBatchID,n.Product=this.product?this.product.toJSON():void 0,n.PurchaseBatch=this.purchaseBatch?this.purchaseBatch.toJSON():void 0,Array.isArray(this.salesItems)){n.SalesItems=[];for(let i of this.salesItems)n.SalesItems.push(i.toJSON())}return n}}g.PurchaseBatchItem=Pe;class he{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){if(this.iD=n.ID,this.name=n.Name,this.volume=n.Volume,this.packagingPrice=n.PackagingPrice,this.purchaseBatchItemID=n.PurchaseBatchItemID,this.productPackageID=n.ProductPackageID,this.productPackage=n.ProductPackage?ie.fromJS(n.ProductPackage):void 0,this.purchaseBatchItem=n.PurchaseBatchItem?Pe.fromJS(n.PurchaseBatchItem):void 0,Array.isArray(n.SalesItemPackages)){this.salesItemPackages=[];for(let i of n.SalesItemPackages)this.salesItemPackages.push(Ke.fromJS(i))}if(Array.isArray(n.SalesPlans)){this.salesPlans=[];for(let i of n.SalesPlans)this.salesPlans.push(Qe.fromJS(i))}}}static fromJS(n){n="object"==typeof n?n:{};let i=new he;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).ID=this.iD,n.Name=this.name,n.Volume=this.volume,n.PackagingPrice=this.packagingPrice,n.PurchaseBatchItemID=this.purchaseBatchItemID,n.ProductPackageID=this.productPackageID,n.ProductPackage=this.productPackage?this.productPackage.toJSON():void 0,n.PurchaseBatchItem=this.purchaseBatchItem?this.purchaseBatchItem.toJSON():void 0,Array.isArray(this.salesItemPackages)){n.SalesItemPackages=[];for(let i of this.salesItemPackages)n.SalesItemPackages.push(i.toJSON())}if(Array.isArray(this.salesPlans)){n.SalesPlans=[];for(let i of this.salesPlans)n.SalesPlans.push(i.toJSON())}return n}}g.SalesItem=he;class Ke{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.amount=n.Amount,this.pricePerUom=n.PricePerUom,this.packageTypeID=n.PackageTypeID,this.salesItemID=n.SalesItemID,this.salesItem=n.SalesItem?he.fromJS(n.SalesItem):void 0,this.packageType=n.PackageType?De.fromJS(n.PackageType):void 0)}static fromJS(n){n="object"==typeof n?n:{};let i=new Ke;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).Amount=this.amount,n.PricePerUom=this.pricePerUom,n.PackageTypeID=this.packageTypeID,n.SalesItemID=this.salesItemID,n.SalesItem=this.salesItem?this.salesItem.toJSON():void 0,n.PackageType=this.packageType?this.packageType.toJSON():void 0,n}}g.SalesItemPackage=Ke;class Qe{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.iD=n.ID,this.status=n.Status,this.price=n.Price,this.amount=n.Amount,this.salesPerMonth=n.SalesPerMonth,this.commissionMultiplier=n.CommissionMultiplier,this.commissionAddition=n.CommissionAddition,this.returnPercentage=n.ReturnPercentage,this.returnCost=n.ReturnCost,this.deliveryCost=n.DeliveryCost,this.deliveryDate=n.DeliveryDate?new Date(n.DeliveryDate.toString()):void 0,this.marketingBudget=n.MarketingBudget,this.salesItemID=n.SalesItemID,this.salesChannelID=n.SalesChannelID,this.salesItem=n.SalesItem?he.fromJS(n.SalesItem):void 0,this.salesChannel=n.SalesChannel?xe.fromJS(n.SalesChannel):void 0)}static fromJS(n){n="object"==typeof n?n:{};let i=new Qe;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).ID=this.iD,n.Status=this.status,n.Price=this.price,n.Amount=this.amount,n.SalesPerMonth=this.salesPerMonth,n.CommissionMultiplier=this.commissionMultiplier,n.CommissionAddition=this.commissionAddition,n.ReturnPercentage=this.returnPercentage,n.ReturnCost=this.returnCost,n.DeliveryCost=this.deliveryCost,n.DeliveryDate=this.deliveryDate?Ce(this.deliveryDate):void 0,n.MarketingBudget=this.marketingBudget,n.SalesItemID=this.salesItemID,n.SalesChannelID=this.salesChannelID,n.SalesItem=this.salesItem?this.salesItem.toJSON():void 0,n.SalesChannel=this.salesChannel?this.salesChannel.toJSON():void 0,n}}g.SalesPlan=Qe,function(a){a[a.Draft=0]="Draft",a[a.InProcess=1]="InProcess",a[a.Finalized=2]="Finalized"}(Sl=g.SalesPlanStatus||(g.SalesPlanStatus={}));class xe{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.iD=n.ID,this.name=n.Name)}static fromJS(n){n="object"==typeof n?n:{};let i=new xe;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).ID=this.iD,n.Name=this.name,n}}g.SalesChannel=xe;class qe{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n&&(this.totalCount=n.TotalCount,Array.isArray(n.Items))){this.items=[];for(let i of n.Items)this.items.push(Ae.fromJS(i))}}static fromJS(n){n="object"==typeof n?n:{};let i=new qe;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).TotalCount=this.totalCount,Array.isArray(this.items)){n.Items=[];for(let i of this.items)n.Items.push(i.toJSON())}return n}}g.PagedResponseOfPurchaseBatches=qe;class bt{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.offset=n.Offset,this.count=n.Count,this.dateFrom=n.DateFrom?new Date(n.DateFrom.toString()):void 0,this.dateTo=n.DateTo?new Date(n.DateTo.toString()):void 0,this.article=n.Article,this.name=n.Name)}static fromJS(n){n="object"==typeof n?n:{};let i=new bt;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).Offset=this.offset,n.Count=this.count,n.DateFrom=this.dateFrom?Ce(this.dateFrom):void 0,n.DateTo=this.dateTo?Ce(this.dateTo):void 0,n.Article=this.article,n.Name=this.name,n}}g.FindPurchaseBatchesModel=bt;class et{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.iD=n.ID,this.salesCount=n.SalesCount,this.returnCount=n.ReturnCount,this.commissionPercent=n.CommissionPercent,this.commissionAddition=n.CommissionAddition,this.returnSum=n.ReturnSum,this.salesSum=n.SalesSum)}static fromJS(n){n="object"==typeof n?n:{};let i=new et;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).ID=this.iD,n.SalesCount=this.salesCount,n.ReturnCount=this.returnCount,n.CommissionPercent=this.commissionPercent,n.CommissionAddition=this.commissionAddition,n.ReturnSum=this.returnSum,n.SalesSum=this.salesSum,n}}g.SalesPlanSummary=et;class tt{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){if(this.iD=n.ID,this.name=n.Name,this.disabled=n.Disabled,this.analyzable=n.Analyzable,Array.isArray(n.Types)){this.types=[];for(let i of n.Types)this.types.push(S.fromJS(i))}if(Array.isArray(n.Children)){this.children=[];for(let i of n.Children)this.children.push(tt.fromJS(i))}}}static fromJS(n){n="object"==typeof n?n:{};let i=new tt;return i.init(n),i}toJSON(n){if((n="object"==typeof n?n:{}).ID=this.iD,n.Name=this.name,n.Disabled=this.disabled,n.Analyzable=this.analyzable,Array.isArray(this.types)){n.Types=[];for(let i of this.types)n.Types.push(i.toJSON())}if(Array.isArray(this.children)){n.Children=[];for(let i of this.children)n.Children.push(i.toJSON())}return n}}g.Category=tt;class vt{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){n&&(this.quantity=n.Quantity,this.month=n.Month?new Date(n.Month.toString()):void 0)}static fromJS(n){n="object"==typeof n?n:{};let i=new vt;return i.init(n),i}toJSON(n){return(n="object"==typeof n?n:{}).Quantity=this.quantity,n.Month=this.month?Ce(this.month):void 0,n}}g.ProductTypeHistoryItem=vt;class nt{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);if(this.iD=n.ID,this.date=n.Date?new Date(n.Date.toString()):void 0,this.salesChannelID=n.SalesChannelID,Array.isArray(n.ShipmentPackages)){this.shipmentPackages=[];for(let C of n.ShipmentPackages)this.shipmentPackages.push(me.fromJS(C))}if(Array.isArray(n.Supplies)){this.supplies=[];for(let C of n.Supplies)this.supplies.push(it.fromJS(C))}}}static fromJS(n){n="object"==typeof n?n:{};let i=new nt;return i.init(n),i}toJSON(n){for(var i in n="object"==typeof n?n:{},this)this.hasOwnProperty(i)&&(n[i]=this[i]);if(n.ID=this.iD,n.Date=this.date?this.date.toISOString():void 0,n.SalesChannelID=this.salesChannelID,Array.isArray(this.shipmentPackages)){n.ShipmentPackages=[];for(let C of this.shipmentPackages)n.ShipmentPackages.push(C.toJSON())}if(Array.isArray(this.supplies)){n.Supplies=[];for(let C of this.supplies)n.Supplies.push(C.toJSON())}return n}}g.Shipment=nt;class it{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);if(this.price=n.Price,Array.isArray(n.SupplyItems)){this.supplyItems=[];for(let C of n.SupplyItems)this.supplyItems.push(gt.fromJS(C))}if(Array.isArray(n.SupplyPackages)){this.supplyPackages=[];for(let C of n.SupplyPackages)this.supplyPackages.push(me.fromJS(C))}this.ozonWarehouse=n.OzonWarehouse?ne.fromJS(n.OzonWarehouse):void 0}}static fromJS(n){n="object"==typeof n?n:{};let i=new it;return i.init(n),i}toJSON(n){for(var i in n="object"==typeof n?n:{},this)this.hasOwnProperty(i)&&(n[i]=this[i]);if(n.Price=this.price,Array.isArray(this.supplyItems)){n.SupplyItems=[];for(let C of this.supplyItems)n.SupplyItems.push(C.toJSON())}if(Array.isArray(this.supplyPackages)){n.SupplyPackages=[];for(let C of this.supplyPackages)n.SupplyPackages.push(C.toJSON())}return n.OzonWarehouse=this.ozonWarehouse?this.ozonWarehouse.toJSON():void 0,n}}g.Supply=it;class gt{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);if(this.quantity=n.Quantity,this.productPackage=n.ProductPackage?ie.fromJS(n.ProductPackage):void 0,Array.isArray(n.SupplyItemPackages)){this.supplyItemPackages=[];for(let C of n.SupplyItemPackages)this.supplyItemPackages.push(me.fromJS(C))}}}static fromJS(n){n="object"==typeof n?n:{};let i=new gt;return i.init(n),i}toJSON(n){for(var i in n="object"==typeof n?n:{},this)this.hasOwnProperty(i)&&(n[i]=this[i]);if(n.Quantity=this.quantity,n.ProductPackage=this.productPackage?this.productPackage.toJSON():void 0,Array.isArray(this.supplyItemPackages)){n.SupplyItemPackages=[];for(let C of this.supplyItemPackages)n.SupplyItemPackages.push(C.toJSON())}return n}}g.SupplyItem=gt;class me{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.iD=n.ID,this.amount=n.Amount,this.pricePerUom=n.PricePerUom,this.packageTypeID=n.PackageTypeID}}static fromJS(n){n="object"==typeof n?n:{};let i=new me;return i.init(n),i}toJSON(n){for(var i in n="object"==typeof n?n:{},this)this.hasOwnProperty(i)&&(n[i]=this[i]);return n.ID=this.iD,n.Amount=this.amount,n.PricePerUom=this.pricePerUom,n.PackageTypeID=this.packageTypeID,n}}g.ShipmentPackage=me;class yt{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.dateFrom=n.DateFrom?new Date(n.DateFrom.toString()):void 0,this.offset=n.Offset,this.count=n.Count}}static fromJS(n){n="object"==typeof n?n:{};let i=new yt;return i.init(n),i}toJSON(n){for(var i in n="object"==typeof n?n:{},this)this.hasOwnProperty(i)&&(n[i]=this[i]);return n.DateFrom=this.dateFrom?Ce(this.dateFrom):void 0,n.Offset=this.offset,n.Count=this.count,n}}g.FindShipmentsModel=yt;class rt{constructor(n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i])}init(n){if(n){for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);if(this.totalCount=n.TotalCount,Array.isArray(n.Items)){this.items=[];for(let C of n.Items)this.items.push(nt.fromJS(C))}}}static fromJS(n){n="object"==typeof n?n:{};let i=new rt;return i.init(n),i}toJSON(n){for(var i in n="object"==typeof n?n:{},this)this.hasOwnProperty(i)&&(n[i]=this[i]);if(n.TotalCount=this.totalCount,Array.isArray(this.items)){n.Items=[];for(let C of this.items)n.Items.push(C.toJSON())}return n}}function Ce(a){return a.getFullYear()+"-"+(a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1)+"-"+(a.getDate()<10?"0"+a.getDate():a.getDate())}g.PagedResponseOfShipments=rt,function(a){a.DRAFT="DRAFT",a.SUPPLY_VARIANTS_ARRANGING="SUPPLY_VARIANTS_ARRANGING",a.HAS_NO_SUPPLY_VARIANTS_ARCHIVE="HAS_NO_SUPPLY_VARIANTS_ARCHIVE",a.HAS_NO_SUPPLY_VARIANTS_NEW="HAS_NO_SUPPLY_VARIANTS_NEW",a.SUPPLY_VARIANT_CONFIRMATION="SUPPLY_VARIANT_CONFIRMATION",a.TIMESLOT_BOOKING="TIMESLOT_BOOKING",a.DATA_FILLING="DATA_FILLING",a.READY_TO_SUPPLY="READY_TO_SUPPLY",a.ACCEPTED_AT_SUPPLY_WAREHOUSE="ACCEPTED_AT_SUPPLY_WAREHOUSE",a.IN_TRANSIT="IN_TRANSIT",a.ACCEPTANCE_AT_STORAGE_WAREHOUSE="ACCEPTANCE_AT_STORAGE_WAREHOUSE",a.REPORTS_CONFIRMATION_AWAITING="REPORTS_CONFIRMATION_AWAITING",a.REPORT_REJECTED="REPORT_REJECTED",a.COMPLETED="COMPLETED",a.REJECTED_AT_SUPPLY_WAREHOUSE="REJECTED_AT_SUPPLY_WAREHOUSE",a.CANCELLED="CANCELLED",a.OVERDUE="OVERDUE"}(kl=g.SupplyOrderState||(g.SupplyOrderState={}));class Zt extends Error{constructor(n,i,C,A,c){super(),this.isApiException=!0,this.message=n,this.status=i,this.response=C,this.headers=A,this.result=c}static isApiException(n){return!0===n.isApiException}}function R(a,n,i,C,A){return(0,_.$)(null!=A?A:new Zt(a,n,i,C,null))}function b(a){return new cs.c(n=>{if(a){let i=new FileReader;i.onload=C=>{n.next(C.target.result),n.complete()},i.readAsText(a)}else n.next(""),n.complete()})}g.ApiException=Zt}(At||(At={}));var us=v(2102),zt=v(4799),ps=At.PackageTypePrice;const ds=()=>({"min-width":"75rem"}),hs=()=>[10,25,50],ms=()=>({width:"50vw"});function _s(g,I){1&g&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.k0s(),e.j41(3,"th",6),e.EFF(4,"\u0415\u0434\u0438\u043d\u0438\u0446\u0430 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f "),e.nrm(5,"p-sortIcon",7),e.k0s(),e.j41(6,"th"),e.EFF(7,"\u041a\u0432\u0430\u043d\u0442"),e.k0s(),e.j41(8,"th"),e.EFF(9,"\u0426\u0435\u043d\u044b"),e.k0s(),e.nrm(10,"th"),e.k0s())}function fs(g,I){if(1&g&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&g){const t=I.$implicit,r=e.XpG().$implicit,o=e.XpG(2);e.R7$(),e.E5c(" ",e.i5U(2,3,t.date,"yyyy.MM.dd"),": ",t.price,"\u20bd/",o.getMeasureUnitText(r.unitOfMeasure)," ")}}function bs(g,I){if(1&g){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.DNE(8,fs,3,6,"div",8),e.k0s(),e.j41(9,"td")(10,"p-button",9),e.bIt("click",function(){const o=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.showEditPackageTypeDialog(o))}),e.k0s(),e.j41(11,"p-button",10),e.bIt("click",function(o){const s=e.eBV(t).$implicit,u=e.XpG(2);return e.Njj(u.confirmPackageTypeRemoval(o,s))}),e.k0s()()()}if(2&g){const t=I.$implicit,r=e.XpG(2);e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(r.getMeasureUnitText(t.unitOfMeasure)),e.R7$(2),e.JRh(r.getQuantum(t)),e.R7$(2),e.Y8G("ngForOf",t.prices)}}function vs(g,I){if(1&g&&(e.j41(0,"p-table",3),e.DNE(1,_s,11,0,"ng-template",4)(2,bs,12,4,"ng-template",5),e.k0s()),2&g){const t=e.XpG();e.Y8G("value",t.data)("tableStyle",e.lJ4(6,ds))("paginator",!0)("rows",50)("rowsPerPageOptions",e.lJ4(7,hs))("totalRecords",t.totalRecords)}}function ys(g,I){1&g&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"\u0414\u0430\u0442\u0430"),e.k0s(),e.j41(3,"th"),e.EFF(4,"\u0426\u0435\u043d\u0430"),e.k0s(),e.nrm(5,"th"),e.k0s())}function Ss(g,I){if(1&g){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"p-calendar",23),e.mxI("ngModelChange",function(o){const s=e.eBV(t).$implicit;return e.DH7(s.date,o)||(s.date=o),e.Njj(o)}),e.k0s()(),e.j41(3,"td")(4,"p-inputNumber",24),e.mxI("ngModelChange",function(o){const s=e.eBV(t).$implicit;return e.DH7(s.price,o)||(s.price=o),e.Njj(o)}),e.k0s()(),e.j41(5,"td")(6,"p-button",10),e.bIt("click",function(){const o=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.removePrice(o))}),e.k0s()()()}if(2&g){const t=I.$implicit;e.R7$(2),e.R50("ngModel",t.date),e.Y8G("readonlyInput",!0)("selectOtherMonths",!0)("showClear",!0),e.R7$(2),e.R50("ngModel",t.price),e.Y8G("min",0)("minFractionDigits",2)("maxFractionDigits",2)("showButtons",!0)}}function ks(g,I){if(1&g){const t=e.RV6();e.j41(0,"button",25),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.addPackageType())}),e.EFF(1,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),e.k0s()}}function Ts(g,I){if(1&g){const t=e.RV6();e.j41(0,"button",25),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.updatePackageType())}),e.EFF(1,"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"),e.k0s()}}function Ds(g,I){if(1&g){const t=e.RV6();e.j41(0,"p-dialog",11),e.mxI("visibleChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.showDialog,o)||(s.showDialog=o),e.Njj(o)}),e.j41(1,"div")(2,"div",12)(3,"label",13),e.EFF(4,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.k0s(),e.j41(5,"input",14),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.newItem.name,o)||(s.newItem.name=o),e.Njj(o)}),e.k0s()(),e.j41(6,"div",12)(7,"label",15),e.EFF(8,"\u0422\u043e\u0447\u043d\u043e\u0441\u0442\u044c, \u0437\u043d\u0430\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u044f\u0442\u043e\u0439"),e.k0s(),e.j41(9,"p-inputNumber",16),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.newItem.decimalPlaces,o)||(s.newItem.decimalPlaces=o),e.Njj(o)}),e.k0s()(),e.j41(10,"div",12)(11,"label",17),e.EFF(12,"\u0415\u0434\u0438\u043d\u0438\u0446\u0430 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f"),e.k0s(),e.j41(13,"p-dropdown",18),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.newItem.unitOfMeasure,o)||(s.newItem.unitOfMeasure=o),e.Njj(o)}),e.k0s()(),e.j41(14,"div",12)(15,"label",19),e.EFF(16,"\u0426\u0435\u043d\u044b"),e.k0s(),e.j41(17,"p-table",20),e.DNE(18,ys,6,0,"ng-template",4)(19,Ss,7,9,"ng-template",5),e.k0s(),e.j41(20,"p-button",21),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addPrice())}),e.k0s()()(),e.DNE(21,ks,2,0,"button",22)(22,Ts,2,0,"button",22),e.k0s()}if(2&g){const t=e.XpG();e.Aen(e.lJ4(19,ms)),e.Y8G("header",t.dialogTitle)("modal",!0),e.R50("visible",t.showDialog),e.Y8G("draggable",!1)("resizable",!1),e.R7$(5),e.R50("ngModel",t.newItem.name),e.R7$(4),e.R50("ngModel",t.newItem.decimalPlaces),e.Y8G("min",0)("max",5)("showButtons",!0),e.R7$(4),e.R50("ngModel",t.newItem.unitOfMeasure),e.Y8G("options",t.measureUnits)("autoDisplayFirst",!1),e.R7$(4),e.Y8G("value",t.newItem.prices)("editable",!0),e.R7$(4),e.Y8G("ngIf",t.isAdding),e.R7$(),e.Y8G("ngIf",!t.isAdding)}}let Ps=(()=>{class g{constructor(t,r,o,s){this.purchaseService=t,this.messageService=r,this.timeService=o,this.confirmationService=s,this.measureUnits=[{value:G.D.UnitOfMeasure.Piece,name:"\u0448\u0442"},{value:G.D.UnitOfMeasure.SquareMeter,name:"\u043c2"},{value:G.D.UnitOfMeasure.Meter,name:"\u043c"}]}getMeasureUnitText(t){return this.measureUnits.find(r=>r.value==t)?.name??t.toString()}get data(){return this.purchaseService.getPackageTypes()}getQuantum(t){return Math.pow(10,-t.decimalPlaces)}showAddPackageTypeDialog(){this.isAdding=!0,this.dialogTitle="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",this.newItem={decimalPlaces:0},this.showDialog=!0}showEditPackageTypeDialog(t){this.isAdding=!1,this.dialogTitle="\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",this.newItem=t,this.showDialog=!0}removePackageType(t){this.purchaseService.removePackageType(t.iD).pipe((0,T.W)(r=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:r}),V.w))).subscribe()}addPackageType(){this.purchaseService.addPackageType(this.newItem).pipe((0,T.W)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:t}),V.w))).subscribe(()=>{this.showDialog=!1})}addPrice(){this.newItem.prices||(this.newItem.prices=[]);const t=new ps({packageTypeID:0,price:0,date:this.timeService.asUtc(new Date)});this.newItem.prices.push(t)}removePrice(t){this.newItem.prices=this.newItem.prices.filter(r=>r!==t)}updatePackageType(){for(const t of this.newItem.prices)t.date=new Date(Date.UTC(t.date.getFullYear(),t.date.getMonth(),t.date.getDate(),0,0,0));this.purchaseService.updatePackageType(this.newItem).pipe((0,T.W)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438",severity:"error",detail:t}),V.w))).subscribe(()=>{this.showDialog=!1})}confirmPackageTypeRemoval(t,r){this.confirmationService.confirm({target:t.target,message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0443?",header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{this.removePackageType(r)}})}static{this.\u0275fac=function(r){return new(r||g)(e.rXU(Fe),e.rXU(N.bg),e.rXU(us.v),e.rXU(N.td))}}static{this.\u0275cmp=e.VBU({type:g,selectors:[["app-package-type-list"]],decls:8,vars:2,consts:[[3,"click"],["dataKey","iD",3,"value","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords",4,"ngIf"],[3,"header","modal","style","visible","draggable","resizable","visibleChange",4,"ngIf"],["dataKey","iD",3,"value","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","unitOfMeasure"],["field","unitOfMeasure"],[4,"ngFor","ngForOf"],["type","button","pRipple","","icon","pi pi-pencil",3,"click"],["icon","pi pi-trash","styleClass","p-button-danger",3,"click"],[3,"visibleChange","header","modal","visible","draggable","resizable"],[1,"flex-auto","m-3"],["for","name",1,"block","font-bold"],["pInputText","","inputId","name",3,"ngModelChange","ngModel"],["for","decimalPlaces",1,"mb-2","block","font-bold"],["inputId","decimalPlaces",3,"ngModelChange","ngModel","min","max","showButtons"],["for","unitOfMeasure",1,"mb-2","block","font-bold"],["appendTo","body","placeholder","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0435\u0434\u0438\u043d\u0438\u0446\u0443 \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u0439","inputId","unitOfMeasure","optionLabel","name","optionValue","value",3,"ngModelChange","ngModel","options","autoDisplayFirst"],[1,"mb-2","block","font-bold"],[3,"value","editable"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0446\u0435\u043d\u0443","icon","pi pi-plus",3,"click"],["pButton","",3,"click",4,"ngIf"],["appendTo","body","placeholder","\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",3,"ngModelChange","ngModel","readonlyInput","selectOtherMonths","showClear"],[3,"ngModelChange","ngModel","min","minFractionDigits","maxFractionDigits","showButtons"],["pButton","",3,"click"]],template:function(r,o){1&r&&(e.nrm(0,"p-toast")(1,"p-confirmDialog"),e.j41(2,"h1"),e.EFF(3,"\u0423\u043f\u0430\u043a\u043e\u0432\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),e.k0s(),e.j41(4,"p-button",0),e.bIt("click",function(){return o.showAddPackageTypeDialog()}),e.EFF(5,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),e.k0s(),e.DNE(6,vs,3,8,"p-table",1)(7,Ds,23,20,"p-dialog",2)),2&r&&(e.R7$(6),e.Y8G("ngIf",o.data),e.R7$(),e.Y8G("ngIf",o.newItem))},dependencies:[N.Ei,H._f,H.$n,ot.Vv,y.Sq,y.bT,zt.T,st.l,je.ms,L.me,L.BC,L.vS,Be.YI,fe.S,Z.XI,Z.Tg,Z.yc,pe.y8,y.vh]})}}return g})();var Se=v(467),Ie=v(2288),xs=v(9350),Ns=v(7707);let ct=(()=>{class g{static{this.ResponseSeparatorToken="###RESPONSE###"}static{this.ApplicationSettingsID="ApplicationSettingsID"}static{this.SettingsStoreName="Settings"}constructor(t){this.dbService=t,this.models={llama:{messages:[],model:"meta-llama/Llama-3.3-70B-Instruct-Turbo-Free",max_tokens:2048,temperature:.7,top_p:.7,top_k:50,repetition_penalty:1,stop:["<|eot_id|>","<|eom_id|>"],stream:!1},deepseek:{messages:[],model:"deepseek-ai/DeepSeek-R1-Distill-Llama-70B-free",max_tokens:8192,temperature:.7,top_p:.7,top_k:50,repetition_penalty:1,stop:["<\uff5cend\u2581of\u2581sentence\uff5c>"],stream:!1}},this.apiKey=new z.t(void 0),t.getByID(g.SettingsStoreName,g.ApplicationSettingsID).pipe((0,T.W)(r=>V.w)).subscribe(r=>{const o=r?.data?.togetherApiKey;this.apiKey.next(o)})}infere(t,r){var o=this;return(0,Se.A)(function*(){const s=yield function Es(g,I){const t="object"==typeof I;return new Promise((r,o)=>{const s=new Ns.Ms({next:u=>{r(u),s.unsubscribe()},error:o,complete:()=>{t?r(I.defaultValue):o(new xs.G)}});g.subscribe(s)})}(o.apiKey);if(!s)throw Error("\u041d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043a\u043b\u044e\u0447 API \u0434\u043b\u044f Together.AI");const u=Object.assign({},o.models[t],{messages:r}),m={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(u)};return yield fetch("https://api.together.xyz/v1/chat/completions",m).then(F=>F.json()).then(F=>{let j,S=F?.choices?.[0]?.message?.content;if(S){const P=S.lastIndexOf("</think>");P>=0&&(S=S.substring(P+8));const M=S.lastIndexOf(g.ResponseSeparatorToken),U=S.substring(0,M).lastIndexOf(g.ResponseSeparatorToken,M);let O;S=S.substring(U+g.ResponseSeparatorToken.length,M);try{O=JSON.parse(S),j={success:!0,data:O}}catch{j={success:!1,error:"\u041d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043e\u0442\u0432\u0435\u0442\u0430: "+S}}}else j={success:!1,error:"\u041d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043e\u0442\u0432\u0435\u0442\u0430: "+JSON.stringify(F)};return j})})()}static{this.\u0275fac=function(r){return new(r||g)(e.KVO(E.MX))}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();const ws=["mask"],Fs=["*"],js=g=>({"p-blockui-document":g,"p-blockui p-component-overlay p-component-overlay-enter":!0}),Bs=()=>({display:"none"});function Rs(g,I){1&g&&e.eu8(0)}let Gs=(()=>{class g{document;el;cd;config;renderer;platformId;target;autoZIndex=!0;baseZIndex=0;styleClass;get blocked(){return this._blocked}set blocked(t){this.mask&&this.mask.nativeElement?t?this.block():this.unblock():this._blocked=t}templates;mask;_blocked=!1;animationEndListener;contentTemplate;constructor(t,r,o,s,u,m){this.document=t,this.el=r,this.cd=o,this.config=s,this.renderer=u,this.platformId=m}ngAfterViewInit(){if(this._blocked&&this.block(),this.target&&!this.target.getBlockableElement)throw"Target of BlockUI must implement BlockableUI interface"}ngAfterContentInit(){this.templates.forEach(t=>{t.getType(),this.contentTemplate=t.template})}block(){(0,y.UE)(this.platformId)&&(this._blocked=!0,this.mask.nativeElement.style.display="flex",this.target?(this.target.getBlockableElement().appendChild(this.mask.nativeElement),this.target.getBlockableElement().style.position="relative"):(this.renderer.appendChild(this.document.body,this.mask.nativeElement),w.D.blockBodyScroll()),this.autoZIndex&&te.Q$.set("modal",this.mask.nativeElement,this.baseZIndex+this.config.zIndex.modal))}unblock(){(0,y.UE)(this.platformId)&&this.mask&&!this.animationEndListener&&(this.animationEndListener=this.renderer.listen(this.mask.nativeElement,"animationend",this.destroyModal.bind(this)),w.D.addClass(this.mask.nativeElement,"p-component-overlay-leave"))}destroyModal(){this._blocked=!1,this.mask&&(0,y.UE)(this.platformId)&&(te.Q$.clear(this.mask.nativeElement),w.D.removeClass(this.mask.nativeElement,"p-component-overlay-leave"),this.renderer.removeChild(this.el.nativeElement,this.mask.nativeElement),w.D.unblockBodyScroll()),this.unbindAnimationEndListener(),this.cd.markForCheck()}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.animationEndListener(),this.animationEndListener=null)}ngOnDestroy(){this.unblock(),this.destroyModal()}static \u0275fac=function(r){return new(r||g)(e.rXU(y.qQ),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(N.r1),e.rXU(e.sFG),e.rXU(e.Agw))};static \u0275cmp=e.VBU({type:g,selectors:[["p-blockUI"]],contentQueries:function(r,o,s){if(1&r&&e.wni(s,N.Ei,4),2&r){let u;e.mGM(u=e.lsd())&&(o.templates=u)}},viewQuery:function(r,o){if(1&r&&e.GBs(ws,5),2&r){let s;e.mGM(s=e.lsd())&&(o.mask=s.first)}},hostAttrs:[1,"p-element"],inputs:{target:"target",autoZIndex:[2,"autoZIndex","autoZIndex",e.L39],baseZIndex:[2,"baseZIndex","baseZIndex",e.Udg],styleClass:"styleClass",blocked:"blocked"},features:[e.GFd],ngContentSelectors:Fs,decls:4,vars:11,consts:[["mask",""],[3,"ngClass","ngStyle"],[4,"ngTemplateOutlet"]],template:function(r,o){1&r&&(e.NAR(),e.j41(0,"div",1,0),e.SdG(2),e.DNE(3,Rs,1,0,"ng-container",2),e.k0s()),2&r&&(e.HbH(o.styleClass),e.Y8G("ngClass",e.eq3(8,js,!o.target))("ngStyle",e.lJ4(10,Bs)),e.BMQ("aria-busy",o.blocked)("data-pc-name","blockui")("data-pc-section","root"),e.R7$(3),e.Y8G("ngTemplateOutlet",o.contentTemplate))},dependencies:[y.YU,y.T3,y.B3],styles:["@layer primeng{.p-blockui{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;transition-property:background-color;display:flex;align-items:center;justify-content:center}.p-blockui.p-component-overlay{position:absolute}.p-blockui-document.p-component-overlay{position:fixed}.p-blockui-leave.p-component-overlay{background-color:transparent}}\n"],encapsulation:2,changeDetection:0})}return g})(),Ms=(()=>{class g{static \u0275fac=function(r){return new(r||g)};static \u0275mod=e.$C({type:g});static \u0275inj=e.G2t({imports:[y.MD]})}return g})();var Xt=v(491),Jt=v(9615),Wt=v(6160),Ht=v(6296);let Os=(()=>{class g{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;static \u0275fac=function(r){return new(r||g)};static \u0275cmp=e.VBU({type:g,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},decls:3,vars:11,consts:[["role","progressbar",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(r,o){1&r&&(e.j41(0,"div",0),e.qSk(),e.j41(1,"svg",1),e.nrm(2,"circle",2),e.k0s()()),2&r&&(e.Y8G("ngStyle",o.style)("ngClass",o.styleClass),e.BMQ("aria-label",o.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),e.R7$(),e.xc7("animation-duration",o.animationDuration),e.BMQ("data-pc-section","root"),e.R7$(),e.BMQ("fill",o.fill)("stroke-width",o.strokeWidth))},dependencies:[y.YU,y.B3],styles:['@layer primeng{.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0})}return g})(),Vs=(()=>{class g{static \u0275fac=function(r){return new(r||g)};static \u0275mod=e.$C({type:g});static \u0275inj=e.G2t({imports:[y.MD]})}return g})();function $s(g,I){if(1&g){const t=e.RV6();e.j41(0,"th")(1,"p-inputGroup")(2,"button",38),e.bIt("click",function(){const o=e.eBV(t).index,s=e.XpG(4);return e.Njj(s.nameColumn=o)}),e.k0s(),e.nrm(3,"input",39),e.j41(4,"button",40),e.bIt("click",function(){const o=e.eBV(t).index,s=e.XpG(4);return e.Njj(s.priceColumn=o)}),e.k0s()()()}if(2&g){const t=I.$implicit,r=I.index,o=e.XpG(4);e.R7$(2),e.Y8G("disabled",o.nameColumn==r),e.R7$(),e.Y8G("disabled",!0)("value",t),e.R7$(),e.Y8G("disabled",o.priceColumn==r)}}function Us(g,I){if(1&g&&(e.j41(0,"tr"),e.DNE(1,$s,5,4,"th",37),e.k0s()),2&g){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",t.previewHeaderCells)}}function Ls(g,I){1&g&&(e.nrm(0,"tr",41),e.nI1(1,"safeHtml")),2&g&&e.Y8G("innerHTML",e.bMT(1,1,I.$implicit),e.npT)}function Ys(g,I){if(1&g&&(e.j41(0,"p-accordion")(1,"p-accordionTab",35)(2,"p-table",36),e.DNE(3,Us,2,1,"ng-template",32)(4,Ls,2,3,"ng-template",33),e.k0s()()()),2&g){const t=e.XpG(2);e.R7$(2),e.Y8G("scrollable",!0)("value",t.previewRows)}}function zs(g,I){if(1&g&&e.nrm(0,"p-sortIcon",46),2&g){const t=e.XpG().$implicit;e.Y8G("field",t.name)}}function Xs(g,I){if(1&g&&(e.qex(0),e.j41(1,"th",44),e.EFF(2),e.DNE(3,zs,1,1,"p-sortIcon",45),e.k0s(),e.bVm()),2&g){const t=I.$implicit;e.R7$(),e.Y8G("pSortableColumnDisabled",t.isNameColumn)("pSortableColumn",t.name),e.R7$(),e.SpI(" ",t.name," "),e.R7$(),e.Y8G("ngIf",!t.isNameColumn)}}function Js(g,I){if(1&g&&(e.qex(0),e.j41(1,"th"),e.nrm(2,"p-columnFilter",47),e.k0s(),e.bVm()),2&g){const t=I.$implicit;e.R7$(2),e.Y8G("field",t.name)("showButtons",!1)("type",t.isNameColumn?"text":"numeric")("useGrouping",!1)}}function Ws(g,I){if(1&g){const t=e.RV6();e.qex(0),e.j41(1,"tr")(2,"th",42)(3,"p-checkbox",43),e.bIt("onChange",function(o){e.eBV(t);const s=e.XpG(3);return e.Njj(s.toggleSelectedRows(o.checked))}),e.k0s()(),e.DNE(4,Xs,4,4,"ng-container",37),e.k0s(),e.j41(5,"tr"),e.DNE(6,Js,3,4,"ng-container",37),e.k0s(),e.bVm()}if(2&g){const t=e.XpG().$implicit,r=e.XpG(2);e.R7$(3),e.Y8G("binary",!0)("ngModel",(null==r.selectedRows?null:r.selectedRows.length)==r.outputData.length),e.R7$(),e.Y8G("ngForOf",t),e.R7$(2),e.Y8G("ngForOf",t)}}function Hs(g,I){if(1&g&&e.DNE(0,Ws,7,4,"ng-container",8),2&g){const t=I.$implicit;e.Y8G("ngIf",null==t?null:t.length)}}function Zs(g,I){if(1&g&&(e.j41(0,"a",50),e.EFF(1),e.k0s()),2&g){const t=e.XpG().$implicit,r=e.XpG().$implicit,o=e.XpG(2);e.Mz_("href","https://www.ozon.ru/search/?from_global=true&text=",o.encodeURIComponent(r[t.name]),"",e.B4B),e.R7$(),e.SpI(" ",r[t.name]," ")}}function Ks(g,I){if(1&g&&(e.j41(0,"div"),e.EFF(1,"\u0412\u0435\u043d\u0434\u043e\u0440: "),e.j41(2,"a",50),e.EFF(3),e.k0s()()),2&g){const t=e.XpG(3).$implicit,r=e.XpG(2);e.R7$(2),e.Mz_("href","https://www.ozon.ru/search/?from_global=true&text=",r.encodeURIComponent(t.extendedNameData.v),"",e.B4B),e.R7$(),e.SpI(" ",t.extendedNameData.v," ")}}function Qs(g,I){if(1&g&&(e.j41(0,"div"),e.EFF(1,"\u0422\u043e\u0432\u0430\u0440: "),e.j41(2,"a",50),e.EFF(3),e.k0s()()),2&g){const t=e.XpG(3).$implicit,r=e.XpG(2);e.R7$(2),e.Mz_("href","https://www.ozon.ru/search/?from_global=true&text=",r.encodeURIComponent(t.extendedNameData.n),"",e.B4B),e.R7$(),e.SpI(" ",t.extendedNameData.n," ")}}function qs(g,I){if(1&g&&(e.j41(0,"div"),e.EFF(1,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: "),e.j41(2,"a",50),e.EFF(3),e.k0s()()),2&g){const t=e.XpG(3).$implicit,r=e.XpG(2);e.R7$(2),e.Mz_("href","https://www.ozon.ru/search/?from_global=true&text=",r.encodeURIComponent(t.extendedNameData.c),"",e.B4B),e.R7$(),e.SpI(" ",t.extendedNameData.c," ")}}function el(g,I){if(1&g&&(e.qex(0),e.DNE(1,Ks,4,3,"div",8)(2,Qs,4,3,"div",8)(3,qs,4,3,"div",8),e.bVm()),2&g){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf",t.extendedNameData.v),e.R7$(),e.Y8G("ngIf",t.extendedNameData.n),e.R7$(),e.Y8G("ngIf",t.extendedNameData.c)}}function tl(g,I){if(1&g&&(e.qex(0),e.EFF(1),e.bVm()),2&g){const t=e.XpG().$implicit,r=e.XpG().$implicit;e.R7$(),e.SpI(" ",r[t.name]," ")}}function nl(g,I){if(1&g&&(e.j41(0,"td"),e.DNE(1,Zs,2,3,"a",49)(2,el,4,3,"ng-container",8)(3,tl,2,1,"ng-container",8),e.k0s()),2&g){const t=I.$implicit,r=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",t.isNameColumn),e.R7$(),e.Y8G("ngIf",t.isNameColumn&&r.extendedNameData),e.R7$(),e.Y8G("ngIf",!t.isNameColumn)}}function il(g,I){if(1&g){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"p-checkbox",48),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG(2);return e.DH7(s.selectedRows,o)||(s.selectedRows=o),e.Njj(o)}),e.k0s()(),e.DNE(3,nl,4,3,"td",37),e.k0s()}if(2&g){const t=I.columns,r=I.rowIndex,o=e.XpG(2);e.R7$(2),e.R50("ngModel",o.selectedRows),e.Y8G("value",r),e.R7$(),e.Y8G("ngForOf",t)}}function gl(g,I){if(1&g){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.exportFile())}),e.EFF(1,"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 "),e.k0s()}if(2&g){const t=e.XpG(2);e.Y8G("disabled",!(null!=t.selectedRows&&t.selectedRows.length))}}function rl(g,I){if(1&g){const t=e.RV6();e.j41(0,"div",5),e.DNE(1,Ys,5,2,"p-accordion",8),e.j41(2,"div",9)(3,"div",10)(4,"span",11)(5,"p-dropdown",12),e.bIt("onChange",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.onSelectedSheetChange())}),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.selectedSheet,o)||(s.selectedSheet=o),e.Njj(o)}),e.k0s(),e.j41(6,"label",13),e.EFF(7,"\u041b\u0438\u0441\u0442"),e.k0s()()(),e.j41(8,"div",10)(9,"span",11)(10,"p-dropdown",14),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.nameColumn,o)||(s.nameColumn=o),e.Njj(o)}),e.k0s(),e.j41(11,"label",15),e.EFF(12,"\u041a\u043e\u043b\u043e\u043d\u043a\u0430 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u044f"),e.k0s()()(),e.j41(13,"div",10)(14,"span",11)(15,"p-dropdown",16),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.priceColumn,o)||(s.priceColumn=o),e.Njj(o)}),e.k0s(),e.j41(16,"label",17),e.EFF(17,"\u041a\u043e\u043b\u043e\u043d\u043a\u0430 \u0446\u0435\u043d\u044b"),e.k0s()()(),e.j41(18,"div",10)(19,"span",11)(20,"p-multiSelect",18),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.includedColumns,o)||(s.includedColumns=o),e.Njj(o)}),e.k0s(),e.j41(21,"label",19),e.EFF(22,"\u0412\u044b\u0432\u043e\u0434\u0438\u043c\u044b\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438"),e.k0s()()(),e.j41(23,"div",10)(24,"span",11)(25,"p-multiSelect",20),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.selectedRatesOfReturn,o)||(s.selectedRatesOfReturn=o),e.Njj(o)}),e.k0s(),e.j41(26,"label",21),e.EFF(27,"\u0420\u0430\u0441\u0447\u0451\u0442\u043d\u044b\u0435 \u043d\u043e\u0440\u043c\u044b \u043f\u0440\u0438\u0431\u044b\u043b\u0438"),e.k0s()()(),e.j41(28,"div",10)(29,"span",11)(30,"p-inputNumber",22),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.deliveryCost,o)||(s.deliveryCost=o),e.Njj(o)}),e.k0s(),e.j41(31,"label",23),e.EFF(32,"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430, \u20bd"),e.k0s()()(),e.j41(33,"div",10)(34,"span",11)(35,"p-inputNumber",24),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.returnCost,o)||(s.returnCost=o),e.Njj(o)}),e.k0s(),e.j41(36,"label",25),e.EFF(37,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442, \u20bd"),e.k0s()()(),e.j41(38,"div",10)(39,"span",11)(40,"p-inputNumber",26),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.commissionPercent,o)||(s.commissionPercent=o),e.Njj(o)}),e.k0s(),e.j41(41,"label",27),e.EFF(42,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f, %"),e.k0s()()(),e.j41(43,"div",10)(44,"span",11)(45,"p-inputNumber",28),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.returnPercentage,o)||(s.returnPercentage=o),e.Njj(o)}),e.k0s(),e.j41(46,"label",29),e.EFF(47,"% \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043e\u0432"),e.k0s()()()(),e.j41(48,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.calculate())}),e.EFF(49,"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c "),e.k0s(),e.j41(50,"p-table",31),e.DNE(51,Hs,1,1,"ng-template",32)(52,il,4,3,"ng-template",33),e.k0s(),e.DNE(53,gl,2,1,"button",34),e.k0s()}if(2&g){const t=e.XpG(),r=e.sdS(6);e.R7$(),e.Y8G("ngIf",null==t.previewHeaderCells?null:t.previewHeaderCells.length),e.R7$(4),e.R50("ngModel",t.selectedSheet),e.Y8G("disabled",!r.files.length)("options",t.sheets),e.R7$(5),e.R50("ngModel",t.nameColumn),e.Y8G("disabled",!t.availableColumns)("options",t.availableColumns),e.R7$(5),e.R50("ngModel",t.priceColumn),e.Y8G("disabled",!t.availableColumns)("options",t.availableColumns),e.R7$(5),e.R50("ngModel",t.includedColumns),e.Y8G("disabled",!t.availableColumns)("filter",!1)("options",t.availableColumns)("showClear",!0),e.R7$(5),e.R50("ngModel",t.selectedRatesOfReturn),e.Y8G("filter",!1)("options",t.ratesOfReturn)("showClear",!0),e.R7$(5),e.R50("ngModel",t.deliveryCost),e.Y8G("min",0)("useGrouping",!1)("showButtons",!0)("step",5)("maxFractionDigits",0),e.R7$(5),e.R50("ngModel",t.returnCost),e.Y8G("min",0)("useGrouping",!1)("showButtons",!0)("step",5)("maxFractionDigits",0),e.R7$(5),e.R50("ngModel",t.commissionPercent),e.Y8G("max",100)("min",0)("useGrouping",!1)("showButtons",!0)("step",.5)("minFractionDigits",1),e.R7$(5),e.R50("ngModel",t.returnPercentage),e.Y8G("min",0)("max",99)("useGrouping",!1)("showButtons",!0)("step",.5)("minFractionDigits",1),e.R7$(3),e.Y8G("disabled",!r.files.length||null==t.nameColumn||!t.selectedRatesOfReturn.length),e.R7$(2),e.Y8G("columns",t.outputFileColumns)("scrollable",!0)("value",t.outputData),e.R7$(3),e.Y8G("ngIf",null==t.outputData?null:t.outputData.length)}}const ol=[{path:"edit",component:Cg},{path:"",component:an},{path:"product-tree",component:As},{path:"package-type/list",component:Ps},{path:"summary",component:hg},{path:"price-analyzer",component:(()=>{class g{static{this.nameColumnCaption="\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"}constructor(t,r,o){this.togetherApi=t,this.messageService=r,this.includedColumns=void 0,this.availableColumns=void 0,this.selectedSheet=void 0,this.sheets=[],this.nameColumn=void 0,this.priceColumn=void 0,this.selectedRatesOfReturn=[20],this.ratesOfReturn=[0,5,10,15,20,25,30,35,40,45,50],this.deliveryCost=100,this.returnCost=150,this.commissionPercent=20,this.returnPercentage=5,this.outputFileColumns=void 0,this.outputData=void 0,this.selectedRows=[],this.encodeURIComponent=encodeURIComponent,this.window=window,this.blockUI=!1,o.setTitle("\u0410\u043d\u0430\u043b\u0438\u0437 \u043f\u0440\u0430\u0439-\u043b\u0438\u0441\u0442\u043e\u0432")}getColumnName(t){const r=[];let o=!1;do{const s=~~(t%26)+(o?-1:0);t=~~(t/26),o=!0,r.unshift(String.fromCharCode(65+s))}while(t>0);return r.join("")}getRateValueProvider(t){const r=this.deliveryCost+this.returnCost*this.returnPercentage/100,o=1-this.commissionPercent/100,s=1+t/100;return u=>~~Math.ceil((u[this.getColumnName(this.priceColumn)]*s+r)/o)}calculate(){var t=this;return(0,Se.A)(function*(){t.blockUI=!0;const r=[];function o(S){return P=>P[S]||"-"}t.includedColumns?.forEach(S=>{if(S!==t.nameColumn&&S!==t.priceColumn){const P=t.getColumnName(S);r.push({name:P,valueProvider:o(P)})}});const s=t.getColumnName(t.priceColumn),u=t.getColumnName(t.nameColumn);r.push({isNameColumn:!0,name:g.nameColumnCaption,valueProvider:o(u)},{name:"\u0417\u0430\u043a\u0443\u043f\u043e\u0447\u043d\u0430\u044f \u0446\u0435\u043d\u0430",valueProvider:o(s)}),t.selectedRatesOfReturn.sort((S,P)=>Math.sign(S-P)).forEach(S=>{r.push({name:`\u0426\u0435\u043d\u0430 \u043f\u0440\u0438 \u043d\u043e\u0440\u043c\u0435 \u043f\u0440\u0438\u0431\u044b\u043b\u0438 ${S}%`,valueProvider:t.getRateValueProvider(S)})});const m=yield t.getData();t.outputData=m.map(S=>{let P=S[s];if(!P||"string"==typeof P&&(P=P.trim(),isNaN(P))||(P=+P,!P))return;P%1e-4&&(P=~~(1e4*P)/1e4);let M=S[u];return M&&(M=M.toString().trim(),M)?(S[s]=P,S[u]=M,r.reduce((O,X)=>(O[X.name]=X.valueProvider(S),O),{})):void 0}).filter(S=>!!S);const D=t.outputData.map(S=>S[g.nameColumnCaption]);t.outputFileColumns=r;const F='given a json array of price list entries give list of product names cleaned from count, size, dimensions and color,move vendor to separate attribute, try to detect best match for product category. Omit vendor and/or category attributes if they are null:\noutput format: [{"i": "source item index" "n": "cleaned product name", "v": "vendor if present", "c": "product category name in russian if detected"}]\ninput: '+JSON.stringify(D)+`\noutput: ${ct.ResponseSeparatorToken}<output json>${ct.ResponseSeparatorToken}\n`,j=yield t.togetherApi.infere("llama",[{role:"user",content:F}]);try{const S=j.data;if(!Array.isArray(S))throw Error("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u0442 together: \u043e\u0436\u0438\u0434\u0430\u043b\u0441\u044f \u043c\u0430\u0441\u0441\u0438\u0432");S.forEach(P=>t.outputData[P.i].extendedNameData=P)}catch(S){console.error(S),t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u043d\u044b\u0445 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0439",severity:"error",detail:S})}t.blockUI=!1})()}onFileSelect(t){var r=this;return(0,Se.A)(function*(){r.fileName=t.files[0].name;let o=yield t.files[0].arrayBuffer();r.workbook=void 0,r.workbook=Ie.LF(o),r.sheets=r.workbook.SheetNames,r.sheets.length?(r.selectedSheet=r.sheets[0],yield r.onSelectedSheetChange()):r.selectedSheet=void 0})()}onSelectedSheetChange(){var t=this;return(0,Se.A)(function*(){null!=t.selectedSheet?t.extractExcelSheetInfo():(t.availableColumns=void 0,t.includedColumns=void 0)})()}exportFile(){const t=new Map,r=[],o=[];let s=1;const u=this.outputFileColumns.findIndex(P=>P.name==g.nameColumnCaption),m=this.getColumnName(u);this.selectedRows.forEach(P=>{const M=this.outputData[P];r.push(Object.assign({},M)),delete r[r.length-1].extendedNameData;let U=0;if(M.extendedNameData){if(M.extendedNameData.n){U++;const O={};O[g.nameColumnCaption]=M.extendedNameData.n,r.push(O)}if(M.extendedNameData.v){U++;const O={};O[g.nameColumnCaption]=M.extendedNameData.v,r.push(O)}if(M.extendedNameData.c){U++;const O={};O[g.nameColumnCaption]=M.extendedNameData.c,r.push(O)}this.outputFileColumns.forEach((O,X)=>{X!=u&&o.push({s:{r:s,c:X},e:{r:s+U,c:X}})})}s+=1+U}),r.forEach(P=>this.outputFileColumns.forEach((M,U)=>{t.has(U)||t.set(U,M.name.length),t.set(U,Math.max(t.get(U),P[M.name]?.toString().length))}));const D=[];for(let P=0;P<t.size;P++)D.push({wch:t.get(P)});const F=Ie.Wp.json_to_sheet(r);F["!merges"]=o;const j=Ie.Wp.book_new();Ie.Wp.book_append_sheet(j,F,"\u0420\u0430\u0441\u0447\u0451\u0442"),F["!cols"]=D;for(let P=0;P<r.length;P++)F[m+(P+2)].l={Target:"https://www.ozon.ru/search/?from_global=true&text="+encodeURIComponent(r[P][g.nameColumnCaption])};const S=this.fileName.split(".");S[S.length-2]+="-redicy",S[S.length-1]="xlsx",Ie._h(j,S.join("."),{compression:!0})}toggleSelectedRows(t){this.selectedRows=t?this.outputData.map((r,o)=>o):[]}onFileRemove(){this.workbook=void 0,this.selectedSheet=void 0,this.fileName=void 0,this.previewRows=void 0,this.previewHeaderCells=void 0,this.onSelectedSheetChange()}getData(){var t=this;return(0,Se.A)(function*(){const r=(t.includedColumns||[]).concat([t.nameColumn,t.priceColumn]),o=Math.max(...t.includedColumns||[],t.nameColumn,t.priceColumn),s=new Set(r),u=t.workbook.Sheets[t.selectedSheet],m=[...Array(o+1).keys()].map((F,j)=>j).map(F=>s.has(F)?t.getColumnName(F):void 0);return Ie.Wp.sheet_to_json(u,{header:m,blankrows:!1,skipHidden:!0})})()}extractExcelSheetInfo(){const t=this.workbook.Sheets[this.selectedSheet],o=t["!ref"].split(":"),s=/([a-z]+)\d+$/i;let m,D,u=s.exec(o[0]);if(u?.length>1?(m=u[1],u=s.exec(o[1]),u?.length>1?D=u[1]:this.selectedSheet=void 0):this.selectedSheet=void 0,null==this.selectedSheet)alert("\u041d\u0435\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0439 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u043b\u0438\u0441\u0442");else{const S=[],P=this.getColumnIndex(m),M=P+Math.min(this.getColumnIndex(D)-P,60);for(let Y=P;Y<=M;Y++)S.push({index:Y,text:this.getColumnName(Y)});this.availableColumns=S;let U=Ie.Wp.sheet_to_html(t);this.previewHeaderCells=[];const O=/(<tr[^?]*?>)(.*?)<\/tr>/gs,X=/(<td.*?id="sjs-([^\d]+)\d+"[^>]*?>(.*?))<\/td>/gs;let ee;const K=[],re=[];let oe=0;for(O.lastIndex=0;(ee=O.exec(U))&&re.length<=10;){let Y,de=0;const se=[];let ae=!1;for(X.lastIndex=0;(Y=X.exec(ee[2]))&&de<60;)re.length||K.push(Y[2]),se.push(Y[1]),Y[3]&&(ae=!0,de>oe&&(oe=de)),de++;ae&&re.push(se)}const ke=oe+1;K.length>ke&&(K.length=ke,re.forEach(Y=>Y.length=ke)),K.length&&(this.previewHeaderCells=K),re.length&&(this.previewRows=re.map(Y=>Y.join("")))}}getColumnIndex(t){let o=0;for(let s=0;s<t.length;s++)o*=26,o+=t.charCodeAt(s)-65+1;return o--,o}static{this.\u0275fac=function(r){return new(r||g)(e.rXU(ct),e.rXU(N.bg),e.rXU($.hE))}}static{this.\u0275cmp=e.VBU({type:g,selectors:[["app-price-analyzer"]],decls:8,vars:4,consts:[["fileUpload",""],[3,"blocked"],[1,"card"],["animationDuration","1s","strokeWidth","8","styleClass","w-4rem h-4rem"],["header","\u0410\u043d\u0430\u043b\u0438\u0437 \u043f\u0440\u0430\u0439\u0441-\u043b\u0438\u0441\u0442\u043e\u0432"],[1,"m-2"],["accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel","chooseIcon","pi pi-upload",3,"onRemove","onSelect","showCancelButton","showUploadButton"],["class","m-2",4,"ngIf"],[4,"ngIf"],[1,"formgrid","grid"],[1,"field","lg:col-4","md:col-6","sm:col-12","mt-5"],[1,"p-float-label"],["appendTo","body","inputId","sheet",3,"onChange","ngModelChange","ngModel","disabled","options"],["for","sheet"],["appendTo","body","inputId","nameColumn","optionLabel","text","optionValue","index",3,"ngModelChange","ngModel","disabled","options"],["for","nameColumn"],["appendTo","body","inputId","priceColumn","optionLabel","text","optionValue","index",3,"ngModelChange","ngModel","disabled","options"],["for","priceColumn"],["appendTo","body","inputId","includedColumns","optionLabel","text","optionValue","index",3,"ngModelChange","ngModel","disabled","filter","options","showClear"],["for","includedColumns"],["appendTo","body","inputId","ratesOfReturn",3,"ngModelChange","ngModel","filter","options","showClear"],["for","ratesOfReturn"],["inputId","deliveryCost",3,"ngModelChange","ngModel","min","useGrouping","showButtons","step","maxFractionDigits"],["for","deliveryCost"],["inputId","returnCost",3,"ngModelChange","ngModel","min","useGrouping","showButtons","step","maxFractionDigits"],["for","returnCost"],["inputId","commissionPercent",3,"ngModelChange","ngModel","max","min","useGrouping","showButtons","step","minFractionDigits"],["for","commissionPercent"],["inputId","returnPercentage",3,"ngModelChange","ngModel","min","max","useGrouping","showButtons","step","minFractionDigits"],["for","returnPercentage"],["pButton","",1,"mt-2","mb-5",3,"click","disabled"],[3,"columns","scrollable","value"],["pTemplate","header"],["pTemplate","body"],["class","mt-2 mb-5","pButton","",3,"disabled","click",4,"ngIf"],["header","\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"],["scrollHeight","350px","tableStyleClass","previewTable",3,"scrollable","value"],[4,"ngFor","ngForOf"],["icon","pi pi-pencil","pButton","","type","button",2,"width","20px","height","20px",3,"click","disabled"],["pInputText","","type","text",2,"width","40px","height","20px",3,"disabled","value"],["icon","pi pi-dollar","pButton","","type","button",2,"width","20px","height","20px",3,"click","disabled"],[3,"innerHTML"],["rowspan","2"],[3,"onChange","binary","ngModel"],[3,"pSortableColumnDisabled","pSortableColumn"],[3,"field",4,"ngIf"],[3,"field"],[3,"field","showButtons","type","useGrouping"],[3,"ngModelChange","ngModel","value"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"]],template:function(r,o){if(1&r){const s=e.RV6();e.j41(0,"p-blockUI",1)(1,"div",2),e.nrm(2,"p-progressSpinner",3),e.k0s()(),e.j41(3,"p-card",4)(4,"div",5)(5,"p-fileUpload",6,0),e.bIt("onRemove",function(){return e.eBV(s),e.Njj(o.onFileRemove())})("onSelect",function(m){return e.eBV(s),e.Njj(o.onFileSelect(m))}),e.k0s()(),e.DNE(7,rl,54,50,"div",7),e.k0s()}2&r&&(e.Y8G("blocked",o.blockUI),e.R7$(5),e.Y8G("showCancelButton",!0)("showUploadButton",!1),e.R7$(2),e.Y8G("ngIf",o.workbook))},dependencies:[be.nD,be.gV,N.Ei,Gs,H._f,Xt.Z,Ee.Sc,y.Sq,y.bT,je.ms,Jt.N,L.BC,L.vS,Wt.M,Be.YI,fe.S,Ht.KF,Os,Z.XI,Z.Tg,Z.yc,Z.rl,Ft],styles:["[_nghost-%COMP%]     .p-datatable .p-datatable-tbody>tr>td, [_nghost-%COMP%]     .p-datatable .p-datatable-thead>tr>th{border-collapse:collapse;border-width:1px}"]})}}return g})()}];let sl=(()=>{class g{static{this.\u0275fac=function(r){return new(r||g)}}static{this.\u0275mod=e.$C({type:g})}static{this.\u0275inj=e.G2t({imports:[x.iI.forChild(ol),x.iI]})}}return g})(),ll=(()=>{class g{static{this.\u0275fac=function(r){return new(r||g)}}static{this.\u0275mod=e.$C({type:g})}static{this.\u0275inj=e.G2t({imports:[y.MD]})}}return g})(),ul=(()=>{class g{static \u0275fac=function(r){return new(r||g)};static \u0275mod=e.$C({type:g});static \u0275inj=e.G2t({imports:[y.MD,N.Gg,ye.h,N.Gg,ye.h]})}return g})();var pl=v(672),dl=v(4602);let hl=(()=>{class g{static{this.\u0275fac=function(r){return new(r||g)}}static{this.\u0275mod=e.$C({type:g})}static{this.\u0275inj=e.G2t({providers:[N.td,G.D.PurchaseBatchClient,G.D.ProductClient,G.D.PackageTypeClient,G.D.SalesChannelClient,G.D.PriceAnalyzerClient,B.X.PurchaseBatchClient,B.X.PackageTypeClient,Fe],imports:[be.h6,_e.$$,Ms,H.tm,ot.rO,Xt.D,Ee.q4,y.MD,zt.F,st.P,je.kr,Jt.e,L.YN,dl.k,Wt.I,Be.O3,fe.u,Ht.iV,ll,Vs,sl,Wn,Z.bG,wt.$,pe.MB,pe.MB,Me.S,It,ls,pl.AG,ul]})}}return g})()},8839:(St,ce,v)=>{v.d(ce,{b:()=>V,E:()=>T});var y=v(8359);class x extends y.yU{constructor(e,B){super()}schedule(e,B=0){return this}}const J={setInterval(G,e,...B){const{delegate:E}=J;return E?.setInterval?E.setInterval(G,e,...B):setInterval(G,e,...B)},clearInterval(G){const{delegate:e}=J;return(e?.clearInterval||clearInterval)(G)},delegate:void 0};var z=v(7908),ue=v(6129);class Q{constructor(e,B=Q.now){this.schedulerActionCtor=e,this.now=B}schedule(e,B=0,E){return new this.schedulerActionCtor(this,e).schedule(E,B)}}Q.now=ue.U.now;const T=new class q extends Q{constructor(e,B=Q.now){super(e,B),this.actions=[],this._active=!1}flush(e){const{actions:B}=this;if(this._active)return void B.push(e);let E;this._active=!0;do{if(E=e.execute(e.state,e.delay))break}while(e=B.shift());if(this._active=!1,E){for(;e=B.shift();)e.unsubscribe();throw E}}}(class ge extends x{constructor(e,B){super(e,B),this.scheduler=e,this.work=B,this.pending=!1}schedule(e,B=0){var E;if(this.closed)return this;this.state=e;const N=this.id,$=this.scheduler;return null!=N&&(this.id=this.recycleAsyncId($,N,B)),this.pending=!0,this.delay=B,this.id=null!==(E=this.id)&&void 0!==E?E:this.requestAsyncId($,this.id,B),this}requestAsyncId(e,B,E=0){return J.setInterval(e.flush.bind(e,this),E)}recycleAsyncId(e,B,E=0){if(null!=E&&this.delay===E&&!1===this.pending)return B;null!=B&&J.clearInterval(B)}execute(e,B){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const E=this._execute(e,B);if(E)return E;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,B){let N,E=!1;try{this.work(e)}catch($){E=!0,N=$||new Error("Scheduled action threw falsy error")}if(E)return this.unsubscribe(),N}unsubscribe(){if(!this.closed){const{id:e,scheduler:B}=this,{actions:E}=B;this.work=this.state=this.scheduler=null,this.pending=!1,(0,z.o)(E,this),null!=e&&(this.id=this.recycleAsyncId(B,e,null)),this.delay=null,super.unsubscribe()}}}),V=T},935:(St,ce,v)=>{v.d(ce,{$:()=>G,v:()=>V});var y=v(177),x=v(4438),J=v(5779);const z=["*"];function ge(e,B){if(1&e&&x.nrm(0,"span",5),2&e){const E=x.XpG(2);x.Y8G("ngClass",E.icon)}}function ue(e,B){if(1&e&&(x.qex(0),x.DNE(1,ge,1,1,"span",4),x.bVm()),2&e){const E=x.XpG();x.R7$(),x.Y8G("ngIf",E.icon)}}function Q(e,B){}function q(e,B){1&e&&x.DNE(0,Q,0,0,"ng-template")}function T(e,B){if(1&e&&(x.j41(0,"span",6),x.DNE(1,q,1,0,null,7),x.k0s()),2&e){const E=x.XpG();x.R7$(),x.Y8G("ngTemplateOutlet",E.iconTemplate)}}let V=(()=>{class e{cd;get style(){return this._style}set style(E){this._style=E,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;templates;iconTemplate;_style;ngAfterContentInit(){this.templates?.forEach(E=>{"icon"===E.getType()&&(this.iconTemplate=E.template)})}constructor(E){this.cd=E}containerClass(){return{"p-tag p-component":!0,[`p-tag-${this.severity}`]:this.severity,"p-tag-rounded":this.rounded}}static \u0275fac=function(N){return new(N||e)(x.rXU(x.gRc))};static \u0275cmp=x.VBU({type:e,selectors:[["p-tag"]],contentQueries:function(N,$,_e){if(1&N&&x.wni(_e,J.Ei,4),2&N){let H;x.mGM(H=x.lsd())&&($.templates=H)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[2,"rounded","rounded",x.L39]},features:[x.GFd],ngContentSelectors:z,decls:6,vars:7,consts:[[3,"ngClass","ngStyle"],[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-value"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(N,$){1&N&&(x.NAR(),x.j41(0,"span",0),x.SdG(1),x.DNE(2,ue,2,1,"ng-container",1)(3,T,2,1,"span",2),x.j41(4,"span",3),x.EFF(5),x.k0s()()),2&N&&(x.HbH($.styleClass),x.Y8G("ngClass",$.containerClass())("ngStyle",$.style),x.R7$(2),x.Y8G("ngIf",!$.iconTemplate),x.R7$(),x.Y8G("ngIf",$.iconTemplate),x.R7$(2),x.JRh($.value))},dependencies:[y.YU,y.bT,y.T3,y.B3],styles:["@layer primeng{.p-tag{display:inline-flex;align-items:center;justify-content:center}.p-tag-icon,.p-tag-value,.p-tag-icon.pi{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}}\n"],encapsulation:2,changeDetection:0})}return e})(),G=(()=>{class e{static \u0275fac=function(N){return new(N||e)};static \u0275mod=x.$C({type:e});static \u0275inj=x.G2t({imports:[y.MD,J.Gg,J.Gg]})}return e})()}}]);