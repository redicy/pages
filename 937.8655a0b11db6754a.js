"use strict";(self.webpackChunkseller=self.webpackChunkseller||[]).push([[937],{1937:(gt,f,u)=>{u.r(f),u.d(f,{ProductListModule:()=>mt});var d=u(177),k=u(9909),l=u(9437),s=u(983),C=u(2180),m=u(4153),t=u(4438),b=u(9058),g=u(5779),j=u(345),h=u(9417),r=u(544),E=u(9998),P=u(1141),R=u(4602),F=u(6160),y=u(1802),M=u(2242),I=u(4799);const D=()=>["name"],G=()=>[10,25,50],T=()=>({"min-width":"75rem"}),x=o=>({width:o});function L(o,c){1&o&&(t.j41(0,"tr")(1,"th",10),t.EFF(2," \u041a\u043e\u0434 "),t.nrm(3,"p-sortIcon",11),t.k0s(),t.j41(4,"th",12),t.EFF(5," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 "),t.nrm(6,"p-sortIcon",13),t.k0s(),t.j41(7,"th"),t.EFF(8,"\u0413\u0430\u0431\u0430\u0440\u0438\u0442\u044b"),t.k0s(),t.j41(9,"th"),t.EFF(10,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435"),t.k0s(),t.j41(11,"th"),t.EFF(12,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0441\u0432\u043e\u0451\u043c \u0441\u043a\u043b\u0430\u0434\u0435"),t.k0s(),t.nrm(13,"th")(14,"th"),t.k0s(),t.j41(15,"tr")(16,"th"),t.nrm(17,"p-columnFilter",14),t.k0s(),t.j41(18,"th"),t.nrm(19,"p-columnFilter",15),t.k0s(),t.nrm(20,"th")(21,"th")(22,"th")(23,"th")(24,"th"),t.k0s())}function S(o,c){if(1&o){const e=t.RV6();t.j41(0,"input",24),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG().$implicit;return t.DH7(p.name,i)||(p.name=i),t.Njj(i)}),t.k0s()}if(2&o){const e=t.XpG().$implicit;t.R50("ngModel",e.name)}}function v(o,c){if(1&o&&t.EFF(0),2&o){const e=t.XpG().$implicit;t.SpI(" ",e.name," ")}}function X(o,c){if(1&o){const e=t.RV6();t.j41(0,"p-inputGroup")(1,"p-inputGroupAddon"),t.EFF(2,"\u0428"),t.k0s(),t.j41(3,"p-inputNumber",25),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG().$implicit;return t.DH7(p.widthMM,i)||(p.widthMM=i),t.Njj(i)}),t.k0s(),t.j41(4,"p-inputGroupAddon"),t.EFF(5,"\u043c\u043c"),t.k0s()(),t.j41(6,"p-inputGroup")(7,"p-inputGroupAddon"),t.EFF(8,"\u0412"),t.k0s(),t.j41(9,"p-inputNumber",26),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG().$implicit;return t.DH7(p.heightMM,i)||(p.heightMM=i),t.Njj(i)}),t.k0s(),t.j41(10,"p-inputGroupAddon"),t.EFF(11,"\u043c\u043c"),t.k0s()(),t.j41(12,"p-inputGroup")(13,"p-inputGroupAddon"),t.EFF(14,"\u0413"),t.k0s(),t.j41(15,"p-inputNumber",27),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG().$implicit;return t.DH7(p.depthMM,i)||(p.depthMM=i),t.Njj(i)}),t.k0s(),t.j41(16,"p-inputGroupAddon"),t.EFF(17,"\u043c\u043c"),t.k0s()(),t.j41(18,"p-inputGroup")(19,"p-inputGroupAddon"),t.EFF(20,"\u0412\u0435\u0441"),t.k0s(),t.j41(21,"p-inputNumber",27),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG().$implicit;return t.DH7(p.weightG,i)||(p.weightG=i),t.Njj(i)}),t.k0s(),t.j41(22,"p-inputGroupAddon"),t.EFF(23,"\u0433"),t.k0s()()}if(2&o){const e=t.XpG().$implicit;t.R7$(3),t.R50("ngModel",e.widthMM),t.R7$(6),t.R50("ngModel",e.heightMM),t.R7$(6),t.R50("ngModel",e.depthMM),t.R7$(6),t.R50("ngModel",e.weightG)}}function N(o,c){if(1&o&&(t.j41(0,"div",28),t.EFF(1),t.k0s(),t.j41(2,"div"),t.EFF(3),t.k0s()),2&o){let e,n;const i=t.XpG().$implicit;t.R7$(),t.E5c(" ",null!==(e=i.widthMM)&&void 0!==e?e:0," x ",null!==(e=i.heightMM)&&void 0!==e?e:0," x ",null!==(e=i.depthMM)&&void 0!==e?e:0," "),t.R7$(2),t.SpI("",null!==(n=i.weightG)&&void 0!==n?n:0,"\u0433")}}function V(o,c){if(1&o){const e=t.RV6();t.j41(0,"input",24),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG().$implicit;return t.DH7(p.minimumWarehouseStock,i)||(p.minimumWarehouseStock=i),t.Njj(i)}),t.k0s()}if(2&o){const e=t.XpG().$implicit;t.R50("ngModel",e.minimumWarehouseStock)}}function w(o,c){if(1&o&&t.EFF(0),2&o){let e;const n=t.XpG().$implicit;t.SpI(" ",null!==(e=n.minimumWarehouseStock)&&void 0!==e?e:0," ")}}function $(o,c){if(1&o){const e=t.RV6();t.j41(0,"input",24),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG().$implicit;return t.DH7(p.stockAmount,i)||(p.stockAmount=i),t.Njj(i)}),t.k0s()}if(2&o){const e=t.XpG().$implicit;t.R50("ngModel",e.stockAmount)}}function B(o,c){if(1&o&&t.EFF(0),2&o){let e;const n=t.XpG().$implicit;t.SpI(" ",null!==(e=n.stockAmount)&&void 0!==e?e:0," ")}}function A(o,c){if(1&o){const e=t.RV6();t.j41(0,"p-button",29),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,p=t.XpG(),a=t.sdS(7);return t.Njj(p.onProductEditInit(a,i))}),t.k0s()}}function Y(o,c){if(1&o){const e=t.RV6();t.j41(0,"p-button",30),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,p=t.XpG(),a=t.sdS(7);return t.Njj(p.onProductEditSave(a,i))}),t.k0s()}}function W(o,c){if(1&o){const e=t.RV6();t.j41(0,"p-button",31),t.bIt("click",function(){t.eBV(e);const i=t.XpG(2);return t.Njj(i.onProductEditCancel())}),t.k0s()}}function H(o,c){if(1&o){const e=t.RV6();t.j41(0,"p-button",32),t.bIt("click",function(i){t.eBV(e);const p=t.XpG().$implicit,a=t.XpG();return t.Njj(a.confirmProductRemoval(i,p))}),t.k0s()}}function O(o,c){if(1&o&&t.nrm(0,"button",33),2&o){const e=t.XpG(),i=e.$implicit;t.Y8G("icon",e.expanded?"pi pi-chevron-down":"pi pi-chevron-right")("pRowToggler",i)}}function z(o,c){if(1&o&&(t.j41(0,"tr",16)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"p-cellEditor"),t.DNE(5,S,1,1,"ng-template",17)(6,v,1,1,"ng-template",18),t.k0s()(),t.j41(7,"td")(8,"p-cellEditor"),t.DNE(9,X,24,4,"ng-template",17)(10,N,4,4,"ng-template",18),t.k0s()(),t.j41(11,"td")(12,"p-cellEditor"),t.DNE(13,V,1,1,"ng-template",17)(14,w,1,1,"ng-template",18),t.k0s()(),t.j41(15,"td")(16,"p-cellEditor"),t.DNE(17,$,1,1,"ng-template",17)(18,B,1,1,"ng-template",18),t.k0s()(),t.j41(19,"td"),t.DNE(20,A,1,0,"p-button",19)(21,Y,1,0,"p-button",20)(22,W,1,0,"p-button",21)(23,H,1,0,"p-button",22),t.k0s(),t.j41(24,"td"),t.DNE(25,O,1,2,"button",23),t.k0s()()),2&o){const e=c.editing,n=c.$implicit,i=t.XpG();t.Y8G("pEditableRow",n),t.R7$(2),t.JRh(n.iD),t.R7$(18),t.Y8G("ngIf",!e),t.R7$(),t.Y8G("ngIf",e),t.R7$(),t.Y8G("ngIf",e),t.R7$(),t.Y8G("ngIf",!i.editMode),t.R7$(2),t.Y8G("ngIf",n.iD)}}function J(o,c){1&o&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"\u041a\u043e\u0434"),t.k0s(),t.j41(3,"th"),t.EFF(4," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 "),t.k0s(),t.j41(5,"th"),t.EFF(6,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u043f\u0430\u0441, \u0448\u0442"),t.k0s(),t.j41(7,"th"),t.EFF(8,"\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438, \u0434\u043d\u0435\u0439"),t.k0s(),t.j41(9,"th"),t.EFF(10,"\u0422\u043e\u0432\u0430\u0440\u043e\u0432 \u0432 \u0444\u0430\u0441\u043e\u0432\u043a\u0435"),t.k0s(),t.nrm(11,"th"),t.k0s())}function U(o,c){if(1&o){const e=t.RV6();t.j41(0,"input",24),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG().$implicit;return t.DH7(p.name,i)||(p.name=i),t.Njj(i)}),t.k0s()}if(2&o){const e=t.XpG().$implicit;t.R50("ngModel",e.name)}}function K(o,c){if(1&o&&t.EFF(0),2&o){const e=t.XpG().$implicit;t.SpI(" ",e.name," ")}}function Q(o,c){if(1&o){const e=t.RV6();t.j41(0,"input",24),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG().$implicit;return t.DH7(p.minimumWarehouseStock,i)||(p.minimumWarehouseStock=i),t.Njj(i)}),t.k0s()}if(2&o){const e=t.XpG().$implicit;t.R50("ngModel",e.minimumWarehouseStock)}}function Z(o,c){if(1&o&&t.EFF(0),2&o){const e=t.XpG().$implicit;t.SpI(" ",e.minimumWarehouseStock," ")}}function q(o,c){if(1&o){const e=t.RV6();t.j41(0,"input",24),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG().$implicit;return t.DH7(p.supplyPreparationTimeInDays,i)||(p.supplyPreparationTimeInDays=i),t.Njj(i)}),t.k0s()}if(2&o){const e=t.XpG().$implicit;t.R50("ngModel",e.supplyPreparationTimeInDays)}}function tt(o,c){if(1&o&&t.EFF(0),2&o){const e=t.XpG().$implicit;t.SpI(" ",e.supplyPreparationTimeInDays," ")}}function et(o,c){if(1&o){const e=t.RV6();t.j41(0,"p-inputNumber",38),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG().$implicit;return t.DH7(p.productCount,i)||(p.productCount=i),t.Njj(i)}),t.k0s()}if(2&o){const e=t.XpG().$implicit;t.R50("ngModel",e.productCount),t.Y8G("useGrouping",!1)}}function nt(o,c){if(1&o&&t.EFF(0),2&o){const e=t.XpG().$implicit;t.SpI(" ",e.productCount," ")}}function it(o,c){if(1&o){const e=t.RV6();t.j41(0,"p-button",29),t.bIt("click",function(){t.eBV(e);const i=t.XpG(),p=i.$implicit,a=i.rowIndex;t.XpG();const _=t.sdS(4),dt=t.XpG(2);return t.Njj(dt.onPackageEditInit(_,p,a))}),t.k0s()}}function ot(o,c){if(1&o){const e=t.RV6();t.j41(0,"p-button",39),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,p=t.XpG(3);return t.Njj(p.onPackageEditSave(i))}),t.k0s()}}function pt(o,c){if(1&o){const e=t.RV6();t.j41(0,"p-button",31),t.bIt("click",function(){t.eBV(e);const i=t.XpG().rowIndex;t.XpG();const p=t.sdS(4),a=t.XpG(2);return t.Njj(a.onPackageEditCancel(p,i))}),t.k0s()}}function ct(o,c){if(1&o){const e=t.RV6();t.j41(0,"tr",16)(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"p-cellEditor"),t.DNE(5,U,1,1,"ng-template",17)(6,K,1,1,"ng-template",18),t.k0s()(),t.j41(7,"td")(8,"p-cellEditor"),t.DNE(9,Q,1,1,"ng-template",17)(10,Z,1,1,"ng-template",18),t.k0s()(),t.j41(11,"td")(12,"p-cellEditor"),t.DNE(13,q,1,1,"ng-template",17)(14,tt,1,1,"ng-template",18),t.k0s()(),t.j41(15,"td")(16,"p-cellEditor"),t.DNE(17,et,1,2,"ng-template",17)(18,nt,1,1,"ng-template",18),t.k0s()(),t.j41(19,"td"),t.DNE(20,it,1,0,"p-button",19)(21,ot,1,0,"p-button",37)(22,pt,1,0,"p-button",21),t.j41(23,"p-button",32),t.bIt("click",function(i){const p=t.eBV(e).$implicit,a=t.XpG(2).$implicit,_=t.XpG();return t.Njj(_.confirmProductPackageRemoval(i,p,a))}),t.k0s()()()}if(2&o){const e=c.$implicit,n=c.editing;t.Y8G("pEditableRow",e),t.R7$(2),t.JRh(e.iD),t.R7$(18),t.Y8G("ngIf",!n),t.R7$(),t.Y8G("ngIf",n),t.R7$(),t.Y8G("ngIf",n)}}function ut(o,c){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"button",4),t.bIt("click",function(){t.eBV(e);const i=t.sdS(4),p=t.XpG().$implicit,a=t.XpG();return t.Njj(a.addPackage(i,p))}),t.EFF(2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0441\u043e\u0432\u043a\u0443"),t.k0s(),t.j41(3,"p-table",36,1),t.DNE(5,J,12,0,"ng-template",6)(6,ct,24,5,"ng-template",7),t.k0s(),t.bVm()}if(2&o){const e=t.XpG().$implicit;t.R7$(3),t.Y8G("value",e.packages)}}function at(o,c){if(1&o&&(t.j41(0,"tr")(1,"td",34),t.DNE(2,ut,7,1,"ng-container",35),t.k0s()()),2&o){const e=c.$implicit;t.R7$(2),t.Y8G("ngIf",null==e.packages?null:e.packages.length)}}function _t(o,c){if(1&o&&(t.j41(0,"td"),t.nrm(1,"p-skeleton",42),t.k0s()),2&o){const e=c.$implicit,n=c.even;t.R7$(),t.Y8G("ngStyle",t.eq3(1,x,n?"year"===e.field?"30%":"40%":"60%"))}}function rt(o,c){if(1&o&&(t.j41(0,"tr",40),t.DNE(1,_t,2,3,"td",41),t.k0s()),2&o){const e=c.columns;t.R7$(),t.Y8G("ngForOf",e)}}const lt=[{path:"",component:(()=>{class o extends C.x{constructor(e,n,i,p){super(p),this.productService=e,this.messageService=n,this.confirmationService=i,this.totalRecords=0,this.newProductName="",this.editMode=!1}ngOnInit(){this.titleService.setTitle("\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430\u043c\u0438")}findProducts(e){this.productService.findProducts(e).pipe((0,l.W)(n=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:n}),s.w))).subscribe(n=>{this.data=n.items,this.totalRecords=n.totalCount})}onDataLazyLoad(e){const n=new m.D.FindProductsModel({offset:e.first,count:e.rows});if(this.fillFilterModel(n,e.filters),e.sortField){switch(e.sortField){case"name":n.orderField=m.D.FindProductsModelSortField.Name;break;case"iD":n.orderField=m.D.FindProductsModelSortField.ID}n.orderAscending=e.sortOrder>0}this.findProducts(n)}fillFilterModel(e,n){e.name=n.name?.value;const i=+n.iD?.value;e.iD=i>0?i:null}onProductEditInit(e,n){const i=this.editingProduct;this.editMode=!0;const p=n;p._edit={},Object.assign(p._edit,n,{_edit:void 0}),this.editingProduct={...n},i&&i!=n&&(e.cancelRowEdit(i),this.onProductEditCancel(i))}onProductEditSave(e,n){const i=n;0===n.iD?this.productService.addProduct(n).pipe((0,l.W)(p=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430",severity:"error",detail:p}),s.w))).subscribe(p=>{n.iD=p.iD,this.messageService.add({summary:"\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d",severity:"success"}),this.data[this.data.findIndex(a=>a==this.editingProduct)]=p}):this.productService.updateProduct(n).pipe((0,l.W)(p=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430",severity:"error",detail:p}),s.w))).subscribe(()=>{this.messageService.add({summary:"\u0422\u043e\u0432\u0430\u0440 \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d",severity:"success"}),e.cancelRowEdit(i),i._edit=void 0,this.editMode=!1})}onProductEditCancel(e){e&&(e.iD||this.data.splice(this.data.findIndex(n=>n==e),1),e._edit=void 0)}onPackageEditInit(e,n,i){void 0!==this.editingPackageIndex&&this.editingPackageIndex!=i&&(e.cancelRowEdit(this.editingPackage),this.onPackageEditCancel(e,this.editingPackageIndex)),this.editingPackageIndex=i,this.editingPackage={...n}}onPackageEditSave(e){0===e.iD?this.productService.addProductPackage(e).pipe((0,l.W)(n=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u0430\u0441\u043e\u0432\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u0430",severity:"error",detail:n}),s.w))).subscribe(n=>{e.iD=n.iD,this.messageService.add({summary:"\u0424\u0430\u0441\u043e\u0432\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430",severity:"success"})}):this.productService.updateProductPackage(e).pipe((0,l.W)(n=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u0430\u0441\u043e\u0432\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u0430",severity:"error",detail:n}),s.w))).subscribe(()=>{this.messageService.add({summary:"\u0424\u0430\u0441\u043e\u0432\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",severity:"success"})})}onPackageEditCancel(e,n){e.value[n]=this.editingPackage,this.editingPackageIndex=void 0}addPackage(e,n){n.packages??=[];const i=new m.D.ProductPackage({iD:0,productCount:1,name:n.name,productID:n.iD,supplyPreparationTimeInDays:0,minimumWarehouseStock:0,product:null});n.packages.push(i),e.initRowEdit(i)}addProduct(e){const n=new m.D.Product({iD:0,categoryID:1,name:this.newProductName,stockAmount:0,category:null,packages:[]});this.data.unshift(n),this.onProductEditInit(e,n),e.initRowEdit(n)}confirmProductRemoval(e,n){this.confirmationService.confirm({target:e.target,message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440?",header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f",icon:"pi pi-exclamation-triangle text-red-500",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",defaultFocus:"none",accept:()=>{this.removeProduct(n)}})}removeProduct(e){this.productService.removeProduct(e.iD).pipe((0,l.W)(n=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430",severity:"error",detail:n}),s.w))).subscribe(()=>{const n=this.data.indexOf(e);this.data.splice(n,1),this.messageService.add({summary:"\u0422\u043e\u0432\u0430\u0440 \u0443\u0434\u0430\u043b\u0451\u043d",severity:"success"})})}confirmProductPackageRemoval(e,n,i){this.confirmationService.confirm({target:e.target,message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0441\u043e\u0432\u043a\u0443 \u0442\u043e\u0432\u0430\u0440\u0430??",header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{this.removeProductPackage(n,i)}})}removeProductPackage(e,n){this.productService.removeProductPackage(e.iD).pipe((0,l.W)(i=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0444\u0430\u0441\u043e\u0432\u043a\u0438",severity:"error",detail:i}),s.w))).subscribe(()=>{const i=n.packages.indexOf(e);n.packages.splice(i,1),this.messageService.add({summary:"\u0424\u0430\u0441\u043e\u0432\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430",severity:"success"})})}copyObject(e,n){for(const i of Object.keys(e)){const p=e[i],a=typeof p;(!p||"number"==a||"string"==a)&&(n[i]=p)}return n}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(b.b),t.rXU(g.bg),t.rXU(g.td),t.rXU(j.hE))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-product-list"]],features:[t.Vt3],decls:12,vars:14,consts:[["productTable",""],["packageTable",""],[1,"flex"],["pInputText","","placeholder","\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435","type","text",3,"ngModelChange","ngModel"],["pButton","",3,"click"],["dataKey","iD","editMode","row","sortField","name",3,"onLazyLoad","globalFilterFields","lazy","loading","paginator","rowsPerPageOptions","rows","sortOrder","tableStyle","totalRecords","value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","loadingbody"],["pSortableColumn","iD"],["field","iD"],["pSortableColumn","name"],["field","name"],["field","iD","type","text"],["field","name","type","text"],[3,"pEditableRow"],["pTemplate","input"],["pTemplate","output"],["icon","pi pi-pencil","pInitEditableRow","","pRipple","","type","button",3,"click",4,"ngIf"],["icon","pi pi-check","pRipple","","type","button",3,"click",4,"ngIf"],["icon","pi pi-times","pCancelEditableRow","","pRipple","","type","button",3,"click",4,"ngIf"],["icon","pi pi-trash","pRipple","","styleClass","p-button-danger","type","button",3,"click",4,"ngIf"],["class","p-button-text p-button-rounded p-button-plain","pButton","","pRipple","","type","button",3,"icon","pRowToggler",4,"ngIf"],["pInputText","","type","text",3,"ngModelChange","ngModel"],["placeholder","\u0428\u0438\u0440\u0438\u043d\u0430",3,"ngModelChange","ngModel"],["placeholder","\u0412\u044b\u0441\u043e\u0442\u0430",3,"ngModelChange","ngModel"],["placeholder","\u0413\u043b\u0443\u0431\u0438\u043d\u044b",3,"ngModelChange","ngModel"],[1,"flex","white-space-nowrap"],["icon","pi pi-pencil","pInitEditableRow","","pRipple","","type","button",3,"click"],["icon","pi pi-check","pRipple","","type","button",3,"click"],["icon","pi pi-times","pCancelEditableRow","","pRipple","","type","button",3,"click"],["icon","pi pi-trash","pRipple","","styleClass","p-button-danger","type","button",3,"click"],["pButton","","pRipple","","type","button",1,"p-button-text","p-button-rounded","p-button-plain",3,"icon","pRowToggler"],["colspan","6"],[4,"ngIf"],["dataKey","iD","editMode","row",3,"value"],["icon","pi pi-check","pRipple","","pSaveEditableRow","","type","button",3,"click",4,"ngIf"],["type","text",3,"ngModelChange","ngModel","useGrouping"],["icon","pi pi-check","pRipple","","pSaveEditableRow","","type","button",3,"click"],[2,"height","46px"],[4,"ngFor","ngForOf"],[3,"ngStyle"]],template:function(n,i){if(1&n){const p=t.RV6();t.nrm(0,"p-toast")(1,"p-confirmDialog"),t.j41(2,"div",2)(3,"input",3),t.mxI("ngModelChange",function(_){return t.eBV(p),t.DH7(i.newProductName,_)||(i.newProductName=_),t.Njj(_)}),t.k0s(),t.j41(4,"button",4),t.bIt("click",function(){t.eBV(p);const _=t.sdS(7);return t.Njj(i.addProduct(_))}),t.EFF(5,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"),t.k0s()(),t.j41(6,"p-table",5,0),t.bIt("onLazyLoad",function(_){return t.eBV(p),t.Njj(i.onDataLazyLoad(_))}),t.DNE(8,L,25,0,"ng-template",6)(9,z,26,7,"ng-template",7)(10,at,3,1,"ng-template",8)(11,rt,2,1,"ng-template",9),t.k0s()}2&n&&(t.R7$(3),t.R50("ngModel",i.newProductName),t.R7$(3),t.Y8G("globalFilterFields",t.lJ4(11,D))("lazy",!0)("loading",i.loading)("paginator",!0)("rowsPerPageOptions",t.lJ4(12,G))("rows",10)("sortOrder",1)("tableStyle",t.lJ4(13,T))("totalRecords",i.totalRecords)("value",i.data))},dependencies:[h.me,h.BC,h.vS,d.Sq,d.bT,d.B3,r.XI,g.Ei,r.Tg,r.FP,r.c5,r.yc,r.Xk,r.Hd,r.E7,r.Tf,r.rl,E.y8,P._f,P.$n,R.S,F.M,y.YI,M.S,I.T]})}}return o})()}];let st=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[k.iI.forChild(lt),k.iI]})}}return o})(),mt=(()=>{class o{static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[d.MD,st]})}}return o})()}}]);