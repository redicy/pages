(self.webpackChunkseller=self.webpackChunkseller||[]).push([[571],{701:be=>{window,be.exports=function(i){var x={};function n(a){if(x[a])return x[a].exports;var s=x[a]={i:a,l:!1,exports:{}};return i[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=i,n.c=x,n.d=function(a,s,c){n.o(a,s)||Object.defineProperty(a,s,{enumerable:!0,get:c})},n.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},n.t=function(a,s){if(1&s&&(a=n(a)),8&s||4&s&&"object"==typeof a&&a&&a.__esModule)return a;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),2&s&&"string"!=typeof a)for(var p in a)n.d(c,p,function(y){return a[y]}.bind(null,p));return c},n.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(s,"a",s),s},n.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},n.p="/",n(n.s=72)}([function(i,x){i.exports=function(n,a,s){return a in n?Object.defineProperty(n,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[a]=s,n},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x){i.exports=function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x){function n(a){return i.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},i.exports.__esModule=!0,i.exports.default=i.exports,n(a)}i.exports=n,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x){i.exports=function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x){function n(a,s){for(var c=0;c<s.length;c++){var p=s[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(a,p.key,p)}}i.exports=function(a,s,c){return s&&n(a.prototype,s),c&&n(a,c),Object.defineProperty(a,"prototype",{writable:!1}),a},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){"use strict";n.d(x,"a",function(){return a}),n.d(x,"b",function(){return s}),n.d(x,"c",function(){return c}),n.d(x,"d",function(){return p});var a={};n.r(a),n.d(a,"EPSILON",function(){return y}),n.d(a,"ARRAY_TYPE",function(){return T}),n.d(a,"RANDOM",function(){return k}),n.d(a,"setMatrixArrayType",function(){return b}),n.d(a,"toRadian",function(){return l}),n.d(a,"equals",function(){return d});var s={};n.r(s),n.d(s,"create",function(){return e}),n.d(s,"clone",function(){return C}),n.d(s,"copy",function(){return A}),n.d(s,"identity",function(){return M}),n.d(s,"fromValues",function(){return U}),n.d(s,"set",function(){return q}),n.d(s,"transpose",function(){return Z}),n.d(s,"invert",function(){return Q}),n.d(s,"adjoint",function(){return Y}),n.d(s,"determinant",function(){return V}),n.d(s,"multiply",function(){return ee}),n.d(s,"rotate",function(){return ne}),n.d(s,"scale",function(){return W}),n.d(s,"fromRotation",function(){return K}),n.d(s,"fromScaling",function(){return B}),n.d(s,"str",function(){return oe}),n.d(s,"frob",function(){return ae}),n.d(s,"LDU",function(){return te}),n.d(s,"add",function(){return se}),n.d(s,"subtract",function(){return H}),n.d(s,"exactEquals",function(){return G}),n.d(s,"equals",function(){return X}),n.d(s,"multiplyScalar",function(){return fe}),n.d(s,"multiplyScalarAndAdd",function(){return ce}),n.d(s,"mul",function(){return xe}),n.d(s,"sub",function(){return Ae});var c={};n.r(c),n.d(c,"create",function(){return Re}),n.d(c,"clone",function(){return ke}),n.d(c,"fromValues",function(){return ze}),n.d(c,"copy",function(){return qe}),n.d(c,"set",function(){return Fe}),n.d(c,"add",function(){return Ue}),n.d(c,"subtract",function(){return Qe}),n.d(c,"multiply",function(){return He}),n.d(c,"divide",function(){return Ke}),n.d(c,"ceil",function(){return Ve}),n.d(c,"floor",function(){return Zt}),n.d(c,"min",function(){return pt}),n.d(c,"max",function(){return cn}),n.d(c,"round",function(){return dn}),n.d(c,"scale",function(){return It}),n.d(c,"scaleAndAdd",function(){return pn}),n.d(c,"distance",function(){return Rt}),n.d(c,"squaredDistance",function(){return Dt}),n.d(c,"length",function(){return bt}),n.d(c,"squaredLength",function(){return Pt}),n.d(c,"negate",function(){return Tt}),n.d(c,"inverse",function(){return Lt}),n.d(c,"normalize",function(){return zt}),n.d(c,"dot",function(){return Ft}),n.d(c,"cross",function(){return Ot}),n.d(c,"lerp",function(){return fn}),n.d(c,"random",function(){return _n}),n.d(c,"transformMat2",function(){return Ut}),n.d(c,"transformMat2d",function(){return hn}),n.d(c,"transformMat3",function(){return qt}),n.d(c,"transformMat4",function(){return Nt}),n.d(c,"rotate",function(){return Xe}),n.d(c,"angle",function(){return gn}),n.d(c,"zero",function(){return Bt}),n.d(c,"str",function(){return jt}),n.d(c,"exactEquals",function(){return mn}),n.d(c,"equals",function(){return Jt}),n.d(c,"len",function(){return Qt}),n.d(c,"sub",function(){return vn}),n.d(c,"mul",function(){return Yt}),n.d(c,"div",function(){return Gt}),n.d(c,"dist",function(){return yn}),n.d(c,"sqrDist",function(){return Ht}),n.d(c,"sqrLen",function(){return xn}),n.d(c,"forEach",function(){return Vt});var p={};n.r(p),n.d(p,"create",function(){return at}),n.d(p,"clone",function(){return ft}),n.d(p,"length",function(){return Ct}),n.d(p,"fromValues",function(){return bn}),n.d(p,"copy",function(){return Wt}),n.d(p,"set",function(){return ut}),n.d(p,"add",function(){return wt}),n.d(p,"subtract",function(){return et}),n.d(p,"multiply",function(){return $t}),n.d(p,"divide",function(){return Kt}),n.d(p,"ceil",function(){return Xt}),n.d(p,"floor",function(){return Tn}),n.d(p,"min",function(){return rt}),n.d(p,"max",function(){return St}),n.d(p,"round",function(){return en}),n.d(p,"scale",function(){return On}),n.d(p,"scaleAndAdd",function(){return Cn}),n.d(p,"distance",function(){return tn}),n.d(p,"squaredDistance",function(){return nn}),n.d(p,"squaredLength",function(){return At}),n.d(p,"negate",function(){return wn}),n.d(p,"inverse",function(){return Sn}),n.d(p,"normalize",function(){return rn}),n.d(p,"dot",function(){return lt}),n.d(p,"cross",function(){return st}),n.d(p,"lerp",function(){return _t}),n.d(p,"hermite",function(){return on}),n.d(p,"bezier",function(){return An}),n.d(p,"random",function(){return Ye}),n.d(p,"transformMat4",function(){return ht}),n.d(p,"transformMat3",function(){return an}),n.d(p,"transformQuat",function(){return En}),n.d(p,"rotateX",function(){return Mn}),n.d(p,"rotateY",function(){return gt}),n.d(p,"rotateZ",function(){return un}),n.d(p,"angle",function(){return kn}),n.d(p,"zero",function(){return Zn}),n.d(p,"str",function(){return In}),n.d(p,"exactEquals",function(){return Rn}),n.d(p,"equals",function(){return Dn}),n.d(p,"sub",function(){return ln}),n.d(p,"mul",function(){return Pn}),n.d(p,"div",function(){return Ln}),n.d(p,"dist",function(){return sn}),n.d(p,"sqrDist",function(){return zn}),n.d(p,"len",function(){return Et}),n.d(p,"sqrLen",function(){return Fn}),n.d(p,"forEach",function(){return it});var y=1e-6,T=typeof Float32Array<"u"?Float32Array:Array,k=Math.random;function b(h){T=h}var u=Math.PI/180;function l(h){return h*u}function d(h,w){return Math.abs(h-w)<=y*Math.max(1,Math.abs(h),Math.abs(w))}function e(){var h=new T(4);return T!=Float32Array&&(h[1]=0,h[2]=0),h[0]=1,h[3]=1,h}function C(h){var w=new T(4);return w[0]=h[0],w[1]=h[1],w[2]=h[2],w[3]=h[3],w}function A(h,w){return h[0]=w[0],h[1]=w[1],h[2]=w[2],h[3]=w[3],h}function M(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h}function U(h,w,R,N){var $=new T(4);return $[0]=h,$[1]=w,$[2]=R,$[3]=N,$}function q(h,w,R,N,$){return h[0]=w,h[1]=R,h[2]=N,h[3]=$,h}function Z(h,w){if(h===w){var R=w[1];h[1]=w[2],h[2]=R}else h[0]=w[0],h[1]=w[2],h[2]=w[1],h[3]=w[3];return h}function Q(h,w){var R=w[0],N=w[1],$=w[2],re=w[3],_e=R*re-$*N;return _e?(h[0]=re*(_e=1/_e),h[1]=-N*_e,h[2]=-$*_e,h[3]=R*_e,h):null}function Y(h,w){var R=w[0];return h[0]=w[3],h[1]=-w[1],h[2]=-w[2],h[3]=R,h}function V(h){return h[0]*h[3]-h[2]*h[1]}function ee(h,w,R){var N=w[0],$=w[1],re=w[2],_e=w[3],ve=R[0],Se=R[1],De=R[2],Le=R[3];return h[0]=N*ve+re*Se,h[1]=$*ve+_e*Se,h[2]=N*De+re*Le,h[3]=$*De+_e*Le,h}function ne(h,w,R){var N=w[0],$=w[1],re=w[2],_e=w[3],ve=Math.sin(R),Se=Math.cos(R);return h[0]=N*Se+re*ve,h[1]=$*Se+_e*ve,h[2]=N*-ve+re*Se,h[3]=$*-ve+_e*Se,h}function W(h,w,R){var $=w[1],re=w[2],_e=w[3],ve=R[0],Se=R[1];return h[0]=w[0]*ve,h[1]=$*ve,h[2]=re*Se,h[3]=_e*Se,h}function K(h,w){var R=Math.sin(w),N=Math.cos(w);return h[0]=N,h[1]=R,h[2]=-R,h[3]=N,h}function B(h,w){return h[0]=w[0],h[1]=0,h[2]=0,h[3]=w[1],h}function oe(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"}function ae(h){return Math.hypot(h[0],h[1],h[2],h[3])}function te(h,w,R,N){return h[2]=N[2]/N[0],R[0]=N[0],R[1]=N[1],R[3]=N[3]-h[2]*R[1],[h,w,R]}function se(h,w,R){return h[0]=w[0]+R[0],h[1]=w[1]+R[1],h[2]=w[2]+R[2],h[3]=w[3]+R[3],h}function H(h,w,R){return h[0]=w[0]-R[0],h[1]=w[1]-R[1],h[2]=w[2]-R[2],h[3]=w[3]-R[3],h}function G(h,w){return h[0]===w[0]&&h[1]===w[1]&&h[2]===w[2]&&h[3]===w[3]}function X(h,w){var R=h[0],N=h[1],$=h[2],re=h[3],_e=w[0],ve=w[1],Se=w[2],De=w[3];return Math.abs(R-_e)<=y*Math.max(1,Math.abs(R),Math.abs(_e))&&Math.abs(N-ve)<=y*Math.max(1,Math.abs(N),Math.abs(ve))&&Math.abs($-Se)<=y*Math.max(1,Math.abs($),Math.abs(Se))&&Math.abs(re-De)<=y*Math.max(1,Math.abs(re),Math.abs(De))}function fe(h,w,R){return h[0]=w[0]*R,h[1]=w[1]*R,h[2]=w[2]*R,h[3]=w[3]*R,h}function ce(h,w,R,N){return h[0]=w[0]+R[0]*N,h[1]=w[1]+R[1]*N,h[2]=w[2]+R[2]*N,h[3]=w[3]+R[3]*N,h}Math.hypot||(Math.hypot=function(){for(var h=0,w=arguments.length;w--;)h+=arguments[w]*arguments[w];return Math.sqrt(h)});var xe=ee,Ae=H;function Re(){var h=new T(2);return T!=Float32Array&&(h[0]=0,h[1]=0),h}function ke(h){var w=new T(2);return w[0]=h[0],w[1]=h[1],w}function ze(h,w){var R=new T(2);return R[0]=h,R[1]=w,R}function qe(h,w){return h[0]=w[0],h[1]=w[1],h}function Fe(h,w,R){return h[0]=w,h[1]=R,h}function Ue(h,w,R){return h[0]=w[0]+R[0],h[1]=w[1]+R[1],h}function Qe(h,w,R){return h[0]=w[0]-R[0],h[1]=w[1]-R[1],h}function He(h,w,R){return h[0]=w[0]*R[0],h[1]=w[1]*R[1],h}function Ke(h,w,R){return h[0]=w[0]/R[0],h[1]=w[1]/R[1],h}function Ve(h,w){return h[0]=Math.ceil(w[0]),h[1]=Math.ceil(w[1]),h}function Zt(h,w){return h[0]=Math.floor(w[0]),h[1]=Math.floor(w[1]),h}function pt(h,w,R){return h[0]=Math.min(w[0],R[0]),h[1]=Math.min(w[1],R[1]),h}function cn(h,w,R){return h[0]=Math.max(w[0],R[0]),h[1]=Math.max(w[1],R[1]),h}function dn(h,w){return h[0]=Math.round(w[0]),h[1]=Math.round(w[1]),h}function It(h,w,R){return h[0]=w[0]*R,h[1]=w[1]*R,h}function pn(h,w,R,N){return h[0]=w[0]+R[0]*N,h[1]=w[1]+R[1]*N,h}function Rt(h,w){return Math.hypot(w[0]-h[0],w[1]-h[1])}function Dt(h,w){var R=w[0]-h[0],N=w[1]-h[1];return R*R+N*N}function bt(h){return Math.hypot(h[0],h[1])}function Pt(h){var w=h[0],R=h[1];return w*w+R*R}function Tt(h,w){return h[0]=-w[0],h[1]=-w[1],h}function Lt(h,w){return h[0]=1/w[0],h[1]=1/w[1],h}function zt(h,w){var R=w[0],N=w[1],$=R*R+N*N;return $>0&&($=1/Math.sqrt($)),h[0]=w[0]*$,h[1]=w[1]*$,h}function Ft(h,w){return h[0]*w[0]+h[1]*w[1]}function Ot(h,w,R){var N=w[0]*R[1]-w[1]*R[0];return h[0]=h[1]=0,h[2]=N,h}function fn(h,w,R,N){var $=w[0],re=w[1];return h[0]=$+N*(R[0]-$),h[1]=re+N*(R[1]-re),h}function _n(h,w){w=w||1;var R=2*k()*Math.PI;return h[0]=Math.cos(R)*w,h[1]=Math.sin(R)*w,h}function Ut(h,w,R){var N=w[0],$=w[1];return h[0]=R[0]*N+R[2]*$,h[1]=R[1]*N+R[3]*$,h}function hn(h,w,R){var N=w[0],$=w[1];return h[0]=R[0]*N+R[2]*$+R[4],h[1]=R[1]*N+R[3]*$+R[5],h}function qt(h,w,R){var N=w[0],$=w[1];return h[0]=R[0]*N+R[3]*$+R[6],h[1]=R[1]*N+R[4]*$+R[7],h}function Nt(h,w,R){var N=w[0],$=w[1];return h[0]=R[0]*N+R[4]*$+R[12],h[1]=R[1]*N+R[5]*$+R[13],h}function Xe(h,w,R,N){var $=w[0]-R[0],re=w[1]-R[1],_e=Math.sin(N),ve=Math.cos(N);return h[0]=$*ve-re*_e+R[0],h[1]=$*_e+re*ve+R[1],h}function gn(h,w){var R=h[0],N=h[1],$=w[0],re=w[1],_e=Math.sqrt(R*R+N*N)*Math.sqrt($*$+re*re);return Math.acos(Math.min(Math.max(_e&&(R*$+N*re)/_e,-1),1))}function Bt(h){return h[0]=0,h[1]=0,h}function jt(h){return"vec2("+h[0]+", "+h[1]+")"}function mn(h,w){return h[0]===w[0]&&h[1]===w[1]}function Jt(h,w){var R=h[0],N=h[1],$=w[0],re=w[1];return Math.abs(R-$)<=y*Math.max(1,Math.abs(R),Math.abs($))&&Math.abs(N-re)<=y*Math.max(1,Math.abs(N),Math.abs(re))}var tt,Qt=bt,vn=Qe,Yt=He,Gt=Ke,yn=Rt,Ht=Dt,xn=Pt,Vt=(tt=Re(),function(h,w,R,N,$,re){var _e,ve;for(w||(w=2),R||(R=0),ve=N?Math.min(N*w+R,h.length):h.length,_e=R;_e<ve;_e+=w)tt[0]=h[_e],tt[1]=h[_e+1],$(tt,tt,re),h[_e]=tt[0],h[_e+1]=tt[1];return h});function at(){var h=new T(3);return T!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0),h}function ft(h){var w=new T(3);return w[0]=h[0],w[1]=h[1],w[2]=h[2],w}function Ct(h){return Math.hypot(h[0],h[1],h[2])}function bn(h,w,R){var N=new T(3);return N[0]=h,N[1]=w,N[2]=R,N}function Wt(h,w){return h[0]=w[0],h[1]=w[1],h[2]=w[2],h}function ut(h,w,R,N){return h[0]=w,h[1]=R,h[2]=N,h}function wt(h,w,R){return h[0]=w[0]+R[0],h[1]=w[1]+R[1],h[2]=w[2]+R[2],h}function et(h,w,R){return h[0]=w[0]-R[0],h[1]=w[1]-R[1],h[2]=w[2]-R[2],h}function $t(h,w,R){return h[0]=w[0]*R[0],h[1]=w[1]*R[1],h[2]=w[2]*R[2],h}function Kt(h,w,R){return h[0]=w[0]/R[0],h[1]=w[1]/R[1],h[2]=w[2]/R[2],h}function Xt(h,w){return h[0]=Math.ceil(w[0]),h[1]=Math.ceil(w[1]),h[2]=Math.ceil(w[2]),h}function Tn(h,w){return h[0]=Math.floor(w[0]),h[1]=Math.floor(w[1]),h[2]=Math.floor(w[2]),h}function rt(h,w,R){return h[0]=Math.min(w[0],R[0]),h[1]=Math.min(w[1],R[1]),h[2]=Math.min(w[2],R[2]),h}function St(h,w,R){return h[0]=Math.max(w[0],R[0]),h[1]=Math.max(w[1],R[1]),h[2]=Math.max(w[2],R[2]),h}function en(h,w){return h[0]=Math.round(w[0]),h[1]=Math.round(w[1]),h[2]=Math.round(w[2]),h}function On(h,w,R){return h[0]=w[0]*R,h[1]=w[1]*R,h[2]=w[2]*R,h}function Cn(h,w,R,N){return h[0]=w[0]+R[0]*N,h[1]=w[1]+R[1]*N,h[2]=w[2]+R[2]*N,h}function tn(h,w){return Math.hypot(w[0]-h[0],w[1]-h[1],w[2]-h[2])}function nn(h,w){var R=w[0]-h[0],N=w[1]-h[1],$=w[2]-h[2];return R*R+N*N+$*$}function At(h){var w=h[0],R=h[1],N=h[2];return w*w+R*R+N*N}function wn(h,w){return h[0]=-w[0],h[1]=-w[1],h[2]=-w[2],h}function Sn(h,w){return h[0]=1/w[0],h[1]=1/w[1],h[2]=1/w[2],h}function rn(h,w){var R=w[0],N=w[1],$=w[2],re=R*R+N*N+$*$;return re>0&&(re=1/Math.sqrt(re)),h[0]=w[0]*re,h[1]=w[1]*re,h[2]=w[2]*re,h}function lt(h,w){return h[0]*w[0]+h[1]*w[1]+h[2]*w[2]}function st(h,w,R){var N=w[0],$=w[1],re=w[2],_e=R[0],ve=R[1],Se=R[2];return h[0]=$*Se-re*ve,h[1]=re*_e-N*Se,h[2]=N*ve-$*_e,h}function _t(h,w,R,N){var $=w[0],re=w[1],_e=w[2];return h[0]=$+N*(R[0]-$),h[1]=re+N*(R[1]-re),h[2]=_e+N*(R[2]-_e),h}function on(h,w,R,N,$,re){var _e=re*re,ve=_e*(2*re-3)+1,Se=_e*(re-2)+re,De=_e*(re-1),Le=_e*(3-2*re);return h[0]=w[0]*ve+R[0]*Se+N[0]*De+$[0]*Le,h[1]=w[1]*ve+R[1]*Se+N[1]*De+$[1]*Le,h[2]=w[2]*ve+R[2]*Se+N[2]*De+$[2]*Le,h}function An(h,w,R,N,$,re){var _e=1-re,ve=_e*_e,Se=re*re,De=ve*_e,Le=3*re*ve,We=3*Se*_e,$e=Se*re;return h[0]=w[0]*De+R[0]*Le+N[0]*We+$[0]*$e,h[1]=w[1]*De+R[1]*Le+N[1]*We+$[1]*$e,h[2]=w[2]*De+R[2]*Le+N[2]*We+$[2]*$e,h}function Ye(h,w){w=w||1;var R=2*k()*Math.PI,N=2*k()-1,$=Math.sqrt(1-N*N)*w;return h[0]=Math.cos(R)*$,h[1]=Math.sin(R)*$,h[2]=N*w,h}function ht(h,w,R){var N=w[0],$=w[1],re=w[2],_e=R[3]*N+R[7]*$+R[11]*re+R[15];return h[0]=(R[0]*N+R[4]*$+R[8]*re+R[12])/(_e=_e||1),h[1]=(R[1]*N+R[5]*$+R[9]*re+R[13])/_e,h[2]=(R[2]*N+R[6]*$+R[10]*re+R[14])/_e,h}function an(h,w,R){var N=w[0],$=w[1],re=w[2];return h[0]=N*R[0]+$*R[3]+re*R[6],h[1]=N*R[1]+$*R[4]+re*R[7],h[2]=N*R[2]+$*R[5]+re*R[8],h}function En(h,w,R){var N=R[0],$=R[1],re=R[2],ve=w[0],Se=w[1],De=w[2],Le=$*De-re*Se,We=re*ve-N*De,$e=N*Se-$*ve,nt=$*$e-re*We,mt=re*Le-N*$e,Mt=N*We-$*Le,S=2*R[3];return We*=S,$e*=S,mt*=2,Mt*=2,h[0]=ve+(Le*=S)+(nt*=2),h[1]=Se+We+mt,h[2]=De+$e+Mt,h}function Mn(h,w,R,N){var $=[],re=[];return $[0]=w[0]-R[0],$[1]=w[1]-R[1],$[2]=w[2]-R[2],re[0]=$[0],re[1]=$[1]*Math.cos(N)-$[2]*Math.sin(N),re[2]=$[1]*Math.sin(N)+$[2]*Math.cos(N),h[0]=re[0]+R[0],h[1]=re[1]+R[1],h[2]=re[2]+R[2],h}function gt(h,w,R,N){var $=[],re=[];return $[0]=w[0]-R[0],$[1]=w[1]-R[1],$[2]=w[2]-R[2],re[0]=$[2]*Math.sin(N)+$[0]*Math.cos(N),re[1]=$[1],re[2]=$[2]*Math.cos(N)-$[0]*Math.sin(N),h[0]=re[0]+R[0],h[1]=re[1]+R[1],h[2]=re[2]+R[2],h}function un(h,w,R,N){var $=[],re=[];return $[0]=w[0]-R[0],$[1]=w[1]-R[1],$[2]=w[2]-R[2],re[0]=$[0]*Math.cos(N)-$[1]*Math.sin(N),re[1]=$[0]*Math.sin(N)+$[1]*Math.cos(N),re[2]=$[2],h[0]=re[0]+R[0],h[1]=re[1]+R[1],h[2]=re[2]+R[2],h}function kn(h,w){var R=h[0],N=h[1],$=h[2],re=w[0],_e=w[1],ve=w[2],Se=Math.sqrt(R*R+N*N+$*$)*Math.sqrt(re*re+_e*_e+ve*ve),De=Se&&lt(h,w)/Se;return Math.acos(Math.min(Math.max(De,-1),1))}function Zn(h){return h[0]=0,h[1]=0,h[2]=0,h}function In(h){return"vec3("+h[0]+", "+h[1]+", "+h[2]+")"}function Rn(h,w){return h[0]===w[0]&&h[1]===w[1]&&h[2]===w[2]}function Dn(h,w){var R=h[0],N=h[1],$=h[2],re=w[0],_e=w[1],ve=w[2];return Math.abs(R-re)<=y*Math.max(1,Math.abs(R),Math.abs(re))&&Math.abs(N-_e)<=y*Math.max(1,Math.abs(N),Math.abs(_e))&&Math.abs($-ve)<=y*Math.max(1,Math.abs($),Math.abs(ve))}var h,ln=et,Pn=$t,Ln=Kt,sn=tn,zn=nn,Et=Ct,Fn=At,it=(h=at(),function(w,R,N,$,re,_e){var ve,Se;for(R||(R=3),N||(N=0),Se=$?Math.min($*R+N,w.length):w.length,ve=N;ve<Se;ve+=R)h[0]=w[ve],h[1]=w[ve+1],h[2]=w[ve+2],re(h,h,_e),w[ve]=h[0],w[ve+1]=h[1],w[ve+2]=h[2];return w})},function(i,x,n){var a=n(17).default,s=n(1);i.exports=function(c,p){if(p&&("object"===a(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return s(c)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){var a=n(40);i.exports=function(s,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(c&&c.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),c&&a(s,c)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){var a=n(139)();i.exports=a;try{regeneratorRuntime=a}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},function(i,x,n){"use strict";x.a={init:function(a,s){a.fill(s)},shuffle:function(a){for(var s=a.length-1;s>0;s--){var c=Math.floor(Math.random()*(s+1)),p=[a[c],a[s]];a[s]=p[0],a[c]=p[1]}return a},toPointList:function(a){var s=a.reduce(function(c,p){var y="[".concat(p.join(","),"]");return c.push(y),c},[]);return"[".concat(s.join(",\r\n"),"]")},threshold:function(a,s,c){return a.reduce(function(p,y){return c.apply(a,[y])>=s&&p.push(y),p},[])},maxIndex:function(a){for(var s=0,c=0;c<a.length;c++)a[c]>a[s]&&(s=c);return s},max:function(a){for(var s=0,c=0;c<a.length;c++)a[c]>s&&(s=a[c]);return s},sum:function(a){for(var s=a.length,c=0;s--;)c+=a[s];return c}}},function(i,x,n){"use strict";n.d(x,"h",function(){return y}),n.d(x,"i",function(){return k}),n.d(x,"b",function(){return b}),n.d(x,"j",function(){return u}),n.d(x,"e",function(){return l}),n.d(x,"c",function(){return d}),n.d(x,"f",function(){return e}),n.d(x,"g",function(){return C}),n.d(x,"a",function(){return M}),n.d(x,"d",function(){return q});var a=n(5),s=n(9);a.a.setMatrixArrayType(Array);var c=function(Z,Q){var Y=[],V={rad:0,vec:a.c.clone([0,0])},ee={};function ne(K){ee[K.id]=K,Y.push(K)}function W(){var K,B=0;for(K=0;K<Y.length;K++)B+=Y[K].rad;V.rad=B/Y.length,V.vec=a.c.clone([Math.cos(V.rad),Math.sin(V.rad)])}return ne(Z),W(),{add:function(K){ee[K.id]||(ne(K),W())},fits:function(K){return Math.abs(a.c.dot(K.point.vec,V.vec))>Q},getPoints:function(){return Y},getCenter:function(){return V}}},p=function(Z,Q,Y){return{rad:Z[Y],point:Z,id:Q}};function y(Z,Q){return{x:Z,y:Q,toVec2:function(){return a.c.clone([this.x,this.y])},toVec3:function(){return a.d.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function k(Z,Q){var Y=function(V){var ee,ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,W=8-ne;function K(te,se){for(var H=0,G=te;G<=se;G++)H+=ee[G];return H}function B(te,se){for(var H=0,G=te;G<=se;G++)H+=G*ee[G];return H}return function oe(){var te,se,H,G,X=[0],fe=(1<<ne)-1;ee=function T(Z,Q){Q||(Q=8);for(var Y=Z.data,V=Y.length,ee=8-Q,ne=new Int32Array(1<<Q);V--;)ne[Y[V]>>ee]++;return ne}(V,ne);for(var ce=1;ce<fe;ce++)0==(H=(te=K(0,ce))*(se=K(ce+1,fe)))&&(H=1),G=B(0,ce)*se-B(ce+1,fe)*te,X[ce]=G*G/H;return s.a.maxIndex(X)}()<<W}(Z);return function(V,ee,ne){ne||(ne=V);for(var W=V.data,K=W.length,B=ne.data;K--;)B[K]=W[K]<ee?1:0}(Z,Y,Q),Y}function b(Z,Q,Y){var V,ee,ne,W,K=[];function B(oe){var ae=!1;for(ee=0;ee<K.length;ee++)(ne=K[ee]).fits(oe)&&(ne.add(oe),ae=!0);return ae}for(Y||(Y="rad"),V=0;V<Z.length;V++)B(W=p(Z[V],V,Y))||K.push(c(W,Q));return K}function u(Z,Q,Y){var V,ee,ne,W,K=0,B=0,oe=[];for(V=0;V<Q;V++)oe[V]={score:0,item:null};for(V=0;V<Z.length;V++)if((ee=Y.apply(this,[Z[V]]))>B)for((ne=oe[K]).score=ee,ne.item=Z[V],B=Number.MAX_VALUE,W=0;W<Q;W++)oe[W].score<B&&(B=oe[W].score,K=W);return oe}function l(Z,Q,Y){for(var V,ee=0,ne=Q.x,W=Math.floor(Z.length/4),K=Q.x/2,B=0,oe=Q.x;ne<W;){for(V=0;V<K;V++)Y[B]=(.299*Z[4*ee+0]+.587*Z[4*ee+1]+.114*Z[4*ee+2]+(.299*Z[4*(ee+1)+0]+.587*Z[4*(ee+1)+1]+.114*Z[4*(ee+1)+2])+(.299*Z[4*ne+0]+.587*Z[4*ne+1]+.114*Z[4*ne+2])+(.299*Z[4*(ne+1)+0]+.587*Z[4*(ne+1)+1]+.114*Z[4*(ne+1)+2]))/4,B++,ee+=2,ne+=2;ee+=oe,ne+=oe}}function d(Z,Q,Y){var V=Z.length/4|0;if(Y&&!0===Y.singleChannel)for(var ee=0;ee<V;ee++)Q[ee]=Z[4*ee+0];else for(var ne=0;ne<V;ne++)Q[ne]=.299*Z[4*ne+0]+.587*Z[4*ne+1]+.114*Z[4*ne+2]}function e(Z,Q){for(var Y=Z.data,V=Z.size.x,ee=Q.data,ne=0,W=V,K=Y.length,B=V/2,oe=0;W<K;){for(var ae=0;ae<B;ae++)ee[oe]=Math.floor((Y[ne]+Y[ne+1]+Y[W]+Y[W+1])/4),oe++,ne+=2,W+=2;ne+=V,W+=V}}function C(Z){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],Y=Z[0],ee=Z[2],ne=ee*Z[1],W=ne*(1-Math.abs(Y/60%2-1)),K=ee-ne,B=0,oe=0,ae=0;return Y<60?(B=ne,oe=W):Y<120?(B=W,oe=ne):Y<180?(oe=ne,ae=W):Y<240?(oe=W,ae=ne):Y<300?(B=W,ae=ne):Y<360&&(B=ne,ae=W),Q[0]=255*(B+K)|0,Q[1]=255*(oe+K)|0,Q[2]=255*(ae+K)|0,Q}function A(Z){for(var Q=[],Y=[],V=1;V<Math.sqrt(Z)+1;V++)Z%V==0&&(Y.push(V),V!==Z/V&&Q.unshift(Math.floor(Z/V)));return Y.concat(Q)}function M(Z,Q){var Y,V=A(Q.x),ee=A(Q.y),ne=Math.max(Q.x,Q.y),W=function(H,G){for(var X=0,fe=0,ce=[];X<H.length&&fe<G.length;)H[X]===G[fe]?(ce.push(H[X]),X++,fe++):H[X]>G[fe]?fe++:X++;return ce}(V,ee),K=[8,10,15,20,32,60,80],B={"x-small":5,small:4,medium:3,large:2,"x-large":1},oe=B[Z]||B.medium,ae=K[oe],te=Math.floor(ne/ae);function se(H){for(var G=0,X=H[Math.floor(H.length/2)];G<H.length-1&&H[G]<te;)G++;return G>0&&(X=Math.abs(H[G]-te)>Math.abs(H[G-1]-te)?H[G-1]:H[G]),te/X<K[oe+1]/K[oe]&&te/X>K[oe-1]/K[oe]?{x:X,y:X}:null}return(Y=se(W))||(Y=se(A(ne)))||(Y=se(A(te*ae))),Y}a.a.setMatrixArrayType(Array);var U={top:function(Z,Q){return"%"===Z.unit?Math.floor(Q.height*(Z.value/100)):null},right:function(Z,Q){return"%"===Z.unit?Math.floor(Q.width-Q.width*(Z.value/100)):null},bottom:function(Z,Q){return"%"===Z.unit?Math.floor(Q.height-Q.height*(Z.value/100)):null},left:function(Z,Q){return"%"===Z.unit?Math.floor(Q.width*(Z.value/100)):null}};function q(Z,Q,Y){var V={width:Z,height:Q},ee=Object.keys(Y).reduce(function(ne,W){var oe,K=(oe=Y[W],{value:parseFloat(oe),unit:(oe.indexOf("%"),"%")}),B=U[W](K,V);return ne[W]=B,ne},{});return{sx:ee.left,sy:ee.top,sw:ee.right-ee.left,sh:ee.bottom-ee.top}}},function(i,x,n){"use strict";var a=n(61),s=n.n(a),c=n(3),p=n.n(c),y=n(4),T=n.n(y),k=n(0),b=n.n(k),u=n(5),l=n(9),d=n(10);function e(A){if(A<0)throw new Error("expected positive number, received ".concat(A))}u.a.setMatrixArrayType(Array);var C=function(){function A(M,U){var q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,Z=arguments.length>3?arguments[3]:void 0;p()(this,A),b()(this,"data",void 0),b()(this,"size",void 0),b()(this,"indexMapping",void 0),U?this.data=U:(this.data=new q(M.x*M.y),Z&&l.a.init(this.data,0)),this.size=M}return T()(A,[{key:"inImageWithBorder",value:function(M){var U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e(U),M.x>=0&&M.y>=0&&M.x<this.size.x+2*U&&M.y<this.size.y+2*U}},{key:"subImageAsCopy",value:function(M,U){e(U.x),e(U.y);for(var q=M.size,Z=q.x,Q=q.y,Y=0;Y<Z;Y++)for(var V=0;V<Q;V++)M.data[V*Z+Y]=this.data[(U.y+V)*this.size.x+U.x+Y];return M}},{key:"get",value:function(M,U){return this.data[U*this.size.x+M]}},{key:"getSafe",value:function(M,U){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var q=0;q<this.size.x;q++)this.indexMapping.x[q]=q,this.indexMapping.x[q+this.size.x]=q;for(var Z=0;Z<this.size.y;Z++)this.indexMapping.y[Z]=Z,this.indexMapping.y[Z+this.size.y]=Z}return this.data[this.indexMapping.y[U+this.size.y]*this.size.x+this.indexMapping.x[M+this.size.x]]}},{key:"set",value:function(M,U,q){return this.data[U*this.size.x+M]=q,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var M=this.size,U=M.x,q=M.y,Z=0;Z<U;Z++)this.data[Z]=this.data[(q-1)*U+Z]=0;for(var Q=1;Q<q-1;Q++)this.data[Q*U]=this.data[Q*U+(U-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(M){var U,q,Z,Q,Y,V,ee,ne,W,K,B=this.data,oe=this.size.y,ae=this.size.x,te=[],se=[],H=Math.PI,G=H/4;if(M<=0)return se;for(Y=0;Y<M;Y++)te[Y]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(q=0;q<oe;q++)for(Q=q*q,U=0;U<ae;U++)(Z=B[q*ae+U])>0&&((V=te[Z-1]).m00+=1,V.m01+=q,V.m10+=U,V.m11+=U*q,V.m02+=Q,V.m20+=U*U);for(Y=0;Y<M;Y++)V=te[Y],isNaN(V.m00)||0===V.m00||(K=(V.m02/V.m00-(W=V.m01/V.m00)*W-(V.m20/V.m00-(ne=V.m10/V.m00)*ne))/(2*(ee=V.m11/V.m00-ne*W)),K=.5*Math.atan(K)+(ee>=0?G:-G)+H,V.theta=(180*K/H+90)%180-90,V.theta<0&&(V.theta+=180),V.rad=K>H?K-H:K,V.vec=u.c.clone([Math.cos(K),Math.sin(K)]),se.push(V));return se}},{key:"getAsRGBA",value:function(){for(var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,U=new Uint8ClampedArray(4*this.size.x*this.size.y),q=0;q<this.size.y;q++)for(var Z=0;Z<this.size.x;Z++){var Q=q*this.size.x+Z,Y=this.get(Z,q)*M;U[4*Q+0]=Y,U[4*Q+1]=Y,U[4*Q+2]=Y,U[4*Q+3]=255}return U}},{key:"show",value:function(M){var U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var q=M.getContext("2d");if(!q)throw new Error("Unable to get canvas context");var Z=q.getImageData(0,0,M.width,M.height),Q=this.getAsRGBA(U);M.width=this.size.x,M.height=this.size.y;var Y=new ImageData(Q,Z.width,Z.height);q.putImageData(Y,0,0)}},{key:"overlay",value:function(M,U,q){var Z=U<0||U>360?360:U,Q=[0,1,1],Y=[0,0,0],V=[255,255,255],ee=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var ne=M.getContext("2d");if(!ne)throw new Error("Unable to get canvas context");for(var W=ne.getImageData(q.x,q.y,this.size.x,this.size.y),K=W.data,B=this.data.length;B--;){Q[0]=this.data[B]*Z;var oe=4*B,ae=Q[0]<=0?V:Q[0]>=360?ee:Object(d.g)(Q,Y),te=s()(ae,3);K[oe]=te[0],K[oe+1]=te[1],K[oe+2]=te[2],K[oe+3]=255}ne.putImageData(W,q.x,q.y)}}]),A}();x.a=C},function(i,x){function n(a,s,c,p,y,T,k){try{var b=a[T](k),u=b.value}catch(l){return void c(l)}b.done?s(u):Promise.resolve(u).then(p,y)}i.exports=function(a){return function(){var s=this,c=arguments;return new Promise(function(p,y){var T=a.apply(s,c);function k(u){n(T,p,y,k,b,"next",u)}function b(u){n(T,p,y,k,b,"throw",u)}k(void 0)})}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){var a=n(140);function s(){return typeof Reflect<"u"&&Reflect.get?(i.exports=s=Reflect.get.bind(),i.exports.__esModule=!0,i.exports.default=i.exports):(i.exports=s=function(c,p,y){var T=a(c,p);if(T){var k=Object.getOwnPropertyDescriptor(T,p);return k.get?k.get.call(arguments.length<3?c:y):k.value}},i.exports.__esModule=!0,i.exports.default=i.exports),s.apply(this,arguments)}i.exports=s,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x){i.exports=function(n){var a=typeof n;return null!=n&&("object"==a||"function"==a)}},function(i,x){i.exports=Array.isArray},function(i,x,n){"use strict";x.a={drawRect:function(a,s,c,p){c.strokeStyle=p.color,c.fillStyle=p.color,c.lineWidth=p.lineWidth||1,c.beginPath(),c.strokeRect(a.x,a.y,s.x,s.y)},drawPath:function(a,s,c,p){c.strokeStyle=p.color,c.fillStyle=p.color,c.lineWidth=p.lineWidth,c.beginPath(),c.moveTo(a[0][s.x],a[0][s.y]);for(var y=1;y<a.length;y++)c.lineTo(a[y][s.x],a[y][s.y]);c.closePath(),c.stroke()},drawImage:function(a,s,c){var p=c.getImageData(0,0,s.x,s.y),y=p.data,T=y.length,k=a.length;if(T/k!=4)return!1;for(;k--;){var b=a[k];y[--T]=255,y[--T]=b,y[--T]=b,y[--T]=b}return c.putImageData(p,0,0),!0}}},function(i,x){function n(a){return i.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i.exports.__esModule=!0,i.exports.default=i.exports,n(a)}i.exports=n,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){var a=n(73),s=n(128)(function(c,p,y){a(c,p,y)});i.exports=s},function(i,x,n){var a=n(44),s="object"==typeof self&&self&&self.Object===Object&&self,c=a||s||Function("return this")();i.exports=c},function(i,x){i.exports=function(n){return null!=n&&"object"==typeof n}},function(i,x,n){"use strict";x.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(a,s){var c,p=a.data,y=s.data,T=this.searchDirections,k=a.size.x;function b(l,d,e,C){var A,M,U;for(A=0;A<T.length;A++){if(p[c=(M=l.cy+T[l.dir][0])*k+(U=l.cx+T[l.dir][1])]===d&&(0===y[c]||y[c]===e))return y[c]=e,l.cy=M,l.cx=U,!0;0===y[c]&&(y[c]=C),l.dir=(l.dir+1)%8}return!1}function u(l,d,e){return{dir:e,x:l,y:d,next:null,prev:null}}return{trace:function(l,d,e,C){return b(l,d,e,C)},contourTracing:function(l,d,e,C,A){return function(M,U,q,Z,Q){var Y,V,ee,ne=null,W={cx:U,cy:M,dir:0};if(b(W,Z,q,Q)){Y=ne=u(U,M,W.dir),ee=W.dir,(V=u(W.cx,W.cy,0)).prev=Y,Y.next=V,V.next=null,Y=V;var K=a.size.x*a.size.y,B=0;do{W.dir=(W.dir+6)%8,b(W,Z,q,Q),ee!==W.dir?(Y.dir=W.dir,(V=u(W.cx,W.cy,0)).prev=Y,Y.next=V,V.next=null,Y=V):(Y.dir=ee,Y.x=W.cx,Y.y=W.cy),ee=W.dir}while((W.cx!==U||W.cy!==M)&&++B<K);ne.prev=Y.prev,Y.prev.next=ne}return ne}(l,d,e,C,A)}}}}},function(i,x,n){var a=n(27),s=n(86),c=n(87),p=a?a.toStringTag:void 0;i.exports=function(y){return null==y?void 0===y?"[object Undefined]":"[object Null]":p&&p in Object(y)?s(y):c(y)}},function(i,x,n){"use strict";(function(a){var s,c,p,y,T,k,b,u,l,d,e=n(5),C=n(11),A=n(10),M=n(9),U=(n(16),n(64)),q=n(21),Z=n(65);e.a.setMatrixArrayType(Array);var Q,Y,V={ctx:{binary:null},dom:{binary:null}},ee={x:0,y:0};function ne(B){var oe,ae,te,se,H,G,X,fe=l.size.x,ce=l.size.y,xe=-l.size.x,Ae=-l.size.y;for(oe=0,ae=0;ae<B.length;ae++)oe+=(se=B[ae]).rad;for((oe=(180*(oe/=B.length)/Math.PI+90)%180-90)<0&&(oe+=180),oe=(180-oe)*Math.PI/180,H=e.b.copy(e.b.create(),[Math.cos(oe),Math.sin(oe),-Math.sin(oe),Math.cos(oe)]),ae=0;ae<B.length;ae++)for(se=B[ae],te=0;te<4;te++)e.c.transformMat2(se.box[te],se.box[te],H);for(ae=0;ae<B.length;ae++)for(se=B[ae],te=0;te<4;te++)se.box[te][0]<fe&&(fe=se.box[te][0]),se.box[te][0]>xe&&(xe=se.box[te][0]),se.box[te][1]<ce&&(ce=se.box[te][1]),se.box[te][1]>Ae&&(Ae=se.box[te][1]);for(G=[[fe,ce],[xe,ce],[xe,Ae],[fe,Ae]],X=s.halfSample?2:1,H=e.b.invert(H,H),te=0;te<4;te++)e.c.transformMat2(G[te],G[te],H);for(te=0;te<4;te++)e.c.scale(G[te],G[te],X);return G}function W(B,oe){l.subImageAsCopy(y,Object(A.h)(B,oe)),Y.skeletonize()}function K(B,oe,ae,te){var se,H,G,X,fe=[],ce=[],xe=Math.ceil(d.x/3);if(B.length>=2){for(se=0;se<B.length;se++)B[se].m00>xe&&fe.push(B[se]);if(fe.length>=2){for(G=function(ke){var ze=Object(A.b)(ke,.9),qe=Object(A.j)(ze,1,function(He){return He.getPoints().length}),Fe=[],Ue=[];if(1===qe.length){Fe=qe[0].item.getPoints();for(var Qe=0;Qe<Fe.length;Qe++)Ue.push(Fe[Qe].point)}return Ue}(fe),H=0,se=0;se<G.length;se++){var Ae,Re;H+=null!==(Ae=null===(Re=G[se])||void 0===Re?void 0:Re.rad)&&void 0!==Ae?Ae:0}G.length>1&&G.length>=fe.length/4*3&&G.length>B.length/4&&(H/=G.length,X={index:oe[1]*ee.x+oe[0],pos:{x:ae,y:te},box:[e.c.clone([ae,te]),e.c.clone([ae+y.size.x,te]),e.c.clone([ae+y.size.x,te+y.size.y]),e.c.clone([ae,te+y.size.y])],moments:G,rad:H,vec:e.c.clone([Math.cos(H),Math.sin(H)])},ce.push(X))}}return ce}x.a={init:function(B,oe){s=oe,Q=B,function(){c=s.halfSample?new C.a({x:Q.size.x/2|0,y:Q.size.y/2|0}):Q,d=Object(A.a)(s.patchSize,c.size),ee.x=c.size.x/d.x|0,ee.y=c.size.y/d.y|0,l=new C.a(c.size,void 0,Uint8Array,!1),T=new C.a(d,void 0,Array,!0);var ae=new ArrayBuffer(65536);y=new C.a(d,new Uint8Array(ae,0,d.x*d.y)),p=new C.a(d,new Uint8Array(ae,d.x*d.y*3,d.x*d.y),void 0,!0),Y=Object(Z.a)(typeof window<"u"?window:typeof self<"u"?self:a,{size:d.x},ae),u=new C.a({x:c.size.x/y.size.x|0,y:c.size.y/y.size.y|0},void 0,Array,!0),k=new C.a(u.size,void 0,void 0,!0),b=new C.a(u.size,void 0,Int32Array,!0)}(),function(){if(!s.useWorker&&typeof document<"u"){V.dom.binary=document.createElement("canvas"),V.dom.binary.className="binaryBuffer";var ae=!!s.willReadFrequently;console.warn("* initCanvas willReadFrequently",ae,s),V.ctx.binary=V.dom.binary.getContext("2d",{willReadFrequently:ae}),V.dom.binary.width=l.size.x,V.dom.binary.height=l.size.y}}()},locate:function(){s.halfSample&&Object(A.f)(Q,c),Object(A.i)(c,l),l.zeroBorder();var B=function(){var te,se,H,G,X,fe,ce=[];for(te=0;te<ee.x;te++)for(se=0;se<ee.y;se++)W(H=y.size.x*te,G=y.size.y*se),p.zeroBorder(),M.a.init(T.data,0),fe=U.a.create(p,T).rasterize(0),X=T.moments(fe.count),ce=ce.concat(K(X,[te,se],H,G));return ce}();if(B.length<ee.x*ee.y*.05)return null;var oe=function(te){var se,H,G=0,X=0;function fe(){var xe;for(xe=0;xe<b.data.length;xe++)if(0===b.data[xe]&&1===k.data[xe])return xe;return b.data.length}function ce(xe){var ke,ze,qe,Fe=xe%b.size.x,Ue=xe/b.size.x|0;if(xe<b.data.length)for(ke=u.data[xe],b.data[xe]=G,qe=0;qe<q.a.searchDirections.length;qe++)0!==k.data[ze=(Ue+q.a.searchDirections[qe][0])*b.size.x+(Fe+q.a.searchDirections[qe][1])]?0===b.data[ze]&&Math.abs(e.c.dot(u.data[ze].vec,ke.vec))>.95&&ce(ze):b.data[ze]=Number.MAX_VALUE}for(M.a.init(k.data,0),M.a.init(b.data,0),M.a.init(u.data,null),se=0;se<te.length;se++)u.data[(H=te[se]).index]=H,k.data[H.index]=1;for(k.zeroBorder();(X=fe())<b.data.length;)G++,ce(X);return G}(B);if(oe<1)return null;var ae=function(te){var se,H,G=[];for(se=0;se<te;se++)G.push(0);for(H=b.data.length;H--;)b.data[H]>0&&G[b.data[H]-1]++;return(G=G.map(function(X,fe){return{val:X,label:fe+1}})).sort(function(X,fe){return fe.val-X.val}),G.filter(function(X){return X.val>=5})}(oe);return 0===ae.length?null:function(te,se){var H,G,fe,ce=[],xe=[];for(H=0;H<te.length;H++){for(G=b.data.length,ce.length=0;G--;)b.data[G]===te[H].label&&ce.push(u.data[G]);(fe=ne(ce))&&xe.push(fe)}return xe}(ae)},checkImageConstraints:function(B,oe){var ae,te,se=B.getWidth(),H=B.getHeight(),G=oe.halfSample?.5:1;B.getConfig().area&&(te=Object(A.d)(se,H,B.getConfig().area),B.setTopRight({x:te.sx,y:te.sy}),B.setCanvasSize({x:se,y:H}),se=te.sw,H=te.sh);var X={x:Math.floor(se*G),y:Math.floor(H*G)};if(ae=Object(A.a)(oe.patchSize,X),B.setWidth(Math.floor(Math.floor(X.x/ae.x)*(1/G)*ae.x)),B.setHeight(Math.floor(Math.floor(X.y/ae.y)*(1/G)*ae.y)),B.getWidth()%ae.x==0&&B.getHeight()%ae.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(se," )and height (").concat(H,") must a multiple of ").concat(ae.x))}}}).call(this,n(45))},function(i,x,n){var a=n(75),s=n(76),c=n(77),p=n(78),y=n(79);function T(k){var b=-1,u=null==k?0:k.length;for(this.clear();++b<u;){var l=k[b];this.set(l[0],l[1])}}T.prototype.clear=a,T.prototype.delete=s,T.prototype.get=c,T.prototype.has=p,T.prototype.set=y,i.exports=T},function(i,x,n){var a=n(26);i.exports=function(s,c){for(var p=s.length;p--;)if(a(s[p][0],c))return p;return-1}},function(i,x){i.exports=function(n,a){return n===a||n!=n&&a!=a}},function(i,x,n){var a=n(19).Symbol;i.exports=a},function(i,x,n){var a=n(34)(Object,"create");i.exports=a},function(i,x,n){var a=n(100);i.exports=function(s,c){var p=s.__data__;return a(c)?p["string"==typeof c?"string":"hash"]:p.map}},function(i,x,n){var a=n(115),s=n(20),c=Object.prototype,p=c.hasOwnProperty,y=c.propertyIsEnumerable,T=a(function(){return arguments}())?a:function(k){return s(k)&&p.call(k,"callee")&&!y.call(k,"callee")};i.exports=T},function(i,x){var n=/^(?:0|[1-9]\d*)$/;i.exports=function(a,s){var c=typeof a;return!!(s=s??9007199254740991)&&("number"==c||"symbol"!=c&&n.test(a))&&a>-1&&a%1==0&&a<s}},function(i,x,n){var a=n(15),s=n(147),c=n(148),p=n(151);i.exports=function(y,T){return a(y)?y:s(y,T)?[y]:c(p(y))}},function(i,x,n){var a=n(141),s=n(142),c=n(59),p=n(143);i.exports=function(y){return a(y)||s(y)||c(y)||p()},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){var a=n(85),s=n(91);i.exports=function(c,p){var y=s(c,p);return a(y)?y:void 0}},function(i,x,n){var a=n(22),s=n(14);i.exports=function(c){if(!s(c))return!1;var p=a(c);return"[object Function]"==p||"[object GeneratorFunction]"==p||"[object AsyncFunction]"==p||"[object Proxy]"==p}},function(i,x,n){var a=n(48);i.exports=function(s,c,p){"__proto__"==c&&a?a(s,c,{configurable:!0,enumerable:!0,value:p,writable:!0}):s[c]=p}},function(i,x){i.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(i,x,n){var a=n(35),s=n(39);i.exports=function(c){return null!=c&&s(c.length)&&!a(c)}},function(i,x){i.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(i,x){function n(a,s){return i.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,p){return c.__proto__=p,c},i.exports.__esModule=!0,i.exports.default=i.exports,n(a,s)}i.exports=n,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){var a=n(22),s=n(20);i.exports=function(c){return"symbol"==typeof c||s(c)&&"[object Symbol]"==a(c)}},function(i,x,n){var a=n(41);i.exports=function(s){if("string"==typeof s||a(s))return s;var c=s+"";return"0"==c&&1/s==-1/0?"-0":c}},function(i,x,n){var a=n(34)(n(19),"Map");i.exports=a},function(i,x,n){(function(a){i.exports="object"==typeof a&&a&&a.Object===Object&&a}).call(this,n(45))},function(i,x){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{"object"==typeof window&&(n=window)}i.exports=n},function(i,x,n){var a=n(92),s=n(99),c=n(101),p=n(102),y=n(103);function T(k){var b=-1,u=null==k?0:k.length;for(this.clear();++b<u;){var l=k[b];this.set(l[0],l[1])}}T.prototype.clear=a,T.prototype.delete=s,T.prototype.get=c,T.prototype.has=p,T.prototype.set=y,i.exports=T},function(i,x,n){var a=n(36),s=n(26);i.exports=function(c,p,y){(void 0!==y&&!s(c[p],y)||void 0===y&&!(p in c))&&a(c,p,y)}},function(i,x,n){var a=n(34),s=function(){try{var c=a(Object,"defineProperty");return c({},"",{}),c}catch{}}();i.exports=s},function(i,x,n){var a=n(114)(Object.getPrototypeOf,Object);i.exports=a},function(i,x){var n=Object.prototype;i.exports=function(a){var s=a&&a.constructor;return a===("function"==typeof s&&s.prototype||n)}},function(i,x,n){(function(a){var s=n(19),c=n(117),p=x&&!x.nodeType&&x,y=p&&"object"==typeof a&&a&&!a.nodeType&&a,T=y&&y.exports===p?s.Buffer:void 0;a.exports=(T?T.isBuffer:void 0)||c}).call(this,n(37)(i))},function(i,x,n){var a=n(119),s=n(120),c=n(121),p=c&&c.isTypedArray,y=p?s(p):a;i.exports=y},function(i,x){i.exports=function(n,a){if(("constructor"!==a||"function"!=typeof n[a])&&"__proto__"!=a)return n[a]}},function(i,x,n){var a=n(36),s=n(26),c=Object.prototype.hasOwnProperty;i.exports=function(p,y,T){var k=p[y];c.call(p,y)&&s(k,T)&&(void 0!==T||y in p)||a(p,y,T)}},function(i,x,n){var a=n(124),s=n(126),c=n(38);i.exports=function(p){return c(p)?a(p,!0):s(p)}},function(i,x){i.exports=function(n){return n}},function(i,x,n){var a=n(130),s=Math.max;i.exports=function(c,p,y){return p=s(void 0===p?c.length-1:p,0),function(){for(var T=arguments,k=-1,b=s(T.length-p,0),u=Array(b);++k<b;)u[k]=T[p+k];k=-1;for(var l=Array(p+1);++k<p;)l[k]=T[k];return l[p]=y(u),a(c,this,l)}}},function(i,x,n){var a=n(131),s=n(133)(a);i.exports=s},function(i,x,n){var a=n(60);i.exports=function(s,c){if(s){if("string"==typeof s)return a(s,c);var p=Object.prototype.toString.call(s).slice(8,-1);return"Object"===p&&s.constructor&&(p=s.constructor.name),"Map"===p||"Set"===p?Array.from(s):"Arguments"===p||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?a(s,c):void 0}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x){i.exports=function(n,a){(null==a||a>n.length)&&(a=n.length);for(var s=0,c=new Array(a);s<a;s++)c[s]=n[s];return c},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){var a=n(136),s=n(137),c=n(59),p=n(138);i.exports=function(y,T){return a(y)||s(y,T)||c(y,T)||p()},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){var a=n(144),s=n(158)(function(c,p){return null==c?{}:a(c,p)});i.exports=s},function(i,x,n){var a=n(2),s=n(40),c=n(163),p=n(164);function y(T){var k="function"==typeof Map?new Map:void 0;return i.exports=y=function(b){if(null===b||!c(b))return b;if("function"!=typeof b)throw new TypeError("Super expression must either be null or a function");if(void 0!==k){if(k.has(b))return k.get(b);k.set(b,u)}function u(){return p(b,arguments,a(this).constructor)}return u.prototype=Object.create(b.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s(u,b)},i.exports.__esModule=!0,i.exports.default=i.exports,y(T)}i.exports=y,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){"use strict";var a=n(21),s={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(c,p){var y=c.data,T=p.data,k=c.size.x,b=c.size.y,u=a.a.create(c,p);return{rasterize:function(l){var d,e,C,A,M,U,q,Z,Q,Y,V,ee,ne=[],W=0;for(ee=0;ee<400;ee++)ne[ee]=0;for(ne[0]=y[0],Q=null,U=1;U<b-1;U++)for(A=0,e=ne[0],M=1;M<k-1;M++)if(0===T[V=U*k+M])if((d=y[V])!==e){if(0===A)ne[C=W+1]=d,e=d,null!==(q=u.contourTracing(U,M,C,d,s.DIR.OUTSIDE_EDGE))&&(W++,A=C,(Z=s.createContour2D()).dir=s.CONTOUR_DIR.CW_DIR,Z.index=A,Z.firstVertex=q,Z.nextpeer=Q,Z.insideContours=null,null!==Q&&(Q.prevpeer=Z),Q=Z);else if(null!==(q=u.contourTracing(U,M,s.DIR.INSIDE_EDGE,d,A))){for((Z=s.createContour2D()).firstVertex=q,Z.insideContours=null,Z.dir=0===l?s.CONTOUR_DIR.CCW_DIR:s.CONTOUR_DIR.CW_DIR,Z.index=l,Y=Q;null!==Y&&Y.index!==A;)Y=Y.nextpeer;null!==Y&&(Z.nextpeer=Y.insideContours,null!==Y.insideContours&&(Y.insideContours.prevpeer=Z),Y.insideContours=Z)}}else T[V]=A;else T[V]===s.DIR.OUTSIDE_EDGE||T[V]===s.DIR.INSIDE_EDGE?(A=0,e=T[V]===s.DIR.INSIDE_EDGE?y[V]:ne[0]):e=ne[A=T[V]];for(Y=Q;null!==Y;)Y.index=l,Y=Y.nextpeer;return{cc:Q,count:W}},debug:{drawContour:function(l,d){var e,C,A,M=l.getContext("2d"),U=d;for(M.strokeStyle="red",M.fillStyle="red",M.lineWidth=1,e=null!==U?U.insideContours:null;null!==U;){switch(null!==e?(C=e,e=e.nextpeer):(C=U,e=null!==(U=U.nextpeer)?U.insideContours:null),C.dir){case s.CONTOUR_DIR.CW_DIR:M.strokeStyle="red";break;case s.CONTOUR_DIR.CCW_DIR:M.strokeStyle="blue";break;case s.CONTOUR_DIR.UNKNOWN_DIR:M.strokeStyle="green"}A=C.firstVertex,M.beginPath(),M.moveTo(A.x,A.y);do{M.lineTo((A=A.next).x,A.y)}while(A!==C.firstVertex);M.stroke()}}}}}};x.a=s},function(i,x,n){"use strict";
/* @preserve ASM BEGIN */
/* @preserve ASM END */x.a=function(a,s,c){var p=new a.Uint8Array(c),y=0|s.size,T=a.Math.imul;function k(U,q){U|=0,q|=0;var Z=0,Q=0,V=0,ee=0,ne=0,W=0,K=0;for(Z=1;(0|Z)<(y-1|0);Z=Z+1|0)for(K=K+y|0,Q=1;(0|Q)<(y-1|0);Q=Q+1|0)p[q+K+Q|0]=5==(0|(0|p[U+(V=K-y|0)+(ne=Q-1|0)|0])+(0|p[U+V+(W=Q+1|0)|0])+(0|p[U+K+Q|0])+(0|p[U+(ee=K+y|0)+ne|0])+(0|p[U+ee+W|0]))?1:0}function b(U,q,Z){U|=0,q|=0,Z|=0;var Q=0;for(Q=0|T(y,y);(0|Q)>0;)p[Z+(Q=Q-1|0)|0]=(0|p[U+Q|0])-(0|p[q+Q|0])|0}function u(U,q,Z){U|=0,q|=0,Z|=0;var Q=0;for(Q=0|T(y,y);(0|Q)>0;)p[Z+(Q=Q-1|0)|0]=0|p[U+Q|0]|p[q+Q|0]|0}function l(U){U|=0;var q=0,Z=0;for(Z=0|T(y,y);(0|Z)>0;)q=(0|q)+(0|p[U+(Z=Z-1|0)|0])|0;return 0|q}function e(U,q){U|=0,q|=0;var Z=0,Q=0,V=0,ee=0,ne=0,W=0,K=0;for(Z=1;(0|Z)<(y-1|0);Z=Z+1|0)for(K=K+y|0,Q=1;(0|Q)<(y-1|0);Q=Q+1|0)p[q+K+Q|0]=(0|(0|p[U+(V=K-y|0)+(ne=Q-1|0)|0])+(0|p[U+V+(W=Q+1|0)|0])+(0|p[U+K+Q|0])+(0|p[U+(ee=K+y|0)+ne|0])+(0|p[U+ee+W|0]))>0?1:0}function C(U,q){U|=0,q|=0;var Z=0;for(Z=0|T(y,y);(0|Z)>0;)p[q+(Z=Z-1|0)|0]=0|p[U+Z|0]}return{skeletonize:function M(){var q,Z,Q,V=0;(function d(U,q){U|=0,q|=0;var Z=0;for(Z=0|T(y,y);(0|Z)>0;)p[U+(Z=Z-1|0)|0]=q})(Q=(Z=(q=0|T(y,y))+q|0)+q|0,0),function A(U){U|=0;var q=0,Z=0;for(q=0;(0|q)<(y-1|0);q=q+1|0)p[U+q|0]=0,p[U+Z|0]=0,p[U+(Z=Z+y-1|0)|0]=0,Z=Z+1|0;for(q=0;(0|q)<(0|y);q=q+1|0)p[U+Z|0]=0,Z=Z+1|0}(0);do{k(0,q),e(q,Z),b(0,Z,Z),u(Q,Z,Q),C(q,0),V=0==(0|l(0))|0}while(!V)}}}},,,,,,,function(i,x,n){i.exports=n(166)},function(i,x,n){var a=n(74),s=n(47),c=n(104),p=n(106),y=n(14),T=n(55),k=n(53);i.exports=function b(u,l,d,e,C){u!==l&&c(l,function(A,M){if(C||(C=new a),y(A))p(u,l,M,d,b,e,C);else{var U=e?e(k(u,M),A,M+"",u,l,C):void 0;void 0===U&&(U=A),s(u,M,U)}},T)}},function(i,x,n){var a=n(24),s=n(80),c=n(81),p=n(82),y=n(83),T=n(84);function k(b){var u=this.__data__=new a(b);this.size=u.size}k.prototype.clear=s,k.prototype.delete=c,k.prototype.get=p,k.prototype.has=y,k.prototype.set=T,i.exports=k},function(i,x){i.exports=function(){this.__data__=[],this.size=0}},function(i,x,n){var a=n(25),s=Array.prototype.splice;i.exports=function(c){var p=this.__data__,y=a(p,c);return!(y<0||(y==p.length-1?p.pop():s.call(p,y,1),--this.size,0))}},function(i,x,n){var a=n(25);i.exports=function(s){var c=this.__data__,p=a(c,s);return p<0?void 0:c[p][1]}},function(i,x,n){var a=n(25);i.exports=function(s){return a(this.__data__,s)>-1}},function(i,x,n){var a=n(25);i.exports=function(s,c){var p=this.__data__,y=a(p,s);return y<0?(++this.size,p.push([s,c])):p[y][1]=c,this}},function(i,x,n){var a=n(24);i.exports=function(){this.__data__=new a,this.size=0}},function(i,x){i.exports=function(n){var a=this.__data__,s=a.delete(n);return this.size=a.size,s}},function(i,x){i.exports=function(n){return this.__data__.get(n)}},function(i,x){i.exports=function(n){return this.__data__.has(n)}},function(i,x,n){var a=n(24),s=n(43),c=n(46);i.exports=function(p,y){var T=this.__data__;if(T instanceof a){var k=T.__data__;if(!s||k.length<199)return k.push([p,y]),this.size=++T.size,this;T=this.__data__=new c(k)}return T.set(p,y),this.size=T.size,this}},function(i,x,n){var a=n(35),s=n(88),c=n(14),p=n(90),y=/^\[object .+?Constructor\]$/,l=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");i.exports=function(d){return!(!c(d)||s(d))&&(a(d)?l:y).test(p(d))}},function(i,x,n){var a=n(27),s=Object.prototype,c=s.hasOwnProperty,p=s.toString,y=a?a.toStringTag:void 0;i.exports=function(T){var k=c.call(T,y),b=T[y];try{T[y]=void 0;var u=!0}catch{}var l=p.call(T);return u&&(k?T[y]=b:delete T[y]),l}},function(i,x){var n=Object.prototype.toString;i.exports=function(a){return n.call(a)}},function(i,x,n){var a,s=n(89),c=(a=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";i.exports=function(p){return!!c&&c in p}},function(i,x,n){var a=n(19)["__core-js_shared__"];i.exports=a},function(i,x){var n=Function.prototype.toString;i.exports=function(a){if(null!=a){try{return n.call(a)}catch{}try{return a+""}catch{}}return""}},function(i,x){i.exports=function(n,a){return n?.[a]}},function(i,x,n){var a=n(93),s=n(24),c=n(43);i.exports=function(){this.size=0,this.__data__={hash:new a,map:new(c||s),string:new a}}},function(i,x,n){var a=n(94),s=n(95),c=n(96),p=n(97),y=n(98);function T(k){var b=-1,u=null==k?0:k.length;for(this.clear();++b<u;){var l=k[b];this.set(l[0],l[1])}}T.prototype.clear=a,T.prototype.delete=s,T.prototype.get=c,T.prototype.has=p,T.prototype.set=y,i.exports=T},function(i,x,n){var a=n(28);i.exports=function(){this.__data__=a?a(null):{},this.size=0}},function(i,x){i.exports=function(n){var a=this.has(n)&&delete this.__data__[n];return this.size-=a?1:0,a}},function(i,x,n){var a=n(28),s=Object.prototype.hasOwnProperty;i.exports=function(c){var p=this.__data__;if(a){var y=p[c];return"__lodash_hash_undefined__"===y?void 0:y}return s.call(p,c)?p[c]:void 0}},function(i,x,n){var a=n(28),s=Object.prototype.hasOwnProperty;i.exports=function(c){var p=this.__data__;return a?void 0!==p[c]:s.call(p,c)}},function(i,x,n){var a=n(28);i.exports=function(s,c){var p=this.__data__;return this.size+=this.has(s)?0:1,p[s]=a&&void 0===c?"__lodash_hash_undefined__":c,this}},function(i,x,n){var a=n(29);i.exports=function(s){var c=a(this,s).delete(s);return this.size-=c?1:0,c}},function(i,x){i.exports=function(n){var a=typeof n;return"string"==a||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==n:null===n}},function(i,x,n){var a=n(29);i.exports=function(s){return a(this,s).get(s)}},function(i,x,n){var a=n(29);i.exports=function(s){return a(this,s).has(s)}},function(i,x,n){var a=n(29);i.exports=function(s,c){var p=a(this,s),y=p.size;return p.set(s,c),this.size+=p.size==y?0:1,this}},function(i,x,n){var a=n(105)();i.exports=a},function(i,x){i.exports=function(n){return function(a,s,c){for(var p=-1,y=Object(a),T=c(a),k=T.length;k--;){var b=T[n?k:++p];if(!1===s(y[b],b,y))break}return a}}},function(i,x,n){var a=n(47),s=n(107),c=n(108),p=n(111),y=n(112),T=n(30),k=n(15),b=n(116),u=n(51),l=n(35),d=n(14),e=n(118),C=n(52),A=n(53),M=n(122);i.exports=function(U,q,Z,Q,Y,V,ee){var ne=A(U,Z),W=A(q,Z),K=ee.get(W);if(K)a(U,Z,K);else{var B=V?V(ne,W,Z+"",U,q,ee):void 0,oe=void 0===B;if(oe){var ae=k(W),te=!ae&&u(W),se=!ae&&!te&&C(W);B=W,ae||te||se?k(ne)?B=ne:b(ne)?B=p(ne):te?(oe=!1,B=s(W,!0)):se?(oe=!1,B=c(W,!0)):B=[]:e(W)||T(W)?(B=ne,T(ne)?B=M(ne):d(ne)&&!l(ne)||(B=y(W))):oe=!1}oe&&(ee.set(W,B),Y(B,W,Q,V,ee),ee.delete(W)),a(U,Z,B)}}},function(i,x,n){(function(a){var s=n(19),c=x&&!x.nodeType&&x,p=c&&"object"==typeof a&&a&&!a.nodeType&&a,y=p&&p.exports===c?s.Buffer:void 0,T=y?y.allocUnsafe:void 0;a.exports=function(k,b){if(b)return k.slice();var u=k.length,l=T?T(u):new k.constructor(u);return k.copy(l),l}}).call(this,n(37)(i))},function(i,x,n){var a=n(109);i.exports=function(s,c){var p=c?a(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.length)}},function(i,x,n){var a=n(110);i.exports=function(s){var c=new s.constructor(s.byteLength);return new a(c).set(new a(s)),c}},function(i,x,n){var a=n(19).Uint8Array;i.exports=a},function(i,x){i.exports=function(n,a){var s=-1,c=n.length;for(a||(a=Array(c));++s<c;)a[s]=n[s];return a}},function(i,x,n){var a=n(113),s=n(49),c=n(50);i.exports=function(p){return"function"!=typeof p.constructor||c(p)?{}:a(s(p))}},function(i,x,n){var a=n(14),s=Object.create,c=function(){function p(){}return function(y){if(!a(y))return{};if(s)return s(y);p.prototype=y;var T=new p;return p.prototype=void 0,T}}();i.exports=c},function(i,x){i.exports=function(n,a){return function(s){return n(a(s))}}},function(i,x,n){var a=n(22),s=n(20);i.exports=function(c){return s(c)&&"[object Arguments]"==a(c)}},function(i,x,n){var a=n(38),s=n(20);i.exports=function(c){return s(c)&&a(c)}},function(i,x){i.exports=function(){return!1}},function(i,x,n){var a=n(22),s=n(49),c=n(20),T=Function.prototype.toString,k=Object.prototype.hasOwnProperty,b=T.call(Object);i.exports=function(u){if(!c(u)||"[object Object]"!=a(u))return!1;var l=s(u);if(null===l)return!0;var d=k.call(l,"constructor")&&l.constructor;return"function"==typeof d&&d instanceof d&&T.call(d)==b}},function(i,x,n){var a=n(22),s=n(39),c=n(20),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,i.exports=function(y){return c(y)&&s(y.length)&&!!p[a(y)]}},function(i,x){i.exports=function(n){return function(a){return n(a)}}},function(i,x,n){(function(a){var s=n(44),c=x&&!x.nodeType&&x,p=c&&"object"==typeof a&&a&&!a.nodeType&&a,y=p&&p.exports===c&&s.process,T=function(){try{return p&&p.require&&p.require("util").types||y&&y.binding&&y.binding("util")}catch{}}();a.exports=T}).call(this,n(37)(i))},function(i,x,n){var a=n(123),s=n(55);i.exports=function(c){return a(c,s(c))}},function(i,x,n){var a=n(54),s=n(36);i.exports=function(c,p,y,T){var k=!y;y||(y={});for(var b=-1,u=p.length;++b<u;){var l=p[b],d=T?T(y[l],c[l],l,y,c):void 0;void 0===d&&(d=c[l]),k?s(y,l,d):a(y,l,d)}return y}},function(i,x,n){var a=n(125),s=n(30),c=n(15),p=n(51),y=n(31),T=n(52),k=Object.prototype.hasOwnProperty;i.exports=function(b,u){var l=c(b),d=!l&&s(b),e=!l&&!d&&p(b),C=!l&&!d&&!e&&T(b),A=l||d||e||C,M=A?a(b.length,String):[],U=M.length;for(var q in b)!u&&!k.call(b,q)||A&&("length"==q||e&&("offset"==q||"parent"==q)||C&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||y(q,U))||M.push(q);return M}},function(i,x){i.exports=function(n,a){for(var s=-1,c=Array(n);++s<n;)c[s]=a(s);return c}},function(i,x,n){var a=n(14),s=n(50),c=n(127),p=Object.prototype.hasOwnProperty;i.exports=function(y){if(!a(y))return c(y);var T=s(y),k=[];for(var b in y)("constructor"!=b||!T&&p.call(y,b))&&k.push(b);return k}},function(i,x){i.exports=function(n){var a=[];if(null!=n)for(var s in Object(n))a.push(s);return a}},function(i,x,n){var a=n(129),s=n(134);i.exports=function(c){return a(function(p,y){var T=-1,k=y.length,b=k>1?y[k-1]:void 0,u=k>2?y[2]:void 0;for(b=c.length>3&&"function"==typeof b?(k--,b):void 0,u&&s(y[0],y[1],u)&&(b=k<3?void 0:b,k=1),p=Object(p);++T<k;){var l=y[T];l&&c(p,l,T,b)}return p})}},function(i,x,n){var a=n(56),s=n(57),c=n(58);i.exports=function(p,y){return c(s(p,y,a),p+"")}},function(i,x){i.exports=function(n,a,s){switch(s.length){case 0:return n.call(a);case 1:return n.call(a,s[0]);case 2:return n.call(a,s[0],s[1]);case 3:return n.call(a,s[0],s[1],s[2])}return n.apply(a,s)}},function(i,x,n){var a=n(132),s=n(48),c=n(56);i.exports=s?function(y,T){return s(y,"toString",{configurable:!0,enumerable:!1,value:a(T),writable:!0})}:c},function(i,x){i.exports=function(n){return function(){return n}}},function(i,x){var n=Date.now;i.exports=function(a){var s=0,c=0;return function(){var p=n(),y=16-(p-c);if(c=p,y>0){if(++s>=800)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}},function(i,x,n){var a=n(26),s=n(38),c=n(31),p=n(14);i.exports=function(y,T,k){if(!p(k))return!1;var b=typeof T;return!!("number"==b?s(k)&&c(T,k.length):"string"==b&&T in k)&&a(k[T],y)}},function(i,x){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(n,a){var s=65535&n,c=65535&a;return s*c+((n>>>16&65535)*c+s*(a>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(n){"use strict";if(null===n)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),s=1;s<arguments.length;s++){var c=arguments[s];if(null!==c)for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(a[p]=c[p])}return a})},function(i,x){i.exports=function(n){if(Array.isArray(n))return n},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x){i.exports=function(n,a){var s=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=s){var c,p,y=[],T=!0,k=!1;try{for(s=s.call(n);!(T=(c=s.next()).done)&&(y.push(c.value),!a||y.length!==a);T=!0);}catch(b){k=!0,p=b}finally{try{T||null==s.return||s.return()}finally{if(k)throw p}}return y}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x){i.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){var a=n(17).default;function s(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i.exports=s=function(){return c},i.exports.__esModule=!0,i.exports.default=i.exports;var c={},p=Object.prototype,y=p.hasOwnProperty,T=Object.defineProperty||function(H,G,X){H[G]=X.value},k="function"==typeof Symbol?Symbol:{},b=k.iterator||"@@iterator",u=k.asyncIterator||"@@asyncIterator",l=k.toStringTag||"@@toStringTag";function d(H,G,X){return Object.defineProperty(H,G,{value:X,enumerable:!0,configurable:!0,writable:!0}),H[G]}try{d({},"")}catch{d=function(G,X,fe){return G[X]=fe}}function e(H,G,X,fe){var xe=Object.create((G&&G.prototype instanceof M?G:M).prototype),Ae=new ae(fe||[]);return T(xe,"_invoke",{value:W(H,X,Ae)}),xe}function C(H,G,X){try{return{type:"normal",arg:H.call(G,X)}}catch(fe){return{type:"throw",arg:fe}}}c.wrap=e;var A={};function M(){}function U(){}function q(){}var Z={};d(Z,b,function(){return this});var Q=Object.getPrototypeOf,Y=Q&&Q(Q(te([])));Y&&Y!==p&&y.call(Y,b)&&(Z=Y);var V=q.prototype=M.prototype=Object.create(Z);function ee(H){["next","throw","return"].forEach(function(G){d(H,G,function(X){return this._invoke(G,X)})})}function ne(H,G){var X;T(this,"_invoke",{value:function(fe,ce){function xe(){return new G(function(Ae,Re){!function ke(ze,qe,Fe,Ue){var Qe=C(H[ze],H,qe);if("throw"!==Qe.type){var He=Qe.arg,Ke=He.value;return Ke&&"object"==a(Ke)&&y.call(Ke,"__await")?G.resolve(Ke.__await).then(function(Ve){ke("next",Ve,Fe,Ue)},function(Ve){ke("throw",Ve,Fe,Ue)}):G.resolve(Ke).then(function(Ve){He.value=Ve,Fe(He)},function(Ve){return ke("throw",Ve,Fe,Ue)})}Ue(Qe.arg)}(fe,ce,Ae,Re)})}return X=X?X.then(xe,xe):xe()}})}function W(H,G,X){var fe="suspendedStart";return function(ce,xe){if("executing"===fe)throw new Error("Generator is already running");if("completed"===fe){if("throw"===ce)throw xe;return{value:void 0,done:!0}}for(X.method=ce,X.arg=xe;;){var Ae=X.delegate;if(Ae){var Re=K(Ae,X);if(Re){if(Re===A)continue;return Re}}if("next"===X.method)X.sent=X._sent=X.arg;else if("throw"===X.method){if("suspendedStart"===fe)throw fe="completed",X.arg;X.dispatchException(X.arg)}else"return"===X.method&&X.abrupt("return",X.arg);fe="executing";var ke=C(H,G,X);if("normal"===ke.type){if(fe=X.done?"completed":"suspendedYield",ke.arg===A)continue;return{value:ke.arg,done:X.done}}"throw"===ke.type&&(fe="completed",X.method="throw",X.arg=ke.arg)}}}function K(H,G){var X=H.iterator[G.method];if(void 0===X){if(G.delegate=null,"throw"===G.method){if(H.iterator.return&&(G.method="return",G.arg=void 0,K(H,G),"throw"===G.method))return A;G.method="throw",G.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var fe=C(X,H.iterator,G.arg);if("throw"===fe.type)return G.method="throw",G.arg=fe.arg,G.delegate=null,A;var ce=fe.arg;return ce?ce.done?(G[H.resultName]=ce.value,G.next=H.nextLoc,"return"!==G.method&&(G.method="next",G.arg=void 0),G.delegate=null,A):ce:(G.method="throw",G.arg=new TypeError("iterator result is not an object"),G.delegate=null,A)}function B(H){var G={tryLoc:H[0]};1 in H&&(G.catchLoc=H[1]),2 in H&&(G.finallyLoc=H[2],G.afterLoc=H[3]),this.tryEntries.push(G)}function oe(H){var G=H.completion||{};G.type="normal",delete G.arg,H.completion=G}function ae(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(B,this),this.reset(!0)}function te(H){if(H){var G=H[b];if(G)return G.call(H);if("function"==typeof H.next)return H;if(!isNaN(H.length)){var X=-1,fe=function ce(){for(;++X<H.length;)if(y.call(H,X))return ce.value=H[X],ce.done=!1,ce;return ce.value=void 0,ce.done=!0,ce};return fe.next=fe}}return{next:se}}function se(){return{value:void 0,done:!0}}return U.prototype=q,T(V,"constructor",{value:q,configurable:!0}),T(q,"constructor",{value:U,configurable:!0}),U.displayName=d(q,l,"GeneratorFunction"),c.isGeneratorFunction=function(H){var G="function"==typeof H&&H.constructor;return!!G&&(G===U||"GeneratorFunction"===(G.displayName||G.name))},c.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,q):(H.__proto__=q,d(H,l,"GeneratorFunction")),H.prototype=Object.create(V),H},c.awrap=function(H){return{__await:H}},ee(ne.prototype),d(ne.prototype,u,function(){return this}),c.AsyncIterator=ne,c.async=function(H,G,X,fe,ce){void 0===ce&&(ce=Promise);var xe=new ne(e(H,G,X,fe),ce);return c.isGeneratorFunction(G)?xe:xe.next().then(function(Ae){return Ae.done?Ae.value:xe.next()})},ee(V),d(V,l,"Generator"),d(V,b,function(){return this}),d(V,"toString",function(){return"[object Generator]"}),c.keys=function(H){var G=Object(H),X=[];for(var fe in G)X.push(fe);return X.reverse(),function ce(){for(;X.length;){var xe=X.pop();if(xe in G)return ce.value=xe,ce.done=!1,ce}return ce.done=!0,ce}},c.values=te,ae.prototype={constructor:ae,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(oe),!H)for(var G in this)"t"===G.charAt(0)&&y.call(this,G)&&!isNaN(+G.slice(1))&&(this[G]=void 0)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if("throw"===H.type)throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var G=this;function X(ke,ze){return xe.type="throw",xe.arg=H,G.next=ke,ze&&(G.method="next",G.arg=void 0),!!ze}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var ce=this.tryEntries[fe],xe=ce.completion;if("root"===ce.tryLoc)return X("end");if(ce.tryLoc<=this.prev){var Ae=y.call(ce,"catchLoc"),Re=y.call(ce,"finallyLoc");if(Ae&&Re){if(this.prev<ce.catchLoc)return X(ce.catchLoc,!0);if(this.prev<ce.finallyLoc)return X(ce.finallyLoc)}else if(Ae){if(this.prev<ce.catchLoc)return X(ce.catchLoc,!0)}else{if(!Re)throw new Error("try statement without catch or finally");if(this.prev<ce.finallyLoc)return X(ce.finallyLoc)}}}},abrupt:function(H,G){for(var X=this.tryEntries.length-1;X>=0;--X){var fe=this.tryEntries[X];if(fe.tryLoc<=this.prev&&y.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var ce=fe;break}}ce&&("break"===H||"continue"===H)&&ce.tryLoc<=G&&G<=ce.finallyLoc&&(ce=null);var xe=ce?ce.completion:{};return xe.type=H,xe.arg=G,ce?(this.method="next",this.next=ce.finallyLoc,A):this.complete(xe)},complete:function(H,G){if("throw"===H.type)throw H.arg;return"break"===H.type||"continue"===H.type?this.next=H.arg:"return"===H.type?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):"normal"===H.type&&G&&(this.next=G),A},finish:function(H){for(var G=this.tryEntries.length-1;G>=0;--G){var X=this.tryEntries[G];if(X.finallyLoc===H)return this.complete(X.completion,X.afterLoc),oe(X),A}},catch:function(H){for(var G=this.tryEntries.length-1;G>=0;--G){var X=this.tryEntries[G];if(X.tryLoc===H){var fe=X.completion;if("throw"===fe.type){var ce=fe.arg;oe(X)}return ce}}throw new Error("illegal catch attempt")},delegateYield:function(H,G,X){return this.delegate={iterator:te(H),resultName:G,nextLoc:X},"next"===this.method&&(this.arg=void 0),A}},c}i.exports=s,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){var a=n(2);i.exports=function(s,c){for(;!Object.prototype.hasOwnProperty.call(s,c)&&null!==(s=a(s)););return s},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){var a=n(60);i.exports=function(s){if(Array.isArray(s))return a(s)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x){i.exports=function(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x){i.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){var a=n(145),s=n(155);i.exports=function(c,p){return a(c,p,function(y,T){return s(c,T)})}},function(i,x,n){var a=n(146),s=n(154),c=n(32);i.exports=function(p,y,T){for(var k=-1,b=y.length,u={};++k<b;){var l=y[k],d=a(p,l);T(d,l)&&s(u,c(l,p),d)}return u}},function(i,x,n){var a=n(32),s=n(42);i.exports=function(c,p){for(var y=0,T=(p=a(p,c)).length;null!=c&&y<T;)c=c[s(p[y++])];return y&&y==T?c:void 0}},function(i,x,n){var a=n(15),s=n(41),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/;i.exports=function(y,T){if(a(y))return!1;var k=typeof y;return!("number"!=k&&"symbol"!=k&&"boolean"!=k&&null!=y&&!s(y))||p.test(y)||!c.test(y)||null!=T&&y in Object(T)}},function(i,x,n){var a=n(149),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,p=a(function(y){var T=[];return 46===y.charCodeAt(0)&&T.push(""),y.replace(s,function(k,b,u,l){T.push(u?l.replace(c,"$1"):b||k)}),T});i.exports=p},function(i,x,n){var a=n(150);i.exports=function(s){var c=a(s,function(y){return 500===p.size&&p.clear(),y}),p=c.cache;return c}},function(i,x,n){var a=n(46);function s(c,p){if("function"!=typeof c||null!=p&&"function"!=typeof p)throw new TypeError("Expected a function");var y=function(){var T=arguments,k=p?p.apply(this,T):T[0],b=y.cache;if(b.has(k))return b.get(k);var u=c.apply(this,T);return y.cache=b.set(k,u)||b,u};return y.cache=new(s.Cache||a),y}s.Cache=a,i.exports=s},function(i,x,n){var a=n(152);i.exports=function(s){return null==s?"":a(s)}},function(i,x,n){var a=n(27),s=n(153),c=n(15),p=n(41),y=a?a.prototype:void 0,T=y?y.toString:void 0;i.exports=function k(b){if("string"==typeof b)return b;if(c(b))return s(b,k)+"";if(p(b))return T?T.call(b):"";var u=b+"";return"0"==u&&1/b==-1/0?"-0":u}},function(i,x){i.exports=function(n,a){for(var s=-1,c=null==n?0:n.length,p=Array(c);++s<c;)p[s]=a(n[s],s,n);return p}},function(i,x,n){var a=n(54),s=n(32),c=n(31),p=n(14),y=n(42);i.exports=function(T,k,b,u){if(!p(T))return T;for(var l=-1,d=(k=s(k,T)).length,e=d-1,C=T;null!=C&&++l<d;){var A=y(k[l]),M=b;if("__proto__"===A||"constructor"===A||"prototype"===A)return T;if(l!=e){var U=C[A];void 0===(M=u?u(U,A,C):void 0)&&(M=p(U)?U:c(k[l+1])?[]:{})}a(C,A,M),C=C[A]}return T}},function(i,x,n){var a=n(156),s=n(157);i.exports=function(c,p){return null!=c&&s(c,p,a)}},function(i,x){i.exports=function(n,a){return null!=n&&a in Object(n)}},function(i,x,n){var a=n(32),s=n(30),c=n(15),p=n(31),y=n(39),T=n(42);i.exports=function(k,b,u){for(var l=-1,d=(b=a(b,k)).length,e=!1;++l<d;){var C=T(b[l]);if(!(e=null!=k&&u(k,C)))break;k=k[C]}return e||++l!=d?e:!!(d=null==k?0:k.length)&&y(d)&&p(C,d)&&(c(k)||s(k))}},function(i,x,n){var a=n(159),s=n(57),c=n(58);i.exports=function(p){return c(s(p,void 0,a),p+"")}},function(i,x,n){var a=n(160);i.exports=function(s){return null!=s&&s.length?a(s,1):[]}},function(i,x,n){var a=n(161),s=n(162);i.exports=function c(p,y,T,k,b){var u=-1,l=p.length;for(T||(T=s),b||(b=[]);++u<l;){var d=p[u];y>0&&T(d)?y>1?c(d,y-1,T,k,b):a(b,d):k||(b[b.length]=d)}return b}},function(i,x){i.exports=function(n,a){for(var s=-1,c=a.length,p=n.length;++s<c;)n[p+s]=a[s];return n}},function(i,x,n){var a=n(27),s=n(30),c=n(15),p=a?a.isConcatSpreadable:void 0;i.exports=function(y){return c(y)||s(y)||!!(p&&y&&y[p])}},function(i,x){i.exports=function(n){return-1!==Function.toString.call(n).indexOf("[native code]")},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){var a=n(40),s=n(165);function c(p,y,T){return s()?(i.exports=c=Reflect.construct.bind(),i.exports.__esModule=!0,i.exports.default=i.exports):(i.exports=c=function(k,b,u){var l=[null];l.push.apply(l,b);var d=new(Function.bind.apply(k,l));return u&&a(d,u.prototype),d},i.exports.__esModule=!0,i.exports.default=i.exports),c.apply(null,arguments)}i.exports=c,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x){i.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,x,n){"use strict";n.r(x),n.d(x,"BarcodeDecoder",function(){return wt}),n.d(x,"Readers",function(){return a}),n.d(x,"CameraAccess",function(){return _t}),n.d(x,"ImageDebug",function(){return e.a}),n.d(x,"ImageWrapper",function(){return k.a}),n.d(x,"ResultCollector",function(){return on});var a={};n.r(a),n.d(a,"BarcodeReader",function(){return ae}),n.d(a,"TwoOfFiveReader",function(){return fe}),n.d(a,"NewCodabarReader",function(){return ke}),n.d(a,"Code128Reader",function(){return qe}),n.d(a,"Code32Reader",function(){return It}),n.d(a,"Code39Reader",function(){return pt}),n.d(a,"Code39VINReader",function(){return bt}),n.d(a,"Code93Reader",function(){return zt}),n.d(a,"EAN2Reader",function(){return Bt}),n.d(a,"EAN5Reader",function(){return Jt}),n.d(a,"EAN8Reader",function(){return Qt}),n.d(a,"EANReader",function(){return Xe}),n.d(a,"I2of5Reader",function(){return Yt}),n.d(a,"UPCEReader",function(){return Ht}),n.d(a,"UPCReader",function(){return Vt});var s,S,c=n(17),p=n.n(c),y=n(18),T=n.n(y),k=(n(135),n(11)),b=n(12),u=n.n(b),l=n(8),d=n.n(l),e=n(16),C=n(3),A=n.n(C),M=n(4),U=n.n(M),q=n(1),Z=n.n(q),Q=n(7),Y=n.n(Q),V=n(6),ee=n.n(V),ne=n(2),W=n.n(ne),K=n(0),B=n.n(K),oe=n(9);(S=s||(s={}))[S.Forward=1]="Forward",S[S.Reverse=-1]="Reverse";var ae=function(){function S(L,O){A()(this,S),B()(this,"_row",[]),B()(this,"config",{}),B()(this,"supplements",[]),B()(this,"SINGLE_CODE_ERROR",0),B()(this,"FORMAT","unknown"),B()(this,"CONFIG_KEYS",{}),this._row=[],this.config=L||{},O&&(this.supplements=O)}return U()(S,[{key:"_nextUnset",value:function(L){for(var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o<L.length;o++)if(!L[o])return o;return L.length}},{key:"_matchPattern",value:function(L,O){for(var P,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,f=0,_=0,v=0,E=0,F=0,j=0;j<L.length;j++)v+=L[j],E+=O[j];if(v<E)return Number.MAX_VALUE;o*=P=v/E;for(var ie=0;ie<L.length;ie++){if(F=O[ie]*P,(_=Math.abs(L[ie]-F)/F)>o)return Number.MAX_VALUE;f+=_}return f/E}},{key:"_nextSet",value:function(L){for(var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o<L.length;o++)if(L[o])return o;return L.length}},{key:"_correctBars",value:function(L,O,o){for(var f=o.length,_=0;f--;)(_=L[o[f]]*(1-(1-O)/2))>1&&(L[o[f]]=_)}},{key:"decodePattern",value:function(L){this._row=L;var O=this.decode();return null===O?(this._row.reverse(),(O=this.decode())&&(O.direction=s.Reverse,O.start=this._row.length-O.start,O.end=this._row.length-O.end)):O.direction=s.Forward,O&&(O.format=this.FORMAT),O}},{key:"_matchRange",value:function(L,O,o){var f;for(f=L=L<0?0:L;f<O;f++)if(this._row[f]!==o)return!1;return!0}},{key:"_fillCounters",value:function(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=[],_=0;f[_]=0;for(var v=L;v<O;v++)this._row[v]^(o?1:0)?f[_]++:(f[++_]=1,o=!o);return f}},{key:"_toCounters",value:function(L,O){var o=O.length,f=this._row.length,_=!this._row[L],v=0;oe.a.init(O,0);for(var E=L;E<f;E++)if(this._row[E]^(_?1:0))O[v]++;else{if(++v===o)break;O[v]=1,_=!_}return O}},{key:"decodeImage",value:function(L){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),S}();var se=[3,1,3,1,1,1],H=[3,1,1,1,3],G=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],X=se.reduce(function(S,L){return S+L},0),fe=function(S){Y()(O,S);var L=function te(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(){var o;A()(this,O);for(var f=arguments.length,_=new Array(f),v=0;v<f;v++)_[v]=arguments[v];return o=L.call.apply(L,[this].concat(_)),B()(Z()(o),"barSpaceRatio",[1,1]),B()(Z()(o),"FORMAT","2of5"),B()(Z()(o),"SINGLE_CODE_ERROR",.78),B()(Z()(o),"AVG_CODE_ERROR",.3),o}return U()(O,[{key:"_findPattern",value:function(o,f){var _=arguments.length>2&&void 0!==arguments[2]&&arguments[2],v=arguments.length>3&&void 0!==arguments[3]&&arguments[3],E=[],P=0,I={error:Number.MAX_VALUE,code:-1,start:0,end:0},F=0,j=0,ie=this.AVG_CODE_ERROR;f||(f=this._nextSet(this._row));for(var de=0;de<o.length;de++)E[de]=0;for(var ue=f;ue<this._row.length;ue++)if(this._row[ue]^(_?1:0))E[P]++;else{if(P===E.length-1){F=0;for(var pe=0;pe<E.length;pe++)F+=E[pe];if((j=this._matchPattern(E,o))<ie)return I.error=j,I.start=ue-F,I.end=ue,I;if(!v)return null;for(var Te=0;Te<E.length-2;Te++)E[Te]=E[Te+2];E[E.length-2]=0,E[E.length-1]=0,P--}else P++;E[P]=1,_=!_}return null}},{key:"_findStart",value:function(){for(var o=null,f=this._nextSet(this._row),_=1,v=0;!o;){if(!(o=this._findPattern(se,f,!1,!0)))return null;if(_=Math.floor((o.end-o.start)/X),(v=o.start-5*_)>=0&&this._matchRange(v,o.start,0))return o;f=o.end,o=null}return o}},{key:"_verifyTrailingWhitespace",value:function(o){var f=o.end+(o.end-o.start)/2;return f<this._row.length&&this._matchRange(o.end,f,0)?o:null}},{key:"_findEnd",value:function(){this._row.reverse();var o=this._nextSet(this._row),f=this._findPattern(H,o,!1,!0);if(this._row.reverse(),null===f)return null;var _=f.start;return f.start=this._row.length-f.end,f.end=this._row.length-_,null!==f?this._verifyTrailingWhitespace(f):null}},{key:"_verifyCounterLength",value:function(o){return o.length%10==0}},{key:"_decodeCode",value:function(o){for(var f=this.AVG_CODE_ERROR,_={error:Number.MAX_VALUE,code:-1,start:0,end:0},v=0;v<G.length;v++){var E=this._matchPattern(o,G[v]);E<_.error&&(_.code=v,_.error=E)}return _.error<f?_:null}},{key:"_decodePayload",value:function(o,f,_){for(var v=0,E=o.length,P=[0,0,0,0,0],I=null;v<E;){for(var F=0;F<5;F++)P[F]=o[v]*this.barSpaceRatio[0],v+=2;if(!(I=this._decodeCode(P)))return null;f.push("".concat(I.code)),_.push(I)}return I}},{key:"decode",value:function(o,f){var _=this._findStart();if(!_)return null;var v=this._findEnd();if(!v)return null;var E=this._fillCounters(_.end,v.start,!1);if(!this._verifyCounterLength(E))return null;var P=[];P.push(_);var I=[];return this._decodePayload(E,I,P)?I.length<5?null:(P.push(v),{code:I.join(""),start:_.start,end:v.end,startInfo:_,decodedCodes:P,format:this.FORMAT}):null}}]),O}(ae);var xe=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],Ae=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],Re=[26,41,11,14],ke=function(S){Y()(O,S);var L=function ce(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(){var o;A()(this,O);for(var f=arguments.length,_=new Array(f),v=0;v<f;v++)_[v]=arguments[v];return o=L.call.apply(L,[this].concat(_)),B()(Z()(o),"_counters",[]),B()(Z()(o),"FORMAT","codabar"),o}return U()(O,[{key:"_computeAlternatingThreshold",value:function(o,f){for(var _=Number.MAX_VALUE,v=0,E=0,P=o;P<f;P+=2)(E=this._counters[P])>v&&(v=E),E<_&&(_=E);return(_+v)/2|0}},{key:"_toPattern",value:function(o){var f=o+7;if(f>this._counters.length)return-1;for(var _=this._computeAlternatingThreshold(o,f),v=this._computeAlternatingThreshold(o+1,f),E=64,I=0,F=0;F<7;F++)this._counters[o+F]>(1&F?v:_)&&(I|=E),E>>=1;return I}},{key:"_isStartEnd",value:function(o){for(var f=0;f<Re.length;f++)if(Re[f]===o)return!0;return!1}},{key:"_sumCounters",value:function(o,f){for(var _=0,v=o;v<f;v++)_+=this._counters[v];return _}},{key:"_findStart",value:function(){for(var o=this._nextUnset(this._row),f=1;f<this._counters.length;f++){var _=this._toPattern(f);if(-1!==_&&this._isStartEnd(_))return{start:o+=this._sumCounters(0,f),end:o+this._sumCounters(f,f+8),startCounter:f,endCounter:f+8}}return null}},{key:"_patternToChar",value:function(o){for(var f=0;f<Ae.length;f++)if(Ae[f]===o)return String.fromCharCode(xe[f]);return null}},{key:"_calculatePatternLength",value:function(o){for(var f=0,_=o;_<o+7;_++)f+=this._counters[_];return f}},{key:"_verifyWhitespace",value:function(o,f){return(o-1<=0||this._counters[o-1]>=this._calculatePatternLength(o)/2)&&(f+8>=this._counters.length||this._counters[f+7]>=this._calculatePatternLength(f)/2)}},{key:"_charToPattern",value:function(o){for(var f=o.charCodeAt(0),_=0;_<xe.length;_++)if(xe[_]===f)return Ae[_];return 0}},{key:"_thresholdResultPattern",value:function(o,f){for(var _,v={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},E=f,P=0;P<o.length;P++){_=this._charToPattern(o[P]);for(var I=6;I>=0;I--){var F=2==(1&I)?v.bar:v.space,j=1==(1&_)?F.wide:F.narrow;j.size+=this._counters[E+I],j.counts++,_>>=1}E+=8}return["space","bar"].forEach(function(ie){var de=v[ie];de.wide.min=Math.floor((de.narrow.size/de.narrow.counts+de.wide.size/de.wide.counts)/2),de.narrow.max=Math.ceil(de.wide.min),de.wide.max=Math.ceil((2*de.wide.size+1.5)/de.wide.counts)}),v}},{key:"_validateResult",value:function(o,f){for(var _,v=this._thresholdResultPattern(o,f),E=f,P=0;P<o.length;P++){_=this._charToPattern(o[P]);for(var I=6;I>=0;I--){var F=1&I?v.space:v.bar,j=1==(1&_)?F.wide:F.narrow,ie=this._counters[E+I];if(ie<j.min||ie>j.max)return!1;_>>=1}E+=8}return!0}},{key:"decode",value:function(o,f){if(this._counters=this._fillCounters(),!(f=this._findStart()))return null;var _,v=f.startCounter,E=[];do{if((_=this._toPattern(v))<0)return null;var P=this._patternToChar(_);if(null===P)return null;if(E.push(P),v+=8,E.length>1&&this._isStartEnd(_))break}while(v<this._counters.length);if(E.length-2<4||!this._isStartEnd(_)||!this._verifyWhitespace(f.startCounter,v-8)||!this._validateResult(E,f.startCounter))return null;var I=f.start+this._sumCounters(f.startCounter,(v=v>this._counters.length?this._counters.length:v)-8);return{code:E.join(""),start:f.start,end:I,startInfo:f,decodedCodes:E,format:this.FORMAT}}}]),O}(ae);var qe=function(S){Y()(O,S);var L=function ze(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(){var o;A()(this,O);for(var f=arguments.length,_=new Array(f),v=0;v<f;v++)_[v]=arguments[v];return o=L.call.apply(L,[this].concat(_)),B()(Z()(o),"CODE_SHIFT",98),B()(Z()(o),"CODE_C",99),B()(Z()(o),"CODE_B",100),B()(Z()(o),"CODE_A",101),B()(Z()(o),"START_CODE_A",103),B()(Z()(o),"START_CODE_B",104),B()(Z()(o),"START_CODE_C",105),B()(Z()(o),"STOP_CODE",106),B()(Z()(o),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),B()(Z()(o),"SINGLE_CODE_ERROR",.64),B()(Z()(o),"AVG_CODE_ERROR",.3),B()(Z()(o),"FORMAT","code_128"),B()(Z()(o),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),o}return U()(O,[{key:"_decodeCode",value:function(o,f){for(var _={error:Number.MAX_VALUE,code:-1,start:o,end:o,correction:{bar:1,space:1}},v=[0,0,0,0,0,0],P=!this._row[o],I=0,F=o;F<this._row.length;F++)if(this._row[F]^(P?1:0))v[I]++;else{if(I===v.length-1){f&&this._correct(v,f);for(var j=0;j<this.CODE_PATTERN.length;j++){var ie=this._matchPattern(v,this.CODE_PATTERN[j]);ie<_.error&&(_.code=j,_.error=ie)}return _.end=F,-1===_.code||_.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[_.code]&&(_.correction.bar=this.calculateCorrection(this.CODE_PATTERN[_.code],v,this.MODULE_INDICES.bar),_.correction.space=this.calculateCorrection(this.CODE_PATTERN[_.code],v,this.MODULE_INDICES.space)),_)}v[++I]=1,P=!P}return null}},{key:"_correct",value:function(o,f){this._correctBars(o,f.bar,this.MODULE_INDICES.bar),this._correctBars(o,f.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var o=[0,0,0,0,0,0],f=this._nextSet(this._row),_={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},v=!1,E=0,P=f;P<this._row.length;P++)if(this._row[P]^(v?1:0))o[E]++;else{if(E===o.length-1){for(var I=o.reduce(function(de,ue){return de+ue},0),F=this.START_CODE_A;F<=this.START_CODE_C;F++){var j=this._matchPattern(o,this.CODE_PATTERN[F]);j<_.error&&(_.code=F,_.error=j)}if(_.error<this.AVG_CODE_ERROR)return _.start=P-I,_.end=P,_.correction.bar=this.calculateCorrection(this.CODE_PATTERN[_.code],o,this.MODULE_INDICES.bar),_.correction.space=this.calculateCorrection(this.CODE_PATTERN[_.code],o,this.MODULE_INDICES.space),_;for(var ie=0;ie<4;ie++)o[ie]=o[ie+2];o[4]=0,o[5]=0,E--}else E++;o[E]=1,v=!v}return null}},{key:"decode",value:function(o,f){var _=this,v=this._findStart();if(null===v)return null;var E={code:v.code,start:v.start,end:v.end,correction:{bar:v.correction.bar,space:v.correction.space}},P=[];P.push(E);for(var I=E.code,F=function(Oe){switch(Oe){case _.START_CODE_A:return _.CODE_A;case _.START_CODE_B:return _.CODE_B;case _.START_CODE_C:return _.CODE_C;default:return null}}(E.code),j=!1,ie=!1,de=ie,ue=!0,pe=0,Te=[],we=[];!j;){if(de=ie,ie=!1,null!==(E=this._decodeCode(E.end,E.correction)))switch(E.code!==this.STOP_CODE&&(ue=!0),E.code!==this.STOP_CODE&&(Te.push(E.code),I+=++pe*E.code),P.push(E),F){case this.CODE_A:if(E.code<64)we.push(String.fromCharCode(32+E.code));else if(E.code<96)we.push(String.fromCharCode(E.code-64));else switch(E.code!==this.STOP_CODE&&(ue=!1),E.code){case this.CODE_SHIFT:ie=!0,F=this.CODE_B;break;case this.CODE_B:F=this.CODE_B;break;case this.CODE_C:F=this.CODE_C;break;case this.STOP_CODE:j=!0}break;case this.CODE_B:if(E.code<96)we.push(String.fromCharCode(32+E.code));else switch(E.code!==this.STOP_CODE&&(ue=!1),E.code){case this.CODE_SHIFT:ie=!0,F=this.CODE_A;break;case this.CODE_A:F=this.CODE_A;break;case this.CODE_C:F=this.CODE_C;break;case this.STOP_CODE:j=!0}break;case this.CODE_C:if(E.code<100)we.push(E.code<10?"0"+E.code:E.code);else switch(E.code!==this.STOP_CODE&&(ue=!1),E.code){case this.CODE_A:F=this.CODE_A;break;case this.CODE_B:F=this.CODE_B;break;case this.STOP_CODE:j=!0}}else j=!0;de&&(F=F===this.CODE_A?this.CODE_B:this.CODE_A)}return null===E?null:(E.end=this._nextUnset(this._row,E.end),this._verifyTrailingWhitespace(E)?(I-=pe*Te[Te.length-1])%103!==Te[Te.length-1]?null:we.length?(ue&&we.splice(we.length-1,1),{code:we.join(""),start:v.start,end:E.end,codeset:F,startInfo:v,decodedCodes:P,endInfo:E,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(o){var f;return(f=o.end+(o.end-o.start)/2)<this._row.length&&this._matchRange(o.end,f,0)?o:null}},{key:"calculateCorrection",value:function(o,f,_){for(var v=_.length,E=0,P=0;v--;)P+=o[_[v]],E+=f[_[v]];return P/E}}]),O}(ae),Fe=n(13),Ue=n.n(Fe),Qe=n(33),He=n.n(Qe);var Ve=new Uint16Array(He()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(S){return S.charCodeAt(0)})),Zt=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),pt=function(S){Y()(O,S);var L=function Ke(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(){var o;A()(this,O);for(var f=arguments.length,_=new Array(f),v=0;v<f;v++)_[v]=arguments[v];return o=L.call.apply(L,[this].concat(_)),B()(Z()(o),"FORMAT","code_39"),o}return U()(O,[{key:"_findStart",value:function(){for(var o=this._nextSet(this._row),f=o,_=new Uint16Array([0,0,0,0,0,0,0,0,0]),v=0,E=!1,P=o;P<this._row.length;P++)if(this._row[P]^(E?1:0))_[v]++;else{if(v===_.length-1){if(148===this._toPattern(_)){var I=Math.floor(Math.max(0,f-(P-f)/4));if(this._matchRange(I,f,0))return{start:f,end:P}}f+=_[0]+_[1];for(var F=0;F<7;F++)_[F]=_[F+2];_[7]=0,_[8]=0,v--}else v++;_[v]=1,E=!E}return null}},{key:"_toPattern",value:function(o){for(var f=o.length,_=0,v=f,E=0;v>3;){_=this._findNextWidth(o,_),v=0;for(var P=0,I=0;I<f;I++)o[I]>_&&(P|=1<<f-1-I,v++,E+=o[I]);if(3===v){for(var F=0;F<f&&v>0;F++)if(o[F]>_&&(v--,2*o[F]>=E))return-1;return P}}return-1}},{key:"_findNextWidth",value:function(o,f){for(var _=Number.MAX_VALUE,v=0;v<o.length;v++)o[v]<_&&o[v]>f&&(_=o[v]);return _}},{key:"_patternToChar",value:function(o){for(var f=0;f<Zt.length;f++)if(Zt[f]===o)return String.fromCharCode(Ve[f]);return null}},{key:"_verifyTrailingWhitespace",value:function(o,f,_){var v=oe.a.sum(_);return 3*(f-o-v)>=v}},{key:"decode",value:function(){var o=new Uint16Array([0,0,0,0,0,0,0,0,0]),f=[],_=this._findStart();if(!_)return null;var v,E,P=this._nextSet(this._row,_.end);do{o=this._toCounters(P,o);var I=this._toPattern(o);if(I<0||null===(v=this._patternToChar(I)))return null;f.push(v),E=P,P+=oe.a.sum(o),P=this._nextSet(this._row,P)}while("*"!==v);return f.pop(),f.length&&this._verifyTrailingWhitespace(E,P,o)?{code:f.join(""),start:_.start,end:P,startInfo:_,decodedCodes:f,format:this.FORMAT}:null}}]),O}(ae);var dn=/[AEIO]/g,It=function(S){Y()(O,S);var L=function cn(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(){var o;A()(this,O);for(var f=arguments.length,_=new Array(f),v=0;v<f;v++)_[v]=arguments[v];return o=L.call.apply(L,[this].concat(_)),B()(Z()(o),"FORMAT","code_32_reader"),o}return U()(O,[{key:"_decodeCode32",value:function(o){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(o))return null;for(var f=0,_=0;_<o.length;_++)f=32*f+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(o[_]);var v="".concat(f);return v.length<9&&(v=("000000000"+v).slice(-9)),"A"+v}},{key:"_checkChecksum",value:function(o){return!!o}},{key:"decode",value:function(){var o=Ue()(W()(O.prototype),"decode",this).call(this);if(!o)return null;var f=o.code;if(!f||(f=f.replace(dn,""),!this._checkChecksum(f)))return null;var _=this._decodeCode32(f);return _?(o.code=_,o):null}}]),O}(pt);var Rt=/[IOQ]/g,Dt=/[A-Z0-9]{17}/,bt=function(S){Y()(O,S);var L=function pn(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(){var o;A()(this,O);for(var f=arguments.length,_=new Array(f),v=0;v<f;v++)_[v]=arguments[v];return o=L.call.apply(L,[this].concat(_)),B()(Z()(o),"FORMAT","code_39_vin"),o}return U()(O,[{key:"_checkChecksum",value:function(o){return!!o}},{key:"decode",value:function(){var o=Ue()(W()(O.prototype),"decode",this).call(this);if(!o)return null;var f=o.code;return f&&(f=f.replace(Rt,"")).match(Dt)&&this._checkChecksum(f)?(o.code=f,o):null}}]),O}(pt);var Tt=new Uint16Array(He()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(S){return S.charCodeAt(0)})),Lt=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),zt=function(S){Y()(O,S);var L=function Pt(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(){var o;A()(this,O);for(var f=arguments.length,_=new Array(f),v=0;v<f;v++)_[v]=arguments[v];return o=L.call.apply(L,[this].concat(_)),B()(Z()(o),"FORMAT","code_93"),o}return U()(O,[{key:"_patternToChar",value:function(o){for(var f=0;f<Lt.length;f++)if(Lt[f]===o)return String.fromCharCode(Tt[f]);return null}},{key:"_toPattern",value:function(o){for(var f=o.length,_=o.reduce(function(F,j){return F+j},0),v=0,E=0;E<f;E++){var P=Math.round(9*o[E]/_);if(P<1||P>4)return-1;if(1&E)v<<=P;else for(var I=0;I<P;I++)v=v<<1|1}return v}},{key:"_findStart",value:function(){for(var o=this._nextSet(this._row),f=o,_=new Uint16Array([0,0,0,0,0,0]),v=0,E=!1,P=o;P<this._row.length;P++)if(this._row[P]^(E?1:0))_[v]++;else{if(v===_.length-1){if(350===this._toPattern(_)){var I=Math.floor(Math.max(0,f-(P-f)/4));if(this._matchRange(I,f,0))return{start:f,end:P}}f+=_[0]+_[1];for(var F=0;F<4;F++)_[F]=_[F+2];_[4]=0,_[5]=0,v--}else v++;_[v]=1,E=!E}return null}},{key:"_verifyEnd",value:function(o,f){return!(o===f||!this._row[f])}},{key:"_decodeExtended",value:function(o){for(var f=o.length,_=[],v=0;v<f;v++){var E=o[v];if(E>="a"&&E<="d"){if(v>f-2)return null;var P=o[++v],I=P.charCodeAt(0),F=void 0;switch(E){case"a":if(!(P>="A"&&P<="Z"))return null;F=String.fromCharCode(I-64);break;case"b":if(P>="A"&&P<="E")F=String.fromCharCode(I-38);else if(P>="F"&&P<="J")F=String.fromCharCode(I-11);else if(P>="K"&&P<="O")F=String.fromCharCode(I+16);else if(P>="P"&&P<="S")F=String.fromCharCode(I+43);else{if(!(P>="T"&&P<="Z"))return null;F=String.fromCharCode(127)}break;case"c":if(P>="A"&&P<="O")F=String.fromCharCode(I-32);else{if("Z"!==P)return null;F=":"}break;case"d":if(!(P>="A"&&P<="Z"))return null;F=String.fromCharCode(I+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",F),null}_.push(F)}else _.push(E)}return _}},{key:"_matchCheckChar",value:function(o,f,_){var v=o.slice(0,f),E=v.length,P=v.reduce(function(I,F,j){return I+((-1*j+(E-1))%_+1)*Tt.indexOf(F.charCodeAt(0))},0);return Tt[P%47]===o[f].charCodeAt(0)}},{key:"_verifyChecksums",value:function(o){return this._matchCheckChar(o,o.length-2,20)&&this._matchCheckChar(o,o.length-1,15)}},{key:"decode",value:function(o,f){if(!(f=this._findStart()))return null;var _,v,E=new Uint16Array([0,0,0,0,0,0]),P=[],I=this._nextSet(this._row,f.end);do{E=this._toCounters(I,E);var F=this._toPattern(E);if(F<0||null===(v=this._patternToChar(F)))return null;P.push(v),_=I,I+=oe.a.sum(E),I=this._nextSet(this._row,I)}while("*"!==v);return P.pop(),P.length&&this._verifyEnd(_,I)&&this._verifyChecksums(P)?(P=P.slice(0,P.length-2),null===(P=this._decodeExtended(P))?null:{code:P.join(""),start:f.start,end:I,startInfo:f,decodedCodes:P,format:this.FORMAT}):null}}]),O}(ae);function Ft(S,L){var O=Object.keys(S);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(S);L&&(o=o.filter(function(f){return Object.getOwnPropertyDescriptor(S,f).enumerable})),O.push.apply(O,o)}return O}function Ot(S){for(var L=1;L<arguments.length;L++){var O=null!=arguments[L]?arguments[L]:{};L%2?Ft(Object(O),!0).forEach(function(o){B()(S,o,O[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(O)):Ft(Object(O)).forEach(function(o){Object.defineProperty(S,o,Object.getOwnPropertyDescriptor(O,o))})}return S}var _n=[1,1,1],Ut=[1,1,1,1,1],hn=[1,1,2],qt=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Nt=[0,11,13,14,19,25,28,21,22,26],Xe=function(S){Y()(O,S);var L=function fn(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(o,f){var _;return A()(this,O),_=L.call(this,T()({supplements:[]},o),f),B()(Z()(_),"FORMAT","ean_13"),B()(Z()(_),"SINGLE_CODE_ERROR",.7),B()(Z()(_),"STOP_PATTERN",[1,1,1]),_}return U()(O,[{key:"_findPattern",value:function(o,f,_,v){var E=new Array(o.length).fill(0),P={error:Number.MAX_VALUE,start:0,end:0},I=0;f||(f=this._nextSet(this._row));for(var F=!1,j=f;j<this._row.length;j++)if(this._row[j]^(_?1:0))E[I]+=1;else{if(I===E.length-1){var ie=this._matchPattern(E,o);if(ie<.48&&P.error&&ie<P.error)return F=!0,P.error=ie,P.start=j-E.reduce(function(ue,pe){return ue+pe},0),P.end=j,P;if(v){for(var de=0;de<E.length-2;de++)E[de]=E[de+2];E[E.length-2]=0,E[E.length-1]=0,I--}}else I++;E[I]=1,_=!_}return F?P:null}},{key:"_decodeCode",value:function(o,f){var _=[0,0,0,0],E={error:Number.MAX_VALUE,code:-1,start:o,end:o},P=!this._row[o],I=0;f||(f=qt.length);for(var F=o;F<this._row.length;F++)if(this._row[F]^(P?1:0))_[I]++;else{if(I===_.length-1){for(var j=0;j<f;j++){var ie=this._matchPattern(_,qt[j]);E.end=F,ie<E.error&&(E.code=j,E.error=ie)}return E.error>.48?null:E}_[++I]=1,P=!P}return null}},{key:"_findStart",value:function(){for(var o=this._nextSet(this._row),f=null;!f;){if(!(f=this._findPattern(_n,o,!1,!0)))return null;var _=f.start-(f.end-f.start);if(_>=0&&this._matchRange(_,f.start,0))return f;o=f.end,f=null}return null}},{key:"_calculateFirstDigit",value:function(o){for(var f=0;f<Nt.length;f++)if(o===Nt[f])return f;return null}},{key:"_decodePayload",value:function(o,f,_){for(var v=Ot({},o),E=0,P=0;P<6;P++){if(!(v=this._decodeCode(v.end)))return null;v.code>=10?(v.code-=10,E|=1<<5-P):E|=0<<5-P,f.push(v.code),_.push(v)}var I=this._calculateFirstDigit(E);if(null===I)return null;f.unshift(I);var F=this._findPattern(Ut,v.end,!0,!1);if(null===F||!F.end)return null;_.push(F);for(var j=0;j<6;j++){if(!(F=this._decodeCode(F.end,10)))return null;_.push(F),f.push(F.code)}return F}},{key:"_verifyTrailingWhitespace",value:function(o){var f=o.end+(o.end-o.start);return f<this._row.length&&this._matchRange(o.end,f,0)?o:null}},{key:"_findEnd",value:function(o,f){var _=this._findPattern(this.STOP_PATTERN,o,f,!1);return null!==_?this._verifyTrailingWhitespace(_):null}},{key:"_checksum",value:function(o){for(var f=0,_=o.length-2;_>=0;_-=2)f+=o[_];f*=3;for(var v=o.length-1;v>=0;v-=2)f+=o[v];return f%10==0}},{key:"_decodeExtensions",value:function(o){var f=this._nextSet(this._row,o),_=this._findPattern(hn,f,!1,!1);if(null===_)return null;for(var v=0;v<this.supplements.length;v++)try{var E=this.supplements[v].decode(this._row,_.end);if(null!==E)return{code:E.code,start:f,startInfo:_,end:E.end,decodedCodes:E.decodedCodes,format:this.supplements[v].FORMAT}}catch(P){console.error("* decodeExtensions error in ",this.supplements[v],": ",P)}return null}},{key:"decode",value:function(o,f){var _=new Array,v=new Array,E={},P=this._findStart();if(!P)return null;var I={start:P.start,end:P.end};if(v.push(I),!(I=this._decodePayload(I,_,v))||!(I=this._findEnd(I.end,!1))||(v.push(I),!this._checksum(_)))return null;if(this.supplements.length>0){var F=this._decodeExtensions(I.end);if(!F||!F.decodedCodes)return null;var j=F.decodedCodes[F.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:j.start+((j.end-j.start)/2|0),end:j.end}))return null;E={supplement:F,code:_.join("")+F.code}}return Ot(Ot({code:_.join(""),start:P.start,end:I.end,startInfo:P,decodedCodes:v},E),{},{format:this.FORMAT})}}]),O}(ae);var Bt=function(S){Y()(O,S);var L=function gn(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(){var o;A()(this,O);for(var f=arguments.length,_=new Array(f),v=0;v<f;v++)_[v]=arguments[v];return o=L.call.apply(L,[this].concat(_)),B()(Z()(o),"FORMAT","ean_2"),o}return U()(O,[{key:"decode",value:function(o,f){o&&(this._row=o);var _=0,v=f,E=this._row.length,P=[],I=[],F=null;if(void 0===v)return null;for(var j=0;j<2&&v<E;j++){if(!(F=this._decodeCode(v)))return null;I.push(F),P.push(F.code%10),F.code>=10&&(_|=1<<1-j),1!==j&&(v=this._nextSet(this._row,F.end),v=this._nextUnset(this._row,v))}if(2!==P.length||parseInt(P.join(""))%4!==_)return null;var ie=this._findStart();return{code:P.join(""),decodedCodes:I,end:F.end,format:this.FORMAT,startInfo:ie,start:ie.start}}}]),O}(Xe);var mn=[24,20,18,17,12,6,3,10,9,5],Jt=function(S){Y()(O,S);var L=function jt(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(){var o;A()(this,O);for(var f=arguments.length,_=new Array(f),v=0;v<f;v++)_[v]=arguments[v];return o=L.call.apply(L,[this].concat(_)),B()(Z()(o),"FORMAT","ean_5"),o}return U()(O,[{key:"decode",value:function(o,f){if(void 0===f)return null;o&&(this._row=o);for(var _=0,v=f,E=this._row.length,P=null,I=[],F=[],j=0;j<5&&v<E;j++){if(!(P=this._decodeCode(v)))return null;F.push(P),I.push(P.code%10),P.code>=10&&(_|=1<<4-j),4!==j&&(v=this._nextSet(this._row,P.end),v=this._nextUnset(this._row,v))}if(5!==I.length||function(de){for(var ue=de.length,pe=0,Te=ue-2;Te>=0;Te-=2)pe+=de[Te];pe*=3;for(var we=ue-1;we>=0;we-=2)pe+=de[we];return(pe*=3)%10}(I)!==function(de){for(var ue=0;ue<10;ue++)if(de===mn[ue])return ue;return null}(_))return null;var ie=this._findStart();return{code:I.join(""),decodedCodes:F,end:P.end,format:this.FORMAT,startInfo:ie,start:ie.start}}}]),O}(Xe);var Qt=function(S){Y()(O,S);var L=function tt(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(){var o;A()(this,O);for(var f=arguments.length,_=new Array(f),v=0;v<f;v++)_[v]=arguments[v];return o=L.call.apply(L,[this].concat(_)),B()(Z()(o),"FORMAT","ean_8"),o}return U()(O,[{key:"_decodePayload",value:function(o,f,_){for(var v=o,E=0;E<4;E++){if(!(v=this._decodeCode(v.end,10)))return null;f.push(v.code),_.push(v)}if(null===(v=this._findPattern(Ut,v.end,!0,!1)))return null;_.push(v);for(var P=0;P<4;P++){if(!(v=this._decodeCode(v.end,10)))return null;_.push(v),f.push(v.code)}return v}}]),O}(Xe);var Yt=function(S){Y()(O,S);var L=function vn(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(o){var f;return A()(this,O),f=L.call(this,T()({normalizeBarSpaceWidth:!1},o)),B()(Z()(f),"barSpaceRatio",[1,1]),B()(Z()(f),"SINGLE_CODE_ERROR",.78),B()(Z()(f),"AVG_CODE_ERROR",.38),B()(Z()(f),"START_PATTERN",[1,1,1,1]),B()(Z()(f),"STOP_PATTERN",[1,1,3]),B()(Z()(f),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),B()(Z()(f),"MAX_CORRECTION_FACTOR",5),B()(Z()(f),"FORMAT","i2of5"),o.normalizeBarSpaceWidth&&(f.SINGLE_CODE_ERROR=.38,f.AVG_CODE_ERROR=.09),f.config=o,ee()(f,Z()(f))}return U()(O,[{key:"_matchPattern",value:function(o,f){if(this.config.normalizeBarSpaceWidth){for(var _=[0,0],v=[0,0],E=[0,0],P=this.MAX_CORRECTION_FACTOR,I=1/P,F=0;F<o.length;F++)_[F%2]+=o[F],v[F%2]+=f[F];E[0]=v[0]/_[0],E[1]=v[1]/_[1],E[0]=Math.max(Math.min(E[0],P),I),E[1]=Math.max(Math.min(E[1],P),I),this.barSpaceRatio=E;for(var j=0;j<o.length;j++)o[j]*=this.barSpaceRatio[j%2]}return Ue()(W()(O.prototype),"_matchPattern",this).call(this,o,f)}},{key:"_findPattern",value:function(o,f){var _=arguments.length>2&&void 0!==arguments[2]&&arguments[2],v=arguments.length>3&&void 0!==arguments[3]&&arguments[3],E=new Array(o.length).fill(0),P=0,I={error:Number.MAX_VALUE,start:0,end:0},F=this.AVG_CODE_ERROR;_=_||!1,v=v||!1,f||(f=this._nextSet(this._row));for(var j=f;j<this._row.length;j++)if(this._row[j]^(_?1:0))E[P]++;else{if(P===E.length-1){var ie=E.reduce(function(pe,Te){return pe+Te},0),de=this._matchPattern(E,o);if(de<F)return I.error=de,I.start=j-ie,I.end=j,I;if(!v)return null;for(var ue=0;ue<E.length-2;ue++)E[ue]=E[ue+2];E[E.length-2]=0,E[E.length-1]=0,P--}else P++;E[P]=1,_=!_}return null}},{key:"_findStart",value:function(){for(var o=0,f=this._nextSet(this._row),_=null,v=1;!_;){if(!(_=this._findPattern(this.START_PATTERN,f,!1,!0)))return null;if(v=Math.floor((_.end-_.start)/4),(o=_.start-10*v)>=0&&this._matchRange(o,_.start,0))return _;f=_.end,_=null}return null}},{key:"_verifyTrailingWhitespace",value:function(o){var f=o.end+(o.end-o.start)/2;return f<this._row.length&&this._matchRange(o.end,f,0)?o:null}},{key:"_findEnd",value:function(){this._row.reverse();var o=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===o)return null;var f=o.start;return o.start=this._row.length-o.end,o.end=this._row.length-f,null!==o?this._verifyTrailingWhitespace(o):null}},{key:"_decodePair",value:function(o){for(var f=[],_=0;_<o.length;_++){var v=this._decodeCode(o[_]);if(!v)return null;f.push(v)}return f}},{key:"_decodeCode",value:function(o){for(var f=this.AVG_CODE_ERROR,_={error:Number.MAX_VALUE,code:-1,start:0,end:0},v=0;v<this.CODE_PATTERN.length;v++){var E=this._matchPattern(o,this.CODE_PATTERN[v]);E<_.error&&(_.code=v,_.error=E)}return _.error<f?_:null}},{key:"_decodePayload",value:function(o,f,_){for(var v=0,E=o.length,P=[[0,0,0,0,0],[0,0,0,0,0]],I=null;v<E;){for(var F=0;F<5;F++)P[0][F]=o[v]*this.barSpaceRatio[0],P[1][F]=o[v+1]*this.barSpaceRatio[1],v+=2;if(!(I=this._decodePair(P)))return null;for(var j=0;j<I.length;j++)f.push(I[j].code+""),_.push(I[j])}return I}},{key:"_verifyCounterLength",value:function(o){return o.length%10==0}},{key:"decode",value:function(o,f){var _=new Array,v=new Array,E=this._findStart();if(!E)return null;v.push(E);var P=this._findEnd();if(!P)return null;var I=this._fillCounters(E.end,P.start,!1);return this._verifyCounterLength(I)&&this._decodePayload(I,_,v)?_.length%2!=0||_.length<6?null:(v.push(P),{code:_.join(""),start:E.start,end:P.end,startInfo:E,decodedCodes:v,format:this.FORMAT}):null}}]),O}(ae);function Gt(S,L){var O=Object.keys(S);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(S);L&&(o=o.filter(function(f){return Object.getOwnPropertyDescriptor(S,f).enumerable})),O.push.apply(O,o)}return O}var Ht=function(S){Y()(O,S);var L=function yn(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(){var o;A()(this,O);for(var f=arguments.length,_=new Array(f),v=0;v<f;v++)_[v]=arguments[v];return o=L.call.apply(L,[this].concat(_)),B()(Z()(o),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),B()(Z()(o),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),B()(Z()(o),"FORMAT","upc_e"),o}return U()(O,[{key:"_decodePayload",value:function(o,f,_){for(var v=function(I){for(var F=1;F<arguments.length;F++){var j=null!=arguments[F]?arguments[F]:{};F%2?Gt(Object(j),!0).forEach(function(ie){B()(I,ie,j[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(j)):Gt(Object(j)).forEach(function(ie){Object.defineProperty(I,ie,Object.getOwnPropertyDescriptor(j,ie))})}return I}({},o),E=0,P=0;P<6;P++){if(!(v=this._decodeCode(v.end)))return null;v.code>=10&&(v.code=v.code-10,E|=1<<5-P),f.push(v.code),_.push(v)}return this._determineParity(E,f)?v:null}},{key:"_determineParity",value:function(o,f){for(var _=0;_<this.CODE_FREQUENCY.length;_++)for(var v=0;v<this.CODE_FREQUENCY[_].length;v++)if(o===this.CODE_FREQUENCY[_][v])return f.unshift(_),f.push(v),!0;return!1}},{key:"_convertToUPCA",value:function(o){var f=[o[0]],_=o[o.length-2];return(f=_<=2?f.concat(o.slice(1,3)).concat([_,0,0,0,0]).concat(o.slice(3,6)):3===_?f.concat(o.slice(1,4)).concat([0,0,0,0,0]).concat(o.slice(4,6)):4===_?f.concat(o.slice(1,5)).concat([0,0,0,0,0,o[5]]):f.concat(o.slice(1,6)).concat([0,0,0,0,_])).push(o[o.length-1]),f}},{key:"_checksum",value:function(o){return Ue()(W()(O.prototype),"_checksum",this).call(this,this._convertToUPCA(o))}},{key:"_findEnd",value:function(o,f){return Ue()(W()(O.prototype),"_findEnd",this).call(this,o,!0)}},{key:"_verifyTrailingWhitespace",value:function(o){var f=o.end+(o.end-o.start)/2;return f<this._row.length&&this._matchRange(o.end,f,0)?o:null}}]),O}(Xe);var Vt=function(S){Y()(O,S);var L=function xn(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(){var o;A()(this,O);for(var f=arguments.length,_=new Array(f),v=0;v<f;v++)_[v]=arguments[v];return o=L.call.apply(L,[this].concat(_)),B()(Z()(o),"FORMAT","upc_a"),o}return U()(O,[{key:"decode",value:function(o,f){var _=Xe.prototype.decode.call(this);return _&&_.code&&13===_.code.length&&"0"===_.code.charAt(0)?(_.code=_.code.substring(1),_):null}}]),O}(Xe),at={},ft_UP=1,ft_DOWN=-1;at.getBarcodeLine=function(S,L,O){var o,f,_,v,E,P=0|L.x,I=0|L.y,F=0|O.x,j=0|O.y,ie=Math.abs(j-I)>Math.abs(F-P),de=[],ue=S.data,pe=S.size.x,Te=255,we=0;function Oe(ct,Un){Te=(E=ue[Un*pe+ct])<Te?E:Te,we=E>we?E:we,de.push(E)}ie&&(_=P,P=I,I=_,_=F,F=j,j=_),P>F&&(_=P,P=F,F=_,_=I,I=j,j=_);var Me=F-P,Ie=Math.abs(j-I);o=Me/2|0,f=I;var je=I<j?1:-1;for(v=P;v<F;v++)ie?Oe(f,v):Oe(v,f),(o-=Ie)<0&&(f+=je,o+=Me);return{line:de,min:Te,max:we}},at.toBinaryLine=function(S){var L,O,o,f,_,v,E=S.min,P=S.max,I=S.line,F=E+(P-E)/2,j=[],ie=(P-E)/12,de=-ie;for(o=I[0]>F?ft_UP:ft_DOWN,j.push({pos:0,val:I[0]}),_=0;_<I.length-2;_++)o!==(f=(L=I[_+1]-I[_])+(O=I[_+2]-I[_+1])<de&&I[_+1]<1.5*F?ft_DOWN:L+O>ie&&I[_+1]>.5*F?ft_UP:o)&&(j.push({pos:_,val:I[_]}),o=f);for(j.push({pos:I.length,val:I[I.length-1]}),v=j[0].pos;v<j[1].pos;v++)I[v]=I[v]>F?0:1;for(_=1;_<j.length-1;_++)for(ie=j[_+1].val>j[_].val?j[_].val+(j[_+1].val-j[_].val)/3*2|0:j[_+1].val+(j[_].val-j[_+1].val)/3|0,v=j[_].pos;v<j[_+1].pos;v++)I[v]=I[v]>ie?0:1;return{line:I,threshold:ie}},at.debug={printFrequency:function(S,L){var O,o=L.getContext("2d");for(L.width=S.length,L.height=256,o.beginPath(),o.strokeStyle="blue",O=0;O<S.length;O++)o.moveTo(O,255),o.lineTo(O,255-S[O]);o.stroke(),o.closePath()},printPattern:function(S,L){var O,o=L.getContext("2d");for(L.width=S.length,o.fillColor="black",O=0;O<S.length;O++)1===S[O]&&o.fillRect(O,0,1,100)}};var Ct=at;function bn(S,L){var O=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(!O){if(Array.isArray(S)||(O=function(P,I){if(P){if("string"==typeof P)return Wt(P,I);var F=Object.prototype.toString.call(P).slice(8,-1);if("Object"===F&&P.constructor&&(F=P.constructor.name),"Map"===F||"Set"===F)return Array.from(P);if("Arguments"===F||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return Wt(P,I)}}(S))||L&&S&&"number"==typeof S.length){O&&(S=O);var o=0,f=function(){};return{s:f,n:function(){return o>=S.length?{done:!0}:{done:!1,value:S[o++]}},e:function(P){throw P},f}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _,v=!0,E=!1;return{s:function(){O=O.call(S)},n:function(){var P=O.next();return v=P.done,P},e:function(P){E=!0,_=P},f:function(){try{v||null==O.return||O.return()}finally{if(E)throw _}}}}function Wt(S,L){(null==L||L>S.length)&&(L=S.length);for(var O=0,o=new Array(L);O<L;O++)o[O]=S[O];return o}var ut={code_128_reader:qe,ean_reader:Xe,ean_5_reader:Jt,ean_2_reader:Bt,ean_8_reader:Qt,code_39_reader:pt,code_39_vin_reader:bt,codabar_reader:ke,upc_reader:Vt,upc_e_reader:Ht,i2of5_reader:Yt,"2of5_reader":fe,code_93_reader:zt,code_32_reader:It},wt={registerReader:function(S,L){ut[S]=L},create:function(S,L){var o=[];function f(){S.readers.forEach(function(I){var F,j={},ie=[];"object"===p()(I)?(F=I.format,j=I.config):"string"==typeof I&&(F=I),j.supplements&&(ie=j.supplements.map(function(ue){return new ut[ue]}));try{var de=new ut[F](j,ie);o.push(de)}catch(ue){throw console.error("* Error constructing reader ",F,ue),ue}})}function _(I){var F,j=null,ie=Ct.getBarcodeLine(L,I[0],I[1]);for(Ct.toBinaryLine(ie),F=0;F<o.length&&null===j;F++)j=o[F].decodePattern(ie.line);return null===j?null:{codeResult:j,barcodeLine:ie}}function v(I){return E.apply(this,arguments)}function E(){return(E=u()(d.a.mark(function I(F){var j,ie,de,ue;return d.a.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:j=null,ie=bn(o),pe.prev=2,ie.s();case 4:if((de=ie.n()).done){pe.next=14;break}if(!(ue=de.value).decodeImage){pe.next=12;break}return pe.next=9,ue.decodeImage(F);case 9:if(!(j=pe.sent)){pe.next=12;break}return pe.abrupt("break",14);case 12:pe.next=4;break;case 14:pe.next=19;break;case 16:pe.prev=16,pe.t0=pe.catch(2),ie.e(pe.t0);case 19:return pe.prev=19,ie.f(),pe.finish(19);case 22:return pe.abrupt("return",j);case 23:case"end":return pe.stop()}},I,null,[[2,16,19,22]])}))).apply(this,arguments)}function P(I){var F,j,ue,ie=function(ue){return Math.sqrt(Math.pow(Math.abs(ue[1].y-ue[0].y),2)+Math.pow(Math.abs(ue[1].x-ue[0].x),2))}(F=[{x:((ue=I)[1][0]-ue[0][0])/2+ue[0][0],y:(ue[1][1]-ue[0][1])/2+ue[0][1]},{x:(ue[3][0]-ue[2][0])/2+ue[2][0],y:(ue[3][1]-ue[2][1])/2+ue[2][1]}]),de=Math.atan2(F[1].y-F[0].y,F[1].x-F[0].x);return null===(F=function(ue,pe,Te){function we(Oe){var Me=Oe*Math.sin(pe),Ie=Oe*Math.cos(pe);ue[0].y-=Me,ue[0].x-=Ie,ue[1].y+=Me,ue[1].x+=Ie}for(we(Te);Te>1&&(!L.inImageWithBorder(ue[0])||!L.inImageWithBorder(ue[1]));)we(-(Te-=Math.ceil(Te/2)));return ue}(F,de,Math.floor(.1*ie)))?null:(null===(j=_(F))&&(j=function(ue,pe,Te){var we,Oe,Me,Ie=Math.sqrt(Math.pow(ue[1][0]-ue[0][0],2)+Math.pow(ue[1][1]-ue[0][1],2)),je=null,ct=Math.sin(Te),Un=Math.cos(Te);for(we=1;we<16&&null===je;we++)Me={y:(Oe=Ie/16*we*(we%2==0?-1:1))*ct,x:Oe*Un},pe[0].y+=Me.x,pe[0].x-=Me.y,pe[1].y+=Me.x,pe[1].x-=Me.y,je=_(pe);return je}(I,F,de)),null===j?null:{codeResult:j.codeResult,line:F,angle:de,pattern:j.barcodeLine.line,threshold:j.barcodeLine.threshold})}return f(),{decodeFromBoundingBox:function(I){return P(I)},decodeFromBoundingBoxes:function(I){var F,j,ie=[],de=S.multiple;for(F=0;F<I.length;F++){var ue=I[F];if((j=P(ue)||{}).box=ue,de)ie.push(j);else if(j.codeResult)return j}return{barcodes:ie}},decodeFromImage:function(I){return u()(d.a.mark(function F(){return d.a.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,v(I);case 2:return ie.abrupt("return",ie.sent);case 4:case"end":return ie.stop()}},F)}))()},registerReader:function(I,F){if(ut[I])throw new Error("cannot register existing reader",I);ut[I]=F},setReaders:function(I){S.readers=I,o.length=0,f()}}}},et=function(){var S={};function L(f){return S[f]||(S[f]={subscribers:[]}),S[f]}function O(f,_){f.async?setTimeout(function(){f.callback(_)},4):f.callback(_)}function o(f,_,v){var E;if("function"==typeof _)E={callback:_,async:v};else if(!(E=_).callback)throw new Error("Callback was not specified on options");L(f).subscribers.push(E)}return{subscribe:function(f,_,v){return o(f,_,v)},publish:function(f,_){var v=L(f),E=v.subscribers;E.filter(function(P){return!!P.once}).forEach(function(P){O(P,_)}),v.subscribers=E.filter(function(P){return!P.once}),v.subscribers.forEach(function(P){O(P,_)})},once:function(f,_){o(f,{callback:_,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(f,_){if(f){var v=L(f);v.subscribers=v&&_?v.subscribers.filter(function(E){return E.callback!==_}):[]}else S={}}}}(),$t=n(62),Kt=n.n($t),Xt=n(63);var rt,St=function(S){Y()(O,S);var L=function Tn(S){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=W()(S);if(L){var f=W()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return ee()(this,O)}}(O);function O(o,f){var _;return A()(this,O),_=L.call(this,o),B()(Z()(_),"code",void 0),_.code=f,Object.setPrototypeOf(Z()(_),O.prototype),_}return U()(O)}(n.n(Xt)()(Error)),en="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function On(){try{return navigator.mediaDevices.enumerateDevices()}catch{var S=new St("enumerateDevices is not defined. ".concat(en),-1);return Promise.reject(S)}}function Cn(S){try{return navigator.mediaDevices.getUserMedia(S)}catch{var L=new St("getUserMedia is not defined. ".concat(en),-1);return Promise.reject(L)}}function tn(S){return new Promise(function(L,O){var o=10;!function f(){o>0?S.videoWidth>10&&S.videoHeight>10?L():window.setTimeout(f,500):O(new St("Unable to play video stream. Is webcam working?",-1)),o--}()})}function nn(S,L){return At.apply(this,arguments)}function At(){return(At=u()(d.a.mark(function S(L,O){var o;return d.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Cn(O);case 2:if(rt=o=f.sent,!L){f.next=11;break}return L.setAttribute("autoplay","true"),L.setAttribute("muted","true"),L.setAttribute("playsinline","true"),L.srcObject=o,L.addEventListener("loadedmetadata",function(){L.play().catch(function(_){console.warn("* Error while trying to play video stream:",_)})}),f.abrupt("return",tn(L));case 11:return f.abrupt("return",Promise.resolve());case 12:case"end":return f.stop()}},S)}))).apply(this,arguments)}function Sn(){var L=function wn(S){var L=Kt()(S,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==S.minAspectRatio&&S.minAspectRatio>0&&(L.aspectRatio=S.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==S.facing&&(L.facingMode=S.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),L}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return L&&L.deviceId&&L.facingMode&&delete L.facingMode,Promise.resolve({audio:!1,video:L})}function rn(){return(rn=u()(d.a.mark(function S(){return d.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,On();case 2:return O.abrupt("return",O.sent.filter(function(o){return"videoinput"===o.kind}));case 4:case"end":return O.stop()}},S)}))).apply(this,arguments)}function lt(){if(!rt)return null;var S=rt.getVideoTracks();return S&&null!=S&&S.length?S[0]:null}var st={requestedVideoElement:null,request:function(S,L){return u()(d.a.mark(function O(){return d.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return st.requestedVideoElement=S,f.next=3,Sn(L);case 3:return f.abrupt("return",nn(S,f.sent));case 5:case"end":return f.stop()}},O)}))()},release:function(){var S=rt&&rt.getVideoTracks();return null!==st.requestedVideoElement&&st.requestedVideoElement.pause(),new Promise(function(L){setTimeout(function(){S&&S.length&&S.forEach(function(O){return O.stop()}),rt=null,st.requestedVideoElement=null,L()},0)})},enumerateVideoDevices:function(){return rn.apply(this,arguments)},getActiveStreamLabel:function(){var S=lt();return S?S.label:""},getActiveTrack:lt,disableTorch:function(){return u()(d.a.mark(function S(){var L;return d.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!(L=lt())){O.next=11;break}return O.prev=2,O.next=5,L.applyConstraints({advanced:[{torch:!1}]});case 5:O.next=11;break;case 7:throw O.prev=7,O.t0=O.catch(2),O.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),O.t0;case 11:case"end":return O.stop()}},S,null,[[2,7]])}))()},enableTorch:function(){return u()(d.a.mark(function S(){var L;return d.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!(L=lt())){O.next=11;break}return O.prev=2,O.next=5,L.applyConstraints({advanced:[{torch:!0}]});case 5:O.next=11;break;case 7:throw O.prev=7,O.t0=O.catch(2),O.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),O.t0;case 11:case"end":return O.stop()}},S,null,[[2,7]])}))()}},_t=st,on={create:function(S){var L,O=document.createElement("canvas"),o=O.getContext("2d",{willReadFrequently:!!S.willReadFrequently}),f=[],_=null!==(L=S.capacity)&&void 0!==L?L:20,v=!0===S.capture;return{addResult:function(P,I,F){var j={};(function E(P){return!!_&&P&&(I=P,!((F=S.blacklist)&&F.some(function(j){return Object.keys(j).every(function(ie){return j[ie]===I[ie]})})))&&function(I,F){return"function"!=typeof F||F(I)}(P,S.filter);var I,F})(F)&&(_--,j.codeResult=F,v&&(O.width=I.x,O.height=I.y,e.a.drawImage(P,I,o),j.frame=O.toDataURL()),f.push(j))},getResults:function(){return f}}}},An={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Ye=n(5),ht=n(10),an=Math.PI/180,En={create:function(S,L){var O,o={},f=S.getConfig(),_=(Object(ht.h)(S.getRealWidth(),S.getRealHeight()),S.getCanvasSize()),v=Object(ht.h)(S.getWidth(),S.getHeight()),E=S.getTopRight(),P=E.x,I=E.y,F=null,j=null,ie=f.willReadFrequently;return(O=L||document.createElement("canvas")).width=_.x,O.height=_.y,console.warn("*** frame_grabber_browser: willReadFrequently=",ie,"canvas=",O),F=O.getContext("2d",{willReadFrequently:!!ie}),j=new Uint8Array(v.x*v.y),o.attachData=function(de){j=de},o.getData=function(){return j},o.grab=function(){var de,Oe,Me,ue=f.halfSample,pe=S.getFrame(),Te=pe,we=0;if(Te){if((Oe=O).width!==(Me=_).x&&(Oe.width=Me.x),Oe.height!==Me.y&&(Oe.height=Me.y),"ImageStream"===f.type&&(Te=pe.img,pe.tags&&pe.tags.orientation))switch(pe.tags.orientation){case 6:we=90*an;break;case 8:we=-90*an}return 0!==we?(F.translate(_.x/2,_.y/2),F.rotate(we),F.drawImage(Te,-_.y/2,-_.x/2,_.y,_.x),F.rotate(-we),F.translate(-_.x/2,-_.y/2)):F.drawImage(Te,0,0,_.x,_.y),de=F.getImageData(P,I,v.x,v.y).data,ue?Object(ht.e)(de,v,j):Object(ht.c)(de,j,f),!0}return!1},o.getSize=function(){return v},o}},Mn=En,gt={274:"orientation"},un=Object.keys(gt).map(function(S){return gt[S]});function kn(S){return new Promise(function(L){var O=new FileReader;O.onload=function(o){return L(o.target.result)},O.readAsArrayBuffer(S)})}function Rn(S,L,O){if("Exif"!==function(v,E,P){for(var I="",F=E;F<E+4;F++)I+=String.fromCharCode(v.getUint8(F));return I}(S,L))return!1;var o,f=L+6;if(18761===S.getUint16(f))o=!1;else{if(19789!==S.getUint16(f))return!1;o=!0}if(42!==S.getUint16(f+2,!o))return!1;var _=S.getUint32(f+4,!o);return!(_<8)&&function(v,E,P,I,F){for(var j=v.getUint16(P,!F),ie={},de=0;de<j;de++){var ue=P+12*de+2,pe=I[v.getUint16(ue,!F)];pe&&(ie[pe]=Dn(v,ue,0,0,F))}return ie}(S,0,f+_,O,o)}function Dn(S,L,O,o,f){var _=S.getUint16(L+2,!f),v=S.getUint32(L+4,!f);return 3===_&&1===v?S.getUint16(L+8,!f):null}var ln={};function Pn(S,L){S.onload=function(){L.loaded(this)}}ln.load=function(S,L,O,o,f){var _,v,E,P=new Array(o),I=new Array(P.length);if(!1===f)P[0]=S;else for(_=0;_<P.length;_++)E=O+_,P[_]="".concat(S,"image-").concat("00".concat(E).slice(-3),".jpg");for(I.notLoaded=[],I.addImage=function(F){I.notLoaded.push(F)},I.loaded=function(F){for(var j=I.notLoaded,ie=0;ie<j.length;ie++)if(j[ie]===F){j.splice(ie,1);for(var de=0;de<P.length;de++){var ue=P[de].substr(P[de].lastIndexOf("/"));if(-1!==F.src.lastIndexOf(ue)){I[de]={img:F};break}}break}0===j.length&&(!1===f?function(pe){var Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:un;return/^blob:/i.test(pe)?function Zn(S){return new Promise(function(L,O){var o=new XMLHttpRequest;o.open("GET",S,!0),o.responseType="blob",o.onreadystatechange=function(){o.readyState!==XMLHttpRequest.DONE||200!==o.status&&0!==o.status||L(this.response)},o.onerror=O,o.send()})}(pe).then(kn).then(function(we){return function In(S){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:un,O=new DataView(S),o=S.byteLength,f=L.reduce(function(v,E){var P=Object.keys(gt).filter(function(I){return gt[I]===E})[0];return P&&(v[P]=E),v},{}),_=2;if(255!==O.getUint8(0)||216!==O.getUint8(1))return!1;for(;_<o;){if(255!==O.getUint8(_))return!1;if(225===O.getUint8(_+1))return Rn(O,_+4,f);_+=2+O.getUint16(_+2)}return!1}(we,Te)}):Promise.resolve(null)}(S,["orientation"]).then(function(pe){I[0].tags=pe,L(I)}).catch(function(pe){console.log(pe),L(I)}):L(I))},_=0;_<P.length;_++)v=new Image,I.addImage(v),Pn(v,I),v.src=P[_]};var Ln=ln,sn={createVideoStream:function(S){console.warn("**** InputStreamBrowser createVideoStream");var L,O,o=null,f=["canrecord","ended"],_={},v={x:0,y:0,type:"Point"},E={x:0,y:0,type:"XYSize"},P={getRealWidth:function(){return S.videoWidth},getRealHeight:function(){return S.videoHeight},getWidth:function(){return L},getHeight:function(){return O},setWidth:function(I){L=I},setHeight:function(I){O=I},setInputStream:function(I){o=I,this.setAttribute("src",void 0!==I.src?I.src:"")},ended:function(){return S.ended},getConfig:function(){return o},setAttribute:function(I,F){S&&S.setAttribute(I,F)},pause:function(){S.pause()},play:function(){S.play()},setCurrentTime:function(I){var F;"LiveStream"!==(null===(F=o)||void 0===F?void 0:F.type)&&this.setAttribute("currentTime",I.toString())},addEventListener:function(I,F,j){-1!==f.indexOf(I)?(_[I]||(_[I]=[]),_[I].push(F)):S.addEventListener(I,F,j)},clearEventHandlers:function(){f.forEach(function(I){var F=_[I];F&&F.length>0&&F.forEach(function(j){S.removeEventListener(I,j)})})},trigger:function(I,F){var j,ie,de,ue,pe,Te=_[I];if("canrecord"===I&&(ue=S.videoWidth,pe=S.videoHeight,L=null!==(ie=o)&&void 0!==ie&&ie.size?ue/pe>1?o.size:Math.floor(ue/pe*o.size):ue,O=null!==(de=o)&&void 0!==de&&de.size?ue/pe>1?Math.floor(pe/ue*o.size):o.size:pe,E.x=L,E.y=O),Te&&Te.length>0)for(j=0;j<Te.length;j++)Te[j].apply(P,F)},setTopRight:function(I){v.x=I.x,v.y=I.y},getTopRight:function(){return v},setCanvasSize:function(I){E.x=I.x,E.y=I.y},getCanvasSize:function(){return E},getFrame:function(){return S}};return P},createLiveStream:function(S){console.warn("**** InputStreamBrowser createLiveStream"),S&&S.setAttribute("autoplay","true");var L=sn.createVideoStream(S);return L.ended=function(){return!1},L},createImageStream:function(){var S,L,O=null,o=0,f=0,_=0,v=!0,E=!1,P=null,I=0,F=null,j=!1,ie=["canrecord","ended"],de={},ue={x:0,y:0,type:"Point"},pe={x:0,y:0,type:"XYSize"};function Te(Oe,Me){var Ie,je=de[Oe];if(je&&je.length>0)for(Ie=0;Ie<je.length;Ie++)je[Ie].apply(we,Me)}var we={trigger:Te,getWidth:function(){return S},getHeight:function(){return L},setWidth:function(Oe){S=Oe},setHeight:function(Oe){L=Oe},getRealWidth:function(){return o},getRealHeight:function(){return f},setInputStream:function(Oe){var Me;!1===Oe.sequence?(F=Oe.src,I=1):(F=Oe.src,I=Oe.length),E=!1,Ln.load(F,function(Ie){var je,ct;if(P=Ie,Ie[0].tags&&Ie[0].tags.orientation)switch(Ie[0].tags.orientation){case 6:case 8:o=Ie[0].img.height,f=Ie[0].img.width;break;default:o=Ie[0].img.width,f=Ie[0].img.height}else o=Ie[0].img.width,f=Ie[0].img.height;S=null!==(je=O)&&void 0!==je&&je.size?o/f>1?O.size:Math.floor(o/f*O.size):o,L=null!==(ct=O)&&void 0!==ct&&ct.size?o/f>1?Math.floor(f/o*O.size):O.size:f,pe.x=S,pe.y=L,E=!0,_=0,setTimeout(function(){Te("canrecord",[])},0)},1,I,null===(Me=O=Oe)||void 0===Me?void 0:Me.sequence)},ended:function(){return j},setAttribute:function(){},getConfig:function(){return O},pause:function(){v=!0},play:function(){v=!1},setCurrentTime:function(Oe){_=Oe},addEventListener:function(Oe,Me){-1!==ie.indexOf(Oe)&&(de[Oe]||(de[Oe]=[]),de[Oe].push(Me))},clearEventHandlers:function(){Object.keys(de).forEach(function(Oe){return delete de[Oe]})},setTopRight:function(Oe){ue.x=Oe.x,ue.y=Oe.y},getTopRight:function(){return ue},setCanvasSize:function(Oe){pe.x=Oe.x,pe.y=Oe.y},getCanvasSize:function(){return pe},getFrame:function(){var Oe,Me;return E?(v||(Oe=null===(Me=P)||void 0===Me?void 0:Me[_],_<I-1?_++:setTimeout(function(){j=!0,Te("ended",[])},0)),Oe):null}};return we}},zn=sn,Et=n(23),Fn=U()(function S(){A()(this,S),B()(this,"config",void 0),B()(this,"inputStream",void 0),B()(this,"framegrabber",void 0),B()(this,"inputImageWrapper",void 0),B()(this,"stopped",!1),B()(this,"boxSize",void 0),B()(this,"resultCollector",void 0),B()(this,"decoder",void 0),B()(this,"workerPool",[]),B()(this,"onUIThread",!0),B()(this,"canvasContainer",new h)}),it=U()(function S(){A()(this,S),B()(this,"image",void 0),B()(this,"overlay",void 0)}),h=U()(function S(){A()(this,S),B()(this,"ctx",void 0),B()(this,"dom",void 0),this.ctx=new it,this.dom=new it});function w(S){return typeof document>"u"?null:S instanceof HTMLElement&&S.nodeName&&1===S.nodeType?S:document.querySelector("string"==typeof S?S:"#interactive.viewport")}function R(S,L,O){var v,E,o=(v=L,(E=document.querySelector(S))||((E=document.createElement("canvas")).className=v),E);console.warn("* initCanvas getCanvasAndContext");var f=o.getContext("2d",{willReadFrequently:O.willReadFrequently});return{canvas:o,context:f}}function $(S,L){var O=Object.keys(S);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(S);L&&(o=o.filter(function(f){return Object.getOwnPropertyDescriptor(S,f).enumerable})),O.push.apply(O,o)}return O}function re(S){for(var L=1;L<arguments.length;L++){var O=null!=arguments[L]?arguments[L]:{};L%2?$(Object(O),!0).forEach(function(o){B()(S,o,O[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(O)):$(Object(O)).forEach(function(o){Object.defineProperty(S,o,Object.getOwnPropertyDescriptor(O,o))})}return S}Ye.a.setMatrixArrayType(Array);var _e=[];function ve(S){return re(re({},S),{},{inputStream:re(re({},S.inputStream),{},{target:null})})}function Se(S){if(S){var L=S().default;if(!L)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var O;function o(_){self.postMessage({event:"processed",imageData:O.data,result:_},[O.data.buffer])}function f(){self.postMessage({event:"initialized",imageData:O.data},[O.data.buffer])}self.onmessage=function(_){if("init"===_.data.cmd){var v=_.data.config;v.numOfWorkers=0,O=new L.ImageWrapper({x:_.data.size.x,y:_.data.size.y},new Uint8Array(_.data.imageData)),L.init(v,f,O),L.onProcessed(o)}else"process"===_.data.cmd?(O.data=new Uint8Array(_.data.imageData),L.start()):"setReaders"===_.data.cmd?L.setReaders(_.data.readers):"registerReader"===_.data.cmd&&L.registerReader(_.data.name,_.data.reader)}}function De(S,L,O){var o,f,_=(typeof __factorySource__<"u"&&(f=__factorySource__),o=new Blob(["("+Se.toString()+")("+f+");"],{type:"text/javascript"}),window.URL.createObjectURL(o)),v={worker:new Worker(_),imageData:new Uint8Array(L.getWidth()*L.getHeight()),busy:!0};v.worker.onmessage=function(E){"initialized"===E.data.event?(URL.revokeObjectURL(_),v.busy=!1,v.imageData=new Uint8Array(E.data.imageData),O(v)):"processed"===E.data.event&&(v.imageData=new Uint8Array(E.data.imageData),v.busy=!1)},v.worker.postMessage({cmd:"init",size:{x:L.getWidth(),y:L.getHeight()},imageData:v.imageData,config:ve(S)},[v.imageData.buffer])}function Le(S,L,O,o){var f=S-_e.length;if(0===f&&o)o();else if(f<0)_e.slice(f).forEach(function(E){E.worker.terminate()}),_e=_e.slice(0,f),o&&o();else{var _=function(E){_e.push(E),_e.length>=S&&o&&o()};if(L)for(var v=0;v<f;v++)De(L,O,_)}}function We(S,L,O){for(var o=S.length;o--;)S[o][0]+=L,S[o][1]+=O}Ye.a.setMatrixArrayType(Array);var $e=function(){function S(){var o=this;A()(this,S),B()(this,"context",new Fn),B()(this,"canRecord",function(f){var _;o.context.config&&(Et.a.checkImageConstraints(o.context.inputStream,null===(_=o.context.config)||void 0===_?void 0:_.locator),o.initCanvas(),o.context.framegrabber=Mn.create(o.context.inputStream,o.context.canvasContainer.dom.image),void 0===o.context.config.numOfWorkers&&(o.context.config.numOfWorkers=0),Le(o.context.config.numOfWorkers,o.context.config,o.context.inputStream,function(){var v;0===(null===(v=o.context.config)||void 0===v?void 0:v.numOfWorkers)&&o.initializeData(),o.ready(f)}))}),B()(this,"update",function(){if(o.context.onUIThread){var f,_=(E=o.context.framegrabber,_e.length?!!(P=_e.filter(function(I){return!I.busy})[0])&&(E.attachData(P.imageData),E.grab()&&(P.busy=!0,P.worker.postMessage({cmd:"process",imageData:P.imageData},[P.imageData.buffer])),!0):null);_||(o.context.framegrabber.attachData(null===(f=o.context.inputImageWrapper)||void 0===f?void 0:f.data),o.context.framegrabber.grab()&&(_||o.locateAndDecode()))}else{var v;o.context.framegrabber.attachData(null===(v=o.context.inputImageWrapper)||void 0===v?void 0:v.data),o.context.framegrabber.grab(),o.locateAndDecode()}var E,P})}var L,O;return U()(S,[{key:"initBuffers",value:function(o){if(this.context.config){var f=(E=this.context.inputStream,I=this.context.config.locator,F=o||new k.a({x:E.getWidth(),y:E.getHeight(),type:"XYSize"}),j=[Ye.c.clone([0,0]),Ye.c.clone([0,F.size.y]),Ye.c.clone([F.size.x,F.size.y]),Ye.c.clone([F.size.x,0])],Et.a.init(F,I),{inputImageWrapper:F,boxSize:j}),v=f.boxSize;this.context.inputImageWrapper=f.inputImageWrapper,this.context.boxSize=v}var E,I,F,j}},{key:"initializeData",value:function(o){this.context.config&&(this.initBuffers(o),this.context.decoder=wt.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?w(this.context.config.inputStream.target):null}},{key:"ready",value:function(o){this.context.inputStream.play(),o()}},{key:"initCanvas",value:function(){var o=function N(S){var L,O,o,f,_,v,E=w(null==S||null===(L=S.config)||void 0===L||null===(O=L.inputStream)||void 0===O?void 0:O.target),P=null==S||null===(o=S.config)||void 0===o||null===(f=o.inputStream)||void 0===f?void 0:f.type;if(!P)return null;var I=function(j,ie){var de=ie.willReadFrequently;if(typeof document<"u"){var ue=R("canvas.imgBuffer","imgBuffer",{willReadFrequently:de}),pe=R("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:de});return ue.canvas.width=pe.canvas.width=j.x,ue.canvas.height=pe.canvas.height=j.y,{dom:{image:ue.canvas,overlay:pe.canvas},ctx:{image:ue.context,overlay:pe.context}}}return null}(S.inputStream.getCanvasSize(),{willReadFrequently:!(null==S||null===(_=S.config)||void 0===_||null===(v=_.inputStream)||void 0===v||!v.willReadFrequently)});if(!I)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var F=I.dom;return typeof document<"u"&&E&&("ImageStream"!==P||E.contains(F.image)||E.appendChild(F.image),E.contains(F.overlay)||E.appendChild(F.overlay)),I}(this.context);if(o){var f=o.ctx,_=o.dom;this.context.canvasContainer.dom.image=_.image,this.context.canvasContainer.dom.overlay=_.overlay,this.context.canvasContainer.ctx.image=f.image,this.context.canvasContainer.ctx.overlay=f.overlay}}},{key:"initInputStream",value:function(o){if(this.context.config&&this.context.config.inputStream){var f=this.context.config.inputStream,_=f.type,v=f.constraints,E=function(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",j=arguments.length>1?arguments[1]:void 0,ie=arguments.length>2?arguments[2]:void 0;switch(F){case"VideoStream":var de=document.createElement("video");return{video:de,inputStream:ie.createVideoStream(de)};case"ImageStream":return{inputStream:ie.createImageStream()};case"LiveStream":var ue=null;return j&&((ue=j.querySelector("video"))||(ue=document.createElement("video"),j.appendChild(ue))),{video:ue,inputStream:ie.createLiveStream(ue)};default:return console.error("* setupInputStream invalid type ".concat(F)),{video:null,inputStream:null}}}(_,this.getViewPort(),zn),P=E.video,I=E.inputStream;"LiveStream"===_&&P&&_t.request(P,v).then(function(){return I.trigger("canrecord")}).catch(function(F){return o(F)}),I&&(I.setAttribute("preload","auto"),I.setInputStream(this.context.config.inputStream),I.addEventListener("canrecord",this.canRecord.bind(void 0,o))),this.context.inputStream=I}}},{key:"getBoundingBoxes",value:function(){var o;return null!==(o=this.context.config)&&void 0!==o&&o.locate?Et.a.locate():[[Ye.c.clone(this.context.boxSize[0]),Ye.c.clone(this.context.boxSize[1]),Ye.c.clone(this.context.boxSize[2]),Ye.c.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(o){var I,F,j,f=this,_=this.context.inputStream.getTopRight(),v=_.x,E=_.y;if((0!==v||0!==E)&&(o.barcodes&&o.barcodes.forEach(function(I){return f.transformResult(I)}),o.line&&2===o.line.length&&(j=E,(I=o.line)[0].x+=F=v,I[0].y+=j,I[1].x+=F,I[1].y+=j),o.box&&We(o.box,v,E),o.boxes&&o.boxes.length>0))for(var P=0;P<o.boxes.length;P++)We(o.boxes[P],v,E)}},{key:"addResult",value:function(o,f){var _=this;f&&this.context.resultCollector&&(o.barcodes?o.barcodes.filter(function(v){return v.codeResult}).forEach(function(v){return _.addResult(v,f)}):o.codeResult&&this.context.resultCollector.addResult(f,this.context.inputStream.getCanvasSize(),o.codeResult))}},{key:"hasCodeResult",value:function(o){return!(!o||!(o.barcodes?o.barcodes.some(function(f){return f.codeResult}):o.codeResult))}},{key:"publishResult",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,f=arguments.length>1?arguments[1]:void 0,_=o;o&&this.context.onUIThread&&(this.transformResult(o),this.addResult(o,f),_=o.barcodes||o),et.publish("processed",_),this.hasCodeResult(o)&&et.publish("detected",_)}},{key:"locateAndDecode",value:(O=u()(d.a.mark(function o(){var f,_,v,E,P;return d.a.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!(f=this.getBoundingBoxes())){I.next=12;break}return I.next=4,this.context.decoder.decodeFromBoundingBoxes(f);case 4:if(I.t0=I.sent,I.t0){I.next=7;break}I.t0={};case 7:(v=I.t0).boxes=f,this.publishResult(v,null===(_=this.context.inputImageWrapper)||void 0===_?void 0:_.data),I.next=16;break;case 12:return I.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(E=I.sent)?this.publishResult(E,null===(P=this.context.inputImageWrapper)||void 0===P?void 0:P.data):this.publishResult();case 16:case"end":return I.stop()}},o,this)})),function(){return O.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var o,f=this,_=null,v=1e3/((null===(o=this.context.config)||void 0===o?void 0:o.frequency)||60);this.context.stopped=!1;var E=this.context;!function P(I){_=_||I,E.stopped||(I>=_&&(_+=v,f.update()),window.requestAnimationFrame(P))}(performance.now())}},{key:"start",value:function(){var o,f;this.context.onUIThread&&"LiveStream"===(null===(o=this.context.config)||void 0===o||null===(f=o.inputStream)||void 0===f?void 0:f.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(L=u()(d.a.mark(function o(){var f;return d.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(this.context.stopped=!0,Le(0),null===(f=this.context.config)||void 0===f||!f.inputStream||"LiveStream"!==this.context.config.inputStream.type){_.next=6;break}return _.next=5,_t.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return _.stop()}},o,this)})),function(){return L.apply(this,arguments)})},{key:"setReaders",value:function(o){var f;this.context.decoder&&this.context.decoder.setReaders(o),f=o,_e.forEach(function(_){return _.worker.postMessage({cmd:"setReaders",readers:f})})}},{key:"registerReader",value:function(o,f){var _,v;wt.registerReader(o,f),this.context.decoder&&this.context.decoder.registerReader(o,f),_=o,v=f,_e.forEach(function(E){return E.worker.postMessage({cmd:"registerReader",name:_,reader:v})})}}]),S}(),nt=new $e,mt=nt.context,Mt={init:function(S,L,O){var o,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nt;return L||(o=new Promise(function(_,v){L=function(E){E?v(E):_()}})),f.context.config=T()({},An,S),f.context.config.numOfWorkers>0&&(f.context.config.numOfWorkers=0),O?(f.context.onUIThread=!1,f.initializeData(O),L&&L()):f.initInputStream(L),o},start:function(){return nt.start()},stop:function(){return nt.stop()},pause:function(){mt.stopped=!0},onDetected:function(S){S&&("function"==typeof S||"object"===p()(S)&&S.callback)?et.subscribe("detected",S):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(S){et.unsubscribe("detected",S)},onProcessed:function(S){S&&("function"==typeof S||"object"===p()(S)&&S.callback)?et.subscribe("processed",S):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(S){et.unsubscribe("processed",S)},setReaders:function(S){S?nt.setReaders(S):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(S,L){S?L?nt.registerReader(S,L):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(S){S&&"function"==typeof S.addResult&&(mt.resultCollector=S)},get canvas(){return mt.canvasContainer},decodeSingle:function(S,L){var O=this,o=new $e;return(S=T()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:S.src},numOfWorkers:1,locator:{halfSample:!1}},S)).numOfWorkers>0&&(S.numOfWorkers=0),S.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),S.numOfWorkers=0),new Promise(function(f,_){try{O.init(S,function(){et.once("processed",function(v){o.stop(),L&&L.call(null,v),f(v)},!0),o.start()},null,o)}catch(v){_(v)}})},get default(){return Mt},Readers:a,CameraAccess:_t,ImageDebug:e.a,ImageWrapper:k.a,ResultCollector:on};x.default=Mt}]).default},8571:(be,i,x)=>{"use strict";x.r(i),x.d(i,{OzonModule:()=>xo});var n=x(6814),a=x(6697),s=x(5861),c=x(5619),p=x(6306),y=x(6232),T=x(9773),k=x(2181),b=x(9397),u=x(4664),l=x(7494),d=x(4963),e=x(2029),C=x(5219),A=x(723),M=x(6593),U=x(2966),q=x(707),Z=x(6760),Q=x(4532),Y=x(6223),V=x(2076),ee=x(5807),ne=x(4480),W=x(6489),K=x(3259),B=x(2332),oe=x(2591),ae=x(2324),te=x(8468),se=x(7778),H=x(6005);function G(r,D){1&r&&e._UZ(0,"CheckIcon",7),2&r&&e.Q6J("styleClass","p-checkbox-icon")}function X(r,D){}function fe(r,D){1&r&&e.YNc(0,X,0,0,"ng-template")}function ce(r,D){if(1&r&&(e.TgZ(0,"span",8),e.YNc(1,fe,1,0,null,9),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.checkIconTemplate)}}function xe(r,D){if(1&r&&(e.ynx(0),e.YNc(1,G,1,1,"CheckIcon",5),e.YNc(2,ce,2,1,"span",6),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.checkIconTemplate),e.xp6(1),e.Q6J("ngIf",t.checkIconTemplate)}}function Ae(r,D){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.label)}}function Re(r,D){1&r&&e.GkF(0)}const ke=function(r){return{height:r}},ze=function(r,D){return{"p-highlight":r,"p-disabled":D}},qe=function(r){return{"p-highlight":r}},Fe=function(r){return{$implicit:r}},Ue=["container"],Qe=["overlay"],He=["filterInput"],Ke=["in"],Ve=["items"],Zt=["scroller"];function pt(r,D){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.valuesAsString||"empty")}}function cn(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"TimesCircleIcon",20),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2).$implicit,z=e.oxw(3);return e.KtG(z.removeChip(m,z.event))}),e.qZA()}2&r&&e.Q6J("styleClass","p-multiselect-token-icon")}function dn(r,D){1&r&&e.GkF(0)}function It(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"span",21),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2).$implicit,z=e.oxw(3);return e.KtG(z.removeChip(m,z.event))}),e.YNc(1,dn,1,0,"ng-container",22),e.qZA()}if(2&r){const t=e.oxw(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t.removeTokenIconTemplate)}}function pn(r,D){if(1&r&&(e.ynx(0),e.YNc(1,cn,1,1,"TimesCircleIcon",18),e.YNc(2,It,2,1,"span",19),e.BQk()),2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!t.removeTokenIconTemplate),e.xp6(1),e.Q6J("ngIf",t.removeTokenIconTemplate)}}function Rt(r,D){if(1&r&&(e.TgZ(0,"div",15,16)(2,"span",17),e._uU(3),e.qZA(),e.YNc(4,pn,3,2,"ng-container",7),e.qZA()),2&r){const t=D.$implicit,g=e.oxw(3);e.xp6(3),e.Oqu(g.findLabelByValue(t)),e.xp6(1),e.Q6J("ngIf",!g.disabled)}}function Dt(r,D){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw(3);e.xp6(1),e.Oqu(t.placeholder||t.defaultLabel||"empty")}}function bt(r,D){if(1&r&&(e.ynx(0),e.YNc(1,Rt,5,2,"div",14),e.YNc(2,Dt,2,1,"ng-container",7),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.value),e.xp6(1),e.Q6J("ngIf",!t.value||0===t.value.length)}}function Pt(r,D){if(1&r&&(e.ynx(0),e.YNc(1,pt,2,1,"ng-container",7),e.YNc(2,bt,3,2,"ng-container",7),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","comma"===t.display),e.xp6(1),e.Q6J("ngIf","chip"===t.display)}}function Tt(r,D){1&r&&e.GkF(0)}function Lt(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"TimesIcon",20),e.NdJ("click",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.clear(m))}),e.qZA()}2&r&&e.Q6J("styleClass","p-multiselect-clear-icon")}function zt(r,D){}function Ft(r,D){1&r&&e.YNc(0,zt,0,0,"ng-template")}function Ot(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"span",24),e.NdJ("click",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.clear(m))}),e.YNc(1,Ft,1,0,null,22),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.clearIconTemplate)}}function fn(r,D){if(1&r&&(e.ynx(0),e.YNc(1,Lt,1,1,"TimesIcon",18),e.YNc(2,Ot,2,1,"span",23),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.clearIconTemplate),e.xp6(1),e.Q6J("ngIf",t.clearIconTemplate)}}function _n(r,D){if(1&r&&e._UZ(0,"span",27),2&r){const t=e.oxw(2);e.Q6J("ngClass",t.dropdownIcon)}}function Ut(r,D){1&r&&e._UZ(0,"ChevronDownIcon",28),2&r&&e.Q6J("styleClass","p-multiselect-trigger-icon")}function hn(r,D){if(1&r&&(e.ynx(0),e.YNc(1,_n,1,1,"span",25),e.YNc(2,Ut,1,1,"ChevronDownIcon",26),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.dropdownIcon),e.xp6(1),e.Q6J("ngIf",!t.dropdownIcon)}}function qt(r,D){}function Nt(r,D){1&r&&e.YNc(0,qt,0,0,"ng-template")}function Xe(r,D){if(1&r&&(e.TgZ(0,"span",29),e.YNc(1,Nt,1,0,null,22),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.dropdownIconTemplate)}}function gn(r,D){1&r&&e.GkF(0)}function Bt(r,D){1&r&&e.GkF(0)}const jt=function(r){return{options:r}};function mn(r,D){if(1&r&&(e.ynx(0),e.YNc(1,Bt,1,0,"ng-container",8),e.BQk()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",e.VKq(2,jt,t.filterOptions))}}function Jt(r,D){1&r&&e._UZ(0,"CheckIcon",28),2&r&&e.Q6J("styleClass","p-checkbox-icon")}function tt(r,D){}function Qt(r,D){1&r&&e.YNc(0,tt,0,0,"ng-template")}function vn(r,D){if(1&r&&(e.TgZ(0,"span",47),e.YNc(1,Qt,1,0,null,22),e.qZA()),2&r){const t=e.oxw(6);e.xp6(1),e.Q6J("ngTemplateOutlet",t.checkIconTemplate)}}function Yt(r,D){if(1&r&&(e.ynx(0),e.YNc(1,Jt,1,1,"CheckIcon",26),e.YNc(2,vn,2,1,"span",46),e.BQk()),2&r){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",!t.checkIconTemplate),e.xp6(1),e.Q6J("ngIf",t.checkIconTemplate)}}const Gt=function(r){return{"p-checkbox-disabled":r}},yn=function(r,D,t){return{"p-highlight":r,"p-focus":D,"p-disabled":t}};function Ht(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"div",43)(1,"div",2)(2,"input",44),e.NdJ("focus",function(){e.CHM(t);const m=e.oxw(4);return e.KtG(m.onHeaderCheckboxFocus())})("blur",function(){e.CHM(t);const m=e.oxw(4);return e.KtG(m.onHeaderCheckboxBlur())})("keydown.space",function(m){e.CHM(t);const z=e.oxw(4);return e.KtG(z.toggleAll(m))}),e.qZA()(),e.TgZ(3,"div",45),e.NdJ("click",function(m){e.CHM(t);const z=e.oxw(4);return e.KtG(z.toggleAll(m))}),e.YNc(4,Yt,3,2,"ng-container",7),e.qZA()()}if(2&r){const t=e.oxw(4);e.Q6J("ngClass",e.VKq(6,Gt,t.disabled||t.toggleAllDisabled)),e.xp6(2),e.Q6J("checked",t.allChecked)("disabled",t.disabled||t.toggleAllDisabled),e.xp6(1),e.Q6J("ngClass",e.kEZ(8,yn,t.allChecked,t.headerCheckboxFocus,t.disabled||t.toggleAllDisabled)),e.uIk("aria-checked",t.allChecked),e.xp6(1),e.Q6J("ngIf",t.allChecked)}}function xn(r,D){1&r&&e._UZ(0,"SearchIcon",28),2&r&&e.Q6J("styleClass","p-multiselect-filter-icon")}function Vt(r,D){}function at(r,D){1&r&&e.YNc(0,Vt,0,0,"ng-template")}function ft(r,D){if(1&r&&(e.TgZ(0,"span",52),e.YNc(1,at,1,0,null,22),e.qZA()),2&r){const t=e.oxw(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterIconTemplate)}}function Ct(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"div",48)(1,"input",49,50),e.NdJ("input",function(m){e.CHM(t);const z=e.oxw(4);return e.KtG(z.onFilterInputChange(m))}),e.qZA(),e.YNc(3,xn,1,1,"SearchIcon",26),e.YNc(4,ft,2,1,"span",51),e.qZA()}if(2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("value",t.filterValue||"")("disabled",t.disabled),e.uIk("autocomplete",t.autocomplete)("placeholder",t.filterPlaceHolder)("aria-label",t.ariaFilterLabel),e.xp6(2),e.Q6J("ngIf",!t.filterIconTemplate),e.xp6(1),e.Q6J("ngIf",t.filterIconTemplate)}}function bn(r,D){1&r&&e._UZ(0,"TimesIcon",28),2&r&&e.Q6J("styleClass","p-multiselect-close-icon")}function Wt(r,D){}function ut(r,D){1&r&&e.YNc(0,Wt,0,0,"ng-template")}function wt(r,D){if(1&r&&(e.TgZ(0,"span",53),e.YNc(1,ut,1,0,null,22),e.qZA()),2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t.closeIconTemplate)}}function et(r,D){if(1&r){const t=e.EpF();e.YNc(0,Ht,5,12,"div",39),e.YNc(1,Ct,5,7,"div",40),e.TgZ(2,"button",41),e.NdJ("click",function(m){e.CHM(t);const z=e.oxw(3);return e.KtG(z.close(m))}),e.YNc(3,bn,1,1,"TimesIcon",26),e.YNc(4,wt,2,1,"span",42),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("ngIf",t.showToggleAll&&!t.selectionLimit),e.xp6(1),e.Q6J("ngIf",t.filter),e.xp6(2),e.Q6J("ngIf",!t.closeIconTemplate),e.xp6(1),e.Q6J("ngIf",t.closeIconTemplate)}}function $t(r,D){if(1&r&&(e.TgZ(0,"div",36),e.Hsn(1),e.YNc(2,gn,1,0,"ng-container",22),e.YNc(3,mn,2,4,"ng-container",37),e.YNc(4,et,5,4,"ng-template",null,38,e.W1O),e.qZA()),2&r){const t=e.MAs(5),g=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",g.headerTemplate),e.xp6(1),e.Q6J("ngIf",g.filterTemplate)("ngIfElse",t)}}function Kt(r,D){1&r&&e.GkF(0)}const Xt=function(r,D){return{$implicit:r,options:D}};function Tn(r,D){if(1&r&&e.YNc(0,Kt,1,0,"ng-container",8),2&r){const t=D.$implicit,g=D.options;e.oxw(2);const m=e.MAs(6);e.Q6J("ngTemplateOutlet",m)("ngTemplateOutletContext",e.WLB(2,Xt,t,g))}}function rt(r,D){1&r&&e.GkF(0)}function St(r,D){if(1&r&&e.YNc(0,rt,1,0,"ng-container",8),2&r){const t=D.options,g=e.oxw(4);e.Q6J("ngTemplateOutlet",g.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,jt,t))}}function en(r,D){1&r&&(e.ynx(0),e.YNc(1,St,1,4,"ng-template",56),e.BQk())}function On(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-scroller",54,55),e.NdJ("onLazyLoad",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.onLazyLoad.emit(m))}),e.YNc(2,Tn,1,5,"ng-template",13),e.YNc(3,en,2,0,"ng-container",7),e.qZA()}if(2&r){const t=e.oxw(2);e.Akn(e.VKq(9,ke,t.scrollHeight)),e.Q6J("items",t.optionsToRender)("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("tabindex",-1)("lazy",t.lazy)("options",t.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",t.loaderTemplate)}}function Cn(r,D){1&r&&e.GkF(0)}const tn=function(){return{}};function nn(r,D){if(1&r&&(e.ynx(0),e.YNc(1,Cn,1,0,"ng-container",8),e.BQk()),2&r){e.oxw();const t=e.MAs(6),g=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.WLB(3,Xt,g.optionsToRender,e.DdM(2,tn)))}}function At(r,D){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,g=e.oxw(4);e.xp6(1),e.Oqu(g.getOptionGroupLabel(t)||"empty")}}function wn(r,D){1&r&&e.GkF(0)}function Sn(r,D){1&r&&e.GkF(0)}function rn(r,D){if(1&r&&(e.TgZ(0,"li",62),e.YNc(1,At,2,1,"span",7),e.YNc(2,wn,1,0,"ng-container",8),e.qZA(),e.YNc(3,Sn,1,0,"ng-container",8)),2&r){const t=D.$implicit,g=e.oxw(2).options,m=e.MAs(5),z=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,ke,g.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!z.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",z.groupTemplate)("ngTemplateOutletContext",e.VKq(8,Fe,t)),e.xp6(1),e.Q6J("ngTemplateOutlet",m)("ngTemplateOutletContext",e.VKq(10,Fe,z.getOptionGroupChildren(t)))}}function lt(r,D){if(1&r&&(e.ynx(0),e.YNc(1,rn,4,12,"ng-template",61),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function st(r,D){1&r&&e.GkF(0)}function _t(r,D){if(1&r&&(e.ynx(0),e.YNc(1,st,1,0,"ng-container",8),e.BQk()),2&r){const t=e.oxw().$implicit,g=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",g)("ngTemplateOutletContext",e.VKq(2,Fe,t))}}function on(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-multiSelectItem",63),e.NdJ("onClick",function(m){e.CHM(t);const z=e.oxw(4);return e.KtG(z.onOptionClick(m))})("onKeydown",function(m){e.CHM(t);const z=e.oxw(4);return e.KtG(z.onOptionKeydown(m))}),e.qZA()}if(2&r){const t=D.$implicit,g=e.oxw(2).options,m=e.oxw(2);e.Q6J("option",t)("selected",m.isSelected(t))("label",m.getOptionLabel(t))("disabled",m.isOptionDisabled(t))("template",m.itemTemplate)("checkIconTemplate",m.checkIconTemplate)("itemSize",g.itemSize)}}function An(r,D){1&r&&e.YNc(0,on,1,7,"ng-template",61),2&r&&e.Q6J("ngForOf",D.$implicit)}function Ye(r,D){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.emptyFilterMessageLabel," ")}}function ht(r,D){1&r&&e.GkF(0,null,65)}function an(r,D){if(1&r&&(e.TgZ(0,"li",64),e.YNc(1,Ye,2,1,"ng-container",37),e.YNc(2,ht,2,0,"ng-container",22),e.qZA()),2&r){const t=e.oxw().options,g=e.oxw(2);e.Q6J("ngStyle",e.VKq(4,ke,t.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!g.emptyFilterTemplate&&!g.emptyTemplate)("ngIfElse",g.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",g.emptyFilterTemplate||g.emptyTemplate)}}function En(r,D){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.emptyMessageLabel," ")}}function Mn(r,D){1&r&&e.GkF(0,null,66)}function gt(r,D){if(1&r&&(e.TgZ(0,"li",64),e.YNc(1,En,2,1,"ng-container",37),e.YNc(2,Mn,2,0,"ng-container",22),e.qZA()),2&r){const t=e.oxw().options,g=e.oxw(2);e.Q6J("ngStyle",e.VKq(4,ke,t.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!g.emptyTemplate)("ngIfElse",g.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",g.emptyTemplate)}}function un(r,D){if(1&r&&(e.TgZ(0,"ul",57,58),e.YNc(2,lt,2,1,"ng-container",7),e.YNc(3,_t,2,4,"ng-container",7),e.YNc(4,An,1,1,"ng-template",null,59,e.W1O),e.YNc(6,an,3,6,"li",60),e.YNc(7,gt,3,6,"li",60),e.qZA()),2&r){const t=D.options,g=e.oxw(2);e.Akn(t.contentStyle),e.Q6J("ngClass",t.contentStyleClass),e.xp6(2),e.Q6J("ngIf",g.group),e.xp6(1),e.Q6J("ngIf",!g.group),e.xp6(3),e.Q6J("ngIf",g.hasFilter()&&g.isEmpty()),e.xp6(1),e.Q6J("ngIf",!g.hasFilter()&&g.isEmpty())}}function kn(r,D){1&r&&e.GkF(0)}function Zn(r,D){if(1&r&&(e.TgZ(0,"div",67),e.Hsn(1,1),e.YNc(2,kn,1,0,"ng-container",22),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const In=function(){return["p-multiselect-panel p-component"]};function Rn(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"div",30),e.NdJ("keydown",function(m){e.CHM(t);const z=e.oxw();return e.KtG(z.onKeydown(m))}),e.YNc(1,$t,6,3,"div",31),e.TgZ(2,"div",32),e.YNc(3,On,4,11,"p-scroller",33),e.YNc(4,nn,2,6,"ng-container",7),e.YNc(5,un,8,7,"ng-template",null,34,e.W1O),e.qZA(),e.YNc(7,Zn,3,1,"div",35),e.qZA()}if(2&r){const t=e.oxw();e.Tol(t.panelStyleClass),e.Q6J("ngClass",e.DdM(10,In))("ngStyle",t.panelStyle),e.xp6(1),e.Q6J("ngIf",t.showHeader),e.xp6(1),e.Udp("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),e.xp6(1),e.Q6J("ngIf",t.virtualScroll),e.xp6(1),e.Q6J("ngIf",!t.virtualScroll),e.xp6(3),e.Q6J("ngIf",t.footerFacet||t.footerTemplate)}}const Dn=[[["p-header"]],[["p-footer"]]],ln=function(r,D,t,g){return{"p-multiselect p-component":!0,"p-multiselect-open":r,"p-multiselect-chip":D,"p-focus":t,"p-disabled":g}},Pn=function(r,D){return{"p-placeholder":r,"p-multiselect-label-empty":D}},Ln=function(r,D){return{$implicit:r,removeChip:D}},sn=function(){return{"p-multiselect-trigger":!0}},zn=["p-header","p-footer"],Et={provide:Y.JU,useExisting:(0,e.Gpc)(()=>it),multi:!0};let Fn=(()=>{class r{option;selected;label;disabled;itemSize;template;checkIconTemplate;onClick=new e.vpe;onKeydown=new e.vpe;onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option,selected:this.selected})}onOptionKeydown(t){this.onKeydown.emit({originalEvent:t,option:this.option})}static \u0275fac=function(g){return new(g||r)};static \u0275cmp=e.Xpm({type:r,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template",checkIconTemplate:"checkIconTemplate"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:18,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"]],template:function(g,m){1&g&&(e.TgZ(0,"li",0),e.NdJ("click",function(J){return m.onOptionClick(J)})("keydown",function(J){return m.onOptionKeydown(J)}),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,xe,3,2,"ng-container",3),e.qZA()(),e.YNc(4,Ae,2,1,"span",3),e.YNc(5,Re,1,0,"ng-container",4),e.qZA()),2&g&&(e.Q6J("ngStyle",e.VKq(9,ke,m.itemSize+"px"))("ngClass",e.WLB(11,ze,m.selected,m.disabled)),e.uIk("aria-label",m.label)("tabindex",m.disabled?null:"0"),e.xp6(2),e.Q6J("ngClass",e.VKq(14,qe,m.selected)),e.xp6(1),e.Q6J("ngIf",m.selected),e.xp6(1),e.Q6J("ngIf",!m.template),e.xp6(1),e.Q6J("ngTemplateOutlet",m.template)("ngTemplateOutletContext",e.VKq(16,Fe,m.option)))},dependencies:function(){return[n.mk,n.O5,n.tP,n.PC,ne.H,oe.n]},encapsulation:2})}return r})(),it=(()=>{class r{el;renderer;cd;zone;filterService;config;overlayService;style;styleClass;panelStyle;panelStyleClass;inputId;disabled;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible;tabindex;appendTo;dataKey;name;label;ariaLabelledBy;displaySelectedLabel=!0;maxSelectedLabels=3;selectedItemsLabel="ellipsis";showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel;optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!0;display="comma";autocomplete="on";showClear=!1;get autoZIndex(){return this._autoZIndex}set autoZIndex(t){this._autoZIndex=t,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(t){this._baseZIndex=t,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(t){this._defaultLabel=t,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(t){this._placeholder=t,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(t){this._options=t,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get selectionLimit(){return this._selectionLimit}set selectionLimit(t){this._selectionLimit=t,this.checkSelectionLimit()}containerViewChild;overlayViewChild;filterInputChild;accessibleViewChild;itemsViewChild;scroller;footerFacet;headerFacet;templates;onChange=new e.vpe;onFilter=new e.vpe;onFocus=new e.vpe;onBlur=new e.vpe;onClick=new e.vpe;onClear=new e.vpe;onPanelShow=new e.vpe;onPanelHide=new e.vpe;onLazyLoad=new e.vpe;onRemove=new e.vpe;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_defaultLabel;_placeholder;_itemSize;_selectionLimit;value;_filteredOptions;onModelChange=()=>{};onModelTouched=()=>{};valuesAsString;focus;filled;_filterValue;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;checkIconTemplate;filterIconTemplate;removeTokenIconTemplate;closeIconTemplate;clearIconTemplate;dropdownIconTemplate;headerCheckboxFocus;filterOptions;_options;maxSelectionLimitReached;preventModelTouched;preventDocumentDefault;constructor(t,g,m,z,J,le,he){this.el=t,this.renderer=g,this.cd=m,this.zone=z,this.filterService=J,this.config=le,this.overlayService=he}ngOnInit(){this.updateLabel(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"selectedItems":this.selectedItemsTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"checkicon":this.checkIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;case"removetokenicon":this.removeTokenIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"dropdownicon":this.dropdownIconTemplate=t.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}getOptionLabel(t){return this.optionLabel?B.gb.resolveFieldData(t,this.optionLabel):t&&null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?B.gb.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&void 0!==t.value?t.value:t}getOptionGroupLabel(t){return this.optionGroupLabel?B.gb.resolveFieldData(t,this.optionGroupLabel):t&&null!=t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?B.gb.resolveFieldData(t,this.optionGroupChildren):t.items}isOptionDisabled(t){return(this.optionDisabled?B.gb.resolveFieldData(t,this.optionDisabled):!(!t||void 0===t.disabled)&&t.disabled)||this.maxSelectionLimitReached&&!this.isSelected(t)}writeValue(t){this.value=t,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onOptionClick(t){let g=t.option;if(this.isOptionDisabled(g))return;let m=this.getOptionValue(g),z=this.findSelectionIndex(m);-1!=z?(this.value=this.value.filter((J,le)=>le!=z),this.onRemove.emit({newValue:this.value,removed:m}),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],m]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:t.originalEvent,value:this.value,itemValue:m}),this.updateLabel(),this.updateFilledState()}isSelected(t){return-1!=this.findSelectionIndex(this.getOptionValue(t))}findSelectionIndex(t){let g=-1;if(this.value)for(let m=0;m<this.value.length;m++)if(B.gb.equals(this.value[m],t,this.dataKey)){g=m;break}return g}get toggleAllDisabled(){let t=this.optionsToRender;if(!t||0===t.length)return!0;for(let g of t)if(!this.isOptionDisabled(g))return!1;return!0}toggleAll(t){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateFilledState(),this.updateLabel(),t.preventDefault(),t.stopPropagation())}checkAll(){let g=[];this.optionsToRender.forEach(m=>{if(this.group){let z=this.getOptionGroupChildren(m);z&&z.forEach(J=>{let le=this.isOptionDisabled(J);(!le||le&&this.isSelected(J))&&g.push(this.getOptionValue(J))})}else{let z=this.isOptionDisabled(m);(!z||z&&this.isSelected(m))&&g.push(this.getOptionValue(m))}}),this.value=g}uncheckAll(){let g=[];this.optionsToRender.forEach(m=>{this.group?m.items&&m.items.forEach(z=>{this.isOptionDisabled(z)&&this.isSelected(z)&&g.push(this.getOptionValue(z))}):this.isOptionDisabled(m)&&this.isSelected(m)&&g.push(this.getOptionValue(m))}),this.value=g}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayAnimationStart(t){switch(t.toState){case"visible":this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onModelTouched()}}hide(){this.overlayVisible=!1,this.resetFilterOnHide&&this.resetFilter(),this.onPanelHide.emit(),this.cd.markForCheck()}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}close(t){this.hide(),t.preventDefault(),t.stopPropagation()}clear(t){this.value=null,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.onClear.emit(),this.onModelChange(this.value),t.stopPropagation()}onMouseclick(t,g){this.disabled||this.readonly||t.target.isSameNode(this.accessibleViewChild?.nativeElement)||(this.onClick.emit(t),!this.overlayViewChild?.el?.nativeElement?.contains(t.target)&&!V.p.hasClass(t.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():this.show(),g.focus()))}removeChip(t,g){this.value=this.value.filter(m=>!B.gb.equals(m,t,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:g,value:this.value,itemValue:t}),this.updateLabel(),this.updateFilledState()}onInputFocus(t){this.focus=!0,this.onFocus.emit({originalEvent:t})}onInputBlur(t){this.focus=!1,this.onBlur.emit({originalEvent:t}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(t){if(!this.readonly)switch(t.originalEvent.which){case 40:var g=this.findNextItem(t.originalEvent.target.parentElement);g&&g.focus(),t.originalEvent.preventDefault();break;case 38:var m=this.findPrevItem(t.originalEvent.target.parentElement);m&&m.focus(),t.originalEvent.preventDefault();break;case 13:this.onOptionClick(t),t.originalEvent.preventDefault();break;case 27:case 9:this.hide()}}findNextItem(t){let g=t.nextElementSibling;return g?V.p.hasClass(g.children[0],"p-disabled")||V.p.isHidden(g.children[0])||V.p.hasClass(g,"p-multiselect-item-group")?this.findNextItem(g):g.children[0]:null}findPrevItem(t){let g=t.previousElementSibling;return g?V.p.hasClass(g.children[0],"p-disabled")||V.p.isHidden(g.children[0])||V.p.hasClass(g,"p-multiselect-item-group")?this.findPrevItem(g):g.children[0]:null}onKeydown(t){switch(t.which){case 40:!this.overlayVisible&&t.altKey&&(this.show(),t.preventDefault());break;case 32:this.overlayVisible||(this.show(),t.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let t="";for(let g=0;g<this.value.length;g++){let m=this.findLabelByValue(this.value[g]);m&&(t.length>0&&(t+=", "),t+=m)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=t;else{let g=/{(.*?)}/;this.valuesAsString=g.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(g)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(t){if(this.group){let g=null;for(let m=0;m<this.options.length;m++){let z=this.getOptionGroupChildren(this.options[m]);if(z&&(g=this.searchLabelByValue(t,z),g))break}return g}return this.searchLabelByValue(t,this.options)}searchLabelByValue(t,g){let m=null;for(let z=0;z<g.length;z++){let J=g[z],le=this.getOptionValue(J);if(null==t&&null==le||B.gb.equals(t,le,this.dataKey)){m=this.getOptionLabel(J);break}}return m}get allChecked(){let t=this.optionsToRender;if(!t||0===t.length)return!1;{let g=0,m=0,z=0,J=this.group?0:this.optionsToRender.length;for(let le of t)if(this.group)for(let he of this.getOptionGroupChildren(le)){let ge=this.isOptionDisabled(he),ye=this.isSelected(he);if(ge)ye?g++:m++;else{if(!ye)return!1;z++}J++}else{let he=this.isOptionDisabled(le),ge=this.isSelected(le);if(he)ge?g++:m++;else{if(!ge)return!1;z++}}return J===g||J===z||z&&J===z+m+g}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(C.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(C.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilterInputChange(t){this._filterValue=t.target.value,this.activateFilter(),this.filtered=!0,this.onFilter.emit({originalEvent:t,filter:this._filterValue}),this.cd.detectChanges()}activateFilter(){if(this.hasFilter()&&this._options){let t=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let g=[];for(let m of this.options){let z=this.filterService.filter(this.getOptionGroupChildren(m),t,this.filterValue,this.filterMatchMode,this.filterLocale);z&&z.length&&g.push({...m,[this.optionGroupChildren]:z})}this._filteredOptions=g}else this._filteredOptions=this.filterService.filter(this.options,t,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}static \u0275fac=function(g){return new(g||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(C.iZ),e.Y36(C.b4),e.Y36(C.F0))};static \u0275cmp=e.Xpm({type:r,selectors:[["p-multiSelect"]],contentQueries:function(g,m,z){if(1&g&&(e.Suo(z,C.$_,5),e.Suo(z,C.h4,5),e.Suo(z,C.jx,4)),2&g){let J;e.iGM(J=e.CRH())&&(m.footerFacet=J.first),e.iGM(J=e.CRH())&&(m.headerFacet=J.first),e.iGM(J=e.CRH())&&(m.templates=J)}},viewQuery:function(g,m){if(1&g&&(e.Gf(Ue,5),e.Gf(Qe,5),e.Gf(He,5),e.Gf(Ke,5),e.Gf(Ve,5),e.Gf(Zt,5)),2&g){let z;e.iGM(z=e.CRH())&&(m.containerViewChild=z.first),e.iGM(z=e.CRH())&&(m.overlayViewChild=z.first),e.iGM(z=e.CRH())&&(m.filterInputChild=z.first),e.iGM(z=e.CRH())&&(m.accessibleViewChild=z.first),e.iGM(z=e.CRH())&&(m.itemsViewChild=z.first),e.iGM(z=e.CRH())&&(m.scroller=z.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(g,m){2&g&&e.ekj("p-inputwrapper-filled",m.filled)("p-inputwrapper-focus",m.focus||m.overlayVisible)("p-multiselect-clearable",m.showClear&&!m.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize",selectionLimit:"selectionLimit"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove"},features:[e._Bn([Et])],ngContentSelectors:zn,decls:16,vars:43,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["class","p-multiselect-trigger-icon",4,"ngIf"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-multiselect-token-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-multiselect-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-multiselect-clear-icon",3,"click",4,"ngIf"],[1,"p-multiselect-clear-icon",3,"click"],["class","p-multiselect-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-multiselect-trigger-icon"],[3,"ngClass","ngStyle","keydown"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link","p-button-icon-only",3,"click"],["class","p-multiselect-close-icon",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],["class","p-checkbox-icon",4,"ngIf"],[1,"p-checkbox-icon"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],["class","p-multiselect-filter-icon",4,"ngIf"],[1,"p-multiselect-filter-icon"],[1,"p-multiselect-close-icon"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["itemslist",""],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","checkIconTemplate","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(g,m){if(1&g){const z=e.EpF();e.F$t(Dn),e.TgZ(0,"div",0,1),e.NdJ("click",function(le){e.CHM(z);const he=e.MAs(4);return e.KtG(m.onMouseclick(le,he))}),e.TgZ(2,"div",2)(3,"input",3,4),e.NdJ("focus",function(le){return m.onInputFocus(le)})("blur",function(le){return m.onInputBlur(le)})("keydown",function(le){return m.onKeydown(le)}),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6),e.YNc(7,Pt,3,2,"ng-container",7),e.YNc(8,Tt,1,0,"ng-container",8),e.qZA(),e.YNc(9,fn,3,2,"ng-container",7),e.qZA(),e.TgZ(10,"div",9),e.YNc(11,hn,3,2,"ng-container",7),e.YNc(12,Xe,2,1,"span",10),e.qZA(),e.TgZ(13,"p-overlay",11,12),e.NdJ("visibleChange",function(le){return m.overlayVisible=le})("onAnimationStart",function(le){return m.onOverlayAnimationStart(le)})("onHide",function(){return m.hide()}),e.YNc(15,Rn,8,11,"ng-template",13),e.qZA()()}2&g&&(e.Tol(m.styleClass),e.Q6J("ngClass",e.l5B(31,ln,m.overlayVisible,"chip"===m.display,m.focus,m.disabled))("ngStyle",m.style),e.xp6(3),e.Q6J("disabled",m.disabled),e.uIk("label",m.label)("id",m.inputId)("name",m.name)("tabindex",m.tabindex)("aria-expanded",m.overlayVisible)("aria-labelledby",m.ariaLabelledBy),e.xp6(2),e.Q6J("pTooltip",m.tooltip)("tooltipPosition",m.tooltipPosition)("positionStyle",m.tooltipPositionStyle)("tooltipStyleClass",m.tooltipStyleClass),e.xp6(1),e.Q6J("ngClass",e.WLB(36,Pn,m.valuesAsString===(m.defaultLabel||m.placeholder),!(null!=m.valuesAsString&&0!==m.valuesAsString.length||null!=m.placeholder&&0!==m.placeholder.length))),e.xp6(1),e.Q6J("ngIf",!m.selectedItemsTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",m.selectedItemsTemplate)("ngTemplateOutletContext",e.WLB(39,Ln,m.value,m.removeChip.bind(m))),e.xp6(1),e.Q6J("ngIf",null!=m.value&&m.filled&&!m.disabled&&m.showClear),e.xp6(1),e.Q6J("ngClass",e.DdM(42,sn)),e.xp6(1),e.Q6J("ngIf",!m.dropdownIconTemplate),e.xp6(1),e.Q6J("ngIf",m.dropdownIconTemplate),e.xp6(1),e.Q6J("visible",m.overlayVisible)("options",m.overlayOptions)("target","@parent")("appendTo",m.appendTo)("autoZIndex",m.autoZIndex)("baseZIndex",m.baseZIndex)("showTransitionOptions",m.showTransitionOptions)("hideTransitionOptions",m.hideTransitionOptions))},dependencies:function(){return[n.mk,n.sg,n.O5,n.tP,n.PC,ee.aV,C.jx,K.u,ne.H,W.T,oe.n,ae.W,te.x,se.q,H.v,Fn]},styles:["@layer primeng{.p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}}\n"],encapsulation:2,changeDetection:0})}return r})(),h=(()=>{class r{static \u0275fac=function(g){return new(g||r)};static \u0275mod=e.oAB({type:r});static \u0275inj=e.cJS({imports:[n.ez,ee.U8,C.m8,K.z,ne.T,W.v,oe.n,ae.W,te.x,se.q,H.v,oe.n,ee.U8,C.m8,W.v]})}return r})();var w=x(2328),R=x(6128),N=x(9232),$=x(6263),re=x(4104);function _e(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"div",6)(1,"p-calendar",7),e.NdJ("ngModelChange",function(m){e.CHM(t);const z=e.oxw();return e.KtG(z.filterModel.dateRange=m)}),e.qZA(),e.TgZ(2,"p-button",8),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.findOrders())}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.filterModel.dateRange)("showClear",!0)("selectOtherMonths",!0)("readonlyInput",!0)}}function ve(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-button",9),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.importOrders())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("icon",t.isLoading?"pi pi-download":"")}}function Se(r,D){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw().ngIf;e.xp6(1),e.hij("~",e.xi3(2,1,t.expectedPayout,"1.2-2"),"\u20bd")}}function De(r,D){1&r&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function Le(r,D){1&r&&(e.TgZ(0,"div",33)(1,"span",34),e._uU(2,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b\u044b"),e.qZA()())}function We(r,D){if(1&r&&(e.TgZ(0,"div",38),e._UZ(1,"img",39),e.TgZ(2,"div"),e._uU(3),e.qZA()()),2&r){const t=D.$implicit;e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.id)}}function $e(r,D){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=D.$implicit;e.xp6(1),e.hij(" ",t,", ")}}function nt(r,D){1&r&&e.YNc(0,$e,2,1,"ng-container",40),2&r&&e.Q6J("ngForOf",D.$implicit)}function mt(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-multiSelect",35),e.NdJ("onChange",function(m){const J=e.CHM(t).filterCallback;return e.KtG(J(m.value))}),e.YNc(1,We,4,2,"ng-template",36),e.YNc(2,nt,1,1,"ng-template",37),e.qZA()}if(2&r){const t=D.$implicit,g=e.oxw(4);e.Q6J("ngModel",t)("filter",!1)("options",g.productPackageIDs)}}function Mt(r,D){1&r&&(e.TgZ(0,"div",33)(1,"span",34),e._uU(2,"\u0421\u0442\u0430\u0442\u0443\u0441\u044b"),e.qZA()())}function S(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-multiSelect",41),e.NdJ("onChange",function(m){const J=e.CHM(t).filterCallback;return e.KtG(J(m.value))}),e.qZA()}if(2&r){const t=D.$implicit,g=e.oxw(4);e.Q6J("ngModel",t)("filter",!1)("options",g.orderStatuses)}}function L(r,D){1&r&&(e.TgZ(0,"div",33)(1,"span",34),e._uU(2,"\u0421\u043a\u043b\u0430\u0434\u044b"),e.qZA()())}function O(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-multiSelect",42),e.NdJ("onChange",function(m){const J=e.CHM(t).filterCallback;return e.KtG(J(m.value))}),e.qZA()}if(2&r){const t=D.$implicit,g=e.oxw(4);e.Q6J("ngModel",t)("filter",!1)("options",g.warehouses)}}function o(r,D){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",24),e.TgZ(2,"th",25),e._uU(3," \u0417\u0430\u043a\u0430\u0437 "),e._UZ(4,"p-sortIcon",26),e.TgZ(5,"p-columnFilter",27),e.YNc(6,Le,3,0,"ng-template",20),e.YNc(7,mt,3,3,"ng-template",28),e.qZA()(),e.TgZ(8,"th",29),e._uU(9,"\u0421\u0443\u043c\u043c\u0430 "),e._UZ(10,"p-sortIcon",30),e.qZA(),e.TgZ(11,"th"),e._uU(12," \u0421\u0442\u0430\u0442\u0443\u0441 "),e.TgZ(13,"p-columnFilter",31),e.YNc(14,Mt,3,0,"ng-template",20),e.YNc(15,S,1,3,"ng-template",28),e.qZA(),e._uU(16," / \u0421\u043a\u043b\u0430\u0434 "),e.TgZ(17,"p-columnFilter",32),e.YNc(18,L,3,0,"ng-template",20),e.YNc(19,O,1,3,"ng-template",28),e.qZA()()()),2&r&&(e.xp6(5),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),e.xp6(8),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),e.xp6(4),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1))}function f(r,D){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"img",50),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.primaryImage,e.LSH)}}function _(r,D){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" - ",t.price*t.quantity,"\u20bd")}}function v(r,D){if(1&r&&(e.ynx(0),e._UZ(1,"div",47),e.YNc(2,f,2,1,"div",17),e.TgZ(3,"span",48)(4,"a",49),e._uU(5),e.qZA(),e._uU(6),e.TgZ(7,"b"),e._uU(8),e.YNc(9,_,2,1,"ng-container",17),e.qZA()(),e.BQk()),2&r){const t=D.$implicit;e.xp6(2),e.Q6J("ngIf",t.primaryImage),e.xp6(1),e.Q6J("title",t.name),e.xp6(1),e.s9C("href",t.link,e.LSH),e.xp6(1),e.Oqu(t.productPackageID),e.xp6(1),e.hij(" x ",t.price,"\u20bd x "),e.xp6(2),e.hij("",t.quantity,"\u0448\u0442"),e.xp6(1),e.Q6J("ngIf",1!=t.quantity)}}function E(r,D){if(1&r&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2),e.TgZ(3,"p-tag",53),e._uU(4),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit,g=e.oxw(2).$implicit;e.xp6(2),e.hij(" ",t.value.city," - "),e.xp6(2),e.Oqu(g.key)}}function P(r,D){if(1&r&&(e.TgZ(0,"p-tag",54),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.value.cluster)}}function I(r,D){if(1&r&&(e.ynx(0),e.YNc(1,E,5,2,"ng-container",17),e.TgZ(2,"div"),e._UZ(3,"p-tag",51),e._uU(4),e.YNc(5,P,2,1,"p-tag",52),e.qZA(),e.BQk()),2&r){const t=D.$implicit,g=D.first,m=e.oxw().first,z=e.oxw(),J=z.first,le=z.$implicit;e.xp6(1),e.Q6J("ngIf",J&&m&&g),e.xp6(2),e.Q6J("severity",t.value.statusTag)("icon","pi "+t.value.statusIcon),e.xp6(1),e.AsE(" x",t.value.count," ",t.value.warehouse," "),e.xp6(1),e.Q6J("ngIf",t.value.cluster!=le.key)}}function F(r,D){if(1&r&&(e.ynx(0),e.YNc(1,I,6,6,"ng-container",40),e.ALo(2,"keyvalue"),e.BQk()),2&r){const t=D.$implicit;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.value))}}function j(r,D){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,F,3,3,"ng-container",40),e.ALo(2,"keyvalue"),e.qZA()),2&r){const t=D.$implicit;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.value))}}function ie(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"i",43),e.qZA(),e.TgZ(3,"td")(4,"div")(5,"span",44),e._uU(6,"\u0422\u043e\u0432\u0430\u0440"),e.qZA(),e.TgZ(7,"div",45),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"div"),e.YNc(11,v,10,7,"ng-container",40),e.qZA()()(),e.TgZ(12,"td")(13,"div")(14,"span",46),e._uU(15,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(16,"div"),e._uU(17),e.ALo(18,"number"),e.qZA()()(),e.TgZ(19,"td")(20,"div")(21,"span",46),e._uU(22,"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),e.qZA(),e.YNc(23,j,3,3,"div",40),e.ALo(24,"keyvalue"),e.qZA()()()),2&r){const t=D.$implicit,g=e.oxw(3);e.xp6(2),e.Gre("pi ",g.getOrderTypeIcon(t.type),""),e.Q6J("pRowToggler",t),e.xp6(6),e.Oqu(e.xi3(9,8,t.date,"y-MM-dd HH:mm")),e.xp6(3),e.Q6J("ngForOf",t.products),e.xp6(6),e.hij(" ",e.xi3(18,11,t.sum,"1.2-2"),"\u20bd "),e.xp6(6),e.Q6J("ngForOf",e.lcZ(24,14,t.directions))}}function de(r,D){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0426\u0435\u043d\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA()())}function ue(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",44),e._uU(4,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b"),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA()()(),e.TgZ(7,"td")(8,"div")(9,"span",44),e._uU(10,"\u0426\u0435\u043d\u0430"),e.qZA(),e.TgZ(11,"div"),e._uU(12),e.ALo(13,"number"),e.qZA()()(),e.TgZ(14,"td")(15,"div")(16,"span",44),e._uU(17,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e.TgZ(18,"div"),e._uU(19),e.qZA()()(),e.TgZ(20,"td")(21,"div")(22,"span",44),e._uU(23,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(24,"div"),e._uU(25),e.qZA()()()()),2&r){const t=D.$implicit;e.xp6(6),e.hij(" ",t.product.productPackageID," "),e.xp6(6),e.hij(" ",e.xi3(13,4,t.price,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",t.quantity," "),e.xp6(6),e.hij(" ",t.product.name," ")}}function pe(r,D){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA()())}function Te(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",44),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"div")(6,"a",57),e.ALo(7,"date"),e._uU(8),e.qZA()()()(),e.TgZ(9,"td")(10,"div")(11,"span",44),e._uU(12,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(13,"div"),e._uU(14),e.ALo(15,"date"),e.qZA()()(),e.TgZ(16,"td")(17,"div")(18,"span",44),e._uU(19,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(20,"div"),e._uU(21),e.ALo(22,"number"),e.qZA()()(),e.TgZ(23,"td")(24,"div")(25,"span",44),e._uU(26,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(27,"div"),e._uU(28),e.ALo(29,"number"),e.qZA()()(),e.TgZ(30,"td")(31,"div")(32,"span",44),e._uU(33,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(34,"div"),e._uU(35),e.qZA()()(),e.TgZ(36,"td")(37,"div")(38,"span",44),e._uU(39,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA(),e.TgZ(40,"div"),e._uU(41),e.qZA()()()()),2&r){const t=D.$implicit,g=e.oxw(7);e.xp6(6),e.hYB("href","https://seller.ozon.ru/app/finances/financial-statement/",t.iD,"?date=",e.xi3(7,8,t.date,"y-MM-dd HH:mm"),"",e.LSH),e.xp6(2),e.Oqu(t.iD),e.xp6(6),e.hij(" ",e.xi3(15,11,t.date,"y-MM-dd HH:mm")," "),e.xp6(7),e.hij(" ",e.xi3(22,14,t.amount,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",e.xi3(29,17,t.saleCommission,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",g.getOperationTypeText(t.operationType)," "),e.xp6(6),e.hij(" ",g.getTransactionTypeText(t.accrualType)," ")}}const we=function(){return{"min-width":"50rem"}};function Oe(r,D){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",55)(3,"h5")(4,"a",57),e._uU(5),e.qZA()()()(),e.TgZ(6,"tr")(7,"td",55)(8,"p-table",59),e.YNc(9,pe,13,0,"ng-template",20),e.YNc(10,Te,42,20,"ng-template",21),e.qZA()()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(4),e.MGl("href","https://seller.ozon.ru/app/finances/transactions-order?page=1&pageSize=50&search=",t.postingNumber,"",e.LSH),e.xp6(1),e.hij("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e \u2116",t.postingNumber,""),e.xp6(3),e.Q6J("value",t.operations)("breakpoint","960px")("tableStyle",e.DdM(5,we))}}function Me(r,D){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",56)(3,"a",57),e._uU(4),e.qZA(),e._UZ(5,"p-tag",58),e.qZA()(),e.TgZ(6,"tr")(7,"td",55)(8,"p-table",59),e.YNc(9,de,9,0,"ng-template",20),e.YNc(10,ue,26,7,"ng-template",21),e.qZA()()(),e.YNc(11,Oe,11,6,"ng-container",17),e.BQk()),2&r){const t=D.$implicit;e.xp6(3),e.MGl("href","https://seller.ozon.ru/app/postings/fbo/",t.postingNumber,"",e.LSH),e.xp6(1),e.hij("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u2116",t.postingNumber,""),e.xp6(1),e.Q6J("value",t.statusText)("severity",t.statusTag),e.xp6(3),e.Q6J("value",t.orderItems)("breakpoint","960px")("tableStyle",e.DdM(8,we)),e.xp6(3),e.Q6J("ngIf",null==t.operations?null:t.operations.length)}}function Ie(r,D){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",55)(3,"h5"),e._uU(4,"\u0421\u043e\u0441\u0442\u0430\u0432 \u0437\u0430\u043a\u0430\u0437\u0430"),e.qZA()()(),e.YNc(5,Me,12,9,"ng-container",40),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(5),e.Q6J("ngForOf",t.postings)}}function je(r,D){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA()())}function ct(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",44),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"div")(6,"a",57),e.ALo(7,"date"),e._uU(8),e.qZA()()()(),e.TgZ(9,"td")(10,"div")(11,"span",44),e._uU(12,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(13,"div"),e._uU(14),e.ALo(15,"date"),e.qZA()()(),e.TgZ(16,"td")(17,"div")(18,"span",44),e._uU(19,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(20,"div"),e._uU(21),e.ALo(22,"number"),e.qZA()()(),e.TgZ(23,"td")(24,"div")(25,"span",44),e._uU(26,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(27,"div"),e._uU(28),e.ALo(29,"number"),e.qZA()()(),e.TgZ(30,"td")(31,"div")(32,"span",44),e._uU(33,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(34,"div"),e._uU(35),e.qZA()()(),e.TgZ(36,"td")(37,"div")(38,"span",44),e._uU(39,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA(),e.TgZ(40,"div"),e._uU(41),e.qZA()()()()),2&r){const t=D.$implicit,g=e.oxw(5);e.xp6(6),e.hYB("href","https://seller.ozon.ru/app/finances/financial-statement/",t.iD,"?date=",e.xi3(7,8,t.date,"y-MM-dd HH:mm"),"",e.LSH),e.xp6(2),e.Oqu(t.iD),e.xp6(6),e.hij(" ",e.xi3(15,11,t.date,"y-MM-dd HH:mm")," "),e.xp6(7),e.hij(" ",e.xi3(22,14,t.amount,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",e.xi3(29,17,t.saleCommission,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",g.getOperationTypeText(t.operationType)," "),e.xp6(6),e.hij(" ",g.getTransactionTypeText(t.accrualType)," ")}}function Un(r,D){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",55)(3,"h5")(4,"a",57),e._uU(5),e.qZA()()()(),e.TgZ(6,"tr")(7,"td",55)(8,"p-table",60),e.YNc(9,je,13,0,"ng-template",20),e.YNc(10,ct,42,20,"ng-template",21),e.qZA()()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(4),e.MGl("href","https://seller.ozon.ru/app/finances/transactions-order?page=1&pageSize=50&search=",t.ozonOrderNumber,"",e.LSH),e.xp6(1),e.hij("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 \u2116",t.ozonOrderNumber,""),e.xp6(3),e.Q6J("value",t.orderOperations)("breakpoint","960px")("tableStyle",e.DdM(5,we))}}function $n(r,D){if(1&r&&(e.YNc(0,Ie,6,1,"ng-container",17),e.YNc(1,Un,11,6,"ng-container",17)),2&r){const t=D.$implicit;e.Q6J("ngIf",null==t.postings?null:t.postings.length),e.xp6(1),e.Q6J("ngIf",null==t.orderOperations?null:t.orderOperations.length)}}function Kn(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"th",55)(2,"table",61)(3,"tr"),e._UZ(4,"th"),e.TgZ(5,"th"),e._uU(6,"\u0417\u0430\u043a\u0430\u0437\u043e\u0432"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0422\u043e\u0432\u0430\u0440\u043e\u0432"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041e\u0442\u043c\u0435\u043d"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0421\u0443\u043c\u043c\u0430"),e.qZA()(),e.TgZ(13,"tr")(14,"th"),e._uU(15,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"number"),e.qZA()(),e.TgZ(25,"tr")(26,"th"),e._uU(27,"\u0412\u0441\u0435\u0433\u043e"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.qZA(),e.TgZ(30,"td"),e._uU(31),e.qZA(),e.TgZ(32,"td"),e._uU(33),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.ALo(36,"number"),e.qZA()()()()()),2&r){const t=e.oxw(4);e.xp6(17),e.Oqu(t.pageOrderCount),e.xp6(2),e.Oqu(t.pageItemCount),e.xp6(2),e.Oqu(t.pageCanceledItemCount),e.xp6(2),e.hij("",e.xi3(24,8,t.pageOrderSum,"1.2-2"),"\u20bd"),e.xp6(6),e.Oqu(t.totalOrderCount),e.xp6(2),e.Oqu(t.totalItemCount),e.xp6(2),e.Oqu(t.totalCanceledItemCount),e.xp6(2),e.hij("",e.xi3(36,11,t.totalOrderSum,"1.2-2"),"\u20bd")}}function Xn(r,D){if(1&r&&e.YNc(0,Kn,37,14,"tr",17),2&r){const t=e.oxw(3);e.Q6J("ngIf",t.pageOrderCount)}}const er=function(){return[30,50,100]},tr=function(){return{}};function nr(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-table",19),e.NdJ("onPage",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.pageChange(m))})("onFilter",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.onFilter(m))}),e.YNc(1,o,20,9,"ng-template",20),e.YNc(2,ie,25,16,"ng-template",21),e.YNc(3,$n,2,2,"ng-template",22),e.YNc(4,Xn,1,1,"ng-template",23),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("value",t.data)("loading",t.loading)("paginator",!0)("showCurrentPageReport",!1)("rows",t.filterModel.rows)("rowsPerPageOptions",e.DdM(7,er))("tableStyle",e.DdM(8,tr))}}function rr(r,D){if(1&r&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"div",15),e._uU(6,"\u0417\u0430\u043a\u0430\u0437\u044b"),e.qZA(),e.TgZ(7,"div")(8,"div",16)(9,"span"),e._uU(10,"\u0417\u0430\u043a\u0430\u0437\u043e\u0432"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.qZA()()(),e.TgZ(13,"div",16)(14,"span"),e._uU(15,"\u0422\u043e\u0432\u0430\u0440\u043e\u0432"),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"div")(19,"div",16)(20,"span"),e._uU(21,"\u041a \u0432\u044b\u043f\u043b\u0430\u0442\u0435"),e.qZA(),e.YNc(22,Se,3,4,"span",17),e.YNc(23,De,2,0,"span",17),e.qZA()(),e.TgZ(24,"div")(25,"div",16)(26,"span"),e._uU(27,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(28,"span"),e._uU(29),e.ALo(30,"number"),e.qZA()()()()()(),e.TgZ(31,"div",12)(32,"div",13)(33,"div",14)(34,"div",15),e._uU(35,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b"),e.qZA(),e.TgZ(36,"div",16)(37,"span"),e._uU(38,"\u0422\u043e\u0432\u0430\u0440\u043e\u0432 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043e"),e.qZA(),e.TgZ(39,"span"),e._uU(40),e.qZA()(),e.TgZ(41,"div",16)(42,"span"),e._uU(43,"\u0422\u043e\u0432\u0430\u0440\u043e\u0432 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u043e"),e.qZA(),e.TgZ(44,"span"),e._uU(45),e.qZA()(),e.TgZ(46,"div",16)(47,"span"),e._uU(48,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(49,"span"),e._uU(50),e.ALo(51,"number"),e.qZA()(),e.TgZ(52,"div",16)(53,"span"),e._uU(54,"% \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043e\u0432"),e.qZA(),e.TgZ(55,"span"),e._uU(56),e.ALo(57,"number"),e.qZA()()()()(),e.TgZ(58,"div",12)(59,"div",13)(60,"div",14)(61,"div",15),e._uU(62,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u043a\u0430\u0437\u044b"),e.qZA(),e.TgZ(63,"div")(64,"div",16)(65,"span"),e._uU(66,"\u0417\u0430\u043a\u0430\u0437\u043e\u0432"),e.qZA(),e.TgZ(67,"span"),e._uU(68),e.qZA()()(),e.TgZ(69,"div",16)(70,"span"),e._uU(71,"\u0422\u043e\u0432\u0430\u0440\u043e\u0432"),e.qZA(),e.TgZ(72,"span"),e._uU(73),e.qZA()(),e.TgZ(74,"div")(75,"div",16)(76,"span"),e._uU(77,"\u041a \u0432\u044b\u043f\u043b\u0430\u0442\u0435"),e.qZA(),e.TgZ(78,"span"),e._uU(79),e.ALo(80,"number"),e.qZA()()(),e.TgZ(81,"div")(82,"div",16)(83,"span"),e._uU(84,"\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0434\u0430\u0436"),e.qZA(),e.TgZ(85,"span"),e._uU(86),e.ALo(87,"number"),e.qZA()()()()()()(),e.YNc(88,nr,5,9,"p-table",18),e.qZA()),2&r){const t=D.ngIf,g=e.oxw();e.xp6(12),e.Oqu(t.totalOrderCount),e.xp6(5),e.Oqu(t.totalProductCount),e.xp6(5),e.Q6J("ngIf",t.expectedPayout),e.xp6(1),e.Q6J("ngIf",!t.expectedPayout),e.xp6(6),e.hij("",e.xi3(30,14,t.totalSum,"1.2-2"),"\u20bd"),e.xp6(11),e.Oqu(t.cancelledProductCount),e.xp6(5),e.Oqu(t.returnedProductCount),e.xp6(5),e.hij("",e.xi3(51,17,t.returnSum,"1.2-2"),"\u20bd"),e.xp6(6),e.hij("",e.xi3(57,20,100*t.returnProductCountPercentage,"1.1-1"),"%"),e.xp6(12),e.Oqu(t.finalizedOrderCount),e.xp6(5),e.Oqu(t.finalizedProductCount),e.xp6(6),e.hij("",e.xi3(80,23,t.finalizedSum,"1.2-2"),"\u20bd"),e.xp6(7),e.hij("",e.xi3(87,26,t.finalizedSalesSum,"1.2-2"),"\u20bd"),e.xp6(2),e.Q6J("ngIf",g.data)}}var Pe=function(r){return r[r.ThisDay=0]="ThisDay",r[r.PreviousDay=1]="PreviousDay",r[r.Day=2]="Day",r[r.ThisWeek=3]="ThisWeek",r[r.PreviousWeek=4]="PreviousWeek",r[r.Week=5]="Week",r[r.ThisMonth=6]="ThisMonth",r[r.PreviousMonth=7]="PreviousMonth",r[r.Month=8]="Month",r[r.Custom=9]="Custom",r}(Pe||{});let ir=(()=>{class r extends l.V{constructor(t,g,m,z,J,le,he){super(le),this.ozonSalesOrderClient=t,this.ozonPostingClient=g,this.ozonOperationClient=m,this.messageService=z,this.timeService=J,this.dbService=he,this.pageOrderSum=0,this.pageOrderCount=0,this.pageItemCount=0,this.totalOrderSum=0,this.totalOrderCount=0,this.totalItemCount=0,this.dateRangeTypes=Pe,this.loading=!1,this.productPackageIDs=[],this.warehouses=[],this.isLoading=!1,this.findOrdersSubject=new c.X(null),this.dateRangeOptions=[{name:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",value:Pe.ThisDay},{name:"\u0412\u0447\u0435\u0440\u0430",value:Pe.PreviousDay},{name:"\u0421\u0443\u0442\u043a\u0438",value:Pe.Day},{name:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f",value:Pe.ThisWeek},{name:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f",value:Pe.PreviousWeek},{name:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043d\u0435\u0434\u0435\u043b\u044f",value:Pe.Week},{name:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446",value:Pe.ThisMonth},{name:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446",value:Pe.PreviousMonth},{name:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043c\u0435\u0441\u044f\u0446",value:Pe.Month},{name:"\u0417\u0430 \u043f\u0435\u0440\u0438\u043e\u0434",value:Pe.Custom}],this.filterModel={dateRangeType:Pe.ThisDay,rows:50},this.orderStatuses=[{status:d.f.PostingStatus.AwaitingPackaging,text:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438"},{status:d.f.PostingStatus.AwaitingDeliver,text:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"},{status:d.f.PostingStatus.Delivering,text:"\u0414\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f"},{status:d.f.PostingStatus.Delivered,text:"\u0414\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d"},{status:d.f.PostingStatus.Cancelled,text:"\u041e\u0442\u043c\u0435\u043d\u0451\u043d"},{status:d.f.PostingStatus.AwaitingRegistration,text:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"},{status:d.f.PostingStatus.AcceptanceInProgress,text:"\u0418\u0434\u0451\u0442 \u043f\u0440\u0438\u0451\u043c\u043a\u0430"},{status:d.f.PostingStatus.AwaitingApprove,text:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f"},{status:d.f.PostingStatus.Arbitration,text:"\u0410\u0440\u0431\u0438\u0442\u0440\u0430\u0436"},{status:d.f.PostingStatus.ClientArbitration,text:"\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"},{status:d.f.PostingStatus.DriverPickup,text:"\u0423 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f"},{status:d.f.PostingStatus.NotAccepted,text:"\u041d\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u043e"},{status:d.f.PostingStatus.SentBySeller,text:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u043e\u043c"}]}updateFilter(t){this.dbService.update("filters",{id:r.name,data:t}).pipe((0,p.K)(g=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430",severity:"error",detail:g}),y.E))).subscribe()}ngOnInit(){this.titleService.setTitle("\u0417\u0430\u043a\u0430\u0437\u044b Ozon"),this.findOrdersSubject.pipe((0,T.R)(this.destroyed),(0,k.h)(t=>!!t)).pipe((0,b.b)(t=>{this.updateFilter(t)})).subscribe(t=>{this.findOrders()}),this.dbService.getByID("filters",r.name).subscribe(t=>{t&&t.data&&(this.filterModel=t.data),this.changeReportDate()})}changeReportDate(){var t=this;return(0,s.Z)(function*(){t.findOrdersSubject.next(t.filterModel)})()}getSummary(){let t=0,g=0,m=0,z=0,J=0,le=0,he=0,ge=0,ye=0,me=0;if(this.data)for(const dt of this.data){let yt=!1,Je=!1,Be=!1,Wn=!1;for(let Ge of dt.orderItems){if(Ge.status==d.f.PostingStatus.Cancelled){const xt=dt.operations.filter(kt=>kt.postingNumber==Ge.postingNumber).reduce((kt,Yn)=>kt+Yn.amount,0);0!=xt?(Be||=!0,me+=Ge.quantity,ge+=xt,t+=xt,z-=xt):(Je||=!0,ye+=Ge.quantity)}else{Wn=!0;const xt=dt.operations.filter(kt=>kt.postingNumber==Ge.postingNumber).reduce((kt,Yn)=>kt+Yn.amount,0);Ge.status==d.f.PostingStatus.Delivered&&(yt=!0,m+=Ge.quantity,t+=xt,z+=Ge.price),he+=Ge.quantity}J+=Ge.price}const bo=dt.operations.filter(Ge=>Ge.postingNumber==dt.ozonOrderNumber).reduce((Ge,xt)=>Ge+xt.amount,0);yt&&g++,(yt||Je||Be)&&(t+=bo),Wn&&le++}const Ze=m+me==0?0:me/(m+me);return{finalizedOrderCount:g,finalizedSum:t,finalizedProductCount:m,returnSum:ge,cancelledProductCount:ye,returnedProductCount:me,returnProductCountPercentage:Ze,totalOrderCount:le,totalSum:J,totalProductCount:he,finalizedSalesSum:z,expectedPayout:Ze*he*(0==me?0:ge/me)+t*J/z}}pageChange(t){this.filterModel.rows!=t.rows&&this.updateFilter(this.filterModel),this.filterModel.rows=t.rows;let g=0,m=0,le=0,he=t.first;const ge=Math.min(t.rows+he,this.filteredData.length);for(this.pageOrderCount=ge==he?0:ge-he;he<ge;he++){const ye=this.filteredData[he];g+=ye.sum,ye.orderItems.forEach(me=>{me.status==d.f.PostingStatus.Cancelled?le+=me.quantity:m+=me.quantity})}this.pageOrderSum=g,this.pageItemCount=m,this.pageCanceledItemCount=le}onFilter(t){this.filteredData=t.filteredValue,this.pageChange({first:0,rows:this.filterModel.rows})}getOrderTypeIcon(t){switch(t){case d.f.OzonSalesOrderType.Fbo:return"ozon-fbo";case d.f.OzonSalesOrderType.Fbs:return"ozon-fbs";default:return"pi-question"}}mapOrder(t){const g=[],m=new Set(t.orderItems.map(ge=>ge.postingNumber));let z=t.orderItems.reduce((ge,ye)=>{const me=null==ge[ye.product.productPackageID]?{quantity:0,name:ye.product.name}:ge[ye.product.productPackageID];return me.quantity+=ye.quantity,me.primaryImage=ye.product.primaryImage,me.price=ye.price,me.link="https://www.ozon.ru/product/"+(ye.product.sku||(t.type==d.f.OzonSalesOrderType.Fbo?ye.product.fboSku:ye.product.fbsSku)),ge[ye.product.productPackageID]=me,ge},{}),J=Object.keys(z).map(ge=>({productPackageID:ge,quantity:z[ge].quantity,primaryImage:z[ge].primaryImage,link:z[ge].link,name:z[ge].name,price:z[ge].price}));for(const ge of m){const ye=t.orderItems.filter(Ee=>Ee.postingNumber==ge),me={postingNumber:ge,orderItems:ye,operations:t.operations.filter(Ee=>Ee.postingNumber==ge),status:ye[0].status,statusText:this.orderStatuses.find(Ee=>Ee.status==ye[0].status)?.text,statusTag:this.getOrderStatusTag(ye[0].status)};g.push(me)}var le=t;le.products=J,le.orderOperations=le.operations.filter(ge=>ge.postingNumber==le.ozonOrderNumber),le.sum=t.operations.reduce((ge,ye)=>ge+ye.amount,0),le.productCount=t.orderItems.reduce((ge,ye)=>ge+ye.quantity,0),le.statuses=this.getOrderStatuses(le),le.status=le.statuses.map(ge=>ge.status),le.product=le.products.map(ge=>ge.productPackageID),le.directions=this.getOrderDirections(le);const he=new Set;return le.directions.forEach(ge=>ge.forEach(ye=>ye.forEach(me=>he.add(me.warehouse)))),le.orderWarehouses=[...he],le.postings=g,le}getOrderStatuses(t){return[...new Set(t.orderItems.map(z=>z.status))].map(z=>({status:z,statusText:this.orderStatuses.find(J=>J.status==z)?.text??t.toString(),tag:this.getOrderStatusTag(z),icon:this.getOrderStatusIcon(z)}))}getOrderStatusIcon(t){switch(t){case d.f.PostingStatus.AwaitingDeliver:return"pi-car";case d.f.PostingStatus.Cancelled:return"pi-ban";case d.f.PostingStatus.AwaitingPackaging:return"pi-box";case d.f.PostingStatus.Delivering:return"pi-car";case d.f.PostingStatus.Delivered:return"pi-dollar";default:return""}}getOrderStatusTag(t){switch(t){case d.f.PostingStatus.AwaitingDeliver:return"warning";case d.f.PostingStatus.Cancelled:return"danger";case d.f.PostingStatus.AwaitingPackaging:return"warning";case d.f.PostingStatus.Delivering:return"info";case d.f.PostingStatus.Delivered:return"success";default:return"warning"}}importOrders(){var t=this;return(0,s.Z)(function*(){let[g,m]=t.getDateRange();m?.setDate(m.getDate()+1);const z=(0,p.K)(J=>(t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:J}),t.loading=!1,y.E));yield t.ozonPostingClient.importOzonFboPostings(g,m).pipe(z).pipe((0,u.w)(()=>t.ozonOperationClient.importOzonOperations(g,m).pipe(z))).subscribe(()=>{t.findOrdersSubject.next(t.filterModel)})})()}getDateRange(){var t=new Date,g=null;switch(this.filterModel.dateRangeType){case Pe.ThisDay:t.setHours(0,0,0,0);break;case Pe.PreviousDay:t.setDate(t.getDate()-1),t.setHours(0,0,0,0),g=new Date(t);break;case Pe.Day:t.setDate(t.getDate()-1);break;case Pe.ThisWeek:t.setDate(t.getDate()-(t.getDay()?t.getDay()-1:6)),t.setHours(0,0,0,0);break;case Pe.PreviousWeek:const z=(g=new Date(t)).getDay()||7;g.setHours(0,0,0,0),g.setDate(g.getDate()-z),(t=new Date(g)).setDate(t.getDate()-6);break;case Pe.Week:t.setDate(t.getDate()-7);break;case Pe.ThisMonth:t.setHours(0,0,0,0),t.setDate(1);break;case Pe.PreviousMonth:t.setHours(0,0,0,0),t.setDate(1),(g=new Date(t)).setDate(g.getDate()-1),t.setMonth(t.getMonth()-1);break;case Pe.Month:t.setMonth(t.getMonth()-1);break;default:t=this.filterModel.dateRange?.[0],t=null==t?null:new Date(t.getFullYear(),t.getMonth(),t.getDate()),g=this.filterModel.dateRange?.[1],g=null==g?null:new Date(g.getFullYear(),g.getMonth(),g.getDate())}return[t,g]}getOrderDirections(t){return t.orderItems.reduce((g,m)=>{const z=m.ozonWarehouse?.name,J=[...new Set([m.city,m.region].filter(Ee=>Ee))].join(", "),le=m.clusterTo;let he=g.get(le);he||(he=new Map,g.set(le,he));const ge=m.clusterFrom;let ye=he.get(ge);ye||(ye=new Map,he.set(ge,ye));let me=ye.get(m.status);return me||(me={count:0,statusIcon:this.getOrderStatusIcon(m.status),statusTag:this.getOrderStatusTag(m.status),cluster:m.clusterFrom,city:J,warehouse:z,clusterTag:le==m.clusterFrom?"success":"danger"},ye.set(m.status,me)),me.count++,g},new Map)}findOrders(){let[t,g]=this.getDateRange();g?.setDate(g.getDate()+1);const z=new d.f.FindPostingsModel({dateFrom:t??void 0,dateTo:g??void 0,orderNumbers:[]});this.loading=!0,this.ozonSalesOrderClient.findSalesOzonOrders(z).pipe((0,p.K)(J=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:J}),this.loading=!1,y.E))).subscribe(J=>{this.loading=!1;let le=0,he=0,ge=0,ye=0;const me=new Map,Ee=new Set;this.data=J?.map(Ze=>{const Ce=this.mapOrder(Ze);return Ce.orderWarehouses.forEach(Ne=>Ee.add(Ne)),he++,le+=Ce.sum,Ce.orderItems.forEach(Ne=>{Ne.status==d.f.PostingStatus.Cancelled?ye+=Ne.quantity:ge+=Ne.quantity,me.set(Ne.product.productPackageID,Ne.product.primaryImage)}),Ce}),this.warehouses=Array.from(Ee).sort((Ze,Ce)=>Ze.localeCompare(Ce)),this.productPackageIDs=Array.from(me.entries(),([Ze,Ce])=>({id:Ze,image:Ce})).sort((Ze,Ce)=>Math.sign(Ze.id-Ce.id)).map(Ze=>({id:Ze.id.toString(),image:Ze.image})),this.totalOrderSum=le,this.totalOrderCount=he,this.totalItemCount=ge,this.totalCanceledItemCount=ye,this.filteredData=this.data,this.pageChange({first:0,rows:this.filterModel.rows})})}getTransactionTypeText(t){return d.f.TransactionType[t]}getOperationTypeText(t){return d.f.OperationType[t]}static#e=this.\u0275fac=function(g){return new(g||r)(e.Y36(d.f.OzonSalesOrderClient),e.Y36(d.f.PostingClient),e.Y36(d.f.OperationClient),e.Y36(C.ez),e.Y36(A.O),e.Y36(M.Dx),e.Y36(U.ys))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-ozon-sales-order-list"]],features:[e.qOj],decls:8,vars:6,consts:[["header","\u0417\u0430\u043a\u0430\u0437\u044b Ozon"],[1,"justify-content-center"],["icon","pi pi-search","optionLabel","name","optionValue","value",3,"options","tabIndex","ngModel","tabIndexChange","ngModelChange","onOptionClick"],["class","justify-content-center mb-1",4,"ngIf"],["styleClass","m-3","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439",3,"icon","click",4,"ngIf"],["class","card",4,"ngIf"],[1,"justify-content-center","mb-1"],["selectionMode","range","placeholder","\u041f\u0435\u0440\u0438\u043e\u0434",3,"ngModel","showClear","selectOtherMonths","readonlyInput","ngModelChange"],["icon","pi pi-search","label","\u041d\u0430\u0439\u0442\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f",3,"click"],["styleClass","m-3","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439",3,"icon","click"],[1,"card"],[1,"grid"],[1,"col-12","md:col-4"],[1,"card","text-right"],[1,"text-900","font-medium","text-xl","mb-3"],[1,"text-500","text-center"],[1,"flex","justify-content-between"],[4,"ngIf"],["responsiveLayout","stack","dataKey","iD",3,"value","loading","paginator","showCurrentPageReport","rows","rowsPerPageOptions","tableStyle","onPage","onFilter",4,"ngIf"],["responsiveLayout","stack","dataKey","iD",3,"value","loading","paginator","showCurrentPageReport","rows","rowsPerPageOptions","tableStyle","onPage","onFilter"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","footer"],["width","1%"],["pSortableColumn","date"],["field","date"],["field","product","matchMode","intersects","display","menu",3,"showMatchModes","showOperator","showAddButton"],["pTemplate","filter"],["pSortableColumn","sum"],["field","sum"],["field","status","matchMode","intersects","display","menu",3,"showMatchModes","showOperator","showAddButton"],["field","orderWarehouses","matchMode","intersects","display","menu",3,"showMatchModes","showOperator","showAddButton"],[1,"px-3","pt-3","pb-0"],[1,"font-bold"],["optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435","appendTo","body",3,"ngModel","filter","options","onChange"],["pTemplate","item"],["pTemplate","selectedItems"],[1,"flex","align-items-center","gap-2"],[2,"width","36px",3,"src"],[4,"ngFor","ngForOf"],["optionValue","status","placeholder","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435","optionLabel","text",3,"ngModel","filter","options","onChange"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435",3,"ngModel","filter","options","onChange"],[3,"pRowToggler"],[1,"p-column-title","font-bold"],[1,"mb-2"],[1,"p-column-title"],[1,"vertical-align-middle"],[3,"title"],["target","_blank",3,"href"],["width","50",3,"src"],[3,"severity","icon"],["severity","danger",4,"ngIf"],["severity","info"],["severity","danger"],["colspan","4"],["colspan","4",1,"text-left","justify-content-start"],["target","_blank","rel","noreferrer",3,"href"],[3,"value","severity"],["responsiveLayout","stack",3,"value","breakpoint","tableStyle"],["dataKey","iD","responsiveLayout","stack",3,"value","breakpoint","tableStyle"],[1,"text-right"]],template:function(g,m){1&g&&(e._UZ(0,"p-toast")(1,"p-scrollTop"),e.TgZ(2,"p-card",0)(3,"div",1)(4,"p-selectButton",2),e.NdJ("tabIndexChange",function(J){return m.filterModel.dateRangeType=J})("ngModelChange",function(J){return m.filterModel.dateRangeType=J})("onOptionClick",function(){return m.changeReportDate()}),e.qZA()(),e.YNc(5,_e,3,4,"div",3),e.YNc(6,ve,1,1,"p-button",4),e.qZA(),e.YNc(7,rr,89,29,"div",5)),2&g&&(e.xp6(4),e.Q6J("options",m.dateRangeOptions)("tabIndex",m.filterModel.dateRangeType)("ngModel",m.filterModel.dateRangeType),e.xp6(1),e.Q6J("ngIf",m.filterModel.dateRangeType==m.dateRangeTypes.Custom),e.xp6(1),e.Q6J("ngIf",void 0!==m.filterModel.dateRangeType),e.xp6(1),e.Q6J("ngIf",m.getSummary()))},dependencies:[C.jx,q.zx,Z.f,Q.Z,n.sg,n.O5,Y.JJ,Y.On,it,w.F,R.UN,N.iA,N.lQ,N.jB,N.fz,N.xl,$.V,re.FN,n.JJ,n.uU,n.Nd],styles:["@media (min-width: 961px){.p-column-title[_ngcontent-%COMP%]{display:none}}@media (max-width: 960px){.p-column-title[_ngcontent-%COMP%]{display:block}.p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block}}"]})}return r})();var or=x(6387),qn=x(8057),Nn=x(3714),Gn=x(3904),Bn=x(3530),jn=x(9653);function ar(r,D){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th",9),e._uU(3," ID "),e._UZ(4,"p-sortIcon",10),e.qZA(),e.TgZ(5,"th",11),e._uU(6," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 "),e._UZ(7,"p-sortIcon",12),e.qZA(),e._UZ(8,"th"),e.qZA(),e.TgZ(9,"tr"),e._UZ(10,"th"),e.TgZ(11,"th"),e._UZ(12,"p-columnFilter",13),e.qZA(),e.TgZ(13,"th"),e._UZ(14,"p-columnFilter",14),e.qZA(),e._UZ(15,"th"),e.qZA()),2&r&&(e.xp6(12),e.Q6J("showButtons",!1)("useGrouping",!1))}function ur(r,D){if(1&r&&e._UZ(0,"button",21),2&r){const t=e.oxw(),m=t.expanded;e.Q6J("pRowToggler",t.$implicit)("icon",m?"pi pi-chevron-down":"pi pi-chevron-right")}}function lr(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",15),e._UZ(3,"i",16),e.qZA(),e.TgZ(4,"a",15),e._UZ(5,"i",17),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td")(11,"p-button",18),e.NdJ("click",function(){const z=e.CHM(t).$implicit,J=e.oxw();return e.KtG(J.showBarcodeGenerator(z))}),e.qZA(),e.TgZ(12,"p-button",19),e.NdJ("click",function(m){const J=e.CHM(t).$implicit,le=e.oxw();return e.KtG(le.confirmProductRemoval(m,J))}),e.qZA(),e.YNc(13,ur,1,2,"button",20),e.qZA()()}if(2&r){const t=D.$implicit;e.xp6(2),e.MGl("href","https://www.ozon.ru/product/",t.sku,"",e.LSH),e.xp6(2),e.MGl("href","https://seller.ozon.ru/app/prices/control?search=",t.sku,"",e.LSH),e.xp6(3),e.Oqu(t.productPackageID),e.xp6(2),e.Oqu(t.name),e.xp6(4),e.Q6J("ngIf",null==t.stocks?null:t.stocks.length)}}function sr(r,D){1&r&&(e.TgZ(0,"tr")(1,"th",26),e._uU(2,"\u0421\u043a\u043b\u0430\u0434 "),e._UZ(3,"p-sortIcon",27),e.qZA(),e.TgZ(4,"th",28),e._uU(5,"\u041a\u043b\u0430\u0441\u0442\u0435\u0440 "),e._UZ(6,"p-sortIcon",29),e.qZA(),e.TgZ(7,"th",30),e._uU(8,"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 "),e._UZ(9,"p-sortIcon",31),e.qZA(),e.TgZ(10,"th",32),e._uU(11,"\u0420\u0435\u0437\u0435\u0440\u0432 "),e._UZ(12,"p-sortIcon",33),e.qZA()())}function cr(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",34),e._uU(6),e.qZA(),e.TgZ(7,"td",34),e._uU(8),e.qZA()()),2&r){const t=D.$implicit;e.xp6(2),e.Oqu(t.warehouse.name),e.xp6(2),e.Oqu(t.warehouse.warehouseCluster),e.xp6(2),e.Oqu(t.present),e.xp6(2),e.Oqu(t.reserved)}}function dr(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td",35),e._uU(2,"\u0412\u0441\u0435\u0433\u043e:"),e.qZA(),e.TgZ(3,"td",34),e._uU(4),e.qZA(),e.TgZ(5,"td",34),e._uU(6),e.qZA()()),2&r){const t=e.oxw(2).$implicit;e.xp6(4),e.Oqu(t.totalPresent),e.xp6(2),e.Oqu(t.totalReserved)}}function pr(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td",23)(2,"div")(3,"p-table",24),e.YNc(4,sr,13,0,"ng-template",3),e.YNc(5,cr,9,4,"ng-template",4),e.YNc(6,dr,7,2,"ng-template",25),e.qZA()()()()),2&r){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("value",t.stocks)}}function fr(r,D){if(1&r&&e.YNc(0,pr,7,1,"tr",22),2&r){const t=D.$implicit;e.Q6J("ngIf",null==t.stocks?null:t.stocks.length)}}function _r(r,D){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",44)(2,"div",45)(3,"label",46),e._uU(4,"\u0422\u0435\u043a\u0441\u0442"),e.qZA(),e.TgZ(5,"input",47),e.NdJ("ngModelChange",function(m){const J=e.CHM(t).$implicit;return e.KtG(J.text=m)}),e.qZA()()(),e.TgZ(6,"div",45)(7,"label",48),e._uU(8,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430"),e.qZA(),e.TgZ(9,"p-inputNumber",49),e.NdJ("ngModelChange",function(m){const J=e.CHM(t).$implicit;return e.KtG(J.fontSize=m)}),e.qZA()(),e.TgZ(10,"div",45)(11,"label",50),e._uU(12,"\u0416\u0438\u0440\u043d\u044b\u0439"),e.qZA(),e.TgZ(13,"p-checkbox",51),e.NdJ("ngModelChange",function(m){const J=e.CHM(t).$implicit;return e.KtG(J.bold=m)}),e.qZA()(),e.BQk()}if(2&r){const t=D.$implicit;e.xp6(5),e.Q6J("ngModel",t.text),e.xp6(4),e.Q6J("ngModel",t.fontSize)("showButtons",!0),e.xp6(4),e.Q6J("ngModel",t.bold)("binary",!0)}}function hr(r,D){if(1&r&&(e.O4$(),e.ynx(0),e._UZ(1,"rect",52),e.BQk()),2&r){const t=D.$implicit;e.xp6(1),e.uIk("width",3*t.width)("x",3*t.offset+89)}}function gr(r,D){if(1&r&&(e.O4$(),e.ynx(0),e._UZ(1,"text",53),e.BQk()),2&r){const t=D.$implicit,g=D.index,m=e.oxw(3);e.xp6(1),e.Q6J("innerHTML",t.text,e.oJD),e.uIk("font-weight",t.bold?"bold":"normal")("font-size",t.fontSize)("y",160+40*g/m.barcodeTexts.length)}}function mr(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"div",38),e.YNc(1,_r,14,5,"ng-container",39),e.TgZ(2,"div")(3,"p-button",40),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2);return e.KtG(m.addBarcodeText())}),e.qZA()()(),e.TgZ(4,"div"),e.O4$(),e.TgZ(5,"svg",41),e._UZ(6,"rect",42),e.YNc(7,hr,2,2,"ng-container",39),e.YNc(8,gr,2,4,"ng-container",39),e.qZA(),e.kcU(),e.TgZ(9,"a",43),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2);return e.KtG(m.downloadBarcode())}),e._uU(10,"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.barcodeTexts),e.xp6(6),e.Q6J("ngForOf",t.barcodeData),e.xp6(1),e.Q6J("ngForOf",t.barcodeTexts),e.xp6(1),e.Q6J("download",t.selectedProductForBarcode.productPackageID+".png")}}const vr=function(){return{width:"50vw"}};function yr(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-dialog",36),e.NdJ("onShow",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.onShowBarcodeDialog())})("visibleChange",function(m){e.CHM(t);const z=e.oxw();return e.KtG(z.selectedProductForBarcode=m)}),e.YNc(1,mr,11,4,"ng-template",37),e.qZA()}if(2&r){const t=e.oxw();e.Akn(e.DdM(6,vr)),e.Q6J("modal",!0)("visible",t.selectedProductForBarcode)("draggable",!1)("resizable",!1)}}const xr=function(){return{"min-width":"75rem"}},br=function(){return[10,25,50]},Tr=function(){return["name"]};let Or=(()=>{class r extends l.V{addBarcodeText(){this.barcodeTexts=[...this.barcodeTexts,{fontSize:10,text:"",bold:!1}]}constructor(t,g,m,z){super(z),this.ozonService=t,this.messageService=g,this.confirmationService=m,this.findProductsSubject=new c.X(null),this.rows=50,this.barcodeHeight=10}ngOnInit(){this.titleService.setTitle("Ozon Products"),this.px2mmFactor=this.calcPx2MmFactor()}findProducts(t){this.ozonService.findOzonProducts(t).pipe((0,T.R)(this.destroyed)).pipe((0,p.K)(g=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:g}),y.E))).subscribe(g=>{g.items?.forEach(m=>{let z=m;z.totalPresent=m.stocks.reduce((J,le)=>J+le.present,0),z.totalReserved=m.stocks.reduce((J,le)=>J+le.reserved,0)}),this.data=g.items,this.totalRecords=g.totalCount})}confirmProductRemoval(t,g){this.confirmationService.confirm({target:t.target,message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440?",header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{this.ozonService.removeOzonProduct(g.productPackageID).pipe((0,p.K)(m=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430",severity:"error",detail:m}),y.E))).subscribe(m=>{const z=this.data.indexOf(g);this.data.splice(z,1),this.messageService.add({summary:"\u0422\u043e\u0432\u0430\u0440 \u0443\u0434\u0430\u043b\u0451\u043d",severity:"success"})})}})}onDataLazyLoad(t){const g=new d.f.FindOzonProductsModel({offset:t.first,count:t.rows,includeStocks:!0});if(this.fillFilterModel(g,t.filters),t.sortField){switch(t.sortField){case"name":g.orderField=d.f.FindOzonProductsModelSortField.ProductName;break;case"productPackageID":g.orderField=d.f.FindOzonProductsModelSortField.ProductPackageID}g.orderAscending=t.sortOrder>0}this.findProducts(g)}fillFilterModel(t,g){t.productName=g?.name?.value,t.productPackageID=g?.productPackageID?.value}onShowBarcodeDialog(){this.barcodeTexts=[]}calcPx2MmFactor(){let t=document.createElement("div");t.style.position="absolute",t.style.width="100mm",document.body.appendChild(t);let g=t.getBoundingClientRect();return document.body.removeChild(t),g.width/100}showBarcodeGenerator(t){if(t.barcodes?.length>0){this.selectedProductForBarcode=t;const g=this.selectedProductForBarcode.barcodes[0],m={};or(m,g,{format:"code128",height:this.barcodeHeight*this.px2mmFactor,text:g,background:"rgba(255, 255, 255, 1)",font:"monospace",fontOptions:"bold",marginTop:0,fontSize:16,lineColor:"black",margin:2*this.px2mmFactor,textMargin:0,flat:!0});let le,J=[];for(let he=0;he<m.encodings[0].data.length;he++)"1"==m.encodings[0].data[he]?le?le.width++:le={width:1,offset:he}:le?.width>0&&(J.push(le),le=null);le&&J.push(le),this.barcodeData=J}}downloadBarcode(){var t=this;return(0,s.Z)(function*(){yield new Promise(m=>{try{const J=document.getElementById("barcodeImage").outerHTML,le=btoa(encodeURIComponent(J).replace(/%([0-9A-F]{2})/g,(ge,ye)=>String.fromCharCode(parseInt(ye,16)))),he=document.createElement("a");he.href="data:image/svg+xml;base64,"+le,he.download=t.selectedProductForBarcode.productPackageID+".svg",he.click()}catch(z){t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:z})}})})()}importProducts(){var t=this;return(0,s.Z)(function*(){yield t.ozonService.importOzonProducts().pipe((0,p.K)(g=>(t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:g}),y.E))).subscribe(()=>{t.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"}),t.onDataLazyLoad({first:0,rows:t.rows})})})()}updateStocks(){var t=this;return(0,s.Z)(function*(){t.ozonService.importOzonProductStocks().pipe((0,p.K)(g=>(t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:g}),y.E))).subscribe(()=>{t.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043a\u043b\u0430\u0434\u043e\u0432 \u041e\u0437\u043e\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"}),t.onDataLazyLoad({first:0,rows:t.rows})})})()}static#e=this.\u0275fac=function(g){return new(g||r)(e.Y36(d.f.OzonProductClient),e.Y36(C.ez),e.Y36(C.YP),e.Y36(M.Dx))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-ozon-product-list"]],features:[e.qOj],decls:11,vars:13,consts:[["pButton","","pRipple","","type","button","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",1,"mb-2",3,"click"],["pButton","","pRipple","","type","button","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u043e\u0441\u0442\u0430\u0442\u043a\u043e\u0432",1,"ml-1","mb-2",3,"click"],["dataKey","productPackageID",3,"value","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","loading","globalFilterFields","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["header","\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0431\u0430\u0440\u043a\u043e\u0434\u0430",3,"modal","style","visible","draggable","resizable","onShow","visibleChange",4,"ngIf"],[1,"hidden"],["id","barcode",2,"display","none"],["pSortableColumn","productPackageID","width","20%"],["field","productPackageID"],["pSortableColumn","name"],["field","name"],["field","productPackageID","type","numeric",3,"showButtons","useGrouping"],["field","name","type","text"],["target","_blank",3,"href"],[1,"pi","ozon-fbo"],[1,"pi","ozon-seller"],["icon","pi pi-chart-bar",3,"click"],["type","button","pRipple","","icon","pi pi-trash","styleClass","p-button-danger",3,"click"],["type","button","pButton","","pRipple","","class","p-button-text p-button-rounded p-button-plain",3,"pRowToggler","icon",4,"ngIf"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain",3,"pRowToggler","icon"],[4,"ngIf"],["colspan","4"],[3,"value"],["pTemplate","footer"],["pSortableColumn","warehouse.name"],["field","warehouse.name"],["pSortableColumn","warehouse.warehouseCluster"],["field","warehouse.warehouseCluster"],["width","10%","pSortableColumn","present"],["field","present"],["width","10%","pSortableColumn","reserved"],["field","reserved"],[1,"text-right"],["colspan","2",1,"text-right"],["header","\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0431\u0430\u0440\u043a\u043e\u0434\u0430",3,"modal","visible","draggable","resizable","onShow","visibleChange"],["pTemplate","content"],[1,"card"],[4,"ngFor","ngForOf"],["icon","pi pi-plus","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442",3,"click"],["id","barcodeImage","xmlns","http://www.w3.org/2000/svg"],["width","350em","height","600em","fill","white"],[1,"p-ripple","p-element","p-button","p-component",3,"download","click"],[1,"flex"],[1,"flex-auto"],["for","text",1,"block","font-bold"],["pInputText","","inputId","text",3,"ngModel","ngModelChange"],["for","fontSize",1,"mb-2","block","font-bold"],["inputId","fontSize",3,"ngModel","showButtons","ngModelChange"],["for","fontWeight",1,"mb-2","block","font-bold"],["inputId","binary",3,"ngModel","binary","ngModelChange"],["y","50","height","60","fill","black"],["x","50%","fill","black","text-anchor","middle",3,"innerHTML"]],template:function(g,m){1&g&&(e._UZ(0,"p-toast")(1,"p-confirmDialog"),e.TgZ(2,"button",0),e.NdJ("click",function(){return m.importProducts()}),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return m.updateStocks()}),e.qZA(),e.TgZ(4,"p-table",2),e.NdJ("onLazyLoad",function(J){return m.onDataLazyLoad(J)}),e.YNc(5,ar,16,2,"ng-template",3),e.YNc(6,lr,14,5,"ng-template",4),e.YNc(7,fr,1,1,"ng-template",5),e.qZA(),e.YNc(8,yr,2,7,"p-dialog",6),e.TgZ(9,"div",7),e.O4$(),e._UZ(10,"svg",8),e.qZA()),2&g&&(e.xp6(4),e.Q6J("value",m.data)("lazy",!0)("tableStyle",e.DdM(10,xr))("paginator",!0)("rows",m.rows)("rowsPerPageOptions",e.DdM(11,br))("totalRecords",m.totalRecords)("loading",m.loading)("globalFilterFields",e.DdM(12,Tr)),e.xp6(4),e.Q6J("ngIf",m.selectedProductForBarcode))},dependencies:[C.jx,q.Hq,q.zx,qn.XZ,Nn.o,n.sg,n.O5,Gn.Q,Bn.V,Y.Fj,Y.JJ,Y.On,jn.Rn,N.iA,N.lQ,N.jB,N.fz,N.xl,re.FN]})}return r})();var Cr=x(7398),ot=x(701),wr=x(8645),Sr=x(7715);let Jn=(()=>{class r{defaultConfig(){return{inputStream:{name:"Live",type:"LiveStream"},locator:{patchSize:"medium",halfSample:!1},locate:!0,numOfWorkers:8,frequency:10}}isScanMatch(t,g){const m=this.meanBy(t.codeResult.decodedCodes,"error");return!!m&&m<g}start(t,g){var m=this;return typeof this.scanResult>"u"&&(this.scanResult=new wr.x),ot.onProcessed(z=>{this.onProcessed(z)}),ot.onDetected(z=>{const J=z.codeResult.code;this.isScanMatch(z,g)&&this.scanResult?.next(J+"")}),ot.init(t,function(){var z=(0,s.Z)(function*(J){J?(m.scanResult?.error(J),yield m.stop()):ot.start()});return function(J){return z.apply(this,arguments)}}()),this.scanResult}stop(){return typeof this.scanResult<"u"&&(this.scanResult?.unsubscribe(),this.scanResult=void 0),(0,Sr.D)(ot.stop())}meanBy(t,g){if(t)return t.reduce((m,z)=>g in z?m+z[g]:m,0)/t.length}onProcessed(t){const g=ot.canvas.ctx.overlay,m=ot.canvas.dom.overlay;if(t){if(t.boxes){const z=m.getAttribute("width")??"0",J=m.getAttribute("height")??"0",le=parseInt(z,10),he=parseInt(J,10);g.clearRect(0,0,le,he),t.boxes.filter(ge=>ge!==t.box).forEach(ge=>{ot.ImageDebug.drawPath(ge,{x:0,y:1},g,{color:"green",lineWidth:2})})}t.box&&ot.ImageDebug.drawPath(t.box,{x:0,y:1},g,{color:"#00F",lineWidth:2}),t.codeResult&&t.codeResult.code&&ot.ImageDebug.drawPath(t.line,{x:"x",y:"y"},g,{color:"red",lineWidth:3})}}static#e=this.\u0275fac=function(g){return new(g||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class vt{static setOrDefault(D,t,g){typeof D[t]>"u"&&(D[t]=g)}}let Ar=(()=>{class r{constructor(t){this.service=t,this.codes=["code_128","ean","ean_8","code_39","code_39_vin","codabar","upc","upc_e","i2of5","2of5","code_93"],this.valueChange=new e.vpe,this.exception=new e.vpe}setConfig(){this.config||(this.config={...this.service.defaultConfig(),decoder:{readers:this.readers()}}),this.config.inputStream||(this.config.inputStream={}),vt.setOrDefault(this.config.inputStream,"name","Live"),vt.setOrDefault(this.config.inputStream,"type","LiveStream"),this.config.locator||(this.config.locator={}),vt.setOrDefault(this.config.locator,"patchSize","medium"),vt.setOrDefault(this.config.locator,"halfSample",!1),vt.setOrDefault(this.config,"locate",!0),vt.setOrDefault(this.config,"numOfWorkers",8),vt.setOrDefault(this.config,"frequency",10),this.config.decoder||(this.config.decoder={}),vt.setOrDefault(this.config.decoder,"readers",this.readers())}ngOnInit(){this.setConfig();const t=isNaN(this.errorThreshold)?.1:this.errorThreshold;this.service.start(this.config,t).subscribe(m=>{this.valueChange.emit(m)},m=>{this.exception.emit(m)})}ngOnDestroy(){this.service.stop()}readers(){return("string"==typeof this.codes?[this.codes]:this.codes).map(g=>`${g}_reader`)}static#e=this.\u0275fac=function(g){return new(g||r)(e.Y36(Jn))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-barcode-scanner"]],inputs:{codes:"codes",config:"config",errorThreshold:"errorThreshold",value:"value"},outputs:{valueChange:"valueChange",exception:"exception"},decls:1,vars:0,consts:[["id","interactive",1,"viewport"]],template:function(g,m){1&g&&e._UZ(0,"div",0)},styles:["#interactive.viewport{position:relative;width:100%;height:auto;overflow:hidden;text-align:center}  #interactive.viewport>canvas,   #interactive.viewport>video{max-width:100%;width:100%}  canvas.drawing,   canvas.drawingBuffer{position:absolute;left:0;top:0}  video{width:100%;object-fit:cover}[_nghost-%COMP%]{position:static;width:100%}"]})}return r})(),Er=(()=>{class r{static#e=this.\u0275fac=function(g){return new(g||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();var Hn=x(3965);const Mr=["table"];function kr(r,D){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u043a\u043b\u0430\u0434"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u043a\u043b\u0430\u0434 \u043a\u0440\u043e\u0441\u0441-\u0434\u043e\u043a"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0437\u0438\u0446\u0438\u0439"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),e.qZA(),e._UZ(11,"th"),e.qZA())}function Zr(r,D){1&r&&e._uU(0),2&r&&e.hij(" ",D.$implicit.name," ")}function Ir(r,D){1&r&&e._uU(0),2&r&&e.hij(" ",D.$implicit.name," ")}function Rr(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-dropdown",13),e.NdJ("ngModelChange",function(m){e.CHM(t);const z=e.oxw().$implicit;return e.KtG(z.ozonCrossDockWarehouse=m)})("onChange",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.closeCellEdit(m))}),e.YNc(1,Zr,1,1,"ng-template",14),e.YNc(2,Ir,1,1,"ng-template",15),e.qZA()}if(2&r){const t=e.oxw().$implicit,g=e.oxw();e.Q6J("options",g.warehouses)("ngModel",t.ozonCrossDockWarehouse)("filter",!0)("showClear",!0)}}function Dr(r,D){if(1&r&&e._uU(0),2&r){const t=e.oxw().$implicit;let g;e.hij(" ",null!==(g=null==t||null==t.ozonCrossDockWarehouse?null:t.ozonCrossDockWarehouse.name)&&void 0!==g?g:"\u041f\u0440\u044f\u043c\u0430\u044f \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0430"," ")}}function Pr(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"a",8),e._uU(3),e.ALo(4,"date"),e.qZA()(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",9)(8,"p-cellEditor"),e.YNc(9,Rr,3,4,"ng-template",10),e.YNc(10,Dr,1,1,"ng-template",11),e.qZA()(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._UZ(16,"button",12),e.qZA()()),2&r){const t=D.$implicit,g=D.expanded;e.xp6(2),e.s9C("href",t.link,e.LSH),e.xp6(1),e.Oqu(e.xi3(4,8,t.date,"y-MM-dd")),e.xp6(3),e.Oqu(null==t.ozonWarehouse?null:t.ozonWarehouse.name),e.xp6(1),e.Q6J("pEditableColumn",t),e.xp6(5),e.Oqu(t.totalItemCount),e.xp6(2),e.Oqu(t.totalQuantity),e.xp6(2),e.Q6J("pRowToggler",t)("icon",g?"pi pi-chevron-down":"pi pi-chevron-right")}}function Lr(r,D){1&r&&(e.TgZ(0,"tr")(1,"th",18),e._uU(2,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b "),e._UZ(3,"p-sortIcon",19),e.qZA(),e.TgZ(4,"th",20),e._uU(5,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 "),e._UZ(6,"p-sortIcon",21),e.qZA(),e.TgZ(7,"th",22),e._uU(8,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e "),e._UZ(9,"p-sortIcon",23),e.qZA()())}function zr(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&r){const t=D.$implicit;e.xp6(2),e.Oqu(t.productPackageID),e.xp6(2),e.Oqu(t.productPackage.name),e.xp6(2),e.Oqu(t.quantity)}}function Fr(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td",16)(2,"p-table",17),e.YNc(3,Lr,10,0,"ng-template",4),e.YNc(4,zr,7,3,"ng-template",5),e.qZA()()()),2&r){const t=D.$implicit;e.xp6(2),e.Q6J("value",t.orderItems)}}const Ur=function(){return["code_128","ean","upc","upc_e","ean_8"]};function qr(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"ngx-barcode-scanner",26),e.NdJ("valueChange",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.onValueChanged(m))}),e.qZA(),e._uU(1)}if(2&r){const t=e.oxw(2);e.Q6J("codes",e.DdM(3,Ur))("errorThreshold",.1),e.xp6(1),e.hij(" ",t.barcode," ")}}const Nr=function(){return{width:"50vw"}};function Br(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-dialog",24),e.NdJ("valueChange",function(m){e.CHM(t);const z=e.oxw();return e.KtG(z.barcode=m)})("visibleChange",function(m){e.CHM(t);const z=e.oxw();return e.KtG(z.showScanBarcodeDialog=m)}),e.YNc(1,qr,2,4,"ng-template",25),e.qZA()}if(2&r){const t=e.oxw();e.Akn(e.DdM(7,Nr)),e.Q6J("value",t.barcode)("modal",!0)("visible",t.showScanBarcodeDialog)("draggable",!1)("resizable",!1)}}const jr=function(){return{"min-width":"75rem"}},Jr=function(){return[10,25,50]};let Qr=(()=>{class r extends l.V{constructor(t,g,m,z,J){super(J),this.supplyOrderClient=t,this.messageService=g,this.barcodeService=m,this.warehouseClient=z,this.findSupplyOrdersSubject=new c.X(null),this.rows=50}closeCellEdit(){}editComplete(t){if("ozonCrossDockWarehouseID"==t.field){const g=t.data;this.supplyOrderClient.updateOzonSupplyOrderCrossDockWarehouse(g.iD,g.ozonCrossDockWarehouse?.iD).pipe((0,p.K)(m=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:m}),y.E))).subscribe()}}ngOnInit(){this.titleService.setTitle("\u041f\u043e\u0441\u0442\u0430\u0432\u043a\u0438 Ozon"),this.findSupplyOrdersSubject.pipe((0,k.h)(t=>!!t)).pipe((0,T.R)(this.destroyed)).pipe((0,Cr.U)(t=>{this.findSupplyOrders(t)})),this.warehouseClient.getOzonWarehouses().pipe((0,p.K)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:t}),y.E))).subscribe(t=>{this.warehouses=t})}onValueChanged(t){}scanBarcode(){this.showScanBarcodeDialog=!0}findSupplyOrders(t){this.supplyOrderClient.findOzonSupplyOrders(t).pipe((0,T.R)(this.destroyed)).pipe((0,p.K)(g=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:g}),y.E))).subscribe(g=>{this.data=g.items,g?.items.forEach(m=>{m.link=`${m.state==d.f.SupplyOrderState.DRAFT?"https://seller.ozon.ru/app/supply/orders/draft":"https://seller.ozon.ru/app/supply/orders"}/${m.iD}`}),this.totalRecords=g.totalCount})}onDataLazyLoad(t){const g=new d.f.FindOzonSupplyOrdersModel({offset:t.first,count:t.rows});this.findSupplyOrdersSubject.next(g),this.findSupplyOrders(g)}importSupplyOrders(){var t=this;return(0,s.Z)(function*(){t.supplyOrderClient.updateOzonSupplyOrders().pipe((0,p.K)(g=>(t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u0437\u0430\u044f\u0432\u043e\u043a \u043d\u0430 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0443",severity:"error",detail:g}),y.E))).subscribe(()=>{t.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u044f\u0432\u043e\u043a \u043d\u0430 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0443 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"}),t.onDataLazyLoad({first:0,rows:t.rows})})})()}static#e=this.\u0275fac=function(g){return new(g||r)(e.Y36(d.f.OzonSupplyOrderClient),e.Y36(C.ez),e.Y36(Jn),e.Y36(d.f.WarehouseClient),e.Y36(M.Dx))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-ozon-supply-order-list"]],viewQuery:function(g,m){if(1&g&&e.Gf(Mr,5),2&g){let z;e.iGM(z=e.CRH())&&(m.table=z.first)}},features:[e.qOj],decls:9,vars:11,consts:[["label","\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"click"],["pButton","","pRipple","","type","button","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u0437\u0430\u044f\u0432\u043e\u043a \u043d\u0430 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0443",1,"ml-1",3,"click"],["dataKey","iD","editMode","cell",3,"value","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","loading","onLazyLoad","onEditComplete"],["table",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["header","\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430",3,"value","modal","style","visible","draggable","resizable","valueChange","visibleChange",4,"ngIf"],["target","_blank",3,"href"],["pEditableColumnField","ozonCrossDockWarehouseID",3,"pEditableColumn"],["pTemplate","input"],["pTemplate","output"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain",3,"pRowToggler","icon"],["optionLabel","name","appendTo","body","filterBy","name","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043a\u043b\u0430\u0434",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["pTemplate","selectedItem"],["pTemplate","item"],["colspan","7"],[3,"value"],["pSortableColumn","productPackageID"],["field","productPackageID"],["pSortableColumn","productPackage.name"],["field","productPackage.name"],["pSortableColumn","quantity"],["field","quantity"],["header","\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430",3,"value","modal","visible","draggable","resizable","valueChange","visibleChange"],["pTemplate","content"],["width","300",3,"codes","errorThreshold","valueChange"]],template:function(g,m){1&g&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-button",0),e.NdJ("click",function(){return m.scanBarcode()}),e.qZA(),e.TgZ(2,"button",1),e.NdJ("click",function(){return m.importSupplyOrders()}),e.qZA(),e.TgZ(3,"p-table",2,3),e.NdJ("onLazyLoad",function(J){return m.onDataLazyLoad(J)})("onEditComplete",function(J){return m.editComplete(J)}),e.YNc(5,kr,12,0,"ng-template",4),e.YNc(6,Pr,17,11,"ng-template",5),e.YNc(7,Fr,5,1,"ng-template",6),e.qZA(),e.YNc(8,Br,2,8,"p-dialog",7)),2&g&&(e.xp6(3),e.Q6J("value",m.data)("lazy",!0)("tableStyle",e.DdM(9,jr))("paginator",!0)("rows",m.rows)("rowsPerPageOptions",e.DdM(10,Jr))("totalRecords",m.totalRecords)("loading",m.loading),e.xp6(5),e.Q6J("ngIf",m.showScanBarcodeDialog))},dependencies:[C.jx,q.Hq,q.zx,n.O5,Bn.V,Hn.Lt,Y.JJ,Y.On,Ar,N.iA,N.lQ,N.jB,N.Wq,N.YL,N.fz,re.FN,n.uU]})}return r})();function Yr(r,D){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"number"),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"div"),e._uU(10),e.ALo(11,"number"),e.qZA()),2&r){const t=e.oxw().ngIf;e.xp6(1),e.hij("\u0421\u0443\u043c\u043c\u0430: ",e.xi3(2,4,t.sum,"1.2-2"),""),e.xp6(3),e.hij("\u041d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u043e: ",e.xi3(5,7,t.accrual,"1.2-2"),""),e.xp6(3),e.hij("\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f: ",e.xi3(8,10,t.commission,"1.2-2"),""),e.xp6(3),e.hij("\u041d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u043e \u0437\u0430 \u0432\u044b\u0447\u0435\u0442\u043e\u043c \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438: ",e.xi3(11,13,t.accrual+t.commission,"1.2-2"),"")}}const Gr=function(){return{"max-width":"300px"}};function Hr(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th",11),e._uU(6,"\u0421\u0443\u043c\u043c\u0430 "),e._UZ(7,"p-sortIcon",12),e.qZA(),e.TgZ(8,"th"),e._uU(9,"\u0421\u0435\u0440\u0432\u0438\u0441\u044b"),e.qZA(),e._UZ(10,"th"),e.qZA(),e.TgZ(11,"tr"),e._UZ(12,"th")(13,"th")(14,"th"),e.TgZ(15,"th")(16,"p-multiSelect",13),e.NdJ("ngModelChange",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.selectedServiceTypes=m)})("onChange",function(){e.CHM(t);const m=e.oxw(2);return e.KtG(m.filterData())}),e.qZA()()()}if(2&r){const t=e.oxw(2);e.xp6(16),e.Akn(e.DdM(4,Gr)),e.Q6J("ngModel",t.selectedServiceTypes)("options",t.serviceTypes)}}function Vr(r,D){if(1&r&&(e.TgZ(0,"div")(1,"div",17)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.ALo(6,"number"),e.qZA()()()),2&r){const t=D.$implicit,g=e.oxw(3);e.xp6(3),e.Oqu(g.getOperationServiceType(t.type)),e.xp6(2),e.Oqu(e.xi3(6,2,t.price,"1.2-2"))}}function Wr(r,D){if(1&r&&(e.TgZ(0,"tr",14)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td")(7,"span",15),e._uU(8,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(9,"div"),e._uU(10),e.ALo(11,"number"),e.qZA()(),e.TgZ(12,"td"),e.YNc(13,Vr,7,5,"div",16),e.qZA()()),2&r){const t=D.$implicit;e.Q6J("pRowToggler",t),e.xp6(2),e.hij(" ",t.iD," "),e.xp6(2),e.hij(" ",e.xi3(5,5,t.date,"y-MM-dd HH:mm")," "),e.xp6(6),e.hij(" ",e.xi3(11,8,t.amount,"1.2-2"),"\u20bd "),e.xp6(3),e.Q6J("ngForOf",t.services)}}function $r(r,D){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u0443\u043c\u043c\u0430"),e.qZA()())}function Kr(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&r){const t=D.$implicit,g=e.oxw(3);e.xp6(2),e.Oqu(g.getOperationServiceType(t.type)),e.xp6(2),e.Oqu(t.price)}}const Xr=function(){return{"min-width":"50rem"}};function ei(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td",18)(2,"h5"),e._uU(3,"\u0421\u0435\u0440\u0432\u0438\u0441\u044b \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA()()(),e.TgZ(4,"tr")(5,"td",18)(6,"p-table",19),e.YNc(7,$r,5,0,"ng-template",8),e.YNc(8,Kr,5,2,"ng-template",9),e.qZA()()()),2&r){const t=D.$implicit;e.xp6(6),e.Q6J("value",t.services)("breakpoint","960px")("tableStyle",e.DdM(3,Xr))}}const ti=function(){return[50,250,1e3]};function ni(r,D){if(1&r&&(e.TgZ(0,"div",5)(1,"p-table",6),e.YNc(2,Yr,12,16,"ng-template",7),e.YNc(3,Hr,17,5,"ng-template",8),e.YNc(4,Wr,14,11,"ng-template",9),e.YNc(5,ei,9,4,"ng-template",10),e.qZA()()),2&r){const t=D.ngIf,g=e.oxw();e.xp6(1),e.Q6J("value",t.items)("loading",g.loading)("totalRecords",t.totalCount)("paginator",!0)("showCurrentPageReport",!1)("rows",g.rows)("rowsPerPageOptions",e.DdM(7,ti))}}let ri=(()=>{class r extends l.V{constructor(t,g,m,z){super(z),this.operationClient=t,this.messageService=g,this.timeService=m,this.rows=50,this.isLoading=!1,this.serviceTypes=[],this.selectedServiceTypes=[],this.filteredData=new c.X(null),this.dataSubject=new c.X(null),this.filterSubject=new c.X(null),this.serviceTypes=Object.keys(d.f.OperationServiceType).map(J=>({type:J,text:d.f.OperationServiceType[J]})).sort((J,le)=>J.text>le.text?1:le.text>J.text?-1:0)}ngOnInit(){this.titleService.setTitle("\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 Ozon"),this.filterSubject.pipe((0,T.R)(this.destroyed)).pipe((0,k.h)(t=>!!t)).pipe((0,u.w)(t=>this.operationClient.findOzonOperations(t).pipe((0,p.K)(g=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:g}),y.E))))).subscribe(t=>{this.dataSubject.next(t)}),this.dataSubject.pipe((0,T.R)(this.destroyed)).pipe((0,k.h)(t=>!!t)).pipe((0,p.K)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:t}),y.E))).subscribe(t=>{this.filterData()})}filterData(){const t=this.dataSubject.value,g=[];let m=0,z=0,J=0;if(t)for(const he of t.items){let ge=!0;const ye=Object.assign({},he);if(this.selectedServiceTypes.length){const me=ye.services.filter(Ee=>this.selectedServiceTypes.find(Ze=>Ze==Ee.type));me.length?ye.services=me:ge=!1}ge&&(g.push(ye),z+=ye.accrualsForSale,J+=ye.saleCommission,m+=ye.services.reduce((me,Ee)=>me+Ee.price,0)??0)}this.filteredData.next({totalCount:g.length,items:g,sum:m,commission:J,accrual:z})}importTransactions(){var t=this;return(0,s.Z)(function*(){const[g,m]=[t.timeService.asUtc(t.dateRange?.[0]),t.timeService.asUtc(t.dateRange?.[1])];t.operationClient.importOzonOperations(g,m).pipe((0,p.K)(z=>(t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:z}),y.E))).subscribe(()=>{t.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"}),t.findTransactionsClick()})})()}findTransactionsClick(){const t=new d.f.FindOzonOperationsModel({dateFrom:this.timeService.asUtc(this.dateRange?.[0]),dateTo:this.timeService.asUtc(this.dateRange?.[1]),offset:0,count:this.rows});this.filterSubject.next(t)}getOperationServiceType(t){return d.f.OperationServiceType[t]}static#e=this.\u0275fac=function(g){return new(g||r)(e.Y36(d.f.OperationClient),e.Y36(C.ez),e.Y36(A.O),e.Y36(M.Dx))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-ozon-transaction-list"]],features:[e.qOj],decls:7,vars:7,consts:[["header","\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 Ozon"],["styleClass","m-1","selectionMode","range","placeholder","\u041f\u0435\u0440\u0438\u043e\u0434",3,"ngModel","showClear","readonlyInput","ngModelChange"],["styleClass","m-1","icon","pi pi-search","label","\u041d\u0430\u0439\u0442\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438",3,"click"],["styleClass","m-1","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439",3,"icon","click"],["class","card",4,"ngIf"],[1,"card"],["responsiveLayout","stack","dataKey","iD",3,"value","loading","totalRecords","paginator","showCurrentPageReport","rows","rowsPerPageOptions"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pSortableColumn","sum"],["field","amount"],["appendTo","body","optionValue","type","optionLabel","text","placeholder","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435",3,"ngModel","options","ngModelChange","onChange"],[3,"pRowToggler"],[1,"p-column-title"],[4,"ngFor","ngForOf"],[1,"flex","justify-content-between"],["colspan","4"],["responsiveLayout","stack",3,"value","breakpoint","tableStyle"]],template:function(g,m){1&g&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-card",0)(2,"p-calendar",1),e.NdJ("ngModelChange",function(J){return m.dateRange=J}),e.qZA(),e.TgZ(3,"p-button",2),e.NdJ("click",function(){return m.findTransactionsClick()}),e.qZA(),e.TgZ(4,"p-button",3),e.NdJ("click",function(){return m.importTransactions()}),e.qZA()(),e.YNc(5,ni,6,8,"div",4),e.ALo(6,"async")),2&g&&(e.xp6(2),e.Q6J("ngModel",m.dateRange)("showClear",!0)("readonlyInput",!0),e.xp6(2),e.Q6J("icon",m.isLoading?"pi pi-download":""),e.xp6(1),e.Q6J("ngIf",e.lcZ(6,5,m.filteredData)))},dependencies:[C.jx,q.zx,Z.f,Q.Z,n.sg,n.O5,Y.JJ,Y.On,it,N.iA,N.lQ,N.jB,N.fz,re.FN,n.Ov,n.JJ,n.uU]})}return r})();function ii(r,D){1&r&&(e.TgZ(0,"div",22)(1,"span",23),e._uU(2,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b\u044b"),e.qZA()())}function oi(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-multiSelect",24),e.NdJ("onChange",function(m){const J=e.CHM(t).filterCallback;return e.KtG(J(m.value))}),e.qZA()}if(2&r){const t=D.$implicit,g=e.oxw(4);e.Q6J("ngModel",t)("filter",!1)("options",g.productPackageIDs)}}function ai(r,D){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2," \u0422\u043e\u0432\u0430\u0440 "),e.TgZ(3,"p-columnFilter",15),e.YNc(4,ii,3,0,"ng-template",12),e.YNc(5,oi,1,3,"ng-template",16),e.qZA()(),e.TgZ(6,"th",17),e._uU(7,"\u0421\u0443\u043c\u043c\u0430 "),e._UZ(8,"p-sortIcon",18),e.qZA(),e.TgZ(9,"th",19),e._uU(10,"\u0414\u0430\u0442\u0430 "),e._UZ(11,"p-sortIcon",20),e.qZA(),e.TgZ(12,"th"),e._uU(13," \u2116 \u0437\u0430\u043a\u0430\u0437\u0430 "),e._UZ(14,"p-columnFilter",21),e.qZA()()),2&r&&(e.xp6(3),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),e.xp6(11),e.Q6J("showMatchModes",!1)("showOperator",!1))}function ui(r,D){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&r){const t=D.$implicit;e.xp6(2),e.Oqu(t.product.name),e.xp6(1),e.AsE(" ",t.product.productPackageID," x ",t.quantity," ")}}function li(r,D){if(1&r&&(e.TgZ(0,"tr",25)(1,"td"),e.YNc(2,ui,4,3,"div",26),e.qZA(),e.TgZ(3,"td")(4,"div"),e._uU(5),e.ALo(6,"number"),e.qZA()(),e.TgZ(7,"td")(8,"div"),e._uU(9),e.ALo(10,"date"),e.qZA()(),e.TgZ(11,"td")(12,"div"),e._uU(13),e.qZA()()()),2&r){const t=D.$implicit;e.Q6J("pRowToggler",t),e.xp6(2),e.Q6J("ngForOf",t.orderItems),e.xp6(3),e.hij(" ",e.xi3(6,5,t.sum,"1.2-2"),"\u20bd "),e.xp6(4),e.hij(" ",e.xi3(10,8,t.date,"y-MM-dd HH:mm")," "),e.xp6(4),e.hij(" ",t.ozonOrderNumber," ")}}function si(r,D){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0426\u0435\u043d\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA()())}function ci(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",30),e._uU(4,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b"),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA()()(),e.TgZ(7,"td")(8,"div")(9,"span",30),e._uU(10,"\u0426\u0435\u043d\u0430"),e.qZA(),e.TgZ(11,"div"),e._uU(12),e.ALo(13,"number"),e.qZA()()(),e.TgZ(14,"td")(15,"div")(16,"span",30),e._uU(17,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e.TgZ(18,"div"),e._uU(19),e.qZA()()(),e.TgZ(20,"td")(21,"div")(22,"span",30),e._uU(23,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(24,"div"),e._uU(25),e.qZA()()()()),2&r){const t=D.$implicit;e.xp6(6),e.hij(" ",t.product.productPackageID," "),e.xp6(6),e.hij(" ",e.xi3(13,4,t.price,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",t.quantity," "),e.xp6(6),e.hij(" ",t.product.name," ")}}function di(r,D){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA()())}function pi(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",30),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA()()(),e.TgZ(7,"td")(8,"div")(9,"span",30),e._uU(10,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(11,"div"),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"td")(15,"div")(16,"span",30),e._uU(17,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(18,"div"),e._uU(19),e.ALo(20,"number"),e.qZA()()(),e.TgZ(21,"td")(22,"div")(23,"span",30),e._uU(24,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(25,"div"),e._uU(26),e.ALo(27,"number"),e.qZA()()(),e.TgZ(28,"td")(29,"div")(30,"span",30),e._uU(31,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(32,"div"),e._uU(33),e.qZA()()(),e.TgZ(34,"td")(35,"div")(36,"span",30),e._uU(37,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA(),e.TgZ(38,"div"),e._uU(39),e.qZA()()()()),2&r){const t=D.$implicit,g=e.oxw(7);e.xp6(6),e.hij(" ",t.iD," "),e.xp6(6),e.hij(" ",e.xi3(13,6,t.date,"y-MM-dd HH:mm")," "),e.xp6(7),e.hij(" ",e.xi3(20,9,t.amount,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",e.xi3(27,12,t.saleCommission,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",g.getOperationTypeText(t.operationType)," "),e.xp6(6),e.hij(" ",g.getTransactionTypeText(t.accrualType)," ")}}const Qn=function(){return{"min-width":"50rem"}};function fi(r,D){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",28)(3,"h5"),e._uU(4,"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e"),e.qZA()()(),e.TgZ(5,"tr")(6,"td",28)(7,"p-table",29),e.YNc(8,di,13,0,"ng-template",12),e.YNc(9,pi,40,15,"ng-template",13),e.qZA()()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(7),e.Q6J("value",t.operations)("breakpoint","960px")("tableStyle",e.DdM(3,Qn))}}function _i(r,D){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",28)(3,"p-table",29),e.YNc(4,si,9,0,"ng-template",12),e.YNc(5,ci,26,7,"ng-template",13),e.qZA()()(),e.YNc(6,fi,10,4,"ng-container",27),e.BQk()),2&r){const t=D.$implicit;e.xp6(3),e.Q6J("value",t.orderItems)("breakpoint","960px")("tableStyle",e.DdM(4,Qn)),e.xp6(3),e.Q6J("ngIf",null==t.operations?null:t.operations.length)}}function hi(r,D){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",28)(3,"h5"),e._uU(4,"\u0421\u043e\u0441\u0442\u0430\u0432 \u0437\u0430\u043a\u0430\u0437\u0430"),e.qZA()()(),e.YNc(5,_i,7,5,"ng-container",26),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(5),e.Q6J("ngForOf",t.orderItems)}}function gi(r,D){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA()())}function mi(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",30),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA()()(),e.TgZ(7,"td")(8,"div")(9,"span",30),e._uU(10,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(11,"div"),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"td")(15,"div")(16,"span",30),e._uU(17,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(18,"div"),e._uU(19),e.ALo(20,"number"),e.qZA()()(),e.TgZ(21,"td")(22,"div")(23,"span",30),e._uU(24,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(25,"div"),e._uU(26),e.ALo(27,"number"),e.qZA()()(),e.TgZ(28,"td")(29,"div")(30,"span",30),e._uU(31,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(32,"div"),e._uU(33),e.qZA()()(),e.TgZ(34,"td")(35,"div")(36,"span",30),e._uU(37,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA(),e.TgZ(38,"div"),e._uU(39),e.qZA()()()()),2&r){const t=D.$implicit,g=e.oxw(5);e.xp6(6),e.hij(" ",t.iD," "),e.xp6(6),e.hij(" ",e.xi3(13,6,t.date,"y-MM-dd HH:mm")," "),e.xp6(7),e.hij(" ",e.xi3(20,9,t.amount,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",e.xi3(27,12,t.saleCommission,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",g.getOperationTypeText(t.operationType)," "),e.xp6(6),e.hij(" ",g.getTransactionTypeText(t.accrualType)," ")}}function vi(r,D){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",28)(3,"h5"),e._uU(4,"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443"),e.qZA()()(),e.TgZ(5,"tr")(6,"td",28)(7,"p-table",31),e.YNc(8,gi,13,0,"ng-template",12),e.YNc(9,mi,40,15,"ng-template",13),e.qZA()()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(7),e.Q6J("value",t.operations)("breakpoint","960px")("tableStyle",e.DdM(3,Qn))}}function yi(r,D){if(1&r&&(e.YNc(0,hi,6,1,"ng-container",27),e.YNc(1,vi,10,4,"ng-container",27)),2&r){const t=D.$implicit;e.Q6J("ngIf",null==t.orderItems?null:t.orderItems.length),e.xp6(1),e.Q6J("ngIf",null==t.operations?null:t.operations.length)}}const xi=function(){return[8,15,30,50]},bi=function(){return{}};function Ti(r,D){if(1&r&&(e.TgZ(0,"p-table",11),e.YNc(1,ai,15,5,"ng-template",12),e.YNc(2,li,14,11,"ng-template",13),e.YNc(3,yi,2,2,"ng-template",14),e.qZA()),2&r){const t=e.oxw(2);e.Q6J("value",t.data)("loading",t.loading)("paginator",!0)("showCurrentPageReport",!1)("rows",8)("rowsPerPageOptions",e.DdM(7,xi))("tableStyle",e.DdM(8,bi))}}function Oi(r,D){if(1&r&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div")(6,"div",8)(7,"span"),e._uU(8,"\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0434\u0430\u0436"),e.qZA(),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"number"),e.qZA()()()(),e.TgZ(12,"div",7)(13,"div")(14,"div",8)(15,"span"),e._uU(16,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"number"),e.ALo(20,"number"),e.qZA()()()(),e.TgZ(21,"div",7)(22,"div")(23,"div",8)(24,"span"),e._uU(25,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b"),e.qZA(),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"number"),e.ALo(29,"number"),e.qZA()()()(),e.TgZ(30,"div",7)(31,"div")(32,"div",8)(33,"span"),e._uU(34,"\u0421\u0435\u0440\u0432\u0438\u0441\u044b"),e.qZA(),e.TgZ(35,"span"),e._uU(36),e.ALo(37,"number"),e.ALo(38,"number"),e.qZA()()()(),e.TgZ(39,"div",7)(40,"div")(41,"div",8)(42,"span"),e._uU(43,"\u0421\u0435\u0440\u0432\u0438\u0441\u044b \u0437\u0430\u043a\u0430\u0437\u043e\u0432"),e.qZA(),e.TgZ(44,"span"),e._uU(45),e.ALo(46,"number"),e.ALo(47,"number"),e.qZA()()()()()(),e.TgZ(48,"div",5)(49,"div",6)(50,"div",7)(51,"div",9),e._uU(52,"\u0417\u0430\u043a\u0430\u0437\u044b"),e.qZA(),e.TgZ(53,"div")(54,"div",8)(55,"span"),e._uU(56,"\u0417\u0430\u043a\u0430\u0437\u043e\u0432"),e.qZA(),e.TgZ(57,"span"),e._uU(58),e.qZA()()(),e.TgZ(59,"div",8)(60,"span"),e._uU(61,"\u0422\u043e\u0432\u0430\u0440\u043e\u0432"),e.qZA(),e.TgZ(62,"span"),e._uU(63),e.qZA()(),e.TgZ(64,"div",8)(65,"span"),e._uU(66,"\u041e\u0442\u043c\u0435\u043d"),e.qZA(),e.TgZ(67,"span"),e._uU(68),e.qZA()(),e.TgZ(69,"div",8)(70,"span"),e._uU(71,"\u0421\u0443\u043c\u043c\u0430 \u043e\u0442\u043c\u0435\u043d"),e.qZA(),e.TgZ(72,"span"),e._uU(73),e.qZA()(),e.TgZ(74,"div",8)(75,"span"),e._uU(76,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u043e\u0432"),e.qZA(),e.TgZ(77,"span"),e._uU(78),e.qZA()(),e.TgZ(79,"div",8)(80,"span"),e._uU(81,"\u0421\u0443\u043c\u043c\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043e\u0432"),e.qZA(),e.TgZ(82,"span"),e._uU(83),e.qZA()()()()()(),e.YNc(84,Ti,4,9,"p-table",10),e.qZA()),2&r){const t=e.oxw();e.xp6(10),e.hij("",e.xi3(11,16,t.summary.totalSum,"1.2-2"),"\u20bd"),e.xp6(8),e.AsE("",e.xi3(19,19,t.summary.commission,"1.2-2"),"\u20bd (",e.xi3(20,22,t.summary.totalSum+t.summary.commission,"1.2-2"),"\u20bd)"),e.xp6(9),e.AsE(" ",e.xi3(28,25,t.summary.returnedSum,"1.2-2"),"\u20bd (",e.xi3(29,28,t.summary.returnedProductCount+t.summary.totalSum+t.summary.commission-t.summary.returnedSum,"1.2-2"),"\u20bd) "),e.xp6(9),e.AsE("",e.xi3(37,31,t.summary.serviceTotalSum,"1.2-2"),"\u20bd (",e.xi3(38,34,t.summary.totalSum+t.summary.commission+t.summary.serviceTotalSum,"1.2-2"),"\u20bd)"),e.xp6(9),e.AsE("",e.xi3(46,37,t.summary.orderServiceTotalSum,"1.2-2"),"\u20bd (",e.xi3(47,40,t.summary.totalSum+t.summary.commission+t.summary.serviceTotalSum+t.summary.orderServiceTotalSum,"1.2-2"),"\u20bd)"),e.xp6(13),e.Oqu(t.summary.totalOrderCount),e.xp6(5),e.Oqu(t.summary.totalProductCount),e.xp6(5),e.Oqu(t.summary.cancelledProductCount),e.xp6(5),e.Oqu(t.summary.cancelledSum),e.xp6(5),e.Oqu(t.summary.returnedProductCount),e.xp6(5),e.Oqu(t.summary.returnedSum),e.xp6(1),e.Q6J("ngIf",t.data)}}let Ci=(()=>{class r extends l.V{constructor(t,g,m,z){super(z),this.ozonSalesOrderClient=t,this.messageService=g,this.timeService=m,this.data=[],this.excludedDates=[],this.productPackageIDs=[],this.loading=!1}ngOnInit(){this.titleService.setTitle("\u0421\u0432\u0435\u0440\u043a\u0430 \u0441 Ozon")}getDateRange(){const t=this.timeService.asUtc(this.date),g=new Date(t),m=new Date(t);return m.setMonth(m.getMonth()+1),[g,m]}prepareReport(){this.loading=!0;const[t,g]=this.getDateRange(),m=new Date(t);m.setMonth(m.getMonth()-1),this.ozonSalesOrderClient.findSalesOzonOrders(new d.f.FindPostingsModel({dateFrom:m,dateTo:g})).pipe((0,T.R)(this.destroyed)).pipe((0,p.K)(z=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:z}),this.loading=!1,y.E))).subscribe(z=>{this.data=z.filter(me=>me.operations.reduce((Ee,Ze)=>Ee||=Ze.operationType==d.f.OperationType.OperationAgentDeliveredToCustomer&&(!t||Ze.date>=t)&&(!g||Ze.date<g),!1));const J=new Set,he={totalOrderCount:0,totalSum:0,totalProductCount:0,sumWithCommission:0,commission:0,orderServiceTotalSum:0,orderServiceTotalCount:0,serviceTotalSum:0,cancelledProductCount:0,returnedProductCount:0,cancelledSum:0,returnedSum:0,services:{},orderServices:{}},ge={},ye=[];for(const me of z){const Ee=me.operations.filter(Ce=>(!t||Ce.date>=t)&&(!g||Ce.date<g)),Ze=!!Ee.length;for(const Ce of Ee)if(Ce.postingNumber==me.ozonOrderNumber)for(const Ne of Ce.services)he.orderServices[Ne.type]=Ne.price+he.services[Ne.type],he.orderServiceTotalSum+=Ne.price,he.orderServiceTotalCount++,ye.push(Ne.price);if(Ze){for(const Ce of me.orderItems){J.add(Ce.product.productPackageID);const Ne=[];ge[Ce.product.productPackageID]||(ge[Ce.product.productPackageID]={prices:{},operations:[]});const dt=ge[Ce.product.productPackageID];dt.prices[Ce.price]||(dt.prices[Ce.price]={quantity:0,sum:0,commission:0});const yt=dt.prices[Ce.price];yt.quantity+=Ce.quantity,yt.sum+=Ce.quantity*Ce.price;for(const Je of Ee)if(Je.postingNumber==Ce.postingNumber)switch(Ne.push(Je),Je.operationType){case d.f.OperationType.OperationAgentDeliveredToCustomer:he.totalProductCount+=Ce.quantity,yt.commission+=Je.saleCommission,he.commission+=Je.saleCommission,he.totalSum+=Ce.price*Ce.quantity;for(const Be of Je.services)he.services[Be.type]=Be.price+(he.services[Be.type]??0),he.serviceTotalSum+=Be.price;break;case d.f.OperationType.ClientReturnAgentOperation:yt.commission+=Je.saleCommission,he.commission+=Je.saleCommission,he.returnedProductCount+=Ce.quantity,he.returnedSum+=Je.amount,he.totalSum-=Ce.price*Ce.quantity;for(const Be of Je.services)he.services[Be.type]=Be.price+(he.services[Be.type]??0),he.serviceTotalSum+=Be.price;break;case d.f.OperationType.OperationItemReturn:he.commission+=Je.saleCommission,he.cancelledProductCount+=Ce.quantity;for(const Be of Je.services)he.services[Be.type]=Be.price+(he.services[Be.type]??0),he.serviceTotalSum+=Be.price;break;default:console.log("x",Je)}}he.totalOrderCount++}}this.summary=he,this.loading=!1})}static#e=this.\u0275fac=function(g){return new(g||r)(e.Y36(d.f.OzonSalesOrderClient),e.Y36(C.ez),e.Y36(A.O),e.Y36(M.Dx))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-sales-reconciliation-report"]],features:[e.qOj],decls:4,vars:4,consts:[["header","\u0421\u0432\u0435\u0440\u043a\u0430 Ozon"],["selectionMode","single","view","month","dateFormat","yy-mm","placeholder","\u041f\u0435\u0440\u0438\u043e\u0434",3,"ngModel","disabledDates","readonlyInput","ngModelChange","onSelect"],["class","card",4,"ngIf"],[1,"card"],[1,"grid"],[1,"col-12","md:col-6"],[1,"card","text-right"],[1,"text-900","font-medium","text-xl","mb-3"],[1,"flex","justify-content-between"],[1,"text-500","text-center"],["responsiveLayout","stack","dataKey","iD",3,"value","loading","paginator","showCurrentPageReport","rows","rowsPerPageOptions","tableStyle",4,"ngIf"],["responsiveLayout","stack","dataKey","iD",3,"value","loading","paginator","showCurrentPageReport","rows","rowsPerPageOptions","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["field","product","matchMode","intersects","display","menu",3,"showMatchModes","showOperator","showAddButton"],["pTemplate","filter"],["pSortableColumn","sum"],["field","sum"],["pSortableColumn","date"],["field","date"],["field","ozonOrderNumber","matchMode","contains","display","menu",3,"showMatchModes","showOperator"],[1,"px-3","pt-3","pb-0"],[1,"font-bold"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435",3,"ngModel","filter","options","onChange"],[3,"pRowToggler"],[4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","4"],["responsiveLayout","stack",3,"value","breakpoint","tableStyle"],[1,"p-column-title","font-bold"],["dataKey","iD","responsiveLayout","stack",3,"value","breakpoint","tableStyle"]],template:function(g,m){1&g&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-card",0)(2,"p-calendar",1),e.NdJ("ngModelChange",function(J){return m.date=J})("onSelect",function(){return m.prepareReport()}),e.qZA()(),e.YNc(3,Oi,85,43,"div",2)),2&g&&(e.xp6(2),e.Q6J("ngModel",m.date)("disabledDates",m.excludedDates)("readonlyInput",!0),e.xp6(1),e.Q6J("ngIf",m.summary))},dependencies:[C.jx,Z.f,Q.Z,n.sg,n.O5,Y.JJ,Y.On,it,N.iA,N.lQ,N.jB,N.fz,N.xl,re.FN,n.JJ,n.uU]})}return r})();const wi=["inputtext"];function Si(r,D){1&r&&e.GkF(0)}function Ai(r,D){if(1&r&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,g=e.oxw();e.xp6(1),e.Oqu(g.field?g.resolveFieldData(t,g.field):t)}}function Ei(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"TimesCircleIcon",14),e.NdJ("click",function(m){e.CHM(t);const z=e.oxw(2).index,J=e.oxw();return e.KtG(J.removeItem(m,z))}),e.qZA()}2&r&&e.Q6J("styleClass","p-chips-token-icon")}function Mi(r,D){}function ki(r,D){1&r&&e.YNc(0,Mi,0,0,"ng-template")}function Zi(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"span",15),e.NdJ("click",function(m){e.CHM(t);const z=e.oxw(2).index,J=e.oxw();return e.KtG(J.removeItem(m,z))}),e.YNc(1,ki,1,0,null,16),e.qZA()}if(2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.removeTokenIconTemplate)}}function Ii(r,D){if(1&r&&(e.ynx(0),e.YNc(1,Ei,1,1,"TimesCircleIcon",12),e.YNc(2,Zi,2,1,"span",13),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.removeTokenIconTemplate),e.xp6(1),e.Q6J("ngIf",t.removeTokenIconTemplate)}}const Ri=function(r){return{$implicit:r}};function Di(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"li",7,8),e.NdJ("click",function(m){const J=e.CHM(t).$implicit,le=e.oxw();return e.KtG(le.onItemClick(m,J))}),e.YNc(2,Si,1,0,"ng-container",9),e.YNc(3,Ai,2,1,"span",10),e.YNc(4,Ii,3,2,"ng-container",6),e.qZA()}if(2&r){const t=D.$implicit,g=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",g.itemTemplate)("ngTemplateOutletContext",e.VKq(4,Ri,t)),e.xp6(1),e.Q6J("ngIf",!g.itemTemplate),e.xp6(1),e.Q6J("ngIf",!g.disabled)}}function Pi(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"TimesIcon",14),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2);return e.KtG(m.clear())}),e.qZA()}2&r&&e.Q6J("styleClass","p-chips-clear-icon")}function Li(r,D){}function zi(r,D){1&r&&e.YNc(0,Li,0,0,"ng-template")}function Fi(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"span",18),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2);return e.KtG(m.clear())}),e.YNc(1,zi,1,0,null,16),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.clearIconTemplate)}}function Ui(r,D){if(1&r&&(e.TgZ(0,"li"),e.YNc(1,Pi,1,1,"TimesIcon",12),e.YNc(2,Fi,2,1,"span",17),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.clearIconTemplate),e.xp6(1),e.Q6J("ngIf",t.clearIconTemplate)}}const qi=function(r,D){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":r,"p-disabled":D}},Ni=function(r){return{"p-chips-clearable":r}},Bi={provide:Y.JU,useExisting:(0,e.Gpc)(()=>Vn),multi:!0};let Vn=(()=>{class r{document;el;cd;style;styleClass;disabled;field;placeholder;max;ariaLabelledBy;tabindex;inputId;allowDuplicate=!0;inputStyle;inputStyleClass;addOnTab;addOnBlur;separator;showClear=!1;onAdd=new e.vpe;onRemove=new e.vpe;onFocus=new e.vpe;onBlur=new e.vpe;onChipClick=new e.vpe;onClear=new e.vpe;inputViewChild;templates;itemTemplate;removeTokenIconTemplate;clearIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};valueChanged;focus;filled;get isValueMaxLimited(){return this.max&&this.value&&this.max===this.value.length}constructor(t,g,m){this.document=t,this.el=g,this.cd=m}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"removetokenicon":this.removeTokenIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template}}),this.updateFilledState()}onClick(){this.inputViewChild?.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(t){this.disabled||(this.separator&&((t.clipboardData||this.document.defaultView.clipboardData).getData("Text").split(this.separator).forEach(m=>{this.addItem(t,m,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild&&this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(t,g){this.onChipClick.emit({originalEvent:t,value:g})}writeValue(t){this.value=t,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}resolveFieldData(t,g){if(t&&g){if(-1==g.indexOf("."))return t[g];{let J=g.split("."),le=t;for(var m=0,z=J.length;m<z;++m)le=le[J[m]];return le}}return null}onInputFocus(t){this.focus=!0,this.onFocus.emit(t)}onInputBlur(t){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(t)}removeItem(t,g){if(this.disabled)return;let m=this.value[g];this.value=this.value.filter((z,J)=>J!=g),this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:m}),this.updateFilledState(),this.updateMaxedOut()}addItem(t,g,m){this.value=this.value||[],g&&g.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(g))&&!this.isValueMaxLimited&&(this.value=[...this.value,g],this.onModelChange(this.value),this.onAdd.emit({originalEvent:t,value:g})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",m&&t.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.updateMaxedOut(),this.onClear.emit()}onKeydown(t){switch(t.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let g=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:g}),this.updateFilledState()}break;case 13:this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?t.preventDefault():this.separator&&(this.separator===t.key||t.key.match(this.separator))&&this.addItem(t,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.isValueMaxLimited?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}static \u0275fac=function(g){return new(g||r)(e.Y36(n.K0),e.Y36(e.SBq),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:r,selectors:[["p-chips"]],contentQueries:function(g,m,z){if(1&g&&e.Suo(z,C.jx,4),2&g){let J;e.iGM(J=e.CRH())&&(m.templates=J)}},viewQuery:function(g,m){if(1&g&&e.Gf(wi,5),2&g){let z;e.iGM(z=e.CRH())&&(m.inputViewChild=z.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(g,m){2&g&&e.ekj("p-inputwrapper-filled",m.filled)("p-inputwrapper-focus",m.focus)("p-chips-clearable",m.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator",showClear:"showClear"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[e._Bn([Bi])],decls:7,vars:21,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token",3,"ngClass"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],[4,"ngIf"],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],[1,"p-chips-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-chips-token-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-chips-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-chips-clear-icon",3,"click",4,"ngIf"],[1,"p-chips-clear-icon",3,"click"]],template:function(g,m){1&g&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return m.onClick()}),e.TgZ(1,"ul",1),e.YNc(2,Di,5,6,"li",2),e.TgZ(3,"li",3)(4,"input",4,5),e.NdJ("keydown",function(J){return m.onKeydown(J)})("input",function(){return m.onInput()})("paste",function(J){return m.onPaste(J)})("focus",function(J){return m.onInputFocus(J)})("blur",function(J){return m.onInputBlur(J)}),e.qZA()(),e.YNc(6,Ui,3,2,"li",6),e.qZA()()),2&g&&(e.Tol(m.styleClass),e.Q6J("ngClass","p-chips p-component")("ngStyle",m.style),e.xp6(1),e.Q6J("ngClass",e.WLB(16,qi,m.focus,m.disabled)),e.xp6(1),e.Q6J("ngForOf",m.value),e.xp6(1),e.Q6J("ngClass",e.VKq(19,Ni,m.showClear&&!m.disabled)),e.xp6(1),e.Tol(m.inputStyleClass),e.Q6J("disabled",m.disabled)("ngStyle",m.inputStyle),e.uIk("id",m.inputId)("placeholder",m.value&&m.value.length?null:m.placeholder)("tabindex",m.tabindex)("aria-labelledby",m.ariaLabelledBy),e.xp6(2),e.Q6J("ngIf",null!=m.value&&m.filled&&!m.disabled&&m.showClear))},dependencies:function(){return[n.mk,n.sg,n.O5,n.tP,n.PC,te.x,se.q]},styles:["@layer primeng{.p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}}\n"],encapsulation:2,changeDetection:0})}return r})(),ji=(()=>{class r{static \u0275fac=function(g){return new(g||r)};static \u0275mod=e.oAB({type:r});static \u0275inj=e.cJS({imports:[n.ez,Nn.j,C.m8,te.x,se.q,Nn.j,C.m8]})}return r})();function Ji(r,D){1&r&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b"),e.qZA()())}function Qi(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-multiSelect",12),e.NdJ("onChange",function(m){const J=e.CHM(t).filterCallback;return e.KtG(J(m.value))}),e.qZA()}if(2&r){const t=D.$implicit,g=e.oxw(3);e.Q6J("ngModel",t)("filter",!1)("options",g.warehouseClusters)}}function Yi(r,D){1&r&&(e.TgZ(0,"tr")(1,"th"),e._UZ(2,"p-columnFilter",5),e._uU(3," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 "),e.qZA(),e.TgZ(4,"th"),e._uU(5,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"\u041e\u0441\u043e\u0431\u044b\u0439"),e.qZA(),e.TgZ(8,"th",6),e._uU(9," \u041a\u043b\u0430\u0441\u0442\u0435\u0440"),e._UZ(10,"p-sortIcon",7),e.TgZ(11,"p-columnFilter",8),e.YNc(12,Ji,3,0,"ng-template",3),e.YNc(13,Qi,1,3,"ng-template",9),e.qZA()(),e.TgZ(14,"th"),e._uU(15,"\u041f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c\u044b"),e.qZA(),e._UZ(16,"th"),e.qZA()),2&r&&(e.xp6(2),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),e.xp6(9),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1))}function Gi(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-checkbox",20),e.NdJ("ngModelChange",function(m){e.CHM(t);const z=e.oxw().$implicit;return e.KtG(z.standalone=m)}),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.Q6J("ngModel",t.standalone)("binary",!0)}}function Hi(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-checkbox",21),e.NdJ("ngModelChange",function(m){e.CHM(t);const z=e.oxw().$implicit;return e.KtG(z.standalone=m)}),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.Q6J("ngModel",t.standalone)("readonly",!0)("binary",!0)}}function Vi(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-chips",22),e.NdJ("ngModelChange",function(m){e.CHM(t);const z=e.oxw().$implicit;return e.KtG(z.aliases=m)}),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.Q6J("ngModel",t.aliases)}}function Wi(r,D){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&r){const t=D.$implicit;e.xp6(1),e.Oqu(t)}}function $i(r,D){if(1&r&&e.YNc(0,Wi,2,1,"div",23),2&r){const t=e.oxw().$implicit;e.Q6J("ngForOf",t.aliases)}}function Ki(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const m=e.oxw().$implicit,z=e.oxw(2);return e.KtG(z.onRowEditInit(m))}),e.qZA()}}function Xi(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const m=e.oxw().$implicit,z=e.oxw(2);return e.KtG(z.onRowEditSave(m))}),e.qZA()}}function eo(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const m=e.oxw().$implicit,z=e.oxw(2);return e.KtG(z.onRowEditCancel(m))}),e.qZA()}}function to(r,D){if(1&r&&(e.TgZ(0,"tr",13)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"p-cellEditor"),e.YNc(7,Gi,1,2,"ng-template",14),e.YNc(8,Hi,1,3,"ng-template",15),e.qZA()(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"p-cellEditor"),e.YNc(13,Vi,1,1,"ng-template",14),e.YNc(14,$i,1,1,"ng-template",15),e.qZA()(),e.TgZ(15,"td")(16,"div",16),e.YNc(17,Ki,1,0,"button",17),e.YNc(18,Xi,1,0,"button",18),e.YNc(19,eo,1,0,"button",19),e.qZA()()()),2&r){const t=D.$implicit,g=D.editing;e.Q6J("pEditableRow",t),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.address),e.xp6(6),e.Oqu(t.warehouseCluster),e.xp6(7),e.Q6J("ngIf",!g),e.xp6(1),e.Q6J("ngIf",g),e.xp6(1),e.Q6J("ngIf",g)}}const no=function(){return{"min-width":"50rem"}},ro=function(){return[50,100,250]};function io(r,D){if(1&r){const t=e.EpF();e.TgZ(0,"p-table",2),e.NdJ("onEditComplete",function(m){e.CHM(t);const z=e.oxw();return e.KtG(z.editComplete(m))}),e.YNc(1,Yi,17,6,"ng-template",3),e.YNc(2,to,20,7,"ng-template",4),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("value",t.data)("tableStyle",e.DdM(6,no))("paginator",!0)("rows",100)("rowsPerPageOptions",e.DdM(7,ro))("totalRecords",t.totalRecords)}}let oo=(()=>{class r extends l.V{constructor(t,g,m){super(m),this.warehouseClient=t,this.messageService=g,this.clonedData={},this.warehouseClusters=[]}ngOnInit(){this.titleService.setTitle("\u0421\u043a\u043b\u0430\u0434\u044b Ozon"),this.getOzonWarehouses()}getOzonWarehouses(){this.warehouseClient.getOzonWarehouses().pipe((0,p.K)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:t}),y.E))).subscribe(t=>{this.data=t,this.warehouseClusters=[...t.reduce((g,m)=>(g.add(m.warehouseCluster),g),new Set)].sort()})}onRowEditInit(t){const g=new d.f.OzonWarehouse(t);this.clonedData[t.iD]=g}onRowEditCancel(t){const g=this.data.findIndex(m=>m.iD==t.iD);this.data[g]=this.clonedData[t.iD],delete this.clonedData[t.iD]}onRowEditSave(t){this.warehouseClient.updateOzonWarehouse(t).pipe((0,p.K)(g=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:g}),y.E))).subscribe()}importWarehouses(){var t=this;return(0,s.Z)(function*(){t.warehouseClient.importOzonWarehouses().pipe((0,p.K)(g=>(t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u0441\u043a\u043b\u0430\u0434\u043e\u0432 \u041e\u0437\u043e\u043d",severity:"error",detail:g}),y.E))).subscribe(()=>{t.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043a\u043b\u0430\u0434\u043e\u0432 \u041e\u0437\u043e\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"}),t.getOzonWarehouses()})})()}static#e=this.\u0275fac=function(g){return new(g||r)(e.Y36(d.f.WarehouseClient),e.Y36(C.ez),e.Y36(M.Dx))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-ozon-warehouse-list"]],features:[e.qOj],decls:5,vars:1,consts:[["pButton","","pRipple","","type","button","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u0441\u043a\u043b\u0430\u0434\u043e\u0432",3,"click"],["dataKey","iD","editMode","row",3,"value","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","onEditComplete",4,"ngIf"],["dataKey","iD","editMode","row",3,"value","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","onEditComplete"],["pTemplate","header"],["pTemplate","body"],["type","text","field","name","matchMode","contains",3,"showMatchModes","showOperator","showAddButton"],["pSortableColumn","warehouseCluster"],["field","warehouseCluster"],["field","warehouseCluster","matchMode","in","display","menu",3,"showMatchModes","showOperator","showAddButton"],["pTemplate","filter"],[1,"px-3","pt-3","pb-0"],[1,"font-bold"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435",3,"ngModel","filter","options","onChange"],[3,"pEditableRow"],["pTemplate","input"],["pTemplate","output"],[1,"flex","align-items-center","justify-content-center","gap-2"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded p-button-text p-button-success mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded p-button-text p-button-danger",3,"click",4,"ngIf"],["inputId","binary",3,"ngModel","binary","ngModelChange"],["inputId","binary",3,"ngModel","readonly","binary","ngModelChange"],["separator","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"]],template:function(g,m){1&g&&(e._UZ(0,"p-toast"),e.TgZ(1,"h1"),e._uU(2,"\u0421\u043a\u043b\u0430\u0434\u044b Ozon"),e.qZA(),e.TgZ(3,"button",0),e.NdJ("click",function(){return m.importWarehouses()}),e.qZA(),e.YNc(4,io,3,8,"p-table",1)),2&g&&(e.xp6(4),e.Q6J("ngIf",m.data))},dependencies:[C.jx,q.Hq,qn.XZ,Vn,n.sg,n.O5,Y.JJ,Y.On,it,N.iA,N.lQ,N.YL,N.fz,N.D$,N.Pv,N.U1,N.wT,N.xl,re.FN]})}return r})();var ao=x(3620);function uo(r,D){if(1&r&&(e.TgZ(0,"tr",16)(1,"td",17)(2,"span",18),e._uU(3),e.qZA()()()),2&r){const t=D.$implicit;e.xp6(3),e.Oqu(t.warehouseClusterName)}}function lo(r,D){1&r&&(e.TgZ(0,"tr")(1,"th",19),e._uU(2," ID "),e._UZ(3,"p-sortIcon",20),e.qZA(),e.TgZ(4,"th"),e._uU(5,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(6,"th",21),e._uU(7," \u041f\u0440\u043e\u0434\u0430\u0436 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 "),e._UZ(8,"p-sortIcon",22),e.qZA(),e.TgZ(9,"th",23),e._uU(10," \u041d\u0430\u043b\u0438\u0447\u0438\u0435 "),e._UZ(11,"p-sortIcon",24),e.qZA(),e.TgZ(12,"th",25),e._uU(13," \u0420\u0435\u0437\u0435\u0440\u0432 "),e._UZ(14,"p-sortIcon",26),e.qZA(),e.TgZ(15,"th",27),e._uU(16," \u0412 \u043f\u0443\u0442\u0438 "),e._UZ(17,"p-sortIcon",28),e.qZA(),e.TgZ(18,"th",29),e._uU(19," \u041f\u0440\u043e\u0434\u0430\u0436 \u0432 \u0434\u0435\u043d\u044c "),e._UZ(20,"p-sortIcon",30),e.qZA(),e.TgZ(21,"th",31),e._uU(22," \u0417\u0430\u043f\u0430\u0441 \u0432 \u0434\u043d\u044f\u0445 "),e._UZ(23,"p-sortIcon",32),e.qZA()(),e.TgZ(24,"tr")(25,"th"),e._UZ(26,"p-columnFilter",33),e.qZA(),e.TgZ(27,"th"),e._UZ(28,"p-columnFilter",34),e.qZA(),e.TgZ(29,"th"),e._UZ(30,"p-columnFilter",35),e.qZA(),e.TgZ(31,"th"),e._UZ(32,"p-columnFilter",36),e.qZA(),e.TgZ(33,"th"),e._UZ(34,"p-columnFilter",37),e.qZA(),e.TgZ(35,"th"),e._UZ(36,"p-columnFilter",38),e.qZA(),e.TgZ(37,"th"),e._UZ(38,"p-columnFilter",39),e.qZA(),e._UZ(39,"th"),e.qZA()),2&r&&(e.xp6(26),e.Q6J("min",1)("showButtons",!1)("showOperator",!1)("useGrouping",!1),e.xp6(2),e.Q6J("showMatchModes",!1)("showOperator",!1),e.xp6(2),e.Q6J("showMatchModes",!1)("showButtons",!1)("showOperator",!1)("useGrouping",!1),e.xp6(2),e.Q6J("showButtons",!1)("showOperator",!1)("useGrouping",!1),e.xp6(2),e.Q6J("showButtons",!1)("showOperator",!1)("useGrouping",!1),e.xp6(2),e.Q6J("showButtons",!1)("showOperator",!1)("useGrouping",!1),e.xp6(2),e.Q6J("showButtons",!1)("showOperator",!1))}function so(r,D){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"number"),e.qZA()()),2&r){const t=D.$implicit;e.xp6(2),e.Oqu(t.productPackageID),e.xp6(2),e.Oqu(t.productPackageName),e.xp6(2),e.Oqu(t.salesCount),e.xp6(2),e.Oqu(t.present),e.xp6(2),e.Oqu(t.reserved),e.xp6(2),e.Oqu(t.moving),e.xp6(2),e.Oqu(e.xi3(15,8,t.salesRate,"1.0-1")),e.xp6(3),e.Oqu(e.xi3(18,11,t.stockDays,"1.0-1"))}}const co=function(){return{"min-width":"75rem"}},po=function(){return["name"]};function fo(r,D){if(1&r&&(e.TgZ(0,"p-table",12),e.YNc(1,uo,4,1,"ng-template",13),e.YNc(2,lo,40,21,"ng-template",14),e.YNc(3,so,19,14,"ng-template",15),e.qZA()),2&r){const t=e.oxw();e.Q6J("value",t.data)("tableStyle",e.DdM(6,co))("paginator",!1)("loading",t.loading)("sortOrder",1)("globalFilterFields",e.DdM(7,po))}}let _o=(()=>{class r extends l.V{constructor(t,g,m,z,J){super(z),this.route=t,this.reportClient=g,this.messageService=m,this.dbService=J,this.loading=!1,this.filter={salesAnalysisInDays:null,notificationPeriodInDays:null,date:null,respectMinimalStock:!1,respectSupplyPreparationPeriod:!1,respectActiveSupplyOrders:!1},this.filterSubject=new c.X(null)}ngOnInit(){this.titleService.setTitle("\u0414\u0435\u0444\u0438\u0446\u0438\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 Ozon"),this.filterSubject.pipe((0,T.R)(this.destroyed),(0,k.h)(J=>!!J),(0,ao.b)(1e3)).pipe((0,k.h)(J=>J.salesAnalysisInDays>0&&J.notificationPeriodInDays>0)).subscribe(J=>{this.loading=!0;const le={...J};delete le.date,this.dbService.update("filters",{id:r.name,data:le}).pipe((0,p.K)(he=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430",severity:"error",detail:he}),y.E))).subscribe(),this.reportClient.getOzonStockStarvationReport(J.salesAnalysisInDays,J.notificationPeriodInDays,J.date,J.respectMinimalStock,J.respectSupplyPreparationPeriod,J.respectActiveSupplyOrders).pipe((0,p.K)(he=>(this.loading=!1,this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:he}),y.E))).subscribe(he=>{this.data=he,this.data.reduce((ye,me)=>{let Ee;const Ze=me.standaloneWarehouse?me.warehouseName:me.warehouseClusterName??"\u0411\u0435\u0437 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430";let Ce;return ye[Ze]?Ee=ye[Ze]:(Ee={},ye[Ze]=Ee),Ee[me.productPackageID]?(Ce=Ee[me.productPackageID],Ce.reserved+=me.reserved,Ce.present+=me.present,Ce.moving+=me.moving,Ce.salesCount+=me.salesCount):(Ce={productPackageName:me.productPackageName,productPackageID:me.productPackageID,reserved:me.reserved,present:me.present,moving:me.moving,salesCount:me.salesCount},Ee[me.productPackageID]=Ce),ye},{}),this.loading=!1})});const t=+this.route.snapshot.paramMap.get("salesAnalysisInDays"),g=+this.route.snapshot.paramMap.get("notificationPeriodInDays"),z=this.route.snapshot.paramMap.get("date")?new Date:null;this.filter.salesAnalysisInDays=t>0?t:7,this.filter.notificationPeriodInDays=g>0?g:7,this.filter.date=z,this.dbService.getByID("filters",r.name).subscribe(J=>{J&&(J.data&&(this.filter=J.data),this.filterSubject.next(this.filter))}),this.filter.salesAnalysisInDays>0&&this.filter.notificationPeriodInDays>0&&this.filterSubject.next(this.filter)}onFilterChanged(){this.filterSubject.next(this.filter)}static#e=this.\u0275fac=function(g){return new(g||r)(e.Y36(a.gz),e.Y36(d.f.ReportClient),e.Y36(C.ez),e.Y36(M.Dx),e.Y36(U.ys))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-stock-starvation-report"]],features:[e.qOj],decls:22,vars:16,consts:[[1,"card"],[1,"flex","gap-3","m-3"],[1,"p-float-label"],["inputId","salesAnalysisInDays",3,"min","required","ngModel","onInput","ngModelChange"],["htmlFor","number-input"],["inputId","notificationPeriodInDays",3,"min","required","ngModel","onInput","ngModelChange"],["input","date","dateFormat","dd.mm.yy","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u0447\u0451\u0442\u0430",3,"ngModel","showClear","readonlyInput","ngModelChange","onClear","onSelect"],["for","date",1,"font-bold"],["input","respectMinimalStock","label","\u0423\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0441\u0442\u0430\u0442\u043e\u043a",3,"ngModel","binary","ngModelChange","onChange"],["input","respectActiveSupplyOrders","label","\u0423\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435",3,"ngModel","binary","ngModelChange","onChange"],["input","respectSupplyPreparationPeriod","label","\u0423\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0443 \u043a \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0435",3,"ngModel","binary","ngModelChange","onChange"],["sortField","stockDays","rowGroupMode","subheader","groupRowsBy","warehouseClusterName","groupRowsByOrder","9",3,"value","tableStyle","paginator","loading","sortOrder","globalFilterFields",4,"ngIf"],["sortField","stockDays","rowGroupMode","subheader","groupRowsBy","warehouseClusterName","groupRowsByOrder","9",3,"value","tableStyle","paginator","loading","sortOrder","globalFilterFields"],["pTemplate","groupheader"],["pTemplate","header"],["pTemplate","body"],["pRowGroupHeader",""],["colspan","8"],[1,"font-bold","ml-2"],["pSortableColumn","productPackageID"],["field","productPackageID"],["pSortableColumn","salesCount"],["field","salesCount"],["pSortableColumn","present"],["field","present"],["pSortableColumn","reserved"],["field","reserved"],["pSortableColumn","moving"],["field","moving"],["pSortableColumn","salesRate"],["field","salesRate"],["pSortableColumn","stockDays"],["field","stockDays"],["field","productPackageID","type","numeric",3,"min","showButtons","showOperator","useGrouping"],["field","productPackageName","matchMode","contains","type","text",3,"showMatchModes","showOperator"],["field","salesCount","type","numeric",3,"showMatchModes","showButtons","showOperator","useGrouping"],["field","present","type","numeric",3,"showButtons","showOperator","useGrouping"],["field","reserved","type","numeric",3,"showButtons","showOperator","useGrouping"],["field","moving","type","numeric",3,"showButtons","showOperator","useGrouping"],["field","salesRate","type","numeric",3,"showButtons","showOperator"]],template:function(g,m){1&g&&(e._UZ(0,"p-toast"),e.TgZ(1,"h1"),e._uU(2," \u041e\u0442\u0447\u0451\u0442 \u043e \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u043e\u0441\u0442\u0430\u0442\u043a\u0430\u0445\n"),e.qZA(),e.TgZ(3,"div",0)(4,"div",1)(5,"span",2)(6,"p-inputNumber",3),e.NdJ("onInput",function(){return m.onFilterChanged()})("ngModelChange",function(J){return m.filter.salesAnalysisInDays=J}),e.qZA(),e.TgZ(7,"label",4),e._uU(8,"\u041f\u0435\u0440\u0438\u043e\u0434 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u043f\u0440\u043e\u0434\u0430\u0436, \u0434\u043d\u0435\u0439"),e.qZA()(),e.TgZ(9,"span",2)(10,"p-inputNumber",5),e.NdJ("onInput",function(){return m.onFilterChanged()})("ngModelChange",function(J){return m.filter.notificationPeriodInDays=J}),e.qZA(),e.TgZ(11,"label",4),e._uU(12,"\u0417\u0430\u043f\u0430\u0441 \u043e\u0441\u0442\u0430\u0442\u043a\u043e\u0432, \u0434\u043d\u0435\u0439"),e.qZA()(),e.TgZ(13,"span",2)(14,"p-calendar",6),e.NdJ("ngModelChange",function(J){return m.filter.date=J})("onClear",function(){return m.onFilterChanged()})("onSelect",function(){return m.onFilterChanged()}),e.qZA(),e.TgZ(15,"label",7),e._uU(16,"\u0414\u0430\u0442\u0430 \u043e\u0442\u0447\u0451\u0442\u0430"),e.qZA()()(),e.TgZ(17,"div",1)(18,"p-checkbox",8),e.NdJ("ngModelChange",function(J){return m.filter.respectMinimalStock=J})("onChange",function(){return m.onFilterChanged()}),e.qZA(),e.TgZ(19,"p-checkbox",9),e.NdJ("ngModelChange",function(J){return m.filter.respectActiveSupplyOrders=J})("onChange",function(){return m.onFilterChanged()}),e.qZA(),e.TgZ(20,"p-checkbox",10),e.NdJ("ngModelChange",function(J){return m.filter.respectSupplyPreparationPeriod=J})("onChange",function(){return m.onFilterChanged()}),e.qZA()()(),e.YNc(21,fo,4,8,"p-table",11)),2&g&&(e.xp6(6),e.Q6J("min",1)("required",!0)("ngModel",m.filter.salesAnalysisInDays),e.xp6(4),e.Q6J("min",1)("required",!0)("ngModel",m.filter.notificationPeriodInDays),e.xp6(4),e.Q6J("ngModel",m.filter.date)("showClear",!0)("readonlyInput",!0),e.xp6(4),e.Q6J("ngModel",m.filter.respectMinimalStock)("binary",!0),e.xp6(1),e.Q6J("ngModel",m.filter.respectActiveSupplyOrders)("binary",!0),e.xp6(1),e.Q6J("ngModel",m.filter.respectSupplyPreparationPeriod)("binary",!0),e.xp6(1),e.Q6J("ngIf",m.data))},dependencies:[C.jx,Z.f,qn.XZ,n.O5,Y.JJ,Y.Q7,Y.On,jn.Rn,N.iA,N.lQ,N.Z5,N.fz,N.xl,re.FN,n.JJ]})}return r})(),ho=(()=>{class r{static#e=this.\u0275fac=function(g){return new(g||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[a.Bz.forChild([{path:"warehouse/list",component:oo},{path:"salesOrders",component:ir},{path:"product",component:Or},{path:"transaction",component:ri},{path:"supplyOrder",component:Qr},{path:"reconciliation",component:Ci},{path:"stock-starvation-report",component:_o}]),a.Bz]})}return r})(),go=(()=>{class r{static#e=this.\u0275fac=function(g){return new(g||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),mo=(()=>{class r{static \u0275fac=function(g){return new(g||r)};static \u0275mod=e.oAB({type:r});static \u0275inj=e.cJS({imports:[n.ez]})}return r})();var vo=x(7327),yo=x(5096);let xo=(()=>{class r{static#e=this.\u0275fac=function(g){return new(g||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({providers:[d.f.WarehouseClient,d.f.ReportClient,d.f.OzonSalesOrderClient,d.f.PostingClient,d.f.OperationClient,d.f.OzonProductClient,d.f.OzonSupplyOrderClient,Jn,C.ez,C.YP],imports:[vo.WN,q.hJ,Z._8,Q.d,qn.nD,ji,go,n.ez,Gn.D,Bn.S,Hn.kW,yo.O,Y.u5,jn.L$,mo,Nn.j,h,Er,ho,w.r,R.Qy,N.U$,$.W,re.EV]})}return r})()},6387:(be,i,x)=>{"use strict";var a=q(x(4168)),c=q(x(6017)),y=q(x(1301)),k=q(x(7164)),u=q(x(8619)),d=q(x(4866)),C=q(x(3057)),A=x(856),U=q(x(530));function q(K){return K&&K.__esModule?K:{default:K}}var Z=function(){},Q=function(B,oe,ae){var te=new Z;if(typeof B>"u")throw Error("No element to render on was provided.");return te._renderProperties=(0,u.default)(B),te._encodings=[],te._options=U.default,te._errorHandler=new C.default(te),typeof oe<"u"&&((ae=ae||{}).format||(ae.format=ne()),te.options(ae)[ae.format](oe,ae).render()),te};for(var Y in Q.getModule=function(K){return a.default[K]},a.default)a.default.hasOwnProperty(Y)&&V(a.default,Y);function V(K,B){Z.prototype[B]=Z.prototype[B.toUpperCase()]=Z.prototype[B.toLowerCase()]=function(oe,ae){var te=this;return te._errorHandler.wrapBarcodeCall(function(){ae.text=typeof ae.text>"u"?void 0:""+ae.text;var se=(0,c.default)(te._options,ae);se=(0,d.default)(se);var G=ee(oe,K[B],se);return te._encodings.push(G),te})}}function ee(K,B,oe){var ae=new B(K=""+K,oe);if(!ae.valid())throw new A.InvalidInputException(ae.constructor.name,K);var te=ae.encode();te=(0,y.default)(te);for(var se=0;se<te.length;se++)te[se].options=(0,c.default)(oe,te[se].options);return te}function ne(){return a.default.CODE128?"CODE128":Object.keys(a.default)[0]}function W(K,B,oe){B=(0,y.default)(B);for(var ae=0;ae<B.length;ae++)B[ae].options=(0,c.default)(oe,B[ae].options),(0,k.default)(B[ae].options);(0,k.default)(oe),new(0,K.renderer)(K.element,B,oe).render(),K.afterRender&&K.afterRender()}Z.prototype.options=function(K){return this._options=(0,c.default)(this._options,K),this},Z.prototype.blank=function(K){var B=new Array(K+1).join("0");return this._encodings.push({data:B}),this},Z.prototype.init=function(){var K;if(this._renderProperties)for(var B in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var oe=(0,c.default)(this._options,(K=this._renderProperties[B]).options);"auto"==oe.format&&(oe.format=ne()),this._errorHandler.wrapBarcodeCall(function(){var se=ee(oe.value,a.default[oe.format.toUpperCase()],oe);W(K,se,oe)})}},Z.prototype.render=function(){if(!this._renderProperties)throw new A.NoElementException;if(Array.isArray(this._renderProperties))for(var K=0;K<this._renderProperties.length;K++)W(this._renderProperties[K],this._encodings,this._options);else W(this._renderProperties,this._encodings,this._options);return this},Z.prototype._defaults=U.default,typeof window<"u"&&(window.JsBarcode=Q),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(K,B){var oe=[];return jQuery(this).each(function(){oe.push(this)}),Q(oe,K,B)}),be.exports=Q},9418:(be,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function a(s,c){(function x(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a),this.data=s,this.text=c.text||s,this.options=c}},8514:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,d){for(var e=0;e<d.length;e++){var C=d[e];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(l,C.key,C)}}return function(l,d,e){return d&&u(l.prototype,d),e&&u(l,e),l}}(),s=function p(u){return u&&u.__esModule?u:{default:u}}(x(9418)),c=x(9144),b=function(u){function l(d,e){!function y(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l);var C=function T(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,d.substring(1),e));return C.bytes=d.split("").map(function(A){return A.charCodeAt(0)}),C}return function k(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.bytes,C=e.shift()-105,A=c.SET_BY_CODE[C];if(void 0===A)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&e.unshift(c.FNC1);var M=l.next(e,1,A);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:l.getBar(C)+M.result+l.getBar((M.checksum+C)%c.MODULO)+l.getBar(c.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return"string"==typeof e&&(e="true"===e.toLowerCase()),e}}],[{key:"getBar",value:function(e){return c.BARS[e]?c.BARS[e].toString():""}},{key:"correctIndex",value:function(e,C){if(C===c.SET_A){var A=e.shift();return A<32?A+64:A-32}return C===c.SET_B?e.shift()-32:10*(e.shift()-48)+e.shift()-48}},{key:"next",value:function(e,C,A){if(!e.length)return{result:"",checksum:0};var M=void 0,U=void 0;if(e[0]>=200){U=e.shift()-105;var q=c.SWAP[U];void 0!==q?M=l.next(e,C+1,q):((A===c.SET_A||A===c.SET_B)&&U===c.SHIFT&&(e[0]=A===c.SET_A?e[0]>95?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0]),M=l.next(e,C+1,A))}else U=l.correctIndex(e,A),M=l.next(e,C+1,A);return{result:l.getBar(U)+M.result,checksum:U*C+M.checksum}}}]),l}(s.default);i.default=b},2100:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,d){for(var e=0;e<d.length;e++){var C=d[e];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(l,C.key,C)}}return function(l,d,e){return d&&u(l.prototype,d),e&&u(l,e),l}}(),s=function p(u){return u&&u.__esModule?u:{default:u}}(x(8514)),c=x(9144),b=function(u){function l(d,e){return function y(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function T(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c.A_START_CHAR+d,e))}return function k(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"valid",value:function(){return new RegExp("^"+c.A_CHARS+"+$").test(this.data)}}]),l}(s.default);i.default=b},2943:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,d){for(var e=0;e<d.length;e++){var C=d[e];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(l,C.key,C)}}return function(l,d,e){return d&&u(l.prototype,d),e&&u(l,e),l}}(),s=function p(u){return u&&u.__esModule?u:{default:u}}(x(8514)),c=x(9144),b=function(u){function l(d,e){return function y(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function T(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c.B_START_CHAR+d,e))}return function k(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"valid",value:function(){return new RegExp("^"+c.B_CHARS+"+$").test(this.data)}}]),l}(s.default);i.default=b},5683:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,d){for(var e=0;e<d.length;e++){var C=d[e];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(l,C.key,C)}}return function(l,d,e){return d&&u(l.prototype,d),e&&u(l,e),l}}(),s=function p(u){return u&&u.__esModule?u:{default:u}}(x(8514)),c=x(9144),b=function(u){function l(d,e){return function y(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function T(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c.C_START_CHAR+d,e))}return function k(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"valid",value:function(){return new RegExp("^"+c.C_CHARS+"+$").test(this.data)}}]),l}(s.default);i.default=b},7737:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=p(x(8514)),c=p(x(4336));function p(u){return u&&u.__esModule?u:{default:u}}function T(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}var b=function(u){function l(d,e){if(function y(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),/^[\x00-\x7F\xC8-\xD3]+$/.test(d))var C=T(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,(0,c.default)(d),e));else C=T(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,d,e));return T(C)}return function k(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),l}(a.default);i.default=b},4336:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=x(9144),a=function(k){return k.match(new RegExp("^"+n.A_CHARS+"*"))[0].length},s=function(k){return k.match(new RegExp("^"+n.B_CHARS+"*"))[0].length},c=function(k){return k.match(new RegExp("^"+n.C_CHARS+"*"))[0]};function p(T,k){var b=k?n.A_CHARS:n.B_CHARS,u=T.match(new RegExp("^("+b+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(u)return u[1]+String.fromCharCode(204)+y(T.substring(u[1].length));var l=T.match(new RegExp("^"+b+"+"))[0];return l.length===T.length?T:l+String.fromCharCode(k?205:206)+p(T.substring(l.length),!k)}function y(T){var k=c(T),b=k.length;if(b===T.length)return T;T=T.substring(b);var u=a(T)>=s(T);return k+String.fromCharCode(u?206:205)+p(T,u)}i.default=function(T){var k=void 0;if(c(T).length>=2)k=n.C_START_CHAR+y(T);else{var u=a(T)>s(T);k=(u?n.A_START_CHAR:n.B_START_CHAR)+p(T,u)}return k.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(l,d){return String.fromCharCode(203)+d})}},9144:(be,i)=>{"use strict";var x;function n(Y,V,ee){return V in Y?Object.defineProperty(Y,V,{value:ee,enumerable:!0,configurable:!0,writable:!0}):Y[V]=ee,Y}Object.defineProperty(i,"__esModule",{value:!0});var a=i.SET_A=0,s=i.SET_B=1,c=i.SET_C=2,y=(i.SHIFT=98,i.START_A=103),T=i.START_B=104,k=i.START_C=105;i.MODULO=103,i.STOP=106,i.FNC1=207,i.SET_BY_CODE=(n(x={},y,a),n(x,T,s),n(x,k,c),x),i.SWAP={101:a,100:s,99:c},i.A_START_CHAR=String.fromCharCode(208),i.B_START_CHAR=String.fromCharCode(209),i.C_START_CHAR=String.fromCharCode(210),i.A_CHARS="[\0-_\xc8-\xcf]",i.B_CHARS="[ -\x7f\xc8-\xcf]",i.C_CHARS="(\xcf*[0-9]{2}\xcf*)",i.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},8754:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CODE128C=i.CODE128B=i.CODE128A=i.CODE128=void 0;var a=b(x(7737)),c=b(x(2100)),y=b(x(2943)),k=b(x(5683));function b(u){return u&&u.__esModule?u:{default:u}}i.CODE128=a.default,i.CODE128A=c.default,i.CODE128B=y.default,i.CODE128C=k.default},6602:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CODE39=void 0;var n=function(){function M(U,q){for(var Z=0;Z<q.length;Z++){var Q=q[Z];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(U,Q.key,Q)}}return function(U,q,Z){return q&&M(U.prototype,q),Z&&M(U,Z),U}}(),k=function(M){function U(q,Z){return function p(M,U){if(!(M instanceof U))throw new TypeError("Cannot call a class as a function")}(this,U),q=q.toUpperCase(),Z.mod43&&(q+=function e(M){return b[M]}(function A(M){for(var U=0,q=0;q<M.length;q++)U+=C(M[q]);return U%=43}(q))),function y(M,U){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!U||"object"!=typeof U&&"function"!=typeof U?M:U}(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,q,Z))}return function T(M,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function, not "+typeof U);M.prototype=Object.create(U&&U.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(M,U):M.__proto__=U)}(U,M),n(U,[{key:"encode",value:function(){for(var Z=l("*"),Q=0;Q<this.data.length;Q++)Z+=l(this.data[Q])+"0";return{data:Z+=l("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),U}(function c(M){return M&&M.__esModule?M:{default:M}}(x(9418)).default),b=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],u=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function l(M){return function d(M){return u[M].toString(2)}(C(M))}function C(M){return b.indexOf(M)}i.CODE39=k},4079:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function d(e,C){for(var A=0;A<C.length;A++){var M=C[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(e,M.key,M)}}return function(e,C,A){return C&&d(e.prototype,C),A&&d(e,A),e}}(),a=x(1392),c=T(x(2651));function T(d){return d&&d.__esModule?d:{default:d}}var l=function(d){function e(C,A){!function k(d,e){if(!(d instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var M=function b(d,e){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?d:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,C,A));return M.fontSize=!A.flat&&A.fontSize>10*A.width?10*A.width:A.fontSize,M.guardHeight=A.height+M.fontSize/2+A.textMargin,M}return function u(d,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(d,e):d.__proto__=e)}(e,d),n(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(A,M){return this.text.substr(A,M)}},{key:"leftEncode",value:function(A,M){return(0,c.default)(A,M)}},{key:"rightText",value:function(A,M){return this.text.substr(A,M)}},{key:"rightEncode",value:function(A,M){return(0,c.default)(A,M)}},{key:"encodeGuarded",value:function(){var A={fontSize:this.fontSize},M={height:this.guardHeight};return[{data:a.SIDE_BIN,options:M},{data:this.leftEncode(),text:this.leftText(),options:A},{data:a.MIDDLE_BIN,options:M},{data:this.rightEncode(),text:this.rightText(),options:A},{data:a.SIDE_BIN,options:M}]}},{key:"encodeFlat",value:function(){return{data:[a.SIDE_BIN,this.leftEncode(),a.MIDDLE_BIN,this.rightEncode(),a.SIDE_BIN].join(""),text:this.text}}}]),e}(T(x(9418)).default);i.default=l},9619:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function d(e,C){for(var A=0;A<C.length;A++){var M=C[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(e,M.key,M)}}return function(e,C,A){return C&&d(e.prototype,C),A&&d(e,A),e}}(),a=function d(e,C,A){null===e&&(e=Function.prototype);var M=Object.getOwnPropertyDescriptor(e,C);if(void 0===M){var U=Object.getPrototypeOf(e);return null===U?void 0:d(U,C,A)}if("value"in M)return M.value;var q=M.get;return void 0===q?void 0:q.call(A)},s=x(1392),p=function y(d){return d&&d.__esModule?d:{default:d}}(x(4079)),u=function(e){return(10-e.substr(0,12).split("").map(function(A){return+A}).reduce(function(A,M,U){return U%2?A+3*M:A+M},0)%10)%10},l=function(d){function e(C,A){(function T(d,e){if(!(d instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),-1!==C.search(/^[0-9]{12}$/)&&(C+=u(C));var M=function k(d,e){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?d:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,C,A));return M.lastChar=A.lastChar,M}return function b(d,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(d,e):d.__proto__=e)}(e,d),n(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===u(this.data)}},{key:"leftText",value:function(){return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var A=this.data.substr(1,6),M=s.EAN13_STRUCTURE[this.data[0]];return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,A,M)}},{key:"rightText",value:function(){return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var A=this.data.substr(7,6);return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,A,"RRRRRR")}},{key:"encodeGuarded",value:function(){var A=a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(A.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(A.push({data:"00"}),A.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),A}}]),e}(p.default);i.default=l},5754:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function d(e,C){for(var A=0;A<C.length;A++){var M=C[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(e,M.key,M)}}return function(e,C,A){return C&&d(e.prototype,C),A&&d(e,A),e}}(),a=x(1392),c=T(x(2651));function T(d){return d&&d.__esModule?d:{default:d}}var l=function(d){function e(C,A){return function k(d,e){if(!(d instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function b(d,e){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?d:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,C,A))}return function u(d,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(d,e):d.__proto__=e)}(e,d),n(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var A=a.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,c.default)(this.data,A,"01"),text:this.text}}}]),e}(T(x(9418)).default);i.default=l},1931:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(C,A){for(var M=0;M<A.length;M++){var U=A[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(C,U.key,U)}}return function(C,A,M){return A&&e(C.prototype,A),M&&e(C,M),C}}(),a=x(1392),c=T(x(2651));function T(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function C(A,M){return function k(e,C){if(!(e instanceof C))throw new TypeError("Cannot call a class as a function")}(this,C),function b(e,C){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?e:C}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,A,M))}return function u(e,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);e.prototype=Object.create(C&&C.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(e,C):e.__proto__=C)}(C,e),n(C,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var M=a.EAN5_STRUCTURE[function(C){return C.split("").map(function(M){return+M}).reduce(function(M,U,q){return q%2?M+9*U:M+3*U},0)%10}(this.data)];return{data:"1011"+(0,c.default)(this.data,M,"01"),text:this.text}}}]),C}(T(x(9418)).default);i.default=d},3372:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function l(d,e){for(var C=0;C<e.length;C++){var A=e[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(d,A.key,A)}}return function(d,e,C){return e&&l(d.prototype,e),C&&l(d,C),d}}(),a=function l(d,e,C){null===d&&(d=Function.prototype);var A=Object.getOwnPropertyDescriptor(d,e);if(void 0===A){var M=Object.getPrototypeOf(d);return null===M?void 0:l(M,e,C)}if("value"in A)return A.value;var U=A.get;return void 0===U?void 0:U.call(C)},c=function p(l){return l&&l.__esModule?l:{default:l}}(x(4079)),b=function(d){return(10-d.substr(0,7).split("").map(function(C){return+C}).reduce(function(C,A,M){return M%2?C+A:C+3*A},0)%10)%10},u=function(l){function d(e,C){return function y(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,d),-1!==e.search(/^[0-9]{7}$/)&&(e+=b(e)),function T(l,d){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?l:d}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e,C))}return function k(l,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);l.prototype=Object.create(d&&d.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(l,d):l.__proto__=d)}(d,l),n(d,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===b(this.data)}},{key:"leftText",value:function(){return a(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var C=this.data.substr(0,4);return a(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"leftEncode",this).call(this,C,"LLLL")}},{key:"rightText",value:function(){return a(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var C=this.data.substr(4,4);return a(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"rightEncode",this).call(this,C,"RRRR")}}]),d}(c.default);i.default=u},5821:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function d(e,C){for(var A=0;A<C.length;A++){var M=C[A];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(e,M.key,M)}}return function(e,C,A){return C&&d(e.prototype,C),A&&d(e,A),e}}();i.checksum=l;var s=y(x(2651));function y(d){return d&&d.__esModule?d:{default:d}}var u=function(d){function e(C,A){(function T(d,e){if(!(d instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),-1!==C.search(/^[0-9]{11}$/)&&(C+=l(C));var M=function k(d,e){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?d:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,C,A));return M.displayValue=A.displayValue,M.fontSize=A.fontSize>10*A.width?10*A.width:A.fontSize,M.guardHeight=A.height+M.fontSize/2+A.textMargin,M}return function b(d,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(d,e):d.__proto__=e)}(e,d),n(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==l(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var A="";return A+="101",A+=(0,s.default)(this.data.substr(0,6),"LLLLLL"),A+="01010",A+=(0,s.default)(this.data.substr(6,6),"RRRRRR"),{data:A+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var A=[];return this.displayValue&&A.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),A.push({data:"101"+(0,s.default)(this.data[0],"L"),options:{height:this.guardHeight}}),A.push({data:(0,s.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),A.push({data:"01010",options:{height:this.guardHeight}}),A.push({data:(0,s.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),A.push({data:(0,s.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&A.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),A}}]),e}(y(x(9418)).default);function l(d){var C,e=0;for(C=1;C<11;C+=2)e+=parseInt(d[C]);for(C=0;C<11;C+=2)e+=3*parseInt(d[C]);return(10-e%10)%10}i.default=u},1091:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function A(M,U){for(var q=0;q<U.length;q++){var Z=U[q];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(M,Z.key,Z)}}return function(M,U,q){return U&&A(M.prototype,U),q&&A(M,q),M}}(),s=T(x(2651)),p=T(x(9418)),y=x(5821);function T(A){return A&&A.__esModule?A:{default:A}}function b(A,M){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?A:M}var l=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],d=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],e=function(A){function M(U,q){!function k(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")}(this,M);var Z=b(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,U,q));if(Z.isValid=!1,-1!==U.search(/^[0-9]{6}$/))Z.middleDigits=U,Z.upcA=C(U,"0"),Z.text=q.text||""+Z.upcA[0]+U+Z.upcA[Z.upcA.length-1],Z.isValid=!0;else{if(-1===U.search(/^[01][0-9]{7}$/))return b(Z);if(Z.middleDigits=U.substring(1,U.length-1),Z.upcA=C(Z.middleDigits,U[0]),Z.upcA[Z.upcA.length-1]!==U[U.length-1])return b(Z);Z.isValid=!0}return Z.displayValue=q.displayValue,Z.fontSize=q.fontSize>10*q.width?10*q.width:q.fontSize,Z.guardHeight=q.height+Z.fontSize/2+q.textMargin,Z}return function u(A,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);A.prototype=Object.create(M&&M.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(A,M):A.__proto__=M)}(M,A),n(M,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var q="";return q+="101",q+=this.encodeMiddleDigits(),{data:q+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var q=[];return this.displayValue&&q.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),q.push({data:"101",options:{height:this.guardHeight}}),q.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),q.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&q.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),q}},{key:"encodeMiddleDigits",value:function(){var q=this.upcA[0],Q=d[parseInt(this.upcA[this.upcA.length-1])][parseInt(q)];return(0,s.default)(this.middleDigits,Q)}}]),M}(p.default);function C(A,M){for(var U=parseInt(A[A.length-1]),q=l[U],Z="",Q=0,Y=0;Y<q.length;Y++){var V=q[Y];Z+="X"===V?A[Q++]:V}return(Z=""+M+Z)+(0,y.checksum)(Z)}i.default=e},1392:(be,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SIDE_BIN="101",i.MIDDLE_BIN="01010",i.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},i.EAN2_STRUCTURE=["LL","LG","GL","GG"],i.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],i.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},2651:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=x(1392);i.default=function(c,p,y){var T=c.split("").map(function(b,u){return n.BINARIES[p[u]]}).map(function(b,u){return b?b[c[u]]:""});if(y){var k=c.length-1;T=T.map(function(b,u){return u<k?b+y:b})}return T.join("")}},2708:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.UPCE=i.UPC=i.EAN2=i.EAN5=i.EAN8=i.EAN13=void 0;var a=e(x(9619)),c=e(x(3372)),y=e(x(1931)),k=e(x(5754)),u=e(x(5821)),d=e(x(1091));function e(C){return C&&C.__esModule?C:{default:C}}i.EAN13=a.default,i.EAN8=c.default,i.EAN5=y.default,i.EAN2=k.default,i.UPC=u.default,i.UPCE=d.default},8817:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.GenericBarcode=void 0;var n=function(){function b(u,l){for(var d=0;d<l.length;d++){var e=l[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,e.key,e)}}return function(u,l,d){return l&&b(u.prototype,l),d&&b(u,d),u}}(),k=function(b){function u(l,d){return function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function y(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l,d))}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),n(u,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),u}(function c(b){return b&&b.__esModule?b:{default:b}}(x(9418)).default);i.GenericBarcode=k},6065:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,d){for(var e=0;e<d.length;e++){var C=d[e];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(l,C.key,C)}}return function(l,d,e){return d&&u(l.prototype,d),e&&u(l,e),l}}(),a=x(5168),b=function(u){function l(){return function y(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function T(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function k(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var e=this,C=this.data.match(/.{2}/g).map(function(A){return e.encodePair(A)}).join("");return{data:a.START_BIN+C+a.END_BIN,text:this.text}}},{key:"encodePair",value:function(e){var C=a.BINARIES[e[1]];return a.BINARIES[e[0]].split("").map(function(A,M){return("1"===A?"111":"1")+("1"===C[M]?"000":"0")}).join("")}}]),l}(function p(u){return u&&u.__esModule?u:{default:u}}(x(9418)).default);i.default=b},9643:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,d){for(var e=0;e<d.length;e++){var C=d[e];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(l,C.key,C)}}return function(l,d,e){return d&&u(l.prototype,d),e&&u(l,e),l}}(),s=function c(u){return u&&u.__esModule?u:{default:u}}(x(6065)),k=function(l){var d=l.substr(0,13).split("").map(function(e){return parseInt(e,10)}).reduce(function(e,C,A){return e+C*(3-A%2*2)},0);return 10*Math.ceil(d/10)-d},b=function(u){function l(d,e){return function p(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),-1!==d.search(/^[0-9]{13}$/)&&(d+=k(d)),function y(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,d,e))}return function T(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===k(this.data)}}]),l}(s.default);i.default=b},5168:(be,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.START_BIN="1010",i.END_BIN="11101",i.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},8969:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ITF14=i.ITF=void 0;var a=p(x(6065)),c=p(x(9643));function p(y){return y&&y.__esModule?y:{default:y}}i.ITF=a.default,i.ITF14=c.default},7037:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,d){for(var e=0;e<d.length;e++){var C=d[e];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(l,C.key,C)}}return function(l,d,e){return d&&u(l.prototype,d),e&&u(l,e),l}}(),k=function(u){function l(d,e){return function p(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function y(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,d,e))}return function T(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"encode",value:function(){for(var e="110",C=0;C<this.data.length;C++){var M=parseInt(this.data[C]).toString(2);M=b(M,4-M.length);for(var U=0;U<M.length;U++)e+="0"==M[U]?"100":"110"}return{data:e+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),l}(function c(u){return u&&u.__esModule?u:{default:u}}(x(9418)).default);function b(u,l){for(var d=0;d<l;d++)u="0"+u;return u}i.default=k},3922:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function c(b){return b&&b.__esModule?b:{default:b}}(x(7037)),s=x(6225),k=function(b){function u(l,d){return function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function y(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l+(0,s.mod10)(l),d))}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),u}(a.default);i.default=k},8742:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function c(b){return b&&b.__esModule?b:{default:b}}(x(7037)),s=x(6225),k=function(b){function u(l,d){return function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),l+=(0,s.mod10)(l),l+=(0,s.mod10)(l),function y(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l,d))}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),u}(a.default);i.default=k},1825:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function c(b){return b&&b.__esModule?b:{default:b}}(x(7037)),s=x(6225),k=function(b){function u(l,d){return function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function y(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l+(0,s.mod11)(l),d))}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),u}(a.default);i.default=k},4455:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function c(b){return b&&b.__esModule?b:{default:b}}(x(7037)),s=x(6225),k=function(b){function u(l,d){return function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),l+=(0,s.mod11)(l),l+=(0,s.mod10)(l),function y(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l,d))}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),u}(a.default);i.default=k},6225:(be,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mod10=function x(a){for(var s=0,c=0;c<a.length;c++){var p=parseInt(a[c]);s+=(c+a.length)%2==0?p:2*p%10+Math.floor(2*p/10)}return(10-s%10)%10},i.mod11=function n(a){for(var s=0,c=[2,3,4,5,6,7],p=0;p<a.length;p++){var y=parseInt(a[a.length-1-p]);s+=c[p%c.length]*y}return(11-s%11)%11}},1122:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MSI1110=i.MSI1010=i.MSI11=i.MSI10=i.MSI=void 0;var a=l(x(7037)),c=l(x(3922)),y=l(x(1825)),k=l(x(8742)),u=l(x(4455));function l(d){return d&&d.__esModule?d:{default:d}}i.MSI=a.default,i.MSI10=c.default,i.MSI11=y.default,i.MSI1010=k.default,i.MSI1110=u.default},886:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.codabar=void 0;var n=function(){function b(u,l){for(var d=0;d<l.length;d++){var e=l[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,e.key,e)}}return function(u,l,d){return l&&b(u.prototype,l),d&&b(u,d),u}}(),k=function(b){function u(l,d){(function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")})(this,u),0===l.search(/^[0-9\-\$\:\.\+\/]+$/)&&(l="A"+l+"A");var e=function y(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l.toUpperCase(),d));return e.text=e.options.text||e.text.replace(/[A-D]/g,""),e}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),n(u,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var d=[],e=this.getEncodings(),C=0;C<this.data.length;C++)d.push(e[this.data.charAt(C)]),C!==this.data.length-1&&d.push("0");return{text:this.text,data:d.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),u}(function c(b){return b&&b.__esModule?b:{default:b}}(x(9418)).default);i.codabar=k},4168:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=x(6602),a=x(8754),s=x(2708),c=x(8969),p=x(1122),y=x(8758),T=x(886),k=x(8817);i.default={CODE39:n.CODE39,CODE128:a.CODE128,CODE128A:a.CODE128A,CODE128B:a.CODE128B,CODE128C:a.CODE128C,EAN13:s.EAN13,EAN8:s.EAN8,EAN5:s.EAN5,EAN2:s.EAN2,UPC:s.UPC,UPCE:s.UPCE,ITF14:c.ITF14,ITF:c.ITF,MSI:p.MSI,MSI10:p.MSI10,MSI11:p.MSI11,MSI1010:p.MSI1010,MSI1110:p.MSI1110,pharmacode:y.pharmacode,codabar:T.codabar,GenericBarcode:k.GenericBarcode}},8758:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.pharmacode=void 0;var n=function(){function b(u,l){for(var d=0;d<l.length;d++){var e=l[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,e.key,e)}}return function(u,l,d){return l&&b(u.prototype,l),d&&b(u,d),u}}(),k=function(b){function u(l,d){!function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u);var e=function y(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l,d));return e.number=parseInt(l,10),e}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),n(u,[{key:"encode",value:function(){for(var d=this.number,e="";!isNaN(d)&&0!=d;)d%2==0?(e="11100"+e,d=(d-2)/2):(e="100"+e,d=(d-1)/2);return{data:e=e.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),u}(function c(b){return b&&b.__esModule?b:{default:b}}(x(9418)).default);i.pharmacode=k},3057:(be,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var x=function(){function s(c,p){for(var y=0;y<p.length;y++){var T=p[y];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(c,T.key,T)}}return function(c,p,y){return p&&s(c.prototype,p),y&&s(c,y),c}}(),a=function(){function s(c){(function n(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s),this.api=c}return x(s,[{key:"handleCatch",value:function(p){if("InvalidInputException"!==p.name)throw p;if(this.api._options.valid===this.api._defaults.valid)throw p.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(p){try{var y=p.apply(void 0,arguments);return this.api._options.valid(!0),y}catch(T){return this.handleCatch(T),this.api}}}]),s}();i.default=a},856:(be,i)=>{"use strict";function x(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")}function n(y,T){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?y:T}function a(y,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(y,T):y.__proto__=T)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(y){function T(k,b){x(this,T);var u=n(this,(T.__proto__||Object.getPrototypeOf(T)).call(this));return u.name="InvalidInputException",u.symbology=k,u.input=b,u.message='"'+u.input+'" is not a valid input for '+u.symbology,u}return a(T,Error),T}(),c=function(y){function T(){x(this,T);var k=n(this,(T.__proto__||Object.getPrototypeOf(T)).call(this));return k.name="InvalidElementException",k.message="Not supported type to render on",k}return a(T,Error),T}(),p=function(y){function T(){x(this,T);var k=n(this,(T.__proto__||Object.getPrototypeOf(T)).call(this));return k.name="NoElementException",k.message="No element to render on.",k}return a(T,Error),T}();i.InvalidInputException=s,i.InvalidElementException=c,i.NoElementException=p},7164:(be,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function x(n){return n.marginTop=n.marginTop||n.margin,n.marginBottom=n.marginBottom||n.margin,n.marginRight=n.marginRight||n.margin,n.marginLeft=n.marginLeft||n.margin,n}},7020:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=p(x(4866)),c=p(x(530));function p(T){return T&&T.__esModule?T:{default:T}}i.default=function y(T){var k={};for(var b in c.default)c.default.hasOwnProperty(b)&&(T.hasAttribute("jsbarcode-"+b.toLowerCase())&&(k[b]=T.getAttribute("jsbarcode-"+b.toLowerCase())),T.hasAttribute("data-"+b.toLowerCase())&&(k[b]=T.getAttribute("data-"+b.toLowerCase())));return k.value=T.getAttribute("jsbarcode-value")||T.getAttribute("data-value"),(0,a.default)(k)}},8619:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s=T(x(7020)),p=T(x(2233)),y=x(856);function T(l){return l&&l.__esModule?l:{default:l}}i.default=function k(l){if("string"==typeof l)return function b(l){var d=document.querySelectorAll(l);if(0!==d.length){for(var e=[],C=0;C<d.length;C++)e.push(k(d[C]));return e}}(l);if(Array.isArray(l)){for(var d=[],e=0;e<l.length;e++)d.push(k(l[e]));return d}if(typeof HTMLCanvasElement<"u"&&l instanceof HTMLImageElement)return function u(l){var d=document.createElement("canvas");return{element:d,options:(0,s.default)(l),renderer:p.default.CanvasRenderer,afterRender:function(){l.setAttribute("src",d.toDataURL())}}}(l);if(l&&l.nodeName&&"svg"===l.nodeName.toLowerCase()||typeof SVGElement<"u"&&l instanceof SVGElement)return{element:l,options:(0,s.default)(l),renderer:p.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement)return{element:l,options:(0,s.default)(l),renderer:p.default.CanvasRenderer};if(l&&l.getContext)return{element:l,renderer:p.default.CanvasRenderer};if(l&&"object"===(typeof l>"u"?"undefined":n(l))&&!l.nodeName)return{element:l,renderer:p.default.ObjectRenderer};throw new y.InvalidElementException}},1301:(be,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function x(n){var a=[];return function s(c){if(Array.isArray(c))for(var p=0;p<c.length;p++)s(c[p]);else c.text=c.text||"",c.data=c.data||"",a.push(c)}(n),a}},6017:(be,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var x=Object.assign||function(n){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(n[c]=s[c])}return n};i.default=function(n,a){return x({},n,a)}},4866:(be,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function x(n){var a=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var s in a)a.hasOwnProperty(s)&&"string"==typeof n[s=a[s]]&&(n[s]=parseInt(n[s],10));return"string"==typeof n.displayValue&&(n.displayValue="false"!=n.displayValue),n}},530:(be,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},1799:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function k(b,u){for(var l=0;l<u.length;l++){var d=u[l];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(b,d.key,d)}}return function(b,u,l){return u&&k(b.prototype,u),l&&k(b,l),b}}(),s=function p(k){return k&&k.__esModule?k:{default:k}}(x(6017)),c=x(4358),T=function(){function k(b,u,l){(function y(k,b){if(!(k instanceof b))throw new TypeError("Cannot call a class as a function")})(this,k),this.canvas=b,this.encodings=u,this.options=l}return n(k,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var u=0;u<this.encodings.length;u++){var l=(0,s.default)(this.options,this.encodings[u].options);this.drawCanvasBarcode(l,this.encodings[u]),this.drawCanvasText(l,this.encodings[u]),this.moveCanvasDrawing(this.encodings[u])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var u=this.canvas.getContext("2d");u.save(),(0,c.calculateEncodingAttributes)(this.encodings,this.options,u);var l=(0,c.getTotalWidthOfEncodings)(this.encodings),d=(0,c.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=l+this.options.marginLeft+this.options.marginRight,this.canvas.height=d,u.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(u.fillStyle=this.options.background,u.fillRect(0,0,this.canvas.width,this.canvas.height)),u.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(u,l){var C,d=this.canvas.getContext("2d"),e=l.data;C="top"==u.textPosition?u.marginTop+u.fontSize+u.textMargin:u.marginTop,d.fillStyle=u.lineColor;for(var A=0;A<e.length;A++){var M=A*u.width+l.barcodePadding;"1"===e[A]?d.fillRect(M,C,u.width,u.height):e[A]&&d.fillRect(M,C,u.width,u.height*e[A])}}},{key:"drawCanvasText",value:function(u,l){var C,A,d=this.canvas.getContext("2d");u.displayValue&&(A="top"==u.textPosition?u.marginTop+u.fontSize-u.textMargin:u.height+u.textMargin+u.marginTop+u.fontSize,d.font=u.fontOptions+" "+u.fontSize+"px "+u.font,"left"==u.textAlign||l.barcodePadding>0?(C=0,d.textAlign="left"):"right"==u.textAlign?(C=l.width-1,d.textAlign="right"):(C=l.width/2,d.textAlign="center"),d.fillText(l.text,C,A))}},{key:"moveCanvasDrawing",value:function(u){this.canvas.getContext("2d").translate(u.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),k}();i.default=T},2233:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=T(x(1799)),c=T(x(5794)),y=T(x(1138));function T(k){return k&&k.__esModule?k:{default:k}}i.default={CanvasRenderer:a.default,SVGRenderer:c.default,ObjectRenderer:y.default}},1138:(be,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var x=function(){function s(c,p){for(var y=0;y<p.length;y++){var T=p[y];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(c,T.key,T)}}return function(c,p,y){return p&&s(c.prototype,p),y&&s(c,y),c}}(),a=function(){function s(c,p,y){(function n(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s),this.object=c,this.encodings=p,this.options=y}return x(s,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),s}();i.default=a},4358:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getTotalWidthOfEncodings=i.calculateEncodingAttributes=i.getBarcodePadding=i.getEncodingHeight=i.getMaximumHeightOfEncodings=void 0;var a=function s(u){return u&&u.__esModule?u:{default:u}}(x(6017));function c(u,l){return l.height+(l.displayValue&&u.text.length>0?l.fontSize+l.textMargin:0)+l.marginTop+l.marginBottom}function p(u,l,d){if(d.displayValue&&l<u){if("center"==d.textAlign)return Math.floor((u-l)/2);if("left"==d.textAlign)return 0;if("right"==d.textAlign)return Math.floor(u-l)}return 0}function b(u,l,d){var e;if(d)e=d;else{if(!(typeof document<"u"))return 0;e=document.createElement("canvas").getContext("2d")}e.font=l.fontOptions+" "+l.fontSize+"px "+l.font;var C=e.measureText(u);return C?C.width:0}i.getMaximumHeightOfEncodings=function k(u){for(var l=0,d=0;d<u.length;d++)u[d].height>l&&(l=u[d].height);return l},i.getEncodingHeight=c,i.getBarcodePadding=p,i.calculateEncodingAttributes=function y(u,l,d){for(var e=0;e<u.length;e++){var M,C=u[e],A=(0,a.default)(l,C.options);M=A.displayValue?b(C.text,A,d):0;var U=C.data.length*A.width;C.width=Math.ceil(Math.max(M,U)),C.height=c(C,A),C.barcodePadding=p(M,U,A)}},i.getTotalWidthOfEncodings=function T(u){for(var l=0,d=0;d<u.length;d++)l+=u[d].width;return l}},5794:(be,i,x)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function b(u,l){for(var d=0;d<l.length;d++){var e=l[d];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,e.key,e)}}return function(u,l,d){return l&&b(u.prototype,l),d&&b(u,d),u}}(),s=function p(b){return b&&b.__esModule?b:{default:b}}(x(6017)),c=x(4358),T="http://www.w3.org/2000/svg",k=function(){function b(u,l,d){(function y(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")})(this,b),this.svg=u,this.encodings=l,this.options=d,this.document=d.xmlDocument||document}return n(b,[{key:"render",value:function(){var l=this.options.marginLeft;this.prepareSVG();for(var d=0;d<this.encodings.length;d++){var e=this.encodings[d],C=(0,s.default)(this.options,e.options),A=this.createGroup(l,C.marginTop,this.svg);this.setGroupOptions(A,C),this.drawSvgBarcode(A,C,e),this.drawSVGText(A,C,e),l+=e.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,c.calculateEncodingAttributes)(this.encodings,this.options);var l=(0,c.getTotalWidthOfEncodings)(this.encodings),d=(0,c.getMaximumHeightOfEncodings)(this.encodings),e=l+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(e,d),this.options.background&&this.drawRect(0,0,e,d,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(l,d,e){var A,C=e.data;A="top"==d.textPosition?d.fontSize+d.textMargin:0;for(var M=0,U=0,q=0;q<C.length;q++)U=q*d.width+e.barcodePadding,"1"===C[q]?M++:M>0&&(this.drawRect(U-d.width*M,A,d.width*M,d.height,l),M=0);M>0&&this.drawRect(U-d.width*(M-1),A,d.width*M,d.height,l)}},{key:"drawSVGText",value:function(l,d,e){var A,M,C=this.document.createElementNS(T,"text");d.displayValue&&(C.setAttribute("style","font:"+d.fontOptions+" "+d.fontSize+"px "+d.font),M="top"==d.textPosition?d.fontSize-d.textMargin:d.height+d.textMargin+d.fontSize,"left"==d.textAlign||e.barcodePadding>0?(A=0,C.setAttribute("text-anchor","start")):"right"==d.textAlign?(A=e.width-1,C.setAttribute("text-anchor","end")):(A=e.width/2,C.setAttribute("text-anchor","middle")),C.setAttribute("x",A),C.setAttribute("y",M),C.appendChild(this.document.createTextNode(e.text)),l.appendChild(C))}},{key:"setSvgAttributes",value:function(l,d){var e=this.svg;e.setAttribute("width",l+"px"),e.setAttribute("height",d+"px"),e.setAttribute("x","0px"),e.setAttribute("y","0px"),e.setAttribute("viewBox","0 0 "+l+" "+d),e.setAttribute("xmlns",T),e.setAttribute("version","1.1"),e.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(l,d,e){var C=this.document.createElementNS(T,"g");return C.setAttribute("transform","translate("+l+", "+d+")"),e.appendChild(C),C}},{key:"setGroupOptions",value:function(l,d){l.setAttribute("style","fill:"+d.lineColor+";")}},{key:"drawRect",value:function(l,d,e,C,A){var M=this.document.createElementNS(T,"rect");return M.setAttribute("x",l),M.setAttribute("y",d),M.setAttribute("width",e),M.setAttribute("height",C),A.appendChild(M),M}}]),b}();i.default=k}}]);