"use strict";(self.webpackChunkseller=self.webpackChunkseller||[]).push([[969],{5621:(y,A,n)=>{n.d(A,{M:()=>t});var l=n(2029),b=n(4963),P=n(7958);let t=(()=>{class h{constructor(u,v){this.productService=u,this.productCommandHandler=v}findProducts(u){return this.productService.findProducts(u)}findProductPackages(u){return this.productService.findProductPackages(u)}updateProductPackage(u){return this.productCommandHandler.updateProductPackage(u)}updateProduct(u){return this.productCommandHandler.updateProduct(u)}removeProductPackage(u){return this.productCommandHandler.removeProductPackage(u)}removeProduct(u){return this.productCommandHandler.removeProduct(u)}addProductPackage(u){return this.productCommandHandler.addProductPackage(u)}addProduct(u){return this.productCommandHandler.addProduct(u)}static#t=this.\u0275fac=function(v){return new(v||h)(l.LFG(b.f.ProductClient),l.LFG(P.Q.ProductClient))};static#e=this.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},5877:(y,A,n)=>{n.r(A),n.d(A,{ProductModule:()=>$});var l=n(6814),b=n(6697),P=n(5861),t=n(2029),h=n(5219),M=n(6223),u=n(4104),v=n(5096),g=n(707),Z=n(9653);function I(a,T){}function i(a,T){}function r(a,T){1&a&&t.YNc(0,i,0,0,"ng-template",22)}function d(a,T){if(1&a&&(t.O4$(),t.ynx(0),t._UZ(1,"image"),t.BQk()),2&a){const s=T.$implicit,e=T.index,o=t.oxw(3);t.xp6(1),t.uIk("href",s.image)("x",e*o.width)("width",o.width)("height",o.height)}}function x(a,T){if(1&a&&(t.O4$(),t.TgZ(0,"svg",25),t._UZ(1,"animate",26),t.YNc(2,d,2,4,"ng-container",27),t._UZ(3,"image"),t.qZA()),2&a){const s=T.ngIf,e=t.oxw(2);t.xp6(1),t.uIk("values",s.values)("keyTimes",s.keyTimes.join(";"))("dur",e.duration)("repeatCount",e.recording?"1":"indefinite"),t.xp6(1),t.Q6J("ngForOf",e.images),t.xp6(1),t.uIk("href",e.images[0].image)("x",e.images.length*e.width)("width",e.width)("height",e.height)}}function w(a,T){if(1&a&&(t.TgZ(0,"div",23),t.YNc(1,x,4,9,"svg",24),t.qZA()),2&a){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.getAnimation())}}const B=[{path:"image-editor",loadChildren:()=>Promise.all([n.e(742),n.e(592),n.e(509)]).then(n.bind(n,3509)).then(a=>a.ProductImageEditorModule)},{path:"edit",component:(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-product-editor"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"product-editor works!"),t.qZA())}})}return a})()},{path:"list",loadChildren:()=>n.e(421).then(n.bind(n,7421)).then(a=>a.ProductListModule)},{path:"animator",component:(()=>{class a{constructor(s){this.messageService=s,this.width=300,this.height=300,this.frameRate=30,this.animationDuration=1,this.exposureDuration=3,this.recording=!1,this.recordButtonEnabled=!1,this.showVideo=!1}get duration(){return this.images?.length>0?this.images?.length*(this.exposureDuration+this.animationDuration)+this.exposureDuration:0}getAnimation(){let s=[],e=[0];const o=this.duration,p=this.exposureDuration/o,c=this.animationDuration/o;let f=0;return this.images.forEach((D,m)=>{const E=`${m*this.width} 0 ${this.width} ${this.height}`;s.push(E),s.push(E),f+=p,e.push(Math.round(1e3*f)/1e3),f+=c,e.push(Math.round(1e3*f)/1e3)}),s.push(`${this.images.length*this.width} 0 ${this.width} ${this.height}`),s.push(`${this.images.length*this.width} 0 ${this.width} ${this.height}`),e.push(1),{values:s.join(";"),keyTimes:e}}readImageContent(s,e){const o=new FileReader;o.onload=p=>{e(p.target.result)},o.readAsDataURL(s)}onImagesSelected(s){const e=[];let o=!1;for(const c of s.currentFiles){let f={fileName:c.name,image:""};this.readImageContent(c,D=>{if(f.image=D,!o){o=!0;const m=new Image;m.onload=()=>{this.width=m.width,this.height=m.height},m.src=D}}),e.push(f)}this.recordButtonEnabled=!!e.length,this.images=e}delay(s){return new Promise(e=>setTimeout(e,s))}generateVideo(){return(0,P.Z)(function*(){})()}removeAnimation(s){s.querySelectorAll("animate").forEach(e=>e.parentNode.removeChild(e))}traverse(s,e){let o=!1;const p=(m,C)=>`${m.x.toFixed(C)} ${m.y.toFixed(C)} ${m.width.toFixed(C)} ${m.height.toFixed(C)}`;for(var c in e)if(e[c]?.animVal)switch(e[c][Symbol.toStringTag]){case"SVGAnimatedRect":{const m=p(e[c].baseVal,0),C=p(s[c].animVal,0);m!=C&&(o=!0,e.setAttribute(c,C))}break;case"SVGAnimatedString":{const C=s[c].animVal;e[c].baseVal!=C&&(o=!0,e.setAttribute(c,C))}}for(var f=0,D=0;f<e.children.length;f++,D++){for(;f<s.children.length&&"animate"==s.children[f].nodeName;)f++;o||=this.traverse(s.children[f],e.children[D])}return o}static#t=this.\u0275fac=function(e){return new(e||a)(t.Y36(h.ez))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-product-image-animator"]],decls:34,vars:23,consts:[["multiple","true","chooseLabel","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438","accept","image/*",3,"showUploadButton","disabled","showCancelButton","onSelect"],["pTemplate","file"],[4,"ngIf"],[1,"card","flex","flex-wrap","gap-3","p-fluid"],[1,"flex-auto"],["for","width",1,"mb-2","block","font-bold"],["inputId","width",3,"ngModel","disabled","ngModelChange"],["for","height",1,"mb-2","block","font-bold"],["inputId","height",3,"ngModel","disabled","ngModelChange"],["for","animationDuration",1,"mb-2","block","font-bold"],["inputId","animationDuration",3,"ngModel","step","maxFractionDigits","disabled","ngModelChange"],["for","exposureDuration",1,"mb-2","block","font-bold"],["inputId","exposureDuration",3,"ngModel","step","maxFractionDigits","disabled","ngModelChange"],["for","frameRate",1,"mb-2","block","font-bold"],["inputId","frameRate",3,"ngModel","disabled","ngModelChange"],["for","duration",1,"mb-2","block","font-bold"],["inputId","duration",3,"ngModel","maxFractionDigits","disabled"],[1,"card"],["label","\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e",3,"disabled","click"],[1,"flex"],["style","max-width: 300px",4,"ngIf"],["id","video"],["pTemplate","content"],[2,"max-width","300px"],["id","preview","xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","version","1.1",4,"ngIf"],["id","preview","xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","version","1.1"],["attributeName","viewBox","begin","0s"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(t._UZ(0,"p-toast"),t.TgZ(1,"p-fileUpload",0),t.NdJ("onSelect",function(c){return o.onImagesSelected(c)}),t.YNc(2,I,0,0,"ng-template",1),t.YNc(3,r,1,0,null,2),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"label",5),t._uU(7,"\u0428\u0438\u0440\u0438\u043d\u0430"),t.qZA(),t.TgZ(8,"p-inputNumber",6),t.NdJ("ngModelChange",function(c){return o.width=c}),t.qZA()(),t.TgZ(9,"div",4)(10,"label",7),t._uU(11,"\u0412\u044b\u0441\u043e\u0442\u0430"),t.qZA(),t.TgZ(12,"p-inputNumber",8),t.NdJ("ngModelChange",function(c){return o.height=c}),t.qZA()(),t.TgZ(13,"div",4)(14,"label",9),t._uU(15,"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0438"),t.qZA(),t.TgZ(16,"p-inputNumber",10),t.NdJ("ngModelChange",function(c){return o.animationDuration=c}),t.qZA()(),t.TgZ(17,"div",4)(18,"label",11),t._uU(19,"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430"),t.qZA(),t.TgZ(20,"p-inputNumber",12),t.NdJ("ngModelChange",function(c){return o.exposureDuration=c}),t.qZA()(),t.TgZ(21,"div",4)(22,"label",13),t._uU(23,"Fps"),t.qZA(),t.TgZ(24,"p-inputNumber",14),t.NdJ("ngModelChange",function(c){return o.frameRate=c}),t.qZA()(),t.TgZ(25,"div",4)(26,"label",15),t._uU(27,"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u043e\u043b\u0438\u043a\u0430"),t.qZA(),t._UZ(28,"p-inputNumber",16),t.qZA()(),t.TgZ(29,"div",17)(30,"p-button",18),t.NdJ("click",function(){return o.generateVideo()}),t.qZA(),t.TgZ(31,"div",19),t.YNc(32,w,2,1,"div",20),t._UZ(33,"div",21),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("showUploadButton",!1)("disabled",o.recording)("showCancelButton",!1),t.xp6(2),t.Q6J("ngIf",!1),t.xp6(5),t.Q6J("ngModel",o.width)("disabled",!o.recordButtonEnabled),t.xp6(4),t.Q6J("ngModel",o.height)("disabled",!o.recordButtonEnabled),t.xp6(4),t.Q6J("ngModel",o.animationDuration)("step",.1)("maxFractionDigits",2)("disabled",!o.recordButtonEnabled),t.xp6(4),t.Q6J("ngModel",o.exposureDuration)("step",.1)("maxFractionDigits",2)("disabled",!o.recordButtonEnabled),t.xp6(4),t.Q6J("ngModel",o.frameRate)("disabled",!o.recordButtonEnabled),t.xp6(4),t.Q6J("ngModel",o.duration)("maxFractionDigits",2)("disabled",!0),t.xp6(2),t.Q6J("disabled",!o.recordButtonEnabled),t.xp6(2),t.Q6J("ngIf",o.images))},dependencies:[M.JJ,M.On,l.sg,l.O5,h.jx,u.FN,v.p,g.zx,Z.Rn]})}return a})()}];let N=(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[b.Bz.forChild(B),b.Bz]})}return a})();var F=n(5621),U=n(9151),J=n(3714),O=n(3904),S=n(4963),_=n(7958);let $=(()=>{class a{static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({providers:[S.f.ProductClient,_.Q.ProductClient,F.M,h.YP],imports:[M.u5,l.ez,N,U.U$,u.EV,v.O,Z.L$,J.j,g.hJ,O.D]})}return a})()},2832:(y,A,n)=>{n.d(A,{P:()=>Z,z:()=>g});var l=n(7394);class b extends l.w0{constructor(i,r){super()}schedule(i,r=0){return this}}const P={setInterval(I,i,...r){const{delegate:d}=P;return d?.setInterval?d.setInterval(I,i,...r):setInterval(I,i,...r)},clearInterval(I){const{delegate:i}=P;return(i?.clearInterval||clearInterval)(I)},delegate:void 0};var t=n(9039),M=n(4552);class u{constructor(i,r=u.now){this.schedulerActionCtor=i,this.now=r}schedule(i,r=0,d){return new this.schedulerActionCtor(this,i).schedule(d,r)}}u.now=M.l.now;const g=new class v extends u{constructor(i,r=u.now){super(i,r),this.actions=[],this._active=!1}flush(i){const{actions:r}=this;if(this._active)return void r.push(i);let d;this._active=!0;do{if(d=i.execute(i.state,i.delay))break}while(i=r.shift());if(this._active=!1,d){for(;i=r.shift();)i.unsubscribe();throw d}}}(class h extends b{constructor(i,r){super(i,r),this.scheduler=i,this.work=r,this.pending=!1}schedule(i,r=0){var d;if(this.closed)return this;this.state=i;const x=this.id,w=this.scheduler;return null!=x&&(this.id=this.recycleAsyncId(w,x,r)),this.pending=!0,this.delay=r,this.id=null!==(d=this.id)&&void 0!==d?d:this.requestAsyncId(w,this.id,r),this}requestAsyncId(i,r,d=0){return P.setInterval(i.flush.bind(i,this),d)}recycleAsyncId(i,r,d=0){if(null!=d&&this.delay===d&&!1===this.pending)return r;null!=r&&P.clearInterval(r)}execute(i,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const d=this._execute(i,r);if(d)return d;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,r){let x,d=!1;try{this.work(i)}catch(w){d=!0,x=w||new Error("Scheduled action threw falsy error")}if(d)return this.unsubscribe(),x}unsubscribe(){if(!this.closed){const{id:i,scheduler:r}=this,{actions:d}=r;this.work=this.state=this.scheduler=null,this.pending=!1,(0,t.P)(d,this),null!=i&&(this.id=this.recycleAsyncId(r,i,null)),this.delay=null,super.unsubscribe()}}}),Z=g},3983:(y,A,n)=>{n.d(A,{p:()=>t});var l=n(2029),b=n(4713),P=n(2332);let t=(()=>{class h extends b.s{pathId;ngOnInit(){this.pathId="url(#"+(0,P.Th)()+")"}static \u0275fac=function(){let u;return function(g){return(u||(u=l.n5z(h)))(g||h)}}();static \u0275cmp=l.Xpm({type:h,selectors:[["PlusIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(v,g){1&v&&(l.O4$(),l.TgZ(0,"svg",0)(1,"g"),l._UZ(2,"path",1),l.qZA(),l.TgZ(3,"defs")(4,"clipPath",2),l._UZ(5,"rect",3),l.qZA()()()),2&v&&(l.Tol(g.getClassNames()),l.uIk("aria-label",g.ariaLabel)("aria-hidden",g.ariaHidden)("role",g.role),l.xp6(1),l.uIk("clip-path",g.pathId),l.xp6(3),l.Q6J("id",g.pathId))},encapsulation:2})}return h})()}}]);