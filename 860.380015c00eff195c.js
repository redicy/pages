(self.webpackChunkseller=self.webpackChunkseller||[]).push([[860],{2860:(N,U,i)=>{"use strict";i.r(U),i.d(U,{SearchTermModule:()=>ce});var v=i(6814),t=i(6697),C=i(7715),S=i(5619),A=i(3620),M=i(9773),T=i(3997),w=i(9397),_=i(6306),u=i(6232),d=i(4664),s=i(7494),o=i(7223),a=i(217),e=i(2029),y=i(5219),O=i(6593),J=i(2966),B=i(6760),L=i(707),Y=i(4201),h=i(8057),E=i(3965),r=i(6223),f=i(9653),m=i(3714),F=i(2328),Z=i(9232),P=i(6263),j=i(4104);function z(l,b){if(1&l){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",22)(2,"span",7)(3,"p-inputNumber",23),e.NdJ("ngModelChange",function(p){e.CHM(n);const g=e.oxw(2);return e.KtG(g.filterModel.surgePercent=p)}),e.qZA(),e.TgZ(4,"label",24),e._uU(5,"\u0420\u043e\u0441\u0442 \u043d\u0435 \u043c\u0435\u043d\u0435\u0435, %"),e.qZA()()(),e.BQk()}if(2&l){const n=e.oxw(2);e.xp6(3),e.Q6J("ngModel",n.filterModel.surgePercent)("showButtons",!0)("step",10)}}function W(l,b){if(1&l){const n=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"span",7)(3,"input",8),e.NdJ("ngModelChange",function(p){e.CHM(n);const g=e.oxw();return e.KtG(g.filterModel.term=p)}),e.qZA(),e.TgZ(4,"label",9),e._uU(5,"\u0422\u0438\u043f \u0442\u043e\u0432\u0430\u0440\u0430"),e.qZA()(),e.TgZ(6,"span")(7,"button",10),e.NdJ("click",function(){e.CHM(n);const p=e.oxw();return e.KtG(p.clearTerm())}),e.qZA()()(),e.TgZ(8,"div",11)(9,"span",7)(10,"p-calendar",12),e.NdJ("ngModelChange",function(p){e.CHM(n);const g=e.oxw();return e.KtG(g.date=p)}),e.qZA(),e.TgZ(11,"label",13),e._uU(12,"\u041c\u0435\u0441\u044f\u0446\u044b"),e.qZA()()(),e.TgZ(13,"div",11)(14,"span",7)(15,"p-inputNumber",14),e.NdJ("ngModelChange",function(p){e.CHM(n);const g=e.oxw();return e.KtG(g.filterModel.minQueryCount=p)}),e.qZA(),e.TgZ(16,"label",15),e._uU(17,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432"),e.qZA()()(),e.TgZ(18,"div",16)(19,"p-checkbox",17),e.NdJ("ngModelChange",function(p){e.CHM(n);const g=e.oxw();return e.KtG(g.filterModel.enableSurgeFilter=p)}),e.qZA()(),e.YNc(20,z,6,3,"ng-container",18),e.TgZ(21,"div",19)(22,"button",20),e.NdJ("click",function(){e.CHM(n);const p=e.oxw();return e.KtG(p.updateFilter())}),e._uU(23,"\u0418\u0441\u043a\u0430\u0442\u044c"),e.qZA(),e.TgZ(24,"button",21),e.NdJ("click",function(){e.CHM(n);const p=e.oxw();return e.KtG(p.exportFile())}),e._uU(25,"\u0421\u043a\u0430\u0447\u0430\u0442\u044c Excel"),e.qZA()()()}if(2&l){const n=e.oxw();e.xp6(3),e.Q6J("ngModel",n.filterModel.term),e.xp6(7),e.Q6J("ngModel",n.date)("minDate",n.minDate)("maxDate",n.maxDate)("showClear",!0)("readonlyInput",!0),e.xp6(5),e.Q6J("ngModel",n.filterModel.minQueryCount)("showButtons",!0)("min",0)("step",100),e.xp6(4),e.Q6J("ngModel",n.filterModel.enableSurgeFilter)("binary",!0),e.xp6(1),e.Q6J("ngIf",n.filterModel.enableSurgeFilter)}}function G(l,b){1&l&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0422\u0438\u043f \u0442\u043e\u0432\u0430\u0440\u0430"),e.qZA(),e._UZ(3,"th"),e.qZA())}function q(l,b){if(1&l&&(e.TgZ(0,"div",39)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&l){const n=b.$implicit;e.xp6(2),e.Oqu(n.count),e.xp6(2),e.Oqu(n.term)}}function X(l,b){if(1&l&&(e.TgZ(0,"div",39)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&l){const n=b.$implicit;e.xp6(2),e.Oqu(n.count),e.xp6(2),e.Oqu(n.term)}}function $(l,b){if(1&l&&(e.TgZ(0,"div",40)(1,"span"),e._uU(2),e.qZA()()),2&l){const n=b.$implicit;e.xp6(2),e.Oqu(n.isAssociation?"\u0410\u0441\u0441\u043e\u0446\u0438\u0430\u0446\u0438\u0438":"\u0417\u0430\u043f\u0440\u043e\u0441\u044b")}}function ee(l,b){if(1&l&&(e.TgZ(0,"p-dropdown",35),e.ALo(1,"async"),e.ALo(2,"async"),e.YNc(3,q,5,2,"ng-template",36),e.YNc(4,X,5,2,"ng-template",37),e.YNc(5,$,3,1,"ng-template",38),e.qZA()),2&l){const n=e.oxw().$implicit;let c,p;e.Q6J("ngModel",null==(c=e.lcZ(1,3,n.queries))?null:c.header)("options",null==(p=e.lcZ(2,5,n.queries))?null:p.groups)("group",!0)}}function te(l,b){if(1&l&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"div",25)(4,"div"),e._uU(5),e.qZA(),e.TgZ(6,"div"),e.YNc(7,ee,6,7,"p-dropdown",26),e.qZA()(),e.TgZ(8,"div",27),e._UZ(9,"a",28)(10,"a",29)(11,"a",30)(12,"a",31)(13,"a",32),e.qZA()()(),e.TgZ(14,"td")(15,"div"),e._UZ(16,"p-tag",33)(17,"p-tag",34),e.qZA()()()),2&l){const n=b.$implicit,c=e.oxw();e.xp6(5),e.hij(" ",n.term," "),e.xp6(2),e.Q6J("ngIf",null==n.phrases?null:n.phrases.length),e.xp6(2),e.Akn(null!=n.historyItems&&n.historyItems.length?"":"color: grey"),e.Q6J("pRowToggler",n)("size",c.small),e.xp6(1),e.MGl("href","https://wordstat.yandex.ru/?words=",n.term,"",e.LSH),e.xp6(1),e.MGl("href","https://trends.google.com/trends/explore?q=",n.term,"",e.LSH),e.xp6(1),e.MGl("href","https://www.ozon.ru/search/?text=",n.cleanTerm,"",e.LSH),e.xp6(1),e.MGl("href","https://www.wildberries.ru/catalog/0/search.aspx?search=",n.cleanTerm,"",e.LSH),e.xp6(3),e.Q6J("severity",n.historyUpdateStatusTag)("title",c.getStatusText(n.historyUpdateStatus)),e.xp6(1),e.Q6J("severity",n.phraseUpdateStatusTag)("title",c.getStatusText(n.phraseUpdateStatus))}}function ne(l,b){if(1&l&&(e.TgZ(0,"tr")(1,"td",41),e._UZ(2,"p-chart",42),e.ALo(3,"async"),e.qZA()()),2&l){const n=e.oxw().$implicit;e.xp6(2),e.Q6J("data",e.lcZ(3,2,n.history))("height",150)}}function oe(l,b){if(1&l&&e.YNc(0,ne,4,4,"tr",18),2&l){const n=b.$implicit;e.Q6J("ngIf",null==n.historyItems?null:n.historyItems.length)}}const se=function(){return{"min-width":"75rem"}},ae=function(){return[10,25,50]};class ie extends o.t.SearchTermWithHistory{constructor(b){super(b),this.historyData=null,this.queryData=null,this.chartOptions={animation:!1,scales:{y:{ticks:{stepSize:100}}}},this.queries=(0,C.D)(new Promise((c,p)=>{let g=this.queryData;if(!g){const k=this.phrases?.filter(x=>x.isAssociation).sort((x,R)=>R.count-x.count),D=this.phrases?.filter(x=>!x.isAssociation).sort((x,R)=>+R.count-+x.count);g={groups:[]},D&&(g.groups.push({isAssociation:!1,items:D}),g.header=D?.[0]),k&&(g.groups.push({isAssociation:!0,items:k}),g.header||=D?.[0])}c(g)})),this.history=(0,C.D)(new Promise((c,p)=>{let g=this.historyData;if(!g){const k=new Set;let D=12,x=-1;const R=this.historyItems?.reduce((I,Q)=>{D=Math.min(D,Q.month),x=Math.max(x,Q.month),k.add(Q.month);let V=I.get(Q.year)??new Array(12);return V[Q.month]=Q.count,I.set(Q.year,V),I},new Map)??[];D<x&&R.forEach((I,Q)=>{D>0&&I.splice(0,D),x<11&&I.splice(x+1,11-x)});const K=new Date,H=[];for(let I=D;I<=x;I++)K.setMonth(I-1,1),H.push(K.toLocaleString("default",{month:"long"}));g={labels:H,datasets:[]},[...R.keys()].sort().forEach(I=>{g.datasets.push({label:I,data:R.get(I)})}),this.historyData=R}c(g)}));this.cleanTerm=b.term.endsWith(" \u043a\u0443\u043f\u0438\u0442\u044c")?b.term.substring(0,b.term.length-7):b.term}getUpdateStatusTag(b){switch(b){case o.t.SearchTermStatus.Ready:return"success";case o.t.SearchTermStatus.QueuedForUpdate:return"info";case o.t.SearchTermStatus.Downloaded:return"warning";default:return"danger"}}get historyUpdateStatusTag(){return this.getUpdateStatusTag(this.historyUpdateStatus)}get phraseUpdateStatusTag(){return this.getUpdateStatusTag(this.phraseUpdateStatus)}}const re=[{path:"",component:(()=>{class l extends s.V{constructor(n,c,p,g){super(p),this.searchTermService=n,this.messageService=c,this.dbService=g,this.filterModel=new o.t.FindSearchTermsModel({term:"",offset:0,count:50,surgePercent:100,enableSurgeFilter:!1}),this.minDate=new Date((new Date).getFullYear()-1,0,1),this.maxDate=new Date((new Date).getFullYear()+1,11,1),this.loading=!1,this.totalRecords=0,this.searchTermFilterSubject=new S.X(null),o.t.SEARCH_TERM_DATA_SERVICE_URL.toString()}ngOnInit(){this.titleService.setTitle("\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430"),this.filterSubscription=this.searchTermFilterSubject.pipe((0,A.b)(1e3)).pipe((0,M.R)(this.destroyed)).pipe((0,T.x)()).pipe((0,w.b)(n=>{const c=n.toJSON();delete c.Offset,this.dbService.update("filters",{id:l.name,data:c}).pipe((0,_.K)(p=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430",severity:"error",detail:p}),u.E))).subscribe(),this.loading=!0})).pipe((0,d.w)(n=>this.searchTermService.findSearchTerms(n).pipe((0,_.K)(c=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u043a\u0443\u043f\u043e\u043a",severity:"error",detail:c}),this.loading=!1,u.E))))).subscribe(n=>{this.data=n.items.map(c=>new ie(c)),this.totalRecords=n.totalCount,this.loading=!1}),this.dbService.getByID("filters",l.name).subscribe(n=>{if(n&&n.data&&(this.filterModel=new o.t.FindSearchTermsModel(o.t.FindSearchTermsModel.fromJS(n.data)),null!=this.filterModel.monthFrom)){const c=this.filterModel.monthTo??this.filterModel.monthFrom,p=new Date;p.setMonth(c),p.setDate(1);const g=this.filterModel.monthFrom<=c?p.getFullYear():p.getFullYear()-1,k=new Date(g,this.filterModel.monthFrom,1);this.date=[k,p]}this.searchTermFilterSubject.next(this.filterModel)})}onDataLazyLoad(n){this.filterModel.offset=n.first,this.filterModel.count=n.rows,this.updateFilter()}getStatusText(n){switch(n){case o.t.SearchTermStatus.Ready:return"\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b";case o.t.SearchTermStatus.QueuedForUpdate:return"\u0412 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443";case o.t.SearchTermStatus.Downloaded:return"\u0412 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}}clearTerm(){this.filterModel.term=null}updateFilter(){let n=this.date?.[0]?.getMonth(),c=this.date?.[1]?.getMonth();this.filterModel.monthFrom=n??c,this.filterModel.monthTo=c??n,this.searchTermFilterSubject.next(new o.t.FindSearchTermsModel(this.filterModel))}enqueueUpdate(n,c,p){const g=c?o.t.SearchTermStatus.QueuedForUpdate:n.historyUpdateStatus,k=p?o.t.SearchTermStatus.QueuedForUpdate:n.phraseUpdateStatus,D=new o.t.UpdateSearchTermStatusModel({iDs:[n.iD],historyUpdateStatus:g,phraseUpdateStatus:k});this.searchTermService.updateSearchTermStatus(D).pipe((0,_.K)(x=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",severity:"error",detail:x}),this.loading=!1,u.E))).subscribe(x=>{n.historyUpdateStatus=g,n.phraseUpdateStatus=k,this.loading=!1})}exportFile(){this.updateFilter(),this.searchTermService.exportSearchTerms(this.searchTermFilterSubject.value).subscribe(n=>{(0,a.saveAs)(n.data,n.fileName)})}static#e=this.\u0275fac=function(c){return new(c||l)(e.Y36(o.t.SearchTermClient),e.Y36(y.ez),e.Y36(O.Dx),e.Y36(J.ys))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-search-term-list"]],features:[e.qOj],decls:9,vars:11,consts:[["dataKey","iD",3,"value","breakpoint","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","loading","onLazyLoad"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"card","formgrid","grid","m-5"],[1,"field","md:col-4","col-12","my-3","p-inputgroup"],[1,"p-float-label"],["inputId","term","pInputText","","type","text",3,"ngModel","ngModelChange"],["for","term"],["type","button","pButton","","icon","pi pi-times","styleClass","p-button-danger",3,"click"],[1,"field","md:col-4","col-12","my-3"],["inputId","date","dateFormat","MM","selectionMode","range","view","month",3,"ngModel","minDate","maxDate","showClear","readonlyInput","ngModelChange"],["for","date"],["inputId","notificationPeriodInDays","autocomplete","off",3,"ngModel","showButtons","min","step","ngModelChange"],["htmlFor","notificationPeriodInDays"],[1,"field-checkbox","col-12"],["label","\u041f\u043e\u0438\u0441\u043a \u0441\u0435\u0437\u043e\u043d\u043e\u0432","inputId","surgeFilter",3,"ngModel","binary","ngModelChange"],[4,"ngIf"],[1,"m-2"],["pButton","",3,"click"],["pButton","",1,"mx-1",3,"click"],[1,"field","col-12","my-3"],["inputId","surgePercent",3,"ngModel","showButtons","step","ngModelChange"],["for","surgePercent"],[1,"mb-3"],["appendTo","body",3,"ngModel","optionsLabel","options","group",4,"ngIf"],[1,"flex","gap-3"],["href","",1,"pi","pi-chart-line","p-button-sm",3,"pRowToggler","size"],["rel","noreferrer","target","_blank",1,"pi","wordstat",3,"href"],["rel","noreferrer","target","_blank",1,"pi","google-trends",3,"href"],["rel","noreferrer","target","_blank",1,"pi","ozon",3,"href"],["rel","noreferrer","target","_blank",1,"pi","wb",3,"href"],["icon","pi pi-chart-line",3,"severity","title"],["icon","pi pi-search",3,"severity","title"],["appendTo","body",3,"ngModel","optionsLabel","options","group"],["pTemplate","item"],["pTemplate","selectedItem"],["pTemplate","group"],[1,"flex","align-items-center","gap-2"],[1,"flex","align-items-center"],["colspan","5"],["type","line",3,"data","height"]],template:function(c,p){1&c&&(e._UZ(0,"p-toast")(1,"p-scrollTop"),e.TgZ(2,"h1"),e._uU(3,"\u0412\u043e\u0441\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),e.qZA(),e.TgZ(4,"p-table",0),e.NdJ("onLazyLoad",function(k){return p.onDataLazyLoad(k)}),e.YNc(5,W,26,13,"ng-template",1),e.YNc(6,G,4,0,"ng-template",2),e.YNc(7,te,18,15,"ng-template",3),e.YNc(8,oe,1,1,"ng-template",4),e.qZA()),2&c&&(e.xp6(4),e.Q6J("value",p.data)("breakpoint","960px")("lazy",!0)("tableStyle",e.DdM(9,se))("paginator",!0)("rows",50)("rowsPerPageOptions",e.DdM(10,ae))("totalRecords",p.totalRecords)("loading",p.loading))},dependencies:[B.f,L.Hq,y.jx,Y.C,h.XZ,v.O5,E.Lt,r.Fj,r.JJ,r.On,f.Rn,m.o,F.F,Z.iA,Z.jB,P.V,j.FN,v.Ov]})}return l})()},{path:"update",component:(()=>{class l{constructor(n,c){this.service=n,this.messageService=c,this.count=100}enqueueUpdate(){this.service.enqueueForUpdate(this.count).pipe((0,_.K)(n=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c",severity:"error",detail:n}),u.E))).subscribe(n=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u041f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043d\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})})}static#e=this.\u0275fac=function(c){return new(c||l)(e.Y36(o.t.CategoryTreeClient),e.Y36(y.ez))};static#t=this.\u0275cmp=e.Xpm({type:l,selectors:[["app-search-term-update"]],decls:6,vars:3,consts:[[1,"flex-auto"],["for","count",1,"mb-2","block","font-bold"],["inputId","count",3,"ngModel","showButtons","step","ngModelChange"],["label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",3,"click"]],template:function(c,p){1&c&&(e._uU(0,"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f wordstat "),e.TgZ(1,"div",0)(2,"label",1),e._uU(3,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e.TgZ(4,"p-inputNumber",2),e.NdJ("ngModelChange",function(k){return p.count=k}),e.qZA()(),e.TgZ(5,"p-button",3),e.NdJ("click",function(){return p.enqueueUpdate()}),e.qZA()),2&c&&(e.xp6(4),e.Q6J("ngModel",p.count)("showButtons",!0)("step",100))},dependencies:[L.zx,r.JJ,r.On,f.Rn]})}return l})()}];let le=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275mod=e.oAB({type:l});static#n=this.\u0275inj=e.cJS({imports:[t.Bz.forChild(re),t.Bz]})}return l})(),ce=(()=>{class l{static#e=this.\u0275fac=function(c){return new(c||l)};static#t=this.\u0275mod=e.oAB({type:l});static#n=this.\u0275inj=e.cJS({providers:[o.t.SearchTermClient],imports:[B._8,Y.S,h.nD,v.ez,E.kW,r.u5,f.L$,m.j,F.r,le,Z.U$,P.W,j.EV]})}return l})()},217:function(N,U){var i,t;void 0!==(t="function"==typeof(i=function(){"use strict";function S(u,d,s){var o=new XMLHttpRequest;o.open("GET",u),o.responseType="blob",o.onload=function(){_(o.response,d,s)},o.onerror=function(){console.error("could not download file")},o.send()}function A(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function M(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var T="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,w=T.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),_=T.saveAs||("object"!=typeof window||window!==T?function(){}:"download"in HTMLAnchorElement.prototype&&!w?function(u,d,s){var o=T.URL||T.webkitURL,a=document.createElement("a");a.download=d=d||u.name||"download",a.rel="noopener","string"==typeof u?(a.href=u,a.origin===location.origin?M(a):A(a.href)?S(u,d,s):M(a,a.target="_blank")):(a.href=o.createObjectURL(u),setTimeout(function(){o.revokeObjectURL(a.href)},4e4),setTimeout(function(){M(a)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,s){if(d=d||u.name||"download","string"!=typeof u)navigator.msSaveOrOpenBlob(function C(u,d){return typeof d>"u"?d={autoBom:!1}:"object"!=typeof d&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\ufeff",u],{type:u.type}):u}(u,s),d);else if(A(u))S(u,d,s);else{var o=document.createElement("a");o.href=u,o.target="_blank",setTimeout(function(){M(o)})}}:function(u,d,s,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof u)return S(u,d,s);var a="application/octet-stream"===u.type,e=/constructor/i.test(T.HTMLElement)||T.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||a&&e||w)&&typeof FileReader<"u"){var O=new FileReader;O.onloadend=function(){var L=O.result;L=y?L:L.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=L:location=L,o=null},O.readAsDataURL(u)}else{var J=T.URL||T.webkitURL,B=J.createObjectURL(u);o?o.location=B:location.href=B,o=null,setTimeout(function(){J.revokeObjectURL(B)},4e4)}});T.saveAs=_.saveAs=_,N.exports=_})?i.apply(U,[]):i)&&(N.exports=t)},3620:(N,U,i)=>{"use strict";i.d(U,{b:()=>S});var v=i(2832),t=i(9360),C=i(8251);function S(A,M=v.z){return(0,t.e)((T,w)=>{let _=null,u=null,d=null;const s=()=>{if(_){_.unsubscribe(),_=null;const a=u;u=null,w.next(a)}};function o(){const a=d+A,e=M.now();if(e<a)return _=this.schedule(void 0,a-e),void w.add(_);s()}T.subscribe((0,C.x)(w,a=>{u=a,d=M.now(),_||(_=M.schedule(o,A),w.add(_))},()=>{s(),w.complete()},void 0,()=>{u=_=null}))})}},2832:(N,U,i)=>{"use strict";i.d(U,{P:()=>u,z:()=>_});var v=i(7394);class t extends v.w0{constructor(s,o){super()}schedule(s,o=0){return this}}const C={setInterval(d,s,...o){const{delegate:a}=C;return a?.setInterval?a.setInterval(d,s,...o):setInterval(d,s,...o)},clearInterval(d){const{delegate:s}=C;return(s?.clearInterval||clearInterval)(d)},delegate:void 0};var S=i(9039),M=i(4552);class T{constructor(s,o=T.now){this.schedulerActionCtor=s,this.now=o}schedule(s,o=0,a){return new this.schedulerActionCtor(this,s).schedule(a,o)}}T.now=M.l.now;const _=new class w extends T{constructor(s,o=T.now){super(s,o),this.actions=[],this._active=!1}flush(s){const{actions:o}=this;if(this._active)return void o.push(s);let a;this._active=!0;do{if(a=s.execute(s.state,s.delay))break}while(s=o.shift());if(this._active=!1,a){for(;s=o.shift();)s.unsubscribe();throw a}}}(class A extends t{constructor(s,o){super(s,o),this.scheduler=s,this.work=o,this.pending=!1}schedule(s,o=0){var a;if(this.closed)return this;this.state=s;const e=this.id,y=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(y,e,o)),this.pending=!0,this.delay=o,this.id=null!==(a=this.id)&&void 0!==a?a:this.requestAsyncId(y,this.id,o),this}requestAsyncId(s,o,a=0){return C.setInterval(s.flush.bind(s,this),a)}recycleAsyncId(s,o,a=0){if(null!=a&&this.delay===a&&!1===this.pending)return o;null!=o&&C.clearInterval(o)}execute(s,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const a=this._execute(s,o);if(a)return a;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(s,o){let e,a=!1;try{this.work(s)}catch(y){a=!0,e=y||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),e}unsubscribe(){if(!this.closed){const{id:s,scheduler:o}=this,{actions:a}=o;this.work=this.state=this.scheduler=null,this.pending=!1,(0,S.P)(a,this),null!=s&&(this.id=this.recycleAsyncId(o,s,null)),this.delay=null,super.unsubscribe()}}}),u=_},8057:(N,U,i)=>{"use strict";i.d(U,{XZ:()=>L,nD:()=>Y});var v=i(6814),t=i(2029),C=i(6223),S=i(2332),A=i(5219),M=i(2591);const T=["cb"];function w(h,E){if(1&h&&t._UZ(0,"span",10),2&h){const r=t.oxw(3);t.Q6J("ngClass",r.checkboxIcon)}}function _(h,E){1&h&&t._UZ(0,"CheckIcon",11),2&h&&t.Q6J("styleClass","p-checkbox-icon")}function u(h,E){if(1&h&&(t.ynx(0),t.YNc(1,w,1,1,"span",8),t.YNc(2,_,1,1,"CheckIcon",9),t.BQk()),2&h){const r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",r.checkboxIcon),t.xp6(1),t.Q6J("ngIf",!r.checkboxIcon)}}function d(h,E){}function s(h,E){1&h&&t.YNc(0,d,0,0,"ng-template")}function o(h,E){if(1&h&&(t.TgZ(0,"span",12),t.YNc(1,s,1,0,null,13),t.qZA()),2&h){const r=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",r.checkboxIconTemplate)}}function a(h,E){if(1&h&&(t.ynx(0),t.YNc(1,u,3,2,"ng-container",5),t.YNc(2,o,2,1,"span",7),t.BQk()),2&h){const r=t.oxw();t.xp6(1),t.Q6J("ngIf",!r.checkboxIconTemplate),t.xp6(1),t.Q6J("ngIf",r.checkboxIconTemplate)}}const e=function(h,E,r){return{"p-checkbox-label":!0,"p-checkbox-label-active":h,"p-disabled":E,"p-checkbox-label-focus":r}};function y(h,E){if(1&h){const r=t.EpF();t.TgZ(0,"label",14),t.NdJ("click",function(m){t.CHM(r);const F=t.oxw(),Z=t.MAs(3);return t.KtG(F.onClick(m,Z,!0))}),t._uU(1),t.qZA()}if(2&h){const r=t.oxw();t.Tol(r.labelStyleClass),t.Q6J("ngClass",t.kEZ(5,e,r.checked(),r.disabled,r.focused)),t.uIk("for",r.inputId),t.xp6(1),t.Oqu(r.label)}}const O=function(h,E,r){return{"p-checkbox p-component":!0,"p-checkbox-checked":h,"p-checkbox-disabled":E,"p-checkbox-focused":r}},J=function(h,E,r){return{"p-highlight":h,"p-disabled":E,"p-focus":r}},B={provide:C.JU,useExisting:(0,t.Gpc)(()=>L),multi:!0};let L=(()=>{class h{cd;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;trueValue=!0;falseValue=!1;onChange=new t.vpe;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(r){this.cd=r}ngAfterContentInit(){this.templates.forEach(r=>{"icon"===r.getType()&&(this.checkboxIconTemplate=r.template)})}onClick(r,f,m){r.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(r),m&&f.focus())}updateModel(r){let f;this.binary?(f=this.checked()?this.falseValue:this.trueValue,this.model=f,this.onModelChange(f)):(f=this.checked()?this.model.filter(m=>!S.gb.equals(m,this.value)):this.model?[...this.model,this.value]:[this.value],this.onModelChange(f),this.model=f,this.formControl&&this.formControl.setValue(f)),this.onChange.emit({checked:f,originalEvent:r})}handleChange(r){this.readonly||this.updateModel(r)}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}focus(){this.inputViewChild?.nativeElement.focus()}writeValue(r){this.model=r,this.cd.markForCheck()}registerOnChange(r){this.onModelChange=r}registerOnTouched(r){this.onModelTouched=r}setDisabledState(r){this.disabled=r,this.cd.markForCheck()}checked(){return this.binary?this.model===this.trueValue:S.gb.contains(this.value,this.model)}static \u0275fac=function(f){return new(f||h)(t.Y36(t.sBO))};static \u0275cmp=t.Xpm({type:h,selectors:[["p-checkbox"]],contentQueries:function(f,m,F){if(1&f&&t.Suo(F,A.jx,4),2&f){let Z;t.iGM(Z=t.CRH())&&(m.templates=Z)}},viewQuery:function(f,m){if(1&f&&t.Gf(T,5),2&f){let F;t.iGM(F=t.CRH())&&(m.inputViewChild=F.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:"disabled",binary:"binary",label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:"readonly",required:"required",trueValue:"trueValue",falseValue:"falseValue"},outputs:{onChange:"onChange"},features:[t._Bn([B])],decls:7,vars:26,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox",3,"readonly","value","checked","disabled","focus","blur","change"],["cb",""],[1,"p-checkbox-box",3,"ngClass","click"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"ngClass","click"]],template:function(f,m){if(1&f){const F=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),t.NdJ("focus",function(){return m.onFocus()})("blur",function(){return m.onBlur()})("change",function(P){return m.handleChange(P)}),t.qZA()(),t.TgZ(4,"div",4),t.NdJ("click",function(P){t.CHM(F);const j=t.MAs(3);return t.KtG(m.onClick(P,j,!0))}),t.YNc(5,a,3,2,"ng-container",5),t.qZA()(),t.YNc(6,y,2,9,"label",6)}2&f&&(t.Tol(m.styleClass),t.Q6J("ngStyle",m.style)("ngClass",t.kEZ(18,O,m.checked(),m.disabled,m.focused)),t.xp6(2),t.Q6J("readonly",m.readonly)("value",m.value)("checked",m.checked())("disabled",m.disabled),t.uIk("id",m.inputId)("name",m.name)("tabindex",m.tabindex)("aria-labelledby",m.ariaLabelledBy)("aria-label",m.ariaLabel)("aria-checked",m.checked())("required",m.required),t.xp6(2),t.Q6J("ngClass",t.kEZ(22,J,m.checked(),m.disabled,m.focused)),t.xp6(1),t.Q6J("ngIf",m.checked()),t.xp6(1),t.Q6J("ngIf",m.label))},dependencies:function(){return[v.mk,v.O5,v.tP,v.PC,M.n]},styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return h})(),Y=(()=>{class h{static \u0275fac=function(f){return new(f||h)};static \u0275mod=t.oAB({type:h});static \u0275inj=t.cJS({imports:[v.ez,M.n,A.m8]})}return h})()},6263:(N,U,i)=>{"use strict";i.d(U,{V:()=>u,W:()=>d});var v=i(6814),t=i(2029),C=i(5219);function S(s,o){if(1&s&&t._UZ(0,"span",5),2&s){const a=t.oxw(2);t.Q6J("ngClass",a.icon)}}function A(s,o){if(1&s&&(t.ynx(0),t.YNc(1,S,1,1,"span",4),t.BQk()),2&s){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.icon)}}function M(s,o){}function T(s,o){1&s&&t.YNc(0,M,0,0,"ng-template")}function w(s,o){if(1&s&&(t.TgZ(0,"span",6),t.YNc(1,T,1,0,null,7),t.qZA()),2&s){const a=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",a.iconTemplate)}}const _=["*"];let u=(()=>{class s{style;styleClass;severity;value;icon;rounded;templates;iconTemplate;ngAfterContentInit(){this.templates?.forEach(a=>{"icon"===a.getType()&&(this.iconTemplate=a.template)})}containerClass(){return{"p-tag p-component":!0,"p-tag-info":"info"===this.severity,"p-tag-success":"success"===this.severity,"p-tag-warning":"warning"===this.severity,"p-tag-danger":"danger"===this.severity,"p-tag-rounded":this.rounded}}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=t.Xpm({type:s,selectors:[["p-tag"]],contentQueries:function(e,y,O){if(1&e&&t.Suo(O,C.jx,4),2&e){let J;t.iGM(J=t.CRH())&&(y.templates=J)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:"rounded"},ngContentSelectors:_,decls:6,vars:7,consts:[[3,"ngClass","ngStyle"],[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-value"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(e,y){1&e&&(t.F$t(),t.TgZ(0,"span",0),t.Hsn(1),t.YNc(2,A,2,1,"ng-container",1),t.YNc(3,w,2,1,"span",2),t.TgZ(4,"span",3),t._uU(5),t.qZA()()),2&e&&(t.Tol(y.styleClass),t.Q6J("ngClass",y.containerClass())("ngStyle",y.style),t.xp6(2),t.Q6J("ngIf",!y.iconTemplate),t.xp6(1),t.Q6J("ngIf",y.iconTemplate),t.xp6(2),t.Oqu(y.value))},dependencies:[v.mk,v.O5,v.tP,v.PC],styles:["@layer primeng{.p-tag{display:inline-flex;align-items:center;justify-content:center}.p-tag-icon,.p-tag-value,.p-tag-icon.pi{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}}\n"],encapsulation:2,changeDetection:0})}return s})(),d=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=t.oAB({type:s});static \u0275inj=t.cJS({imports:[v.ez,C.m8,C.m8]})}return s})()}}]);