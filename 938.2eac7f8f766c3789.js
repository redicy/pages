"use strict";(self.webpackChunkseller=self.webpackChunkseller||[]).push([[938],{9058:(y,D,a)=>{a.d(D,{b:()=>t});var p=a(4438),E=a(4153),v=a(6557);let t=(()=>{class m{constructor(l,C){this.productService=l,this.productCommandHandler=C}findProducts(l){return this.productService.findProducts(l)}findProductPackages(l){return this.productService.findProductPackages(l)}updateProductPackage(l){return this.productCommandHandler.updateProductPackage(l)}updateProduct(l){return this.productCommandHandler.updateProduct(l)}removeProductPackage(l){return this.productCommandHandler.removeProductPackage(l)}removeProduct(l){return this.productCommandHandler.removeProduct(l)}addProductPackage(l){return this.productCommandHandler.addProductPackage(l)}addProduct(l){return this.productCommandHandler.addProduct(l)}static{this.\u0275fac=function(C){return new(C||m)(p.KVO(E.D.ProductClient),p.KVO(v.X.ProductClient))}}static{this.\u0275prov=p.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},7546:(y,D,a)=>{a.r(D),a.d(D,{ProductModule:()=>$});var p=a(177),E=a(9909),v=a(467),t=a(4438),m=a(5779),A=a(9417),l=a(9998),C=a(9615),M=a(1141),w=a(1802);function f(r,b){}function o(r,b){}function s(r,b){1&r&&t.DNE(0,o,0,0,"ng-template",22)}function d(r,b){if(1&r&&(t.qSk(),t.qex(0),t.nrm(1,"image"),t.bVm()),2&r){const u=b.$implicit,e=b.index,i=t.XpG(3);t.R7$(),t.BMQ("href",u.image)("x",e*i.width)("width",i.width)("height",i.height)}}function P(r,b){if(1&r&&(t.qSk(),t.j41(0,"svg",25),t.nrm(1,"animate",26),t.DNE(2,d,2,4,"ng-container",27),t.nrm(3,"image"),t.k0s()),2&r){const u=b.ngIf,e=t.XpG(2);t.R7$(),t.BMQ("values",u.values)("keyTimes",u.keyTimes.join(";"))("dur",e.duration)("repeatCount",e.recording?"1":"indefinite"),t.R7$(),t.Y8G("ngForOf",e.images),t.R7$(),t.BMQ("href",e.images[0].image)("x",e.images.length*e.width)("width",e.width)("height",e.height)}}function I(r,b){if(1&r&&(t.j41(0,"div",23),t.DNE(1,P,4,9,"svg",24),t.k0s()),2&r){const u=t.XpG();t.R7$(),t.Y8G("ngIf",u.getAnimation())}}const R=[{path:"image-editor",loadChildren:()=>Promise.all([a.e(158),a.e(146)]).then(a.bind(a,146)).then(r=>r.ProductImageEditorModule)},{path:"edit",component:(()=>{class r{static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-product-editor"]],decls:2,vars:0,template:function(e,i){1&e&&(t.j41(0,"p"),t.EFF(1,"product-editor works!"),t.k0s())}})}}return r})()},{path:"list",loadChildren:()=>a.e(937).then(a.bind(a,1937)).then(r=>r.ProductListModule)},{path:"animator",component:(()=>{class r{constructor(u){this.messageService=u,this.width=300,this.height=300,this.frameRate=30,this.animationDuration=1,this.exposureDuration=3,this.recording=!1,this.recordButtonEnabled=!1,this.showVideo=!1}get duration(){return this.images?.length>0?this.images?.length*(this.exposureDuration+this.animationDuration)+this.exposureDuration:0}getAnimation(){const u=[],e=[0],i=this.duration,c=this.exposureDuration/i,n=this.animationDuration/i;let h=0;return this.images.forEach((g,G)=>{const F=`${G*this.width} 0 ${this.width} ${this.height}`;u.push(F),u.push(F),h+=c,e.push(Math.round(1e3*h)/1e3),h+=n,e.push(Math.round(1e3*h)/1e3)}),u.push(`${this.images.length*this.width} 0 ${this.width} ${this.height}`),u.push(`${this.images.length*this.width} 0 ${this.width} ${this.height}`),e.push(1),{values:u.join(";"),keyTimes:e}}readImageContent(u,e){const i=new FileReader;i.onload=c=>{e(c.target.result)},i.readAsDataURL(u)}onImagesSelected(u){const e=[];let i=!1;for(const c of u.currentFiles){const n={fileName:c.name,image:""};this.readImageContent(c,h=>{if(n.image=h,!i){i=!0;const g=new Image;g.onload=()=>{this.width=g.width,this.height=g.height},g.src=h}}),e.push(n)}this.recordButtonEnabled=!!e.length,this.images=e}delay(u){return new Promise(e=>setTimeout(e,u))}generateVideo(){return(0,v.A)(function*(){})()}removeAnimation(u){u.querySelectorAll("animate").forEach(e=>e.parentNode.removeChild(e))}traverse(u,e){let i=!1;const c=(n,h)=>`${n.x.toFixed(h)} ${n.y.toFixed(h)} ${n.width.toFixed(h)} ${n.height.toFixed(h)}`;for(const n in e)if(e[n]?.animVal)switch(e[n][Symbol.toStringTag]){case"SVGAnimatedRect":{const h=c(e[n].baseVal,0),g=c(u[n].animVal,0);h!=g&&(i=!0,e.setAttribute(n,g))}break;case"SVGAnimatedString":{const g=u[n].animVal;e[n].baseVal!=g&&(i=!0,e.setAttribute(n,g))}}for(let n=0,h=0;n<e.children.length;n++,h++){for(;n<u.children.length&&"animate"==u.children[n].nodeName;)n++;i||=this.traverse(u.children[n],e.children[h])}return i}static{this.\u0275fac=function(e){return new(e||r)(t.rXU(m.bg))}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["app-product-image-animator"]],decls:34,vars:23,consts:[["multiple","true","chooseLabel","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438","accept","image/*",3,"onSelect","showUploadButton","disabled","showCancelButton"],["pTemplate","file"],[4,"ngIf"],[1,"card","flex","flex-wrap","gap-3","p-fluid"],[1,"flex-auto"],["for","width",1,"mb-2","block","font-bold"],["inputId","width",3,"ngModelChange","ngModel","disabled"],["for","height",1,"mb-2","block","font-bold"],["inputId","height",3,"ngModelChange","ngModel","disabled"],["for","animationDuration",1,"mb-2","block","font-bold"],["inputId","animationDuration",3,"ngModelChange","ngModel","step","maxFractionDigits","disabled"],["for","exposureDuration",1,"mb-2","block","font-bold"],["inputId","exposureDuration",3,"ngModelChange","ngModel","step","maxFractionDigits","disabled"],["for","frameRate",1,"mb-2","block","font-bold"],["inputId","frameRate",3,"ngModelChange","ngModel","disabled"],["for","duration",1,"mb-2","block","font-bold"],["inputId","duration",3,"ngModel","maxFractionDigits","disabled"],[1,"card"],["label","\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e",3,"click","disabled"],[1,"flex"],["style","max-width: 300px",4,"ngIf"],["id","video"],["pTemplate","content"],[2,"max-width","300px"],["id","preview","xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","version","1.1",4,"ngIf"],["id","preview","xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","version","1.1"],["attributeName","viewBox","begin","0s"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.nrm(0,"p-toast"),t.j41(1,"p-fileUpload",0),t.bIt("onSelect",function(n){return i.onImagesSelected(n)}),t.DNE(2,f,0,0,"ng-template",1)(3,s,1,0,null,2),t.k0s(),t.j41(4,"div",3)(5,"div",4)(6,"label",5),t.EFF(7,"\u0428\u0438\u0440\u0438\u043d\u0430"),t.k0s(),t.j41(8,"p-inputNumber",6),t.mxI("ngModelChange",function(n){return t.DH7(i.width,n)||(i.width=n),n}),t.k0s()(),t.j41(9,"div",4)(10,"label",7),t.EFF(11,"\u0412\u044b\u0441\u043e\u0442\u0430"),t.k0s(),t.j41(12,"p-inputNumber",8),t.mxI("ngModelChange",function(n){return t.DH7(i.height,n)||(i.height=n),n}),t.k0s()(),t.j41(13,"div",4)(14,"label",9),t.EFF(15,"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0438"),t.k0s(),t.j41(16,"p-inputNumber",10),t.mxI("ngModelChange",function(n){return t.DH7(i.animationDuration,n)||(i.animationDuration=n),n}),t.k0s()(),t.j41(17,"div",4)(18,"label",11),t.EFF(19,"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430"),t.k0s(),t.j41(20,"p-inputNumber",12),t.mxI("ngModelChange",function(n){return t.DH7(i.exposureDuration,n)||(i.exposureDuration=n),n}),t.k0s()(),t.j41(21,"div",4)(22,"label",13),t.EFF(23,"Fps"),t.k0s(),t.j41(24,"p-inputNumber",14),t.mxI("ngModelChange",function(n){return t.DH7(i.frameRate,n)||(i.frameRate=n),n}),t.k0s()(),t.j41(25,"div",4)(26,"label",15),t.EFF(27,"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u043e\u043b\u0438\u043a\u0430"),t.k0s(),t.nrm(28,"p-inputNumber",16),t.k0s()(),t.j41(29,"div",17)(30,"p-button",18),t.bIt("click",function(){return i.generateVideo()}),t.k0s(),t.j41(31,"div",19),t.DNE(32,I,2,1,"div",20),t.nrm(33,"div",21),t.k0s()()),2&e&&(t.R7$(),t.Y8G("showUploadButton",!1)("disabled",i.recording)("showCancelButton",!1),t.R7$(2),t.Y8G("ngIf",!1),t.R7$(5),t.R50("ngModel",i.width),t.Y8G("disabled",!i.recordButtonEnabled),t.R7$(4),t.R50("ngModel",i.height),t.Y8G("disabled",!i.recordButtonEnabled),t.R7$(4),t.R50("ngModel",i.animationDuration),t.Y8G("step",.1)("maxFractionDigits",2)("disabled",!i.recordButtonEnabled),t.R7$(4),t.R50("ngModel",i.exposureDuration),t.Y8G("step",.1)("maxFractionDigits",2)("disabled",!i.recordButtonEnabled),t.R7$(4),t.R50("ngModel",i.frameRate),t.Y8G("disabled",!i.recordButtonEnabled),t.R7$(4),t.Y8G("ngModel",i.duration)("maxFractionDigits",2)("disabled",!0),t.R7$(2),t.Y8G("disabled",!i.recordButtonEnabled),t.R7$(2),t.Y8G("ngIf",i.images))},dependencies:[A.BC,A.vS,p.Sq,p.bT,m.Ei,l.y8,C.N,M.$n,w.YI]})}}return r})()}];let x=(()=>{class r{static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({imports:[E.iI.forChild(R),E.iI]})}}return r})();var B=a(9058),T=a(544),k=a(2242),S=a(4799),j=a(4153),N=a(6557);let $=(()=>{class r{static{this.\u0275fac=function(e){return new(e||r)}}static{this.\u0275mod=t.$C({type:r})}static{this.\u0275inj=t.G2t({providers:[j.D.ProductClient,N.X.ProductClient,B.b,m.td],imports:[A.YN,p.MD,x,T.bG,l.MB,C.e,w.O3,k.u,M.tm,S.F]})}}return r})()},8839:(y,D,a)=>{a.d(D,{b:()=>w,E:()=>M});var p=a(8359);class E extends p.yU{constructor(o,s){super()}schedule(o,s=0){return this}}const v={setInterval(f,o,...s){const{delegate:d}=v;return d?.setInterval?d.setInterval(f,o,...s):setInterval(f,o,...s)},clearInterval(f){const{delegate:o}=v;return(o?.clearInterval||clearInterval)(f)},delegate:void 0};var t=a(7908),A=a(6129);class l{constructor(o,s=l.now){this.schedulerActionCtor=o,this.now=s}schedule(o,s=0,d){return new this.schedulerActionCtor(this,o).schedule(d,s)}}l.now=A.U.now;const M=new class C extends l{constructor(o,s=l.now){super(o,s),this.actions=[],this._active=!1}flush(o){const{actions:s}=this;if(this._active)return void s.push(o);let d;this._active=!0;do{if(d=o.execute(o.state,o.delay))break}while(o=s.shift());if(this._active=!1,d){for(;o=s.shift();)o.unsubscribe();throw d}}}(class m extends E{constructor(o,s){super(o,s),this.scheduler=o,this.work=s,this.pending=!1}schedule(o,s=0){var d;if(this.closed)return this;this.state=o;const P=this.id,I=this.scheduler;return null!=P&&(this.id=this.recycleAsyncId(I,P,s)),this.pending=!0,this.delay=s,this.id=null!==(d=this.id)&&void 0!==d?d:this.requestAsyncId(I,this.id,s),this}requestAsyncId(o,s,d=0){return v.setInterval(o.flush.bind(o,this),d)}recycleAsyncId(o,s,d=0){if(null!=d&&this.delay===d&&!1===this.pending)return s;null!=s&&v.clearInterval(s)}execute(o,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const d=this._execute(o,s);if(d)return d;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(o,s){let P,d=!1;try{this.work(o)}catch(I){d=!0,P=I||new Error("Scheduled action threw falsy error")}if(d)return this.unsubscribe(),P}unsubscribe(){if(!this.closed){const{id:o,scheduler:s}=this,{actions:d}=s;this.work=this.state=this.scheduler=null,this.pending=!1,(0,t.o)(d,this),null!=o&&(this.id=this.recycleAsyncId(s,o,null)),this.delay=null,super.unsubscribe()}}}),w=M}}]);