(self.webpackChunkseller=self.webpackChunkseller||[]).push([[571],{701:ye=>{window,ye.exports=function(i){var y={};function n(a){if(y[a])return y[a].exports;var s=y[a]={i:a,l:!1,exports:{}};return i[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=i,n.c=y,n.d=function(a,s,d){n.o(a,s)||Object.defineProperty(a,s,{enumerable:!0,get:d})},n.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},n.t=function(a,s){if(1&s&&(a=n(a)),8&s||4&s&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(n.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&s&&"string"!=typeof a)for(var p in a)n.d(d,p,function(x){return a[x]}.bind(null,p));return d},n.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(s,"a",s),s},n.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},n.p="/",n(n.s=72)}([function(i,y){i.exports=function(n,a,s){return a in n?Object.defineProperty(n,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[a]=s,n},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y){i.exports=function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y){function n(a){return i.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},i.exports.__esModule=!0,i.exports.default=i.exports,n(a)}i.exports=n,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y){i.exports=function(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y){function n(a,s){for(var d=0;d<s.length;d++){var p=s[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(a,p.key,p)}}i.exports=function(a,s,d){return s&&n(a.prototype,s),d&&n(a,d),Object.defineProperty(a,"prototype",{writable:!1}),a},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){"use strict";n.d(y,"a",function(){return a}),n.d(y,"b",function(){return s}),n.d(y,"c",function(){return d}),n.d(y,"d",function(){return p});var a={};n.r(a),n.d(a,"EPSILON",function(){return x}),n.d(a,"ARRAY_TYPE",function(){return T}),n.d(a,"RANDOM",function(){return M}),n.d(a,"setMatrixArrayType",function(){return b}),n.d(a,"toRadian",function(){return l}),n.d(a,"equals",function(){return c});var s={};n.r(s),n.d(s,"create",function(){return e}),n.d(s,"clone",function(){return S}),n.d(s,"copy",function(){return w}),n.d(s,"identity",function(){return k}),n.d(s,"fromValues",function(){return F}),n.d(s,"set",function(){return q}),n.d(s,"transpose",function(){return Z}),n.d(s,"invert",function(){return j}),n.d(s,"adjoint",function(){return H}),n.d(s,"determinant",function(){return V}),n.d(s,"multiply",function(){return X}),n.d(s,"rotate",function(){return ne}),n.d(s,"scale",function(){return $}),n.d(s,"fromRotation",function(){return ee}),n.d(s,"fromScaling",function(){return N}),n.d(s,"str",function(){return ae}),n.d(s,"frob",function(){return ie}),n.d(s,"LDU",function(){return re}),n.d(s,"add",function(){return ce}),n.d(s,"subtract",function(){return Y}),n.d(s,"exactEquals",function(){return J}),n.d(s,"equals",function(){return te}),n.d(s,"multiplyScalar",function(){return _e}),n.d(s,"multiplyScalarAndAdd",function(){return se}),n.d(s,"mul",function(){return ve}),n.d(s,"sub",function(){return Ae});var d={};n.r(d),n.d(d,"create",function(){return Ie}),n.d(d,"clone",function(){return Re}),n.d(d,"fromValues",function(){return Fe}),n.d(d,"copy",function(){return Le}),n.d(d,"set",function(){return je}),n.d(d,"add",function(){return Ue}),n.d(d,"subtract",function(){return qe}),n.d(d,"multiply",function(){return He}),n.d(d,"divide",function(){return Ke}),n.d(d,"ceil",function(){return Ve}),n.d(d,"floor",function(){return Zt}),n.d(d,"min",function(){return dt}),n.d(d,"max",function(){return ln}),n.d(d,"round",function(){return sn}),n.d(d,"scale",function(){return It}),n.d(d,"scaleAndAdd",function(){return cn}),n.d(d,"distance",function(){return Rt}),n.d(d,"squaredDistance",function(){return Dt}),n.d(d,"length",function(){return xt}),n.d(d,"squaredLength",function(){return Pt}),n.d(d,"negate",function(){return bt}),n.d(d,"inverse",function(){return Lt}),n.d(d,"normalize",function(){return zt}),n.d(d,"dot",function(){return Ft}),n.d(d,"cross",function(){return Tt}),n.d(d,"lerp",function(){return dn}),n.d(d,"random",function(){return pn}),n.d(d,"transformMat2",function(){return Ut}),n.d(d,"transformMat2d",function(){return fn}),n.d(d,"transformMat3",function(){return qt}),n.d(d,"transformMat4",function(){return Nt}),n.d(d,"rotate",function(){return Xe}),n.d(d,"angle",function(){return hn}),n.d(d,"zero",function(){return Bt}),n.d(d,"str",function(){return _n}),n.d(d,"exactEquals",function(){return gn}),n.d(d,"equals",function(){return Ot}),n.d(d,"len",function(){return jt}),n.d(d,"sub",function(){return mn}),n.d(d,"mul",function(){return Jt}),n.d(d,"div",function(){return Qt}),n.d(d,"dist",function(){return vn}),n.d(d,"sqrDist",function(){return Yt}),n.d(d,"sqrLen",function(){return yn}),n.d(d,"forEach",function(){return Gt});var p={};n.r(p),n.d(p,"create",function(){return ot}),n.d(p,"clone",function(){return pt}),n.d(p,"length",function(){return Ct}),n.d(p,"fromValues",function(){return xn}),n.d(p,"copy",function(){return Ht}),n.d(p,"set",function(){return at}),n.d(p,"add",function(){return wt}),n.d(p,"subtract",function(){return et}),n.d(p,"multiply",function(){return Vt}),n.d(p,"divide",function(){return Wt}),n.d(p,"ceil",function(){return bn}),n.d(p,"floor",function(){return Tn}),n.d(p,"min",function(){return nt}),n.d(p,"max",function(){return St}),n.d(p,"round",function(){return $t}),n.d(p,"scale",function(){return On}),n.d(p,"scaleAndAdd",function(){return Cn}),n.d(p,"distance",function(){return Kt}),n.d(p,"squaredDistance",function(){return Xt}),n.d(p,"squaredLength",function(){return At}),n.d(p,"negate",function(){return wn}),n.d(p,"inverse",function(){return Sn}),n.d(p,"normalize",function(){return en}),n.d(p,"dot",function(){return ut}),n.d(p,"cross",function(){return lt}),n.d(p,"lerp",function(){return ft}),n.d(p,"hermite",function(){return tn}),n.d(p,"bezier",function(){return An}),n.d(p,"random",function(){return Ye}),n.d(p,"transformMat4",function(){return ht}),n.d(p,"transformMat3",function(){return nn}),n.d(p,"transformQuat",function(){return En}),n.d(p,"rotateX",function(){return Mn}),n.d(p,"rotateY",function(){return _t}),n.d(p,"rotateZ",function(){return rn}),n.d(p,"angle",function(){return kn}),n.d(p,"zero",function(){return Zn}),n.d(p,"str",function(){return In}),n.d(p,"exactEquals",function(){return Rn}),n.d(p,"equals",function(){return Dn}),n.d(p,"sub",function(){return on}),n.d(p,"mul",function(){return Pn}),n.d(p,"div",function(){return Ln}),n.d(p,"dist",function(){return an}),n.d(p,"sqrDist",function(){return zn}),n.d(p,"len",function(){return Et}),n.d(p,"sqrLen",function(){return Fn}),n.d(p,"forEach",function(){return un});var x=1e-6,T=typeof Float32Array<"u"?Float32Array:Array,M=Math.random;function b(g){T=g}var u=Math.PI/180;function l(g){return g*u}function c(g,C){return Math.abs(g-C)<=x*Math.max(1,Math.abs(g),Math.abs(C))}function e(){var g=new T(4);return T!=Float32Array&&(g[1]=0,g[2]=0),g[0]=1,g[3]=1,g}function S(g){var C=new T(4);return C[0]=g[0],C[1]=g[1],C[2]=g[2],C[3]=g[3],C}function w(g,C){return g[0]=C[0],g[1]=C[1],g[2]=C[2],g[3]=C[3],g}function k(g){return g[0]=1,g[1]=0,g[2]=0,g[3]=1,g}function F(g,C,R,G){var K=new T(4);return K[0]=g,K[1]=C,K[2]=R,K[3]=G,K}function q(g,C,R,G,K){return g[0]=C,g[1]=R,g[2]=G,g[3]=K,g}function Z(g,C){if(g===C){var R=C[1];g[1]=C[2],g[2]=R}else g[0]=C[0],g[1]=C[2],g[2]=C[1],g[3]=C[3];return g}function j(g,C){var R=C[0],G=C[1],K=C[2],W=C[3],he=R*W-K*G;return he?(g[0]=W*(he=1/he),g[1]=-G*he,g[2]=-K*he,g[3]=R*he,g):null}function H(g,C){var R=C[0];return g[0]=C[3],g[1]=-C[1],g[2]=-C[2],g[3]=R,g}function V(g){return g[0]*g[3]-g[2]*g[1]}function X(g,C,R){var G=C[0],K=C[1],W=C[2],he=C[3],me=R[0],Se=R[1],De=R[2],ze=R[3];return g[0]=G*me+W*Se,g[1]=K*me+he*Se,g[2]=G*De+W*ze,g[3]=K*De+he*ze,g}function ne(g,C,R){var G=C[0],K=C[1],W=C[2],he=C[3],me=Math.sin(R),Se=Math.cos(R);return g[0]=G*Se+W*me,g[1]=K*Se+he*me,g[2]=G*-me+W*Se,g[3]=K*-me+he*Se,g}function $(g,C,R){var K=C[1],W=C[2],he=C[3],me=R[0],Se=R[1];return g[0]=C[0]*me,g[1]=K*me,g[2]=W*Se,g[3]=he*Se,g}function ee(g,C){var R=Math.sin(C),G=Math.cos(C);return g[0]=G,g[1]=R,g[2]=-R,g[3]=G,g}function N(g,C){return g[0]=C[0],g[1]=0,g[2]=0,g[3]=C[1],g}function ae(g){return"mat2("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+")"}function ie(g){return Math.hypot(g[0],g[1],g[2],g[3])}function re(g,C,R,G){return g[2]=G[2]/G[0],R[0]=G[0],R[1]=G[1],R[3]=G[3]-g[2]*R[1],[g,C,R]}function ce(g,C,R){return g[0]=C[0]+R[0],g[1]=C[1]+R[1],g[2]=C[2]+R[2],g[3]=C[3]+R[3],g}function Y(g,C,R){return g[0]=C[0]-R[0],g[1]=C[1]-R[1],g[2]=C[2]-R[2],g[3]=C[3]-R[3],g}function J(g,C){return g[0]===C[0]&&g[1]===C[1]&&g[2]===C[2]&&g[3]===C[3]}function te(g,C){var R=g[0],G=g[1],K=g[2],W=g[3],he=C[0],me=C[1],Se=C[2],De=C[3];return Math.abs(R-he)<=x*Math.max(1,Math.abs(R),Math.abs(he))&&Math.abs(G-me)<=x*Math.max(1,Math.abs(G),Math.abs(me))&&Math.abs(K-Se)<=x*Math.max(1,Math.abs(K),Math.abs(Se))&&Math.abs(W-De)<=x*Math.max(1,Math.abs(W),Math.abs(De))}function _e(g,C,R){return g[0]=C[0]*R,g[1]=C[1]*R,g[2]=C[2]*R,g[3]=C[3]*R,g}function se(g,C,R,G){return g[0]=C[0]+R[0]*G,g[1]=C[1]+R[1]*G,g[2]=C[2]+R[2]*G,g[3]=C[3]+R[3]*G,g}Math.hypot||(Math.hypot=function(){for(var g=0,C=arguments.length;C--;)g+=arguments[C]*arguments[C];return Math.sqrt(g)});var ve=X,Ae=Y;function Ie(){var g=new T(2);return T!=Float32Array&&(g[0]=0,g[1]=0),g}function Re(g){var C=new T(2);return C[0]=g[0],C[1]=g[1],C}function Fe(g,C){var R=new T(2);return R[0]=g,R[1]=C,R}function Le(g,C){return g[0]=C[0],g[1]=C[1],g}function je(g,C,R){return g[0]=C,g[1]=R,g}function Ue(g,C,R){return g[0]=C[0]+R[0],g[1]=C[1]+R[1],g}function qe(g,C,R){return g[0]=C[0]-R[0],g[1]=C[1]-R[1],g}function He(g,C,R){return g[0]=C[0]*R[0],g[1]=C[1]*R[1],g}function Ke(g,C,R){return g[0]=C[0]/R[0],g[1]=C[1]/R[1],g}function Ve(g,C){return g[0]=Math.ceil(C[0]),g[1]=Math.ceil(C[1]),g}function Zt(g,C){return g[0]=Math.floor(C[0]),g[1]=Math.floor(C[1]),g}function dt(g,C,R){return g[0]=Math.min(C[0],R[0]),g[1]=Math.min(C[1],R[1]),g}function ln(g,C,R){return g[0]=Math.max(C[0],R[0]),g[1]=Math.max(C[1],R[1]),g}function sn(g,C){return g[0]=Math.round(C[0]),g[1]=Math.round(C[1]),g}function It(g,C,R){return g[0]=C[0]*R,g[1]=C[1]*R,g}function cn(g,C,R,G){return g[0]=C[0]+R[0]*G,g[1]=C[1]+R[1]*G,g}function Rt(g,C){return Math.hypot(C[0]-g[0],C[1]-g[1])}function Dt(g,C){var R=C[0]-g[0],G=C[1]-g[1];return R*R+G*G}function xt(g){return Math.hypot(g[0],g[1])}function Pt(g){var C=g[0],R=g[1];return C*C+R*R}function bt(g,C){return g[0]=-C[0],g[1]=-C[1],g}function Lt(g,C){return g[0]=1/C[0],g[1]=1/C[1],g}function zt(g,C){var R=C[0],G=C[1],K=R*R+G*G;return K>0&&(K=1/Math.sqrt(K)),g[0]=C[0]*K,g[1]=C[1]*K,g}function Ft(g,C){return g[0]*C[0]+g[1]*C[1]}function Tt(g,C,R){var G=C[0]*R[1]-C[1]*R[0];return g[0]=g[1]=0,g[2]=G,g}function dn(g,C,R,G){var K=C[0],W=C[1];return g[0]=K+G*(R[0]-K),g[1]=W+G*(R[1]-W),g}function pn(g,C){C=C||1;var R=2*M()*Math.PI;return g[0]=Math.cos(R)*C,g[1]=Math.sin(R)*C,g}function Ut(g,C,R){var G=C[0],K=C[1];return g[0]=R[0]*G+R[2]*K,g[1]=R[1]*G+R[3]*K,g}function fn(g,C,R){var G=C[0],K=C[1];return g[0]=R[0]*G+R[2]*K+R[4],g[1]=R[1]*G+R[3]*K+R[5],g}function qt(g,C,R){var G=C[0],K=C[1];return g[0]=R[0]*G+R[3]*K+R[6],g[1]=R[1]*G+R[4]*K+R[7],g}function Nt(g,C,R){var G=C[0],K=C[1];return g[0]=R[0]*G+R[4]*K+R[12],g[1]=R[1]*G+R[5]*K+R[13],g}function Xe(g,C,R,G){var K=C[0]-R[0],W=C[1]-R[1],he=Math.sin(G),me=Math.cos(G);return g[0]=K*me-W*he+R[0],g[1]=K*he+W*me+R[1],g}function hn(g,C){var R=g[0],G=g[1],K=C[0],W=C[1],he=Math.sqrt(R*R+G*G)*Math.sqrt(K*K+W*W);return Math.acos(Math.min(Math.max(he&&(R*K+G*W)/he,-1),1))}function Bt(g){return g[0]=0,g[1]=0,g}function _n(g){return"vec2("+g[0]+", "+g[1]+")"}function gn(g,C){return g[0]===C[0]&&g[1]===C[1]}function Ot(g,C){var R=g[0],G=g[1],K=C[0],W=C[1];return Math.abs(R-K)<=x*Math.max(1,Math.abs(R),Math.abs(K))&&Math.abs(G-W)<=x*Math.max(1,Math.abs(G),Math.abs(W))}var tt,jt=xt,mn=qe,Jt=He,Qt=Ke,vn=Rt,Yt=Dt,yn=Pt,Gt=(tt=Ie(),function(g,C,R,G,K,W){var he,me;for(C||(C=2),R||(R=0),me=G?Math.min(G*C+R,g.length):g.length,he=R;he<me;he+=C)tt[0]=g[he],tt[1]=g[he+1],K(tt,tt,W),g[he]=tt[0],g[he+1]=tt[1];return g});function ot(){var g=new T(3);return T!=Float32Array&&(g[0]=0,g[1]=0,g[2]=0),g}function pt(g){var C=new T(3);return C[0]=g[0],C[1]=g[1],C[2]=g[2],C}function Ct(g){return Math.hypot(g[0],g[1],g[2])}function xn(g,C,R){var G=new T(3);return G[0]=g,G[1]=C,G[2]=R,G}function Ht(g,C){return g[0]=C[0],g[1]=C[1],g[2]=C[2],g}function at(g,C,R,G){return g[0]=C,g[1]=R,g[2]=G,g}function wt(g,C,R){return g[0]=C[0]+R[0],g[1]=C[1]+R[1],g[2]=C[2]+R[2],g}function et(g,C,R){return g[0]=C[0]-R[0],g[1]=C[1]-R[1],g[2]=C[2]-R[2],g}function Vt(g,C,R){return g[0]=C[0]*R[0],g[1]=C[1]*R[1],g[2]=C[2]*R[2],g}function Wt(g,C,R){return g[0]=C[0]/R[0],g[1]=C[1]/R[1],g[2]=C[2]/R[2],g}function bn(g,C){return g[0]=Math.ceil(C[0]),g[1]=Math.ceil(C[1]),g[2]=Math.ceil(C[2]),g}function Tn(g,C){return g[0]=Math.floor(C[0]),g[1]=Math.floor(C[1]),g[2]=Math.floor(C[2]),g}function nt(g,C,R){return g[0]=Math.min(C[0],R[0]),g[1]=Math.min(C[1],R[1]),g[2]=Math.min(C[2],R[2]),g}function St(g,C,R){return g[0]=Math.max(C[0],R[0]),g[1]=Math.max(C[1],R[1]),g[2]=Math.max(C[2],R[2]),g}function $t(g,C){return g[0]=Math.round(C[0]),g[1]=Math.round(C[1]),g[2]=Math.round(C[2]),g}function On(g,C,R){return g[0]=C[0]*R,g[1]=C[1]*R,g[2]=C[2]*R,g}function Cn(g,C,R,G){return g[0]=C[0]+R[0]*G,g[1]=C[1]+R[1]*G,g[2]=C[2]+R[2]*G,g}function Kt(g,C){return Math.hypot(C[0]-g[0],C[1]-g[1],C[2]-g[2])}function Xt(g,C){var R=C[0]-g[0],G=C[1]-g[1],K=C[2]-g[2];return R*R+G*G+K*K}function At(g){var C=g[0],R=g[1],G=g[2];return C*C+R*R+G*G}function wn(g,C){return g[0]=-C[0],g[1]=-C[1],g[2]=-C[2],g}function Sn(g,C){return g[0]=1/C[0],g[1]=1/C[1],g[2]=1/C[2],g}function en(g,C){var R=C[0],G=C[1],K=C[2],W=R*R+G*G+K*K;return W>0&&(W=1/Math.sqrt(W)),g[0]=C[0]*W,g[1]=C[1]*W,g[2]=C[2]*W,g}function ut(g,C){return g[0]*C[0]+g[1]*C[1]+g[2]*C[2]}function lt(g,C,R){var G=C[0],K=C[1],W=C[2],he=R[0],me=R[1],Se=R[2];return g[0]=K*Se-W*me,g[1]=W*he-G*Se,g[2]=G*me-K*he,g}function ft(g,C,R,G){var K=C[0],W=C[1],he=C[2];return g[0]=K+G*(R[0]-K),g[1]=W+G*(R[1]-W),g[2]=he+G*(R[2]-he),g}function tn(g,C,R,G,K,W){var he=W*W,me=he*(2*W-3)+1,Se=he*(W-2)+W,De=he*(W-1),ze=he*(3-2*W);return g[0]=C[0]*me+R[0]*Se+G[0]*De+K[0]*ze,g[1]=C[1]*me+R[1]*Se+G[1]*De+K[1]*ze,g[2]=C[2]*me+R[2]*Se+G[2]*De+K[2]*ze,g}function An(g,C,R,G,K,W){var he=1-W,me=he*he,Se=W*W,De=me*he,ze=3*W*me,We=3*Se*he,$e=Se*W;return g[0]=C[0]*De+R[0]*ze+G[0]*We+K[0]*$e,g[1]=C[1]*De+R[1]*ze+G[1]*We+K[1]*$e,g[2]=C[2]*De+R[2]*ze+G[2]*We+K[2]*$e,g}function Ye(g,C){C=C||1;var R=2*M()*Math.PI,G=2*M()-1,K=Math.sqrt(1-G*G)*C;return g[0]=Math.cos(R)*K,g[1]=Math.sin(R)*K,g[2]=G*C,g}function ht(g,C,R){var G=C[0],K=C[1],W=C[2],he=R[3]*G+R[7]*K+R[11]*W+R[15];return g[0]=(R[0]*G+R[4]*K+R[8]*W+R[12])/(he=he||1),g[1]=(R[1]*G+R[5]*K+R[9]*W+R[13])/he,g[2]=(R[2]*G+R[6]*K+R[10]*W+R[14])/he,g}function nn(g,C,R){var G=C[0],K=C[1],W=C[2];return g[0]=G*R[0]+K*R[3]+W*R[6],g[1]=G*R[1]+K*R[4]+W*R[7],g[2]=G*R[2]+K*R[5]+W*R[8],g}function En(g,C,R){var G=R[0],K=R[1],W=R[2],me=C[0],Se=C[1],De=C[2],ze=K*De-W*Se,We=W*me-G*De,$e=G*Se-K*me,rt=K*$e-W*We,gt=W*ze-G*$e,Mt=G*We-K*ze,A=2*R[3];return We*=A,$e*=A,gt*=2,Mt*=2,g[0]=me+(ze*=A)+(rt*=2),g[1]=Se+We+gt,g[2]=De+$e+Mt,g}function Mn(g,C,R,G){var K=[],W=[];return K[0]=C[0]-R[0],K[1]=C[1]-R[1],K[2]=C[2]-R[2],W[0]=K[0],W[1]=K[1]*Math.cos(G)-K[2]*Math.sin(G),W[2]=K[1]*Math.sin(G)+K[2]*Math.cos(G),g[0]=W[0]+R[0],g[1]=W[1]+R[1],g[2]=W[2]+R[2],g}function _t(g,C,R,G){var K=[],W=[];return K[0]=C[0]-R[0],K[1]=C[1]-R[1],K[2]=C[2]-R[2],W[0]=K[2]*Math.sin(G)+K[0]*Math.cos(G),W[1]=K[1],W[2]=K[2]*Math.cos(G)-K[0]*Math.sin(G),g[0]=W[0]+R[0],g[1]=W[1]+R[1],g[2]=W[2]+R[2],g}function rn(g,C,R,G){var K=[],W=[];return K[0]=C[0]-R[0],K[1]=C[1]-R[1],K[2]=C[2]-R[2],W[0]=K[0]*Math.cos(G)-K[1]*Math.sin(G),W[1]=K[0]*Math.sin(G)+K[1]*Math.cos(G),W[2]=K[2],g[0]=W[0]+R[0],g[1]=W[1]+R[1],g[2]=W[2]+R[2],g}function kn(g,C){var R=g[0],G=g[1],K=g[2],W=C[0],he=C[1],me=C[2],Se=Math.sqrt(R*R+G*G+K*K)*Math.sqrt(W*W+he*he+me*me),De=Se&&ut(g,C)/Se;return Math.acos(Math.min(Math.max(De,-1),1))}function Zn(g){return g[0]=0,g[1]=0,g[2]=0,g}function In(g){return"vec3("+g[0]+", "+g[1]+", "+g[2]+")"}function Rn(g,C){return g[0]===C[0]&&g[1]===C[1]&&g[2]===C[2]}function Dn(g,C){var R=g[0],G=g[1],K=g[2],W=C[0],he=C[1],me=C[2];return Math.abs(R-W)<=x*Math.max(1,Math.abs(R),Math.abs(W))&&Math.abs(G-he)<=x*Math.max(1,Math.abs(G),Math.abs(he))&&Math.abs(K-me)<=x*Math.max(1,Math.abs(K),Math.abs(me))}var g,on=et,Pn=Vt,Ln=Wt,an=Kt,zn=Xt,Et=Ct,Fn=At,un=(g=ot(),function(C,R,G,K,W,he){var me,Se;for(R||(R=3),G||(G=0),Se=K?Math.min(K*R+G,C.length):C.length,me=G;me<Se;me+=R)g[0]=C[me],g[1]=C[me+1],g[2]=C[me+2],W(g,g,he),C[me]=g[0],C[me+1]=g[1],C[me+2]=g[2];return C})},function(i,y,n){var a=n(17).default,s=n(1);i.exports=function(d,p){if(p&&("object"===a(p)||"function"==typeof p))return p;if(void 0!==p)throw new TypeError("Derived constructors may only return object or undefined");return s(d)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){var a=n(40);i.exports=function(s,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(d&&d.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),d&&a(s,d)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){var a=n(139)();i.exports=a;try{regeneratorRuntime=a}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},function(i,y,n){"use strict";y.a={init:function(a,s){a.fill(s)},shuffle:function(a){for(var s=a.length-1;s>0;s--){var d=Math.floor(Math.random()*(s+1)),p=[a[d],a[s]];a[s]=p[0],a[d]=p[1]}return a},toPointList:function(a){var s=a.reduce(function(d,p){var x="[".concat(p.join(","),"]");return d.push(x),d},[]);return"[".concat(s.join(",\r\n"),"]")},threshold:function(a,s,d){return a.reduce(function(p,x){return d.apply(a,[x])>=s&&p.push(x),p},[])},maxIndex:function(a){for(var s=0,d=0;d<a.length;d++)a[d]>a[s]&&(s=d);return s},max:function(a){for(var s=0,d=0;d<a.length;d++)a[d]>s&&(s=a[d]);return s},sum:function(a){for(var s=a.length,d=0;s--;)d+=a[s];return d}}},function(i,y,n){"use strict";n.d(y,"h",function(){return x}),n.d(y,"i",function(){return M}),n.d(y,"b",function(){return b}),n.d(y,"j",function(){return u}),n.d(y,"e",function(){return l}),n.d(y,"c",function(){return c}),n.d(y,"f",function(){return e}),n.d(y,"g",function(){return S}),n.d(y,"a",function(){return k}),n.d(y,"d",function(){return q});var a=n(5),s=n(9);a.a.setMatrixArrayType(Array);var d=function(Z,j){var H=[],V={rad:0,vec:a.c.clone([0,0])},X={};function ne(ee){X[ee.id]=ee,H.push(ee)}function $(){var ee,N=0;for(ee=0;ee<H.length;ee++)N+=H[ee].rad;V.rad=N/H.length,V.vec=a.c.clone([Math.cos(V.rad),Math.sin(V.rad)])}return ne(Z),$(),{add:function(ee){X[ee.id]||(ne(ee),$())},fits:function(ee){return Math.abs(a.c.dot(ee.point.vec,V.vec))>j},getPoints:function(){return H},getCenter:function(){return V}}},p=function(Z,j,H){return{rad:Z[H],point:Z,id:j}};function x(Z,j){return{x:Z,y:j,toVec2:function(){return a.c.clone([this.x,this.y])},toVec3:function(){return a.d.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function M(Z,j){var H=function(V){var X,ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,$=8-ne;function ee(re,ce){for(var Y=0,J=re;J<=ce;J++)Y+=X[J];return Y}function N(re,ce){for(var Y=0,J=re;J<=ce;J++)Y+=J*X[J];return Y}return function ae(){var re,ce,Y,J,te=[0],_e=(1<<ne)-1;X=function T(Z,j){j||(j=8);for(var H=Z.data,V=H.length,X=8-j,ne=new Int32Array(1<<j);V--;)ne[H[V]>>X]++;return ne}(V,ne);for(var se=1;se<_e;se++)0==(Y=(re=ee(0,se))*(ce=ee(se+1,_e)))&&(Y=1),J=N(0,se)*ce-N(se+1,_e)*re,te[se]=J*J/Y;return s.a.maxIndex(te)}()<<$}(Z);return function(V,X,ne){ne||(ne=V);for(var $=V.data,ee=$.length,N=ne.data;ee--;)N[ee]=$[ee]<X?1:0}(Z,H,j),H}function b(Z,j,H){var V,X,ne,$,ee=[];function N(ae){var ie=!1;for(X=0;X<ee.length;X++)(ne=ee[X]).fits(ae)&&(ne.add(ae),ie=!0);return ie}for(H||(H="rad"),V=0;V<Z.length;V++)N($=p(Z[V],V,H))||ee.push(d($,j));return ee}function u(Z,j,H){var V,X,ne,$,ee=0,N=0,ae=[];for(V=0;V<j;V++)ae[V]={score:0,item:null};for(V=0;V<Z.length;V++)if((X=H.apply(this,[Z[V]]))>N)for((ne=ae[ee]).score=X,ne.item=Z[V],N=Number.MAX_VALUE,$=0;$<j;$++)ae[$].score<N&&(N=ae[$].score,ee=$);return ae}function l(Z,j,H){for(var V,X=0,ne=j.x,$=Math.floor(Z.length/4),ee=j.x/2,N=0,ae=j.x;ne<$;){for(V=0;V<ee;V++)H[N]=(.299*Z[4*X+0]+.587*Z[4*X+1]+.114*Z[4*X+2]+(.299*Z[4*(X+1)+0]+.587*Z[4*(X+1)+1]+.114*Z[4*(X+1)+2])+(.299*Z[4*ne+0]+.587*Z[4*ne+1]+.114*Z[4*ne+2])+(.299*Z[4*(ne+1)+0]+.587*Z[4*(ne+1)+1]+.114*Z[4*(ne+1)+2]))/4,N++,X+=2,ne+=2;X+=ae,ne+=ae}}function c(Z,j,H){var V=Z.length/4|0;if(H&&!0===H.singleChannel)for(var X=0;X<V;X++)j[X]=Z[4*X+0];else for(var ne=0;ne<V;ne++)j[ne]=.299*Z[4*ne+0]+.587*Z[4*ne+1]+.114*Z[4*ne+2]}function e(Z,j){for(var H=Z.data,V=Z.size.x,X=j.data,ne=0,$=V,ee=H.length,N=V/2,ae=0;$<ee;){for(var ie=0;ie<N;ie++)X[ae]=Math.floor((H[ne]+H[ne+1]+H[$]+H[$+1])/4),ae++,ne+=2,$+=2;ne+=V,$+=V}}function S(Z){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],H=Z[0],X=Z[2],ne=X*Z[1],$=ne*(1-Math.abs(H/60%2-1)),ee=X-ne,N=0,ae=0,ie=0;return H<60?(N=ne,ae=$):H<120?(N=$,ae=ne):H<180?(ae=ne,ie=$):H<240?(ae=$,ie=ne):H<300?(N=$,ie=ne):H<360&&(N=ne,ie=$),j[0]=255*(N+ee)|0,j[1]=255*(ae+ee)|0,j[2]=255*(ie+ee)|0,j}function w(Z){for(var j=[],H=[],V=1;V<Math.sqrt(Z)+1;V++)Z%V==0&&(H.push(V),V!==Z/V&&j.unshift(Math.floor(Z/V)));return H.concat(j)}function k(Z,j){var H,V=w(j.x),X=w(j.y),ne=Math.max(j.x,j.y),$=function(Y,J){for(var te=0,_e=0,se=[];te<Y.length&&_e<J.length;)Y[te]===J[_e]?(se.push(Y[te]),te++,_e++):Y[te]>J[_e]?_e++:te++;return se}(V,X),ee=[8,10,15,20,32,60,80],N={"x-small":5,small:4,medium:3,large:2,"x-large":1},ae=N[Z]||N.medium,ie=ee[ae],re=Math.floor(ne/ie);function ce(Y){for(var J=0,te=Y[Math.floor(Y.length/2)];J<Y.length-1&&Y[J]<re;)J++;return J>0&&(te=Math.abs(Y[J]-re)>Math.abs(Y[J-1]-re)?Y[J-1]:Y[J]),re/te<ee[ae+1]/ee[ae]&&re/te>ee[ae-1]/ee[ae]?{x:te,y:te}:null}return(H=ce($))||(H=ce(w(ne)))||(H=ce(w(re*ie))),H}a.a.setMatrixArrayType(Array);var F={top:function(Z,j){return"%"===Z.unit?Math.floor(j.height*(Z.value/100)):null},right:function(Z,j){return"%"===Z.unit?Math.floor(j.width-j.width*(Z.value/100)):null},bottom:function(Z,j){return"%"===Z.unit?Math.floor(j.height-j.height*(Z.value/100)):null},left:function(Z,j){return"%"===Z.unit?Math.floor(j.width*(Z.value/100)):null}};function q(Z,j,H){var V={width:Z,height:j},X=Object.keys(H).reduce(function(ne,$){var ae,ee=(ae=H[$],{value:parseFloat(ae),unit:(ae.indexOf("%"),"%")}),N=F[$](ee,V);return ne[$]=N,ne},{});return{sx:X.left,sy:X.top,sw:X.right-X.left,sh:X.bottom-X.top}}},function(i,y,n){"use strict";var a=n(61),s=n.n(a),d=n(3),p=n.n(d),x=n(4),T=n.n(x),M=n(0),b=n.n(M),u=n(5),l=n(9),c=n(10);function e(w){if(w<0)throw new Error("expected positive number, received ".concat(w))}u.a.setMatrixArrayType(Array);var S=function(){function w(k,F){var q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,Z=arguments.length>3?arguments[3]:void 0;p()(this,w),b()(this,"data",void 0),b()(this,"size",void 0),b()(this,"indexMapping",void 0),F?this.data=F:(this.data=new q(k.x*k.y),Z&&l.a.init(this.data,0)),this.size=k}return T()(w,[{key:"inImageWithBorder",value:function(k){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e(F),k.x>=0&&k.y>=0&&k.x<this.size.x+2*F&&k.y<this.size.y+2*F}},{key:"subImageAsCopy",value:function(k,F){e(F.x),e(F.y);for(var q=k.size,Z=q.x,j=q.y,H=0;H<Z;H++)for(var V=0;V<j;V++)k.data[V*Z+H]=this.data[(F.y+V)*this.size.x+F.x+H];return k}},{key:"get",value:function(k,F){return this.data[F*this.size.x+k]}},{key:"getSafe",value:function(k,F){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var q=0;q<this.size.x;q++)this.indexMapping.x[q]=q,this.indexMapping.x[q+this.size.x]=q;for(var Z=0;Z<this.size.y;Z++)this.indexMapping.y[Z]=Z,this.indexMapping.y[Z+this.size.y]=Z}return this.data[this.indexMapping.y[F+this.size.y]*this.size.x+this.indexMapping.x[k+this.size.x]]}},{key:"set",value:function(k,F,q){return this.data[F*this.size.x+k]=q,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var k=this.size,F=k.x,q=k.y,Z=0;Z<F;Z++)this.data[Z]=this.data[(q-1)*F+Z]=0;for(var j=1;j<q-1;j++)this.data[j*F]=this.data[j*F+(F-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(k){var F,q,Z,j,H,V,X,ne,$,ee,N=this.data,ae=this.size.y,ie=this.size.x,re=[],ce=[],Y=Math.PI,J=Y/4;if(k<=0)return ce;for(H=0;H<k;H++)re[H]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(q=0;q<ae;q++)for(j=q*q,F=0;F<ie;F++)(Z=N[q*ie+F])>0&&((V=re[Z-1]).m00+=1,V.m01+=q,V.m10+=F,V.m11+=F*q,V.m02+=j,V.m20+=F*F);for(H=0;H<k;H++)V=re[H],isNaN(V.m00)||0===V.m00||(ee=(V.m02/V.m00-($=V.m01/V.m00)*$-(V.m20/V.m00-(ne=V.m10/V.m00)*ne))/(2*(X=V.m11/V.m00-ne*$)),ee=.5*Math.atan(ee)+(X>=0?J:-J)+Y,V.theta=(180*ee/Y+90)%180-90,V.theta<0&&(V.theta+=180),V.rad=ee>Y?ee-Y:ee,V.vec=u.c.clone([Math.cos(ee),Math.sin(ee)]),ce.push(V));return ce}},{key:"getAsRGBA",value:function(){for(var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,F=new Uint8ClampedArray(4*this.size.x*this.size.y),q=0;q<this.size.y;q++)for(var Z=0;Z<this.size.x;Z++){var j=q*this.size.x+Z,H=this.get(Z,q)*k;F[4*j+0]=H,F[4*j+1]=H,F[4*j+2]=H,F[4*j+3]=255}return F}},{key:"show",value:function(k){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var q=k.getContext("2d");if(!q)throw new Error("Unable to get canvas context");var Z=q.getImageData(0,0,k.width,k.height),j=this.getAsRGBA(F);k.width=this.size.x,k.height=this.size.y;var H=new ImageData(j,Z.width,Z.height);q.putImageData(H,0,0)}},{key:"overlay",value:function(k,F,q){var Z=F<0||F>360?360:F,j=[0,1,1],H=[0,0,0],V=[255,255,255],X=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var ne=k.getContext("2d");if(!ne)throw new Error("Unable to get canvas context");for(var $=ne.getImageData(q.x,q.y,this.size.x,this.size.y),ee=$.data,N=this.data.length;N--;){j[0]=this.data[N]*Z;var ae=4*N,ie=j[0]<=0?V:j[0]>=360?X:Object(c.g)(j,H),re=s()(ie,3);ee[ae]=re[0],ee[ae+1]=re[1],ee[ae+2]=re[2],ee[ae+3]=255}ne.putImageData($,q.x,q.y)}}]),w}();y.a=S},function(i,y){function n(a,s,d,p,x,T,M){try{var b=a[T](M),u=b.value}catch(l){return void d(l)}b.done?s(u):Promise.resolve(u).then(p,x)}i.exports=function(a){return function(){var s=this,d=arguments;return new Promise(function(p,x){var T=a.apply(s,d);function M(u){n(T,p,x,M,b,"next",u)}function b(u){n(T,p,x,M,b,"throw",u)}M(void 0)})}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){var a=n(140);function s(){return typeof Reflect<"u"&&Reflect.get?(i.exports=s=Reflect.get.bind(),i.exports.__esModule=!0,i.exports.default=i.exports):(i.exports=s=function(d,p,x){var T=a(d,p);if(T){var M=Object.getOwnPropertyDescriptor(T,p);return M.get?M.get.call(arguments.length<3?d:x):M.value}},i.exports.__esModule=!0,i.exports.default=i.exports),s.apply(this,arguments)}i.exports=s,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y){i.exports=function(n){var a=typeof n;return null!=n&&("object"==a||"function"==a)}},function(i,y){i.exports=Array.isArray},function(i,y,n){"use strict";y.a={drawRect:function(a,s,d,p){d.strokeStyle=p.color,d.fillStyle=p.color,d.lineWidth=p.lineWidth||1,d.beginPath(),d.strokeRect(a.x,a.y,s.x,s.y)},drawPath:function(a,s,d,p){d.strokeStyle=p.color,d.fillStyle=p.color,d.lineWidth=p.lineWidth,d.beginPath(),d.moveTo(a[0][s.x],a[0][s.y]);for(var x=1;x<a.length;x++)d.lineTo(a[x][s.x],a[x][s.y]);d.closePath(),d.stroke()},drawImage:function(a,s,d){var p=d.getImageData(0,0,s.x,s.y),x=p.data,T=x.length,M=a.length;if(T/M!=4)return!1;for(;M--;){var b=a[M];x[--T]=255,x[--T]=b,x[--T]=b,x[--T]=b}return d.putImageData(p,0,0),!0}}},function(i,y){function n(a){return i.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i.exports.__esModule=!0,i.exports.default=i.exports,n(a)}i.exports=n,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){var a=n(73),s=n(128)(function(d,p,x){a(d,p,x)});i.exports=s},function(i,y,n){var a=n(44),s="object"==typeof self&&self&&self.Object===Object&&self,d=a||s||Function("return this")();i.exports=d},function(i,y){i.exports=function(n){return null!=n&&"object"==typeof n}},function(i,y,n){"use strict";y.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(a,s){var d,p=a.data,x=s.data,T=this.searchDirections,M=a.size.x;function b(l,c,e,S){var w,k,F;for(w=0;w<T.length;w++){if(p[d=(k=l.cy+T[l.dir][0])*M+(F=l.cx+T[l.dir][1])]===c&&(0===x[d]||x[d]===e))return x[d]=e,l.cy=k,l.cx=F,!0;0===x[d]&&(x[d]=S),l.dir=(l.dir+1)%8}return!1}function u(l,c,e){return{dir:e,x:l,y:c,next:null,prev:null}}return{trace:function(l,c,e,S){return b(l,c,e,S)},contourTracing:function(l,c,e,S,w){return function(k,F,q,Z,j){var H,V,X,ne=null,$={cx:F,cy:k,dir:0};if(b($,Z,q,j)){H=ne=u(F,k,$.dir),X=$.dir,(V=u($.cx,$.cy,0)).prev=H,H.next=V,V.next=null,H=V;var ee=a.size.x*a.size.y,N=0;do{$.dir=($.dir+6)%8,b($,Z,q,j),X!==$.dir?(H.dir=$.dir,(V=u($.cx,$.cy,0)).prev=H,H.next=V,V.next=null,H=V):(H.dir=X,H.x=$.cx,H.y=$.cy),X=$.dir}while(($.cx!==F||$.cy!==k)&&++N<ee);ne.prev=H.prev,H.prev.next=ne}return ne}(l,c,e,S,w)}}}}},function(i,y,n){var a=n(27),s=n(86),d=n(87),p=a?a.toStringTag:void 0;i.exports=function(x){return null==x?void 0===x?"[object Undefined]":"[object Null]":p&&p in Object(x)?s(x):d(x)}},function(i,y,n){"use strict";(function(a){var s,d,p,x,T,M,b,u,l,c,e=n(5),S=n(11),w=n(10),k=n(9),F=(n(16),n(64)),q=n(21),Z=n(65);e.a.setMatrixArrayType(Array);var j,H,V={ctx:{binary:null},dom:{binary:null}},X={x:0,y:0};function ne(N){var ae,ie,re,ce,Y,J,te,_e=l.size.x,se=l.size.y,ve=-l.size.x,Ae=-l.size.y;for(ae=0,ie=0;ie<N.length;ie++)ae+=(ce=N[ie]).rad;for((ae=(180*(ae/=N.length)/Math.PI+90)%180-90)<0&&(ae+=180),ae=(180-ae)*Math.PI/180,Y=e.b.copy(e.b.create(),[Math.cos(ae),Math.sin(ae),-Math.sin(ae),Math.cos(ae)]),ie=0;ie<N.length;ie++)for(ce=N[ie],re=0;re<4;re++)e.c.transformMat2(ce.box[re],ce.box[re],Y);for(ie=0;ie<N.length;ie++)for(ce=N[ie],re=0;re<4;re++)ce.box[re][0]<_e&&(_e=ce.box[re][0]),ce.box[re][0]>ve&&(ve=ce.box[re][0]),ce.box[re][1]<se&&(se=ce.box[re][1]),ce.box[re][1]>Ae&&(Ae=ce.box[re][1]);for(J=[[_e,se],[ve,se],[ve,Ae],[_e,Ae]],te=s.halfSample?2:1,Y=e.b.invert(Y,Y),re=0;re<4;re++)e.c.transformMat2(J[re],J[re],Y);for(re=0;re<4;re++)e.c.scale(J[re],J[re],te);return J}function $(N,ae){l.subImageAsCopy(x,Object(w.h)(N,ae)),H.skeletonize()}function ee(N,ae,ie,re){var ce,Y,J,te,_e=[],se=[],ve=Math.ceil(c.x/3);if(N.length>=2){for(ce=0;ce<N.length;ce++)N[ce].m00>ve&&_e.push(N[ce]);if(_e.length>=2){for(J=function(Re){var Fe=Object(w.b)(Re,.9),Le=Object(w.j)(Fe,1,function(He){return He.getPoints().length}),je=[],Ue=[];if(1===Le.length){je=Le[0].item.getPoints();for(var qe=0;qe<je.length;qe++)Ue.push(je[qe].point)}return Ue}(_e),Y=0,ce=0;ce<J.length;ce++){var Ae,Ie;Y+=null!==(Ae=null===(Ie=J[ce])||void 0===Ie?void 0:Ie.rad)&&void 0!==Ae?Ae:0}J.length>1&&J.length>=_e.length/4*3&&J.length>N.length/4&&(Y/=J.length,te={index:ae[1]*X.x+ae[0],pos:{x:ie,y:re},box:[e.c.clone([ie,re]),e.c.clone([ie+x.size.x,re]),e.c.clone([ie+x.size.x,re+x.size.y]),e.c.clone([ie,re+x.size.y])],moments:J,rad:Y,vec:e.c.clone([Math.cos(Y),Math.sin(Y)])},se.push(te))}}return se}y.a={init:function(N,ae){s=ae,j=N,function(){d=s.halfSample?new S.a({x:j.size.x/2|0,y:j.size.y/2|0}):j,c=Object(w.a)(s.patchSize,d.size),X.x=d.size.x/c.x|0,X.y=d.size.y/c.y|0,l=new S.a(d.size,void 0,Uint8Array,!1),T=new S.a(c,void 0,Array,!0);var ie=new ArrayBuffer(65536);x=new S.a(c,new Uint8Array(ie,0,c.x*c.y)),p=new S.a(c,new Uint8Array(ie,c.x*c.y*3,c.x*c.y),void 0,!0),H=Object(Z.a)(typeof window<"u"?window:typeof self<"u"?self:a,{size:c.x},ie),u=new S.a({x:d.size.x/x.size.x|0,y:d.size.y/x.size.y|0},void 0,Array,!0),M=new S.a(u.size,void 0,void 0,!0),b=new S.a(u.size,void 0,Int32Array,!0)}(),function(){if(!s.useWorker&&typeof document<"u"){V.dom.binary=document.createElement("canvas"),V.dom.binary.className="binaryBuffer";var ie=!!s.willReadFrequently;console.warn("* initCanvas willReadFrequently",ie,s),V.ctx.binary=V.dom.binary.getContext("2d",{willReadFrequently:ie}),V.dom.binary.width=l.size.x,V.dom.binary.height=l.size.y}}()},locate:function(){s.halfSample&&Object(w.f)(j,d),Object(w.i)(d,l),l.zeroBorder();var N=function(){var re,ce,Y,J,te,_e,se=[];for(re=0;re<X.x;re++)for(ce=0;ce<X.y;ce++)$(Y=x.size.x*re,J=x.size.y*ce),p.zeroBorder(),k.a.init(T.data,0),_e=F.a.create(p,T).rasterize(0),te=T.moments(_e.count),se=se.concat(ee(te,[re,ce],Y,J));return se}();if(N.length<X.x*X.y*.05)return null;var ae=function(re){var ce,Y,J=0,te=0;function _e(){var ve;for(ve=0;ve<b.data.length;ve++)if(0===b.data[ve]&&1===M.data[ve])return ve;return b.data.length}function se(ve){var Re,Fe,Le,je=ve%b.size.x,Ue=ve/b.size.x|0;if(ve<b.data.length)for(Re=u.data[ve],b.data[ve]=J,Le=0;Le<q.a.searchDirections.length;Le++)0!==M.data[Fe=(Ue+q.a.searchDirections[Le][0])*b.size.x+(je+q.a.searchDirections[Le][1])]?0===b.data[Fe]&&Math.abs(e.c.dot(u.data[Fe].vec,Re.vec))>.95&&se(Fe):b.data[Fe]=Number.MAX_VALUE}for(k.a.init(M.data,0),k.a.init(b.data,0),k.a.init(u.data,null),ce=0;ce<re.length;ce++)u.data[(Y=re[ce]).index]=Y,M.data[Y.index]=1;for(M.zeroBorder();(te=_e())<b.data.length;)J++,se(te);return J}(N);if(ae<1)return null;var ie=function(re){var ce,Y,J=[];for(ce=0;ce<re;ce++)J.push(0);for(Y=b.data.length;Y--;)b.data[Y]>0&&J[b.data[Y]-1]++;return(J=J.map(function(te,_e){return{val:te,label:_e+1}})).sort(function(te,_e){return _e.val-te.val}),J.filter(function(te){return te.val>=5})}(ae);return 0===ie.length?null:function(re,ce){var Y,J,_e,se=[],ve=[];for(Y=0;Y<re.length;Y++){for(J=b.data.length,se.length=0;J--;)b.data[J]===re[Y].label&&se.push(u.data[J]);(_e=ne(se))&&ve.push(_e)}return ve}(ie)},checkImageConstraints:function(N,ae){var ie,re,ce=N.getWidth(),Y=N.getHeight(),J=ae.halfSample?.5:1;N.getConfig().area&&(re=Object(w.d)(ce,Y,N.getConfig().area),N.setTopRight({x:re.sx,y:re.sy}),N.setCanvasSize({x:ce,y:Y}),ce=re.sw,Y=re.sh);var te={x:Math.floor(ce*J),y:Math.floor(Y*J)};if(ie=Object(w.a)(ae.patchSize,te),N.setWidth(Math.floor(Math.floor(te.x/ie.x)*(1/J)*ie.x)),N.setHeight(Math.floor(Math.floor(te.y/ie.y)*(1/J)*ie.y)),N.getWidth()%ie.x==0&&N.getHeight()%ie.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(ce," )and height (").concat(Y,") must a multiple of ").concat(ie.x))}}}).call(this,n(45))},function(i,y,n){var a=n(75),s=n(76),d=n(77),p=n(78),x=n(79);function T(M){var b=-1,u=null==M?0:M.length;for(this.clear();++b<u;){var l=M[b];this.set(l[0],l[1])}}T.prototype.clear=a,T.prototype.delete=s,T.prototype.get=d,T.prototype.has=p,T.prototype.set=x,i.exports=T},function(i,y,n){var a=n(26);i.exports=function(s,d){for(var p=s.length;p--;)if(a(s[p][0],d))return p;return-1}},function(i,y){i.exports=function(n,a){return n===a||n!=n&&a!=a}},function(i,y,n){var a=n(19).Symbol;i.exports=a},function(i,y,n){var a=n(34)(Object,"create");i.exports=a},function(i,y,n){var a=n(100);i.exports=function(s,d){var p=s.__data__;return a(d)?p["string"==typeof d?"string":"hash"]:p.map}},function(i,y,n){var a=n(115),s=n(20),d=Object.prototype,p=d.hasOwnProperty,x=d.propertyIsEnumerable,T=a(function(){return arguments}())?a:function(M){return s(M)&&p.call(M,"callee")&&!x.call(M,"callee")};i.exports=T},function(i,y){var n=/^(?:0|[1-9]\d*)$/;i.exports=function(a,s){var d=typeof a;return!!(s=s??9007199254740991)&&("number"==d||"symbol"!=d&&n.test(a))&&a>-1&&a%1==0&&a<s}},function(i,y,n){var a=n(15),s=n(147),d=n(148),p=n(151);i.exports=function(x,T){return a(x)?x:s(x,T)?[x]:d(p(x))}},function(i,y,n){var a=n(141),s=n(142),d=n(59),p=n(143);i.exports=function(x){return a(x)||s(x)||d(x)||p()},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){var a=n(85),s=n(91);i.exports=function(d,p){var x=s(d,p);return a(x)?x:void 0}},function(i,y,n){var a=n(22),s=n(14);i.exports=function(d){if(!s(d))return!1;var p=a(d);return"[object Function]"==p||"[object GeneratorFunction]"==p||"[object AsyncFunction]"==p||"[object Proxy]"==p}},function(i,y,n){var a=n(48);i.exports=function(s,d,p){"__proto__"==d&&a?a(s,d,{configurable:!0,enumerable:!0,value:p,writable:!0}):s[d]=p}},function(i,y){i.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(i,y,n){var a=n(35),s=n(39);i.exports=function(d){return null!=d&&s(d.length)&&!a(d)}},function(i,y){i.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(i,y){function n(a,s){return i.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,p){return d.__proto__=p,d},i.exports.__esModule=!0,i.exports.default=i.exports,n(a,s)}i.exports=n,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){var a=n(22),s=n(20);i.exports=function(d){return"symbol"==typeof d||s(d)&&"[object Symbol]"==a(d)}},function(i,y,n){var a=n(41);i.exports=function(s){if("string"==typeof s||a(s))return s;var d=s+"";return"0"==d&&1/s==-1/0?"-0":d}},function(i,y,n){var a=n(34)(n(19),"Map");i.exports=a},function(i,y,n){(function(a){i.exports="object"==typeof a&&a&&a.Object===Object&&a}).call(this,n(45))},function(i,y){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{"object"==typeof window&&(n=window)}i.exports=n},function(i,y,n){var a=n(92),s=n(99),d=n(101),p=n(102),x=n(103);function T(M){var b=-1,u=null==M?0:M.length;for(this.clear();++b<u;){var l=M[b];this.set(l[0],l[1])}}T.prototype.clear=a,T.prototype.delete=s,T.prototype.get=d,T.prototype.has=p,T.prototype.set=x,i.exports=T},function(i,y,n){var a=n(36),s=n(26);i.exports=function(d,p,x){(void 0!==x&&!s(d[p],x)||void 0===x&&!(p in d))&&a(d,p,x)}},function(i,y,n){var a=n(34),s=function(){try{var d=a(Object,"defineProperty");return d({},"",{}),d}catch{}}();i.exports=s},function(i,y,n){var a=n(114)(Object.getPrototypeOf,Object);i.exports=a},function(i,y){var n=Object.prototype;i.exports=function(a){var s=a&&a.constructor;return a===("function"==typeof s&&s.prototype||n)}},function(i,y,n){(function(a){var s=n(19),d=n(117),p=y&&!y.nodeType&&y,x=p&&"object"==typeof a&&a&&!a.nodeType&&a,T=x&&x.exports===p?s.Buffer:void 0;a.exports=(T?T.isBuffer:void 0)||d}).call(this,n(37)(i))},function(i,y,n){var a=n(119),s=n(120),d=n(121),p=d&&d.isTypedArray,x=p?s(p):a;i.exports=x},function(i,y){i.exports=function(n,a){if(("constructor"!==a||"function"!=typeof n[a])&&"__proto__"!=a)return n[a]}},function(i,y,n){var a=n(36),s=n(26),d=Object.prototype.hasOwnProperty;i.exports=function(p,x,T){var M=p[x];d.call(p,x)&&s(M,T)&&(void 0!==T||x in p)||a(p,x,T)}},function(i,y,n){var a=n(124),s=n(126),d=n(38);i.exports=function(p){return d(p)?a(p,!0):s(p)}},function(i,y){i.exports=function(n){return n}},function(i,y,n){var a=n(130),s=Math.max;i.exports=function(d,p,x){return p=s(void 0===p?d.length-1:p,0),function(){for(var T=arguments,M=-1,b=s(T.length-p,0),u=Array(b);++M<b;)u[M]=T[p+M];M=-1;for(var l=Array(p+1);++M<p;)l[M]=T[M];return l[p]=x(u),a(d,this,l)}}},function(i,y,n){var a=n(131),s=n(133)(a);i.exports=s},function(i,y,n){var a=n(60);i.exports=function(s,d){if(s){if("string"==typeof s)return a(s,d);var p=Object.prototype.toString.call(s).slice(8,-1);return"Object"===p&&s.constructor&&(p=s.constructor.name),"Map"===p||"Set"===p?Array.from(s):"Arguments"===p||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?a(s,d):void 0}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y){i.exports=function(n,a){(null==a||a>n.length)&&(a=n.length);for(var s=0,d=new Array(a);s<a;s++)d[s]=n[s];return d},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){var a=n(136),s=n(137),d=n(59),p=n(138);i.exports=function(x,T){return a(x)||s(x,T)||d(x,T)||p()},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){var a=n(144),s=n(158)(function(d,p){return null==d?{}:a(d,p)});i.exports=s},function(i,y,n){var a=n(2),s=n(40),d=n(163),p=n(164);function x(T){var M="function"==typeof Map?new Map:void 0;return i.exports=x=function(b){if(null===b||!d(b))return b;if("function"!=typeof b)throw new TypeError("Super expression must either be null or a function");if(void 0!==M){if(M.has(b))return M.get(b);M.set(b,u)}function u(){return p(b,arguments,a(this).constructor)}return u.prototype=Object.create(b.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s(u,b)},i.exports.__esModule=!0,i.exports.default=i.exports,x(T)}i.exports=x,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){"use strict";var a=n(21),s={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(d,p){var x=d.data,T=p.data,M=d.size.x,b=d.size.y,u=a.a.create(d,p);return{rasterize:function(l){var c,e,S,w,k,F,q,Z,j,H,V,X,ne=[],$=0;for(X=0;X<400;X++)ne[X]=0;for(ne[0]=x[0],j=null,F=1;F<b-1;F++)for(w=0,e=ne[0],k=1;k<M-1;k++)if(0===T[V=F*M+k])if((c=x[V])!==e){if(0===w)ne[S=$+1]=c,e=c,null!==(q=u.contourTracing(F,k,S,c,s.DIR.OUTSIDE_EDGE))&&($++,w=S,(Z=s.createContour2D()).dir=s.CONTOUR_DIR.CW_DIR,Z.index=w,Z.firstVertex=q,Z.nextpeer=j,Z.insideContours=null,null!==j&&(j.prevpeer=Z),j=Z);else if(null!==(q=u.contourTracing(F,k,s.DIR.INSIDE_EDGE,c,w))){for((Z=s.createContour2D()).firstVertex=q,Z.insideContours=null,Z.dir=0===l?s.CONTOUR_DIR.CCW_DIR:s.CONTOUR_DIR.CW_DIR,Z.index=l,H=j;null!==H&&H.index!==w;)H=H.nextpeer;null!==H&&(Z.nextpeer=H.insideContours,null!==H.insideContours&&(H.insideContours.prevpeer=Z),H.insideContours=Z)}}else T[V]=w;else T[V]===s.DIR.OUTSIDE_EDGE||T[V]===s.DIR.INSIDE_EDGE?(w=0,e=T[V]===s.DIR.INSIDE_EDGE?x[V]:ne[0]):e=ne[w=T[V]];for(H=j;null!==H;)H.index=l,H=H.nextpeer;return{cc:j,count:$}},debug:{drawContour:function(l,c){var e,S,w,k=l.getContext("2d"),F=c;for(k.strokeStyle="red",k.fillStyle="red",k.lineWidth=1,e=null!==F?F.insideContours:null;null!==F;){switch(null!==e?(S=e,e=e.nextpeer):(S=F,e=null!==(F=F.nextpeer)?F.insideContours:null),S.dir){case s.CONTOUR_DIR.CW_DIR:k.strokeStyle="red";break;case s.CONTOUR_DIR.CCW_DIR:k.strokeStyle="blue";break;case s.CONTOUR_DIR.UNKNOWN_DIR:k.strokeStyle="green"}w=S.firstVertex,k.beginPath(),k.moveTo(w.x,w.y);do{k.lineTo((w=w.next).x,w.y)}while(w!==S.firstVertex);k.stroke()}}}}}};y.a=s},function(i,y,n){"use strict";
/* @preserve ASM BEGIN */
/* @preserve ASM END */y.a=function(a,s,d){var p=new a.Uint8Array(d),x=0|s.size,T=a.Math.imul;function M(F,q){F|=0,q|=0;var Z=0,j=0,V=0,X=0,ne=0,$=0,ee=0;for(Z=1;(0|Z)<(x-1|0);Z=Z+1|0)for(ee=ee+x|0,j=1;(0|j)<(x-1|0);j=j+1|0)p[q+ee+j|0]=5==(0|(0|p[F+(V=ee-x|0)+(ne=j-1|0)|0])+(0|p[F+V+($=j+1|0)|0])+(0|p[F+ee+j|0])+(0|p[F+(X=ee+x|0)+ne|0])+(0|p[F+X+$|0]))?1:0}function b(F,q,Z){F|=0,q|=0,Z|=0;var j=0;for(j=0|T(x,x);(0|j)>0;)p[Z+(j=j-1|0)|0]=(0|p[F+j|0])-(0|p[q+j|0])|0}function u(F,q,Z){F|=0,q|=0,Z|=0;var j=0;for(j=0|T(x,x);(0|j)>0;)p[Z+(j=j-1|0)|0]=0|p[F+j|0]|p[q+j|0]|0}function l(F){F|=0;var q=0,Z=0;for(Z=0|T(x,x);(0|Z)>0;)q=(0|q)+(0|p[F+(Z=Z-1|0)|0])|0;return 0|q}function e(F,q){F|=0,q|=0;var Z=0,j=0,V=0,X=0,ne=0,$=0,ee=0;for(Z=1;(0|Z)<(x-1|0);Z=Z+1|0)for(ee=ee+x|0,j=1;(0|j)<(x-1|0);j=j+1|0)p[q+ee+j|0]=(0|(0|p[F+(V=ee-x|0)+(ne=j-1|0)|0])+(0|p[F+V+($=j+1|0)|0])+(0|p[F+ee+j|0])+(0|p[F+(X=ee+x|0)+ne|0])+(0|p[F+X+$|0]))>0?1:0}function S(F,q){F|=0,q|=0;var Z=0;for(Z=0|T(x,x);(0|Z)>0;)p[q+(Z=Z-1|0)|0]=0|p[F+Z|0]}return{skeletonize:function k(){var q,Z,j,V=0;(function c(F,q){F|=0,q|=0;var Z=0;for(Z=0|T(x,x);(0|Z)>0;)p[F+(Z=Z-1|0)|0]=q})(j=(Z=(q=0|T(x,x))+q|0)+q|0,0),function w(F){F|=0;var q=0,Z=0;for(q=0;(0|q)<(x-1|0);q=q+1|0)p[F+q|0]=0,p[F+Z|0]=0,p[F+(Z=Z+x-1|0)|0]=0,Z=Z+1|0;for(q=0;(0|q)<(0|x);q=q+1|0)p[F+Z|0]=0,Z=Z+1|0}(0);do{M(0,q),e(q,Z),b(0,Z,Z),u(j,Z,j),S(q,0),V=0==(0|l(0))|0}while(!V)}}}},,,,,,,function(i,y,n){i.exports=n(166)},function(i,y,n){var a=n(74),s=n(47),d=n(104),p=n(106),x=n(14),T=n(55),M=n(53);i.exports=function b(u,l,c,e,S){u!==l&&d(l,function(w,k){if(S||(S=new a),x(w))p(u,l,k,c,b,e,S);else{var F=e?e(M(u,k),w,k+"",u,l,S):void 0;void 0===F&&(F=w),s(u,k,F)}},T)}},function(i,y,n){var a=n(24),s=n(80),d=n(81),p=n(82),x=n(83),T=n(84);function M(b){var u=this.__data__=new a(b);this.size=u.size}M.prototype.clear=s,M.prototype.delete=d,M.prototype.get=p,M.prototype.has=x,M.prototype.set=T,i.exports=M},function(i,y){i.exports=function(){this.__data__=[],this.size=0}},function(i,y,n){var a=n(25),s=Array.prototype.splice;i.exports=function(d){var p=this.__data__,x=a(p,d);return!(x<0||(x==p.length-1?p.pop():s.call(p,x,1),--this.size,0))}},function(i,y,n){var a=n(25);i.exports=function(s){var d=this.__data__,p=a(d,s);return p<0?void 0:d[p][1]}},function(i,y,n){var a=n(25);i.exports=function(s){return a(this.__data__,s)>-1}},function(i,y,n){var a=n(25);i.exports=function(s,d){var p=this.__data__,x=a(p,s);return x<0?(++this.size,p.push([s,d])):p[x][1]=d,this}},function(i,y,n){var a=n(24);i.exports=function(){this.__data__=new a,this.size=0}},function(i,y){i.exports=function(n){var a=this.__data__,s=a.delete(n);return this.size=a.size,s}},function(i,y){i.exports=function(n){return this.__data__.get(n)}},function(i,y){i.exports=function(n){return this.__data__.has(n)}},function(i,y,n){var a=n(24),s=n(43),d=n(46);i.exports=function(p,x){var T=this.__data__;if(T instanceof a){var M=T.__data__;if(!s||M.length<199)return M.push([p,x]),this.size=++T.size,this;T=this.__data__=new d(M)}return T.set(p,x),this.size=T.size,this}},function(i,y,n){var a=n(35),s=n(88),d=n(14),p=n(90),x=/^\[object .+?Constructor\]$/,l=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");i.exports=function(c){return!(!d(c)||s(c))&&(a(c)?l:x).test(p(c))}},function(i,y,n){var a=n(27),s=Object.prototype,d=s.hasOwnProperty,p=s.toString,x=a?a.toStringTag:void 0;i.exports=function(T){var M=d.call(T,x),b=T[x];try{T[x]=void 0;var u=!0}catch{}var l=p.call(T);return u&&(M?T[x]=b:delete T[x]),l}},function(i,y){var n=Object.prototype.toString;i.exports=function(a){return n.call(a)}},function(i,y,n){var a,s=n(89),d=(a=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";i.exports=function(p){return!!d&&d in p}},function(i,y,n){var a=n(19)["__core-js_shared__"];i.exports=a},function(i,y){var n=Function.prototype.toString;i.exports=function(a){if(null!=a){try{return n.call(a)}catch{}try{return a+""}catch{}}return""}},function(i,y){i.exports=function(n,a){return n?.[a]}},function(i,y,n){var a=n(93),s=n(24),d=n(43);i.exports=function(){this.size=0,this.__data__={hash:new a,map:new(d||s),string:new a}}},function(i,y,n){var a=n(94),s=n(95),d=n(96),p=n(97),x=n(98);function T(M){var b=-1,u=null==M?0:M.length;for(this.clear();++b<u;){var l=M[b];this.set(l[0],l[1])}}T.prototype.clear=a,T.prototype.delete=s,T.prototype.get=d,T.prototype.has=p,T.prototype.set=x,i.exports=T},function(i,y,n){var a=n(28);i.exports=function(){this.__data__=a?a(null):{},this.size=0}},function(i,y){i.exports=function(n){var a=this.has(n)&&delete this.__data__[n];return this.size-=a?1:0,a}},function(i,y,n){var a=n(28),s=Object.prototype.hasOwnProperty;i.exports=function(d){var p=this.__data__;if(a){var x=p[d];return"__lodash_hash_undefined__"===x?void 0:x}return s.call(p,d)?p[d]:void 0}},function(i,y,n){var a=n(28),s=Object.prototype.hasOwnProperty;i.exports=function(d){var p=this.__data__;return a?void 0!==p[d]:s.call(p,d)}},function(i,y,n){var a=n(28);i.exports=function(s,d){var p=this.__data__;return this.size+=this.has(s)?0:1,p[s]=a&&void 0===d?"__lodash_hash_undefined__":d,this}},function(i,y,n){var a=n(29);i.exports=function(s){var d=a(this,s).delete(s);return this.size-=d?1:0,d}},function(i,y){i.exports=function(n){var a=typeof n;return"string"==a||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==n:null===n}},function(i,y,n){var a=n(29);i.exports=function(s){return a(this,s).get(s)}},function(i,y,n){var a=n(29);i.exports=function(s){return a(this,s).has(s)}},function(i,y,n){var a=n(29);i.exports=function(s,d){var p=a(this,s),x=p.size;return p.set(s,d),this.size+=p.size==x?0:1,this}},function(i,y,n){var a=n(105)();i.exports=a},function(i,y){i.exports=function(n){return function(a,s,d){for(var p=-1,x=Object(a),T=d(a),M=T.length;M--;){var b=T[n?M:++p];if(!1===s(x[b],b,x))break}return a}}},function(i,y,n){var a=n(47),s=n(107),d=n(108),p=n(111),x=n(112),T=n(30),M=n(15),b=n(116),u=n(51),l=n(35),c=n(14),e=n(118),S=n(52),w=n(53),k=n(122);i.exports=function(F,q,Z,j,H,V,X){var ne=w(F,Z),$=w(q,Z),ee=X.get($);if(ee)a(F,Z,ee);else{var N=V?V(ne,$,Z+"",F,q,X):void 0,ae=void 0===N;if(ae){var ie=M($),re=!ie&&u($),ce=!ie&&!re&&S($);N=$,ie||re||ce?M(ne)?N=ne:b(ne)?N=p(ne):re?(ae=!1,N=s($,!0)):ce?(ae=!1,N=d($,!0)):N=[]:e($)||T($)?(N=ne,T(ne)?N=k(ne):c(ne)&&!l(ne)||(N=x($))):ae=!1}ae&&(X.set($,N),H(N,$,j,V,X),X.delete($)),a(F,Z,N)}}},function(i,y,n){(function(a){var s=n(19),d=y&&!y.nodeType&&y,p=d&&"object"==typeof a&&a&&!a.nodeType&&a,x=p&&p.exports===d?s.Buffer:void 0,T=x?x.allocUnsafe:void 0;a.exports=function(M,b){if(b)return M.slice();var u=M.length,l=T?T(u):new M.constructor(u);return M.copy(l),l}}).call(this,n(37)(i))},function(i,y,n){var a=n(109);i.exports=function(s,d){var p=d?a(s.buffer):s.buffer;return new s.constructor(p,s.byteOffset,s.length)}},function(i,y,n){var a=n(110);i.exports=function(s){var d=new s.constructor(s.byteLength);return new a(d).set(new a(s)),d}},function(i,y,n){var a=n(19).Uint8Array;i.exports=a},function(i,y){i.exports=function(n,a){var s=-1,d=n.length;for(a||(a=Array(d));++s<d;)a[s]=n[s];return a}},function(i,y,n){var a=n(113),s=n(49),d=n(50);i.exports=function(p){return"function"!=typeof p.constructor||d(p)?{}:a(s(p))}},function(i,y,n){var a=n(14),s=Object.create,d=function(){function p(){}return function(x){if(!a(x))return{};if(s)return s(x);p.prototype=x;var T=new p;return p.prototype=void 0,T}}();i.exports=d},function(i,y){i.exports=function(n,a){return function(s){return n(a(s))}}},function(i,y,n){var a=n(22),s=n(20);i.exports=function(d){return s(d)&&"[object Arguments]"==a(d)}},function(i,y,n){var a=n(38),s=n(20);i.exports=function(d){return s(d)&&a(d)}},function(i,y){i.exports=function(){return!1}},function(i,y,n){var a=n(22),s=n(49),d=n(20),T=Function.prototype.toString,M=Object.prototype.hasOwnProperty,b=T.call(Object);i.exports=function(u){if(!d(u)||"[object Object]"!=a(u))return!1;var l=s(u);if(null===l)return!0;var c=M.call(l,"constructor")&&l.constructor;return"function"==typeof c&&c instanceof c&&T.call(c)==b}},function(i,y,n){var a=n(22),s=n(39),d=n(20),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,i.exports=function(x){return d(x)&&s(x.length)&&!!p[a(x)]}},function(i,y){i.exports=function(n){return function(a){return n(a)}}},function(i,y,n){(function(a){var s=n(44),d=y&&!y.nodeType&&y,p=d&&"object"==typeof a&&a&&!a.nodeType&&a,x=p&&p.exports===d&&s.process,T=function(){try{return p&&p.require&&p.require("util").types||x&&x.binding&&x.binding("util")}catch{}}();a.exports=T}).call(this,n(37)(i))},function(i,y,n){var a=n(123),s=n(55);i.exports=function(d){return a(d,s(d))}},function(i,y,n){var a=n(54),s=n(36);i.exports=function(d,p,x,T){var M=!x;x||(x={});for(var b=-1,u=p.length;++b<u;){var l=p[b],c=T?T(x[l],d[l],l,x,d):void 0;void 0===c&&(c=d[l]),M?s(x,l,c):a(x,l,c)}return x}},function(i,y,n){var a=n(125),s=n(30),d=n(15),p=n(51),x=n(31),T=n(52),M=Object.prototype.hasOwnProperty;i.exports=function(b,u){var l=d(b),c=!l&&s(b),e=!l&&!c&&p(b),S=!l&&!c&&!e&&T(b),w=l||c||e||S,k=w?a(b.length,String):[],F=k.length;for(var q in b)!u&&!M.call(b,q)||w&&("length"==q||e&&("offset"==q||"parent"==q)||S&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||x(q,F))||k.push(q);return k}},function(i,y){i.exports=function(n,a){for(var s=-1,d=Array(n);++s<n;)d[s]=a(s);return d}},function(i,y,n){var a=n(14),s=n(50),d=n(127),p=Object.prototype.hasOwnProperty;i.exports=function(x){if(!a(x))return d(x);var T=s(x),M=[];for(var b in x)("constructor"!=b||!T&&p.call(x,b))&&M.push(b);return M}},function(i,y){i.exports=function(n){var a=[];if(null!=n)for(var s in Object(n))a.push(s);return a}},function(i,y,n){var a=n(129),s=n(134);i.exports=function(d){return a(function(p,x){var T=-1,M=x.length,b=M>1?x[M-1]:void 0,u=M>2?x[2]:void 0;for(b=d.length>3&&"function"==typeof b?(M--,b):void 0,u&&s(x[0],x[1],u)&&(b=M<3?void 0:b,M=1),p=Object(p);++T<M;){var l=x[T];l&&d(p,l,T,b)}return p})}},function(i,y,n){var a=n(56),s=n(57),d=n(58);i.exports=function(p,x){return d(s(p,x,a),p+"")}},function(i,y){i.exports=function(n,a,s){switch(s.length){case 0:return n.call(a);case 1:return n.call(a,s[0]);case 2:return n.call(a,s[0],s[1]);case 3:return n.call(a,s[0],s[1],s[2])}return n.apply(a,s)}},function(i,y,n){var a=n(132),s=n(48),d=n(56);i.exports=s?function(x,T){return s(x,"toString",{configurable:!0,enumerable:!1,value:a(T),writable:!0})}:d},function(i,y){i.exports=function(n){return function(){return n}}},function(i,y){var n=Date.now;i.exports=function(a){var s=0,d=0;return function(){var p=n(),x=16-(p-d);if(d=p,x>0){if(++s>=800)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}},function(i,y,n){var a=n(26),s=n(38),d=n(31),p=n(14);i.exports=function(x,T,M){if(!p(M))return!1;var b=typeof T;return!!("number"==b?s(M)&&d(T,M.length):"string"==b&&T in M)&&a(M[T],x)}},function(i,y){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(n,a){var s=65535&n,d=65535&a;return s*d+((n>>>16&65535)*d+s*(a>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(n){"use strict";if(null===n)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(n),s=1;s<arguments.length;s++){var d=arguments[s];if(null!==d)for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(a[p]=d[p])}return a})},function(i,y){i.exports=function(n){if(Array.isArray(n))return n},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y){i.exports=function(n,a){var s=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=s){var d,p,x=[],T=!0,M=!1;try{for(s=s.call(n);!(T=(d=s.next()).done)&&(x.push(d.value),!a||x.length!==a);T=!0);}catch(b){M=!0,p=b}finally{try{T||null==s.return||s.return()}finally{if(M)throw p}}return x}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y){i.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){var a=n(17).default;function s(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i.exports=s=function(){return d},i.exports.__esModule=!0,i.exports.default=i.exports;var d={},p=Object.prototype,x=p.hasOwnProperty,T=Object.defineProperty||function(Y,J,te){Y[J]=te.value},M="function"==typeof Symbol?Symbol:{},b=M.iterator||"@@iterator",u=M.asyncIterator||"@@asyncIterator",l=M.toStringTag||"@@toStringTag";function c(Y,J,te){return Object.defineProperty(Y,J,{value:te,enumerable:!0,configurable:!0,writable:!0}),Y[J]}try{c({},"")}catch{c=function(J,te,_e){return J[te]=_e}}function e(Y,J,te,_e){var ve=Object.create((J&&J.prototype instanceof k?J:k).prototype),Ae=new ie(_e||[]);return T(ve,"_invoke",{value:$(Y,te,Ae)}),ve}function S(Y,J,te){try{return{type:"normal",arg:Y.call(J,te)}}catch(_e){return{type:"throw",arg:_e}}}d.wrap=e;var w={};function k(){}function F(){}function q(){}var Z={};c(Z,b,function(){return this});var j=Object.getPrototypeOf,H=j&&j(j(re([])));H&&H!==p&&x.call(H,b)&&(Z=H);var V=q.prototype=k.prototype=Object.create(Z);function X(Y){["next","throw","return"].forEach(function(J){c(Y,J,function(te){return this._invoke(J,te)})})}function ne(Y,J){var te;T(this,"_invoke",{value:function(_e,se){function ve(){return new J(function(Ae,Ie){!function Re(Fe,Le,je,Ue){var qe=S(Y[Fe],Y,Le);if("throw"!==qe.type){var He=qe.arg,Ke=He.value;return Ke&&"object"==a(Ke)&&x.call(Ke,"__await")?J.resolve(Ke.__await).then(function(Ve){Re("next",Ve,je,Ue)},function(Ve){Re("throw",Ve,je,Ue)}):J.resolve(Ke).then(function(Ve){He.value=Ve,je(He)},function(Ve){return Re("throw",Ve,je,Ue)})}Ue(qe.arg)}(_e,se,Ae,Ie)})}return te=te?te.then(ve,ve):ve()}})}function $(Y,J,te){var _e="suspendedStart";return function(se,ve){if("executing"===_e)throw new Error("Generator is already running");if("completed"===_e){if("throw"===se)throw ve;return{value:void 0,done:!0}}for(te.method=se,te.arg=ve;;){var Ae=te.delegate;if(Ae){var Ie=ee(Ae,te);if(Ie){if(Ie===w)continue;return Ie}}if("next"===te.method)te.sent=te._sent=te.arg;else if("throw"===te.method){if("suspendedStart"===_e)throw _e="completed",te.arg;te.dispatchException(te.arg)}else"return"===te.method&&te.abrupt("return",te.arg);_e="executing";var Re=S(Y,J,te);if("normal"===Re.type){if(_e=te.done?"completed":"suspendedYield",Re.arg===w)continue;return{value:Re.arg,done:te.done}}"throw"===Re.type&&(_e="completed",te.method="throw",te.arg=Re.arg)}}}function ee(Y,J){var te=Y.iterator[J.method];if(void 0===te){if(J.delegate=null,"throw"===J.method){if(Y.iterator.return&&(J.method="return",J.arg=void 0,ee(Y,J),"throw"===J.method))return w;J.method="throw",J.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var _e=S(te,Y.iterator,J.arg);if("throw"===_e.type)return J.method="throw",J.arg=_e.arg,J.delegate=null,w;var se=_e.arg;return se?se.done?(J[Y.resultName]=se.value,J.next=Y.nextLoc,"return"!==J.method&&(J.method="next",J.arg=void 0),J.delegate=null,w):se:(J.method="throw",J.arg=new TypeError("iterator result is not an object"),J.delegate=null,w)}function N(Y){var J={tryLoc:Y[0]};1 in Y&&(J.catchLoc=Y[1]),2 in Y&&(J.finallyLoc=Y[2],J.afterLoc=Y[3]),this.tryEntries.push(J)}function ae(Y){var J=Y.completion||{};J.type="normal",delete J.arg,Y.completion=J}function ie(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(N,this),this.reset(!0)}function re(Y){if(Y){var J=Y[b];if(J)return J.call(Y);if("function"==typeof Y.next)return Y;if(!isNaN(Y.length)){var te=-1,_e=function se(){for(;++te<Y.length;)if(x.call(Y,te))return se.value=Y[te],se.done=!1,se;return se.value=void 0,se.done=!0,se};return _e.next=_e}}return{next:ce}}function ce(){return{value:void 0,done:!0}}return F.prototype=q,T(V,"constructor",{value:q,configurable:!0}),T(q,"constructor",{value:F,configurable:!0}),F.displayName=c(q,l,"GeneratorFunction"),d.isGeneratorFunction=function(Y){var J="function"==typeof Y&&Y.constructor;return!!J&&(J===F||"GeneratorFunction"===(J.displayName||J.name))},d.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,q):(Y.__proto__=q,c(Y,l,"GeneratorFunction")),Y.prototype=Object.create(V),Y},d.awrap=function(Y){return{__await:Y}},X(ne.prototype),c(ne.prototype,u,function(){return this}),d.AsyncIterator=ne,d.async=function(Y,J,te,_e,se){void 0===se&&(se=Promise);var ve=new ne(e(Y,J,te,_e),se);return d.isGeneratorFunction(J)?ve:ve.next().then(function(Ae){return Ae.done?Ae.value:ve.next()})},X(V),c(V,l,"Generator"),c(V,b,function(){return this}),c(V,"toString",function(){return"[object Generator]"}),d.keys=function(Y){var J=Object(Y),te=[];for(var _e in J)te.push(_e);return te.reverse(),function se(){for(;te.length;){var ve=te.pop();if(ve in J)return se.value=ve,se.done=!1,se}return se.done=!0,se}},d.values=re,ie.prototype={constructor:ie,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ae),!Y)for(var J in this)"t"===J.charAt(0)&&x.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=void 0)},stop:function(){this.done=!0;var Y=this.tryEntries[0].completion;if("throw"===Y.type)throw Y.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var J=this;function te(Re,Fe){return ve.type="throw",ve.arg=Y,J.next=Re,Fe&&(J.method="next",J.arg=void 0),!!Fe}for(var _e=this.tryEntries.length-1;_e>=0;--_e){var se=this.tryEntries[_e],ve=se.completion;if("root"===se.tryLoc)return te("end");if(se.tryLoc<=this.prev){var Ae=x.call(se,"catchLoc"),Ie=x.call(se,"finallyLoc");if(Ae&&Ie){if(this.prev<se.catchLoc)return te(se.catchLoc,!0);if(this.prev<se.finallyLoc)return te(se.finallyLoc)}else if(Ae){if(this.prev<se.catchLoc)return te(se.catchLoc,!0)}else{if(!Ie)throw new Error("try statement without catch or finally");if(this.prev<se.finallyLoc)return te(se.finallyLoc)}}}},abrupt:function(Y,J){for(var te=this.tryEntries.length-1;te>=0;--te){var _e=this.tryEntries[te];if(_e.tryLoc<=this.prev&&x.call(_e,"finallyLoc")&&this.prev<_e.finallyLoc){var se=_e;break}}se&&("break"===Y||"continue"===Y)&&se.tryLoc<=J&&J<=se.finallyLoc&&(se=null);var ve=se?se.completion:{};return ve.type=Y,ve.arg=J,se?(this.method="next",this.next=se.finallyLoc,w):this.complete(ve)},complete:function(Y,J){if("throw"===Y.type)throw Y.arg;return"break"===Y.type||"continue"===Y.type?this.next=Y.arg:"return"===Y.type?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):"normal"===Y.type&&J&&(this.next=J),w},finish:function(Y){for(var J=this.tryEntries.length-1;J>=0;--J){var te=this.tryEntries[J];if(te.finallyLoc===Y)return this.complete(te.completion,te.afterLoc),ae(te),w}},catch:function(Y){for(var J=this.tryEntries.length-1;J>=0;--J){var te=this.tryEntries[J];if(te.tryLoc===Y){var _e=te.completion;if("throw"===_e.type){var se=_e.arg;ae(te)}return se}}throw new Error("illegal catch attempt")},delegateYield:function(Y,J,te){return this.delegate={iterator:re(Y),resultName:J,nextLoc:te},"next"===this.method&&(this.arg=void 0),w}},d}i.exports=s,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){var a=n(2);i.exports=function(s,d){for(;!Object.prototype.hasOwnProperty.call(s,d)&&null!==(s=a(s)););return s},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){var a=n(60);i.exports=function(s){if(Array.isArray(s))return a(s)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y){i.exports=function(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y){i.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){var a=n(145),s=n(155);i.exports=function(d,p){return a(d,p,function(x,T){return s(d,T)})}},function(i,y,n){var a=n(146),s=n(154),d=n(32);i.exports=function(p,x,T){for(var M=-1,b=x.length,u={};++M<b;){var l=x[M],c=a(p,l);T(c,l)&&s(u,d(l,p),c)}return u}},function(i,y,n){var a=n(32),s=n(42);i.exports=function(d,p){for(var x=0,T=(p=a(p,d)).length;null!=d&&x<T;)d=d[s(p[x++])];return x&&x==T?d:void 0}},function(i,y,n){var a=n(15),s=n(41),d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/;i.exports=function(x,T){if(a(x))return!1;var M=typeof x;return!("number"!=M&&"symbol"!=M&&"boolean"!=M&&null!=x&&!s(x))||p.test(x)||!d.test(x)||null!=T&&x in Object(T)}},function(i,y,n){var a=n(149),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,p=a(function(x){var T=[];return 46===x.charCodeAt(0)&&T.push(""),x.replace(s,function(M,b,u,l){T.push(u?l.replace(d,"$1"):b||M)}),T});i.exports=p},function(i,y,n){var a=n(150);i.exports=function(s){var d=a(s,function(x){return 500===p.size&&p.clear(),x}),p=d.cache;return d}},function(i,y,n){var a=n(46);function s(d,p){if("function"!=typeof d||null!=p&&"function"!=typeof p)throw new TypeError("Expected a function");var x=function(){var T=arguments,M=p?p.apply(this,T):T[0],b=x.cache;if(b.has(M))return b.get(M);var u=d.apply(this,T);return x.cache=b.set(M,u)||b,u};return x.cache=new(s.Cache||a),x}s.Cache=a,i.exports=s},function(i,y,n){var a=n(152);i.exports=function(s){return null==s?"":a(s)}},function(i,y,n){var a=n(27),s=n(153),d=n(15),p=n(41),x=a?a.prototype:void 0,T=x?x.toString:void 0;i.exports=function M(b){if("string"==typeof b)return b;if(d(b))return s(b,M)+"";if(p(b))return T?T.call(b):"";var u=b+"";return"0"==u&&1/b==-1/0?"-0":u}},function(i,y){i.exports=function(n,a){for(var s=-1,d=null==n?0:n.length,p=Array(d);++s<d;)p[s]=a(n[s],s,n);return p}},function(i,y,n){var a=n(54),s=n(32),d=n(31),p=n(14),x=n(42);i.exports=function(T,M,b,u){if(!p(T))return T;for(var l=-1,c=(M=s(M,T)).length,e=c-1,S=T;null!=S&&++l<c;){var w=x(M[l]),k=b;if("__proto__"===w||"constructor"===w||"prototype"===w)return T;if(l!=e){var F=S[w];void 0===(k=u?u(F,w,S):void 0)&&(k=p(F)?F:d(M[l+1])?[]:{})}a(S,w,k),S=S[w]}return T}},function(i,y,n){var a=n(156),s=n(157);i.exports=function(d,p){return null!=d&&s(d,p,a)}},function(i,y){i.exports=function(n,a){return null!=n&&a in Object(n)}},function(i,y,n){var a=n(32),s=n(30),d=n(15),p=n(31),x=n(39),T=n(42);i.exports=function(M,b,u){for(var l=-1,c=(b=a(b,M)).length,e=!1;++l<c;){var S=T(b[l]);if(!(e=null!=M&&u(M,S)))break;M=M[S]}return e||++l!=c?e:!!(c=null==M?0:M.length)&&x(c)&&p(S,c)&&(d(M)||s(M))}},function(i,y,n){var a=n(159),s=n(57),d=n(58);i.exports=function(p){return d(s(p,void 0,a),p+"")}},function(i,y,n){var a=n(160);i.exports=function(s){return null!=s&&s.length?a(s,1):[]}},function(i,y,n){var a=n(161),s=n(162);i.exports=function d(p,x,T,M,b){var u=-1,l=p.length;for(T||(T=s),b||(b=[]);++u<l;){var c=p[u];x>0&&T(c)?x>1?d(c,x-1,T,M,b):a(b,c):M||(b[b.length]=c)}return b}},function(i,y){i.exports=function(n,a){for(var s=-1,d=a.length,p=n.length;++s<d;)n[p+s]=a[s];return n}},function(i,y,n){var a=n(27),s=n(30),d=n(15),p=a?a.isConcatSpreadable:void 0;i.exports=function(x){return d(x)||s(x)||!!(p&&x&&x[p])}},function(i,y){i.exports=function(n){return-1!==Function.toString.call(n).indexOf("[native code]")},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){var a=n(40),s=n(165);function d(p,x,T){return s()?(i.exports=d=Reflect.construct.bind(),i.exports.__esModule=!0,i.exports.default=i.exports):(i.exports=d=function(M,b,u){var l=[null];l.push.apply(l,b);var c=new(Function.bind.apply(M,l));return u&&a(c,u.prototype),c},i.exports.__esModule=!0,i.exports.default=i.exports),d.apply(null,arguments)}i.exports=d,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y){i.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,y,n){"use strict";n.r(y),n.d(y,"BarcodeDecoder",function(){return wt}),n.d(y,"Readers",function(){return a}),n.d(y,"CameraAccess",function(){return ft}),n.d(y,"ImageDebug",function(){return e.a}),n.d(y,"ImageWrapper",function(){return M.a}),n.d(y,"ResultCollector",function(){return tn});var a={};n.r(a),n.d(a,"BarcodeReader",function(){return ie}),n.d(a,"TwoOfFiveReader",function(){return _e}),n.d(a,"NewCodabarReader",function(){return Re}),n.d(a,"Code128Reader",function(){return Le}),n.d(a,"Code32Reader",function(){return It}),n.d(a,"Code39Reader",function(){return dt}),n.d(a,"Code39VINReader",function(){return xt}),n.d(a,"Code93Reader",function(){return zt}),n.d(a,"EAN2Reader",function(){return Bt}),n.d(a,"EAN5Reader",function(){return Ot}),n.d(a,"EAN8Reader",function(){return jt}),n.d(a,"EANReader",function(){return Xe}),n.d(a,"I2of5Reader",function(){return Jt}),n.d(a,"UPCEReader",function(){return Yt}),n.d(a,"UPCReader",function(){return Gt});var s,A,d=n(17),p=n.n(d),x=n(18),T=n.n(x),M=(n(135),n(11)),b=n(12),u=n.n(b),l=n(8),c=n.n(l),e=n(16),S=n(3),w=n.n(S),k=n(4),F=n.n(k),q=n(1),Z=n.n(q),j=n(7),H=n.n(j),V=n(6),X=n.n(V),ne=n(2),$=n.n(ne),ee=n(0),N=n.n(ee),ae=n(9);(A=s||(s={}))[A.Forward=1]="Forward",A[A.Reverse=-1]="Reverse";var ie=function(){function A(L,O){w()(this,A),N()(this,"_row",[]),N()(this,"config",{}),N()(this,"supplements",[]),N()(this,"SINGLE_CODE_ERROR",0),N()(this,"FORMAT","unknown"),N()(this,"CONFIG_KEYS",{}),this._row=[],this.config=L||{},O&&(this.supplements=O)}return F()(A,[{key:"_nextUnset",value:function(L){for(var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o<L.length;o++)if(!L[o])return o;return L.length}},{key:"_matchPattern",value:function(L,O){for(var D,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,f=0,h=0,v=0,E=0,U=0,B=0;B<L.length;B++)v+=L[B],E+=O[B];if(v<E)return Number.MAX_VALUE;o*=D=v/E;for(var oe=0;oe<L.length;oe++){if(U=O[oe]*D,(h=Math.abs(L[oe]-U)/U)>o)return Number.MAX_VALUE;f+=h}return f/E}},{key:"_nextSet",value:function(L){for(var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o<L.length;o++)if(L[o])return o;return L.length}},{key:"_correctBars",value:function(L,O,o){for(var f=o.length,h=0;f--;)(h=L[o[f]]*(1-(1-O)/2))>1&&(L[o[f]]=h)}},{key:"decodePattern",value:function(L){this._row=L;var O=this.decode();return null===O?(this._row.reverse(),(O=this.decode())&&(O.direction=s.Reverse,O.start=this._row.length-O.start,O.end=this._row.length-O.end)):O.direction=s.Forward,O&&(O.format=this.FORMAT),O}},{key:"_matchRange",value:function(L,O,o){var f;for(f=L=L<0?0:L;f<O;f++)if(this._row[f]!==o)return!1;return!0}},{key:"_fillCounters",value:function(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=[],h=0;f[h]=0;for(var v=L;v<O;v++)this._row[v]^(o?1:0)?f[h]++:(f[++h]=1,o=!o);return f}},{key:"_toCounters",value:function(L,O){var o=O.length,f=this._row.length,h=!this._row[L],v=0;ae.a.init(O,0);for(var E=L;E<f;E++)if(this._row[E]^(h?1:0))O[v]++;else{if(++v===o)break;O[v]=1,h=!h}return O}},{key:"decodeImage",value:function(L){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),A}();var ce=[3,1,3,1,1,1],Y=[3,1,1,1,3],J=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],te=ce.reduce(function(A,L){return A+L},0),_e=function(A){H()(O,A);var L=function re(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(){var o;w()(this,O);for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return o=L.call.apply(L,[this].concat(h)),N()(Z()(o),"barSpaceRatio",[1,1]),N()(Z()(o),"FORMAT","2of5"),N()(Z()(o),"SINGLE_CODE_ERROR",.78),N()(Z()(o),"AVG_CODE_ERROR",.3),o}return F()(O,[{key:"_findPattern",value:function(o,f){var h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],v=arguments.length>3&&void 0!==arguments[3]&&arguments[3],E=[],D=0,I={error:Number.MAX_VALUE,code:-1,start:0,end:0},U=0,B=0,oe=this.AVG_CODE_ERROR;f||(f=this._nextSet(this._row));for(var de=0;de<o.length;de++)E[de]=0;for(var ue=f;ue<this._row.length;ue++)if(this._row[ue]^(h?1:0))E[D]++;else{if(D===E.length-1){U=0;for(var pe=0;pe<E.length;pe++)U+=E[pe];if((B=this._matchPattern(E,o))<oe)return I.error=B,I.start=ue-U,I.end=ue,I;if(!v)return null;for(var Te=0;Te<E.length-2;Te++)E[Te]=E[Te+2];E[E.length-2]=0,E[E.length-1]=0,D--}else D++;E[D]=1,h=!h}return null}},{key:"_findStart",value:function(){for(var o=null,f=this._nextSet(this._row),h=1,v=0;!o;){if(!(o=this._findPattern(ce,f,!1,!0)))return null;if(h=Math.floor((o.end-o.start)/te),(v=o.start-5*h)>=0&&this._matchRange(v,o.start,0))return o;f=o.end,o=null}return o}},{key:"_verifyTrailingWhitespace",value:function(o){var f=o.end+(o.end-o.start)/2;return f<this._row.length&&this._matchRange(o.end,f,0)?o:null}},{key:"_findEnd",value:function(){this._row.reverse();var o=this._nextSet(this._row),f=this._findPattern(Y,o,!1,!0);if(this._row.reverse(),null===f)return null;var h=f.start;return f.start=this._row.length-f.end,f.end=this._row.length-h,null!==f?this._verifyTrailingWhitespace(f):null}},{key:"_verifyCounterLength",value:function(o){return o.length%10==0}},{key:"_decodeCode",value:function(o){for(var f=this.AVG_CODE_ERROR,h={error:Number.MAX_VALUE,code:-1,start:0,end:0},v=0;v<J.length;v++){var E=this._matchPattern(o,J[v]);E<h.error&&(h.code=v,h.error=E)}return h.error<f?h:null}},{key:"_decodePayload",value:function(o,f,h){for(var v=0,E=o.length,D=[0,0,0,0,0],I=null;v<E;){for(var U=0;U<5;U++)D[U]=o[v]*this.barSpaceRatio[0],v+=2;if(!(I=this._decodeCode(D)))return null;f.push("".concat(I.code)),h.push(I)}return I}},{key:"decode",value:function(o,f){var h=this._findStart();if(!h)return null;var v=this._findEnd();if(!v)return null;var E=this._fillCounters(h.end,v.start,!1);if(!this._verifyCounterLength(E))return null;var D=[];D.push(h);var I=[];return this._decodePayload(E,I,D)?I.length<5?null:(D.push(v),{code:I.join(""),start:h.start,end:v.end,startInfo:h,decodedCodes:D,format:this.FORMAT}):null}}]),O}(ie);var ve=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],Ae=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],Ie=[26,41,11,14],Re=function(A){H()(O,A);var L=function se(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(){var o;w()(this,O);for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return o=L.call.apply(L,[this].concat(h)),N()(Z()(o),"_counters",[]),N()(Z()(o),"FORMAT","codabar"),o}return F()(O,[{key:"_computeAlternatingThreshold",value:function(o,f){for(var h=Number.MAX_VALUE,v=0,E=0,D=o;D<f;D+=2)(E=this._counters[D])>v&&(v=E),E<h&&(h=E);return(h+v)/2|0}},{key:"_toPattern",value:function(o){var f=o+7;if(f>this._counters.length)return-1;for(var h=this._computeAlternatingThreshold(o,f),v=this._computeAlternatingThreshold(o+1,f),E=64,I=0,U=0;U<7;U++)this._counters[o+U]>(1&U?v:h)&&(I|=E),E>>=1;return I}},{key:"_isStartEnd",value:function(o){for(var f=0;f<Ie.length;f++)if(Ie[f]===o)return!0;return!1}},{key:"_sumCounters",value:function(o,f){for(var h=0,v=o;v<f;v++)h+=this._counters[v];return h}},{key:"_findStart",value:function(){for(var o=this._nextUnset(this._row),f=1;f<this._counters.length;f++){var h=this._toPattern(f);if(-1!==h&&this._isStartEnd(h))return{start:o+=this._sumCounters(0,f),end:o+this._sumCounters(f,f+8),startCounter:f,endCounter:f+8}}return null}},{key:"_patternToChar",value:function(o){for(var f=0;f<Ae.length;f++)if(Ae[f]===o)return String.fromCharCode(ve[f]);return null}},{key:"_calculatePatternLength",value:function(o){for(var f=0,h=o;h<o+7;h++)f+=this._counters[h];return f}},{key:"_verifyWhitespace",value:function(o,f){return(o-1<=0||this._counters[o-1]>=this._calculatePatternLength(o)/2)&&(f+8>=this._counters.length||this._counters[f+7]>=this._calculatePatternLength(f)/2)}},{key:"_charToPattern",value:function(o){for(var f=o.charCodeAt(0),h=0;h<ve.length;h++)if(ve[h]===f)return Ae[h];return 0}},{key:"_thresholdResultPattern",value:function(o,f){for(var h,v={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},E=f,D=0;D<o.length;D++){h=this._charToPattern(o[D]);for(var I=6;I>=0;I--){var U=2==(1&I)?v.bar:v.space,B=1==(1&h)?U.wide:U.narrow;B.size+=this._counters[E+I],B.counts++,h>>=1}E+=8}return["space","bar"].forEach(function(oe){var de=v[oe];de.wide.min=Math.floor((de.narrow.size/de.narrow.counts+de.wide.size/de.wide.counts)/2),de.narrow.max=Math.ceil(de.wide.min),de.wide.max=Math.ceil((2*de.wide.size+1.5)/de.wide.counts)}),v}},{key:"_validateResult",value:function(o,f){for(var h,v=this._thresholdResultPattern(o,f),E=f,D=0;D<o.length;D++){h=this._charToPattern(o[D]);for(var I=6;I>=0;I--){var U=1&I?v.space:v.bar,B=1==(1&h)?U.wide:U.narrow,oe=this._counters[E+I];if(oe<B.min||oe>B.max)return!1;h>>=1}E+=8}return!0}},{key:"decode",value:function(o,f){if(this._counters=this._fillCounters(),!(f=this._findStart()))return null;var h,v=f.startCounter,E=[];do{if((h=this._toPattern(v))<0)return null;var D=this._patternToChar(h);if(null===D)return null;if(E.push(D),v+=8,E.length>1&&this._isStartEnd(h))break}while(v<this._counters.length);if(E.length-2<4||!this._isStartEnd(h)||!this._verifyWhitespace(f.startCounter,v-8)||!this._validateResult(E,f.startCounter))return null;var I=f.start+this._sumCounters(f.startCounter,(v=v>this._counters.length?this._counters.length:v)-8);return{code:E.join(""),start:f.start,end:I,startInfo:f,decodedCodes:E,format:this.FORMAT}}}]),O}(ie);var Le=function(A){H()(O,A);var L=function Fe(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(){var o;w()(this,O);for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return o=L.call.apply(L,[this].concat(h)),N()(Z()(o),"CODE_SHIFT",98),N()(Z()(o),"CODE_C",99),N()(Z()(o),"CODE_B",100),N()(Z()(o),"CODE_A",101),N()(Z()(o),"START_CODE_A",103),N()(Z()(o),"START_CODE_B",104),N()(Z()(o),"START_CODE_C",105),N()(Z()(o),"STOP_CODE",106),N()(Z()(o),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),N()(Z()(o),"SINGLE_CODE_ERROR",.64),N()(Z()(o),"AVG_CODE_ERROR",.3),N()(Z()(o),"FORMAT","code_128"),N()(Z()(o),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),o}return F()(O,[{key:"_decodeCode",value:function(o,f){for(var h={error:Number.MAX_VALUE,code:-1,start:o,end:o,correction:{bar:1,space:1}},v=[0,0,0,0,0,0],D=!this._row[o],I=0,U=o;U<this._row.length;U++)if(this._row[U]^(D?1:0))v[I]++;else{if(I===v.length-1){f&&this._correct(v,f);for(var B=0;B<this.CODE_PATTERN.length;B++){var oe=this._matchPattern(v,this.CODE_PATTERN[B]);oe<h.error&&(h.code=B,h.error=oe)}return h.end=U,-1===h.code||h.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[h.code]&&(h.correction.bar=this.calculateCorrection(this.CODE_PATTERN[h.code],v,this.MODULE_INDICES.bar),h.correction.space=this.calculateCorrection(this.CODE_PATTERN[h.code],v,this.MODULE_INDICES.space)),h)}v[++I]=1,D=!D}return null}},{key:"_correct",value:function(o,f){this._correctBars(o,f.bar,this.MODULE_INDICES.bar),this._correctBars(o,f.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var o=[0,0,0,0,0,0],f=this._nextSet(this._row),h={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},v=!1,E=0,D=f;D<this._row.length;D++)if(this._row[D]^(v?1:0))o[E]++;else{if(E===o.length-1){for(var I=o.reduce(function(de,ue){return de+ue},0),U=this.START_CODE_A;U<=this.START_CODE_C;U++){var B=this._matchPattern(o,this.CODE_PATTERN[U]);B<h.error&&(h.code=U,h.error=B)}if(h.error<this.AVG_CODE_ERROR)return h.start=D-I,h.end=D,h.correction.bar=this.calculateCorrection(this.CODE_PATTERN[h.code],o,this.MODULE_INDICES.bar),h.correction.space=this.calculateCorrection(this.CODE_PATTERN[h.code],o,this.MODULE_INDICES.space),h;for(var oe=0;oe<4;oe++)o[oe]=o[oe+2];o[4]=0,o[5]=0,E--}else E++;o[E]=1,v=!v}return null}},{key:"decode",value:function(o,f){var h=this,v=this._findStart();if(null===v)return null;var E={code:v.code,start:v.start,end:v.end,correction:{bar:v.correction.bar,space:v.correction.space}},D=[];D.push(E);for(var I=E.code,U=function(Oe){switch(Oe){case h.START_CODE_A:return h.CODE_A;case h.START_CODE_B:return h.CODE_B;case h.START_CODE_C:return h.CODE_C;default:return null}}(E.code),B=!1,oe=!1,de=oe,ue=!0,pe=0,Te=[],we=[];!B;){if(de=oe,oe=!1,null!==(E=this._decodeCode(E.end,E.correction)))switch(E.code!==this.STOP_CODE&&(ue=!0),E.code!==this.STOP_CODE&&(Te.push(E.code),I+=++pe*E.code),D.push(E),U){case this.CODE_A:if(E.code<64)we.push(String.fromCharCode(32+E.code));else if(E.code<96)we.push(String.fromCharCode(E.code-64));else switch(E.code!==this.STOP_CODE&&(ue=!1),E.code){case this.CODE_SHIFT:oe=!0,U=this.CODE_B;break;case this.CODE_B:U=this.CODE_B;break;case this.CODE_C:U=this.CODE_C;break;case this.STOP_CODE:B=!0}break;case this.CODE_B:if(E.code<96)we.push(String.fromCharCode(32+E.code));else switch(E.code!==this.STOP_CODE&&(ue=!1),E.code){case this.CODE_SHIFT:oe=!0,U=this.CODE_A;break;case this.CODE_A:U=this.CODE_A;break;case this.CODE_C:U=this.CODE_C;break;case this.STOP_CODE:B=!0}break;case this.CODE_C:if(E.code<100)we.push(E.code<10?"0"+E.code:E.code);else switch(E.code!==this.STOP_CODE&&(ue=!1),E.code){case this.CODE_A:U=this.CODE_A;break;case this.CODE_B:U=this.CODE_B;break;case this.STOP_CODE:B=!0}}else B=!0;de&&(U=U===this.CODE_A?this.CODE_B:this.CODE_A)}return null===E?null:(E.end=this._nextUnset(this._row,E.end),this._verifyTrailingWhitespace(E)?(I-=pe*Te[Te.length-1])%103!==Te[Te.length-1]?null:we.length?(ue&&we.splice(we.length-1,1),{code:we.join(""),start:v.start,end:E.end,codeset:U,startInfo:v,decodedCodes:D,endInfo:E,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(o){var f;return(f=o.end+(o.end-o.start)/2)<this._row.length&&this._matchRange(o.end,f,0)?o:null}},{key:"calculateCorrection",value:function(o,f,h){for(var v=h.length,E=0,D=0;v--;)D+=o[h[v]],E+=f[h[v]];return D/E}}]),O}(ie),je=n(13),Ue=n.n(je),qe=n(33),He=n.n(qe);var Ve=new Uint16Array(He()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(A){return A.charCodeAt(0)})),Zt=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),dt=function(A){H()(O,A);var L=function Ke(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(){var o;w()(this,O);for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return o=L.call.apply(L,[this].concat(h)),N()(Z()(o),"FORMAT","code_39"),o}return F()(O,[{key:"_findStart",value:function(){for(var o=this._nextSet(this._row),f=o,h=new Uint16Array([0,0,0,0,0,0,0,0,0]),v=0,E=!1,D=o;D<this._row.length;D++)if(this._row[D]^(E?1:0))h[v]++;else{if(v===h.length-1){if(148===this._toPattern(h)){var I=Math.floor(Math.max(0,f-(D-f)/4));if(this._matchRange(I,f,0))return{start:f,end:D}}f+=h[0]+h[1];for(var U=0;U<7;U++)h[U]=h[U+2];h[7]=0,h[8]=0,v--}else v++;h[v]=1,E=!E}return null}},{key:"_toPattern",value:function(o){for(var f=o.length,h=0,v=f,E=0;v>3;){h=this._findNextWidth(o,h),v=0;for(var D=0,I=0;I<f;I++)o[I]>h&&(D|=1<<f-1-I,v++,E+=o[I]);if(3===v){for(var U=0;U<f&&v>0;U++)if(o[U]>h&&(v--,2*o[U]>=E))return-1;return D}}return-1}},{key:"_findNextWidth",value:function(o,f){for(var h=Number.MAX_VALUE,v=0;v<o.length;v++)o[v]<h&&o[v]>f&&(h=o[v]);return h}},{key:"_patternToChar",value:function(o){for(var f=0;f<Zt.length;f++)if(Zt[f]===o)return String.fromCharCode(Ve[f]);return null}},{key:"_verifyTrailingWhitespace",value:function(o,f,h){var v=ae.a.sum(h);return 3*(f-o-v)>=v}},{key:"decode",value:function(){var o=new Uint16Array([0,0,0,0,0,0,0,0,0]),f=[],h=this._findStart();if(!h)return null;var v,E,D=this._nextSet(this._row,h.end);do{o=this._toCounters(D,o);var I=this._toPattern(o);if(I<0||null===(v=this._patternToChar(I)))return null;f.push(v),E=D,D+=ae.a.sum(o),D=this._nextSet(this._row,D)}while("*"!==v);return f.pop(),f.length&&this._verifyTrailingWhitespace(E,D,o)?{code:f.join(""),start:h.start,end:D,startInfo:h,decodedCodes:f,format:this.FORMAT}:null}}]),O}(ie);var sn=/[AEIO]/g,It=function(A){H()(O,A);var L=function ln(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(){var o;w()(this,O);for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return o=L.call.apply(L,[this].concat(h)),N()(Z()(o),"FORMAT","code_32_reader"),o}return F()(O,[{key:"_decodeCode32",value:function(o){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(o))return null;for(var f=0,h=0;h<o.length;h++)f=32*f+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(o[h]);var v="".concat(f);return v.length<9&&(v=("000000000"+v).slice(-9)),"A"+v}},{key:"_checkChecksum",value:function(o){return!!o}},{key:"decode",value:function(){var o=Ue()($()(O.prototype),"decode",this).call(this);if(!o)return null;var f=o.code;if(!f||(f=f.replace(sn,""),!this._checkChecksum(f)))return null;var h=this._decodeCode32(f);return h?(o.code=h,o):null}}]),O}(dt);var Rt=/[IOQ]/g,Dt=/[A-Z0-9]{17}/,xt=function(A){H()(O,A);var L=function cn(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(){var o;w()(this,O);for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return o=L.call.apply(L,[this].concat(h)),N()(Z()(o),"FORMAT","code_39_vin"),o}return F()(O,[{key:"_checkChecksum",value:function(o){return!!o}},{key:"decode",value:function(){var o=Ue()($()(O.prototype),"decode",this).call(this);if(!o)return null;var f=o.code;return f&&(f=f.replace(Rt,"")).match(Dt)&&this._checkChecksum(f)?(o.code=f,o):null}}]),O}(dt);var bt=new Uint16Array(He()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(A){return A.charCodeAt(0)})),Lt=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),zt=function(A){H()(O,A);var L=function Pt(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(){var o;w()(this,O);for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return o=L.call.apply(L,[this].concat(h)),N()(Z()(o),"FORMAT","code_93"),o}return F()(O,[{key:"_patternToChar",value:function(o){for(var f=0;f<Lt.length;f++)if(Lt[f]===o)return String.fromCharCode(bt[f]);return null}},{key:"_toPattern",value:function(o){for(var f=o.length,h=o.reduce(function(U,B){return U+B},0),v=0,E=0;E<f;E++){var D=Math.round(9*o[E]/h);if(D<1||D>4)return-1;if(1&E)v<<=D;else for(var I=0;I<D;I++)v=v<<1|1}return v}},{key:"_findStart",value:function(){for(var o=this._nextSet(this._row),f=o,h=new Uint16Array([0,0,0,0,0,0]),v=0,E=!1,D=o;D<this._row.length;D++)if(this._row[D]^(E?1:0))h[v]++;else{if(v===h.length-1){if(350===this._toPattern(h)){var I=Math.floor(Math.max(0,f-(D-f)/4));if(this._matchRange(I,f,0))return{start:f,end:D}}f+=h[0]+h[1];for(var U=0;U<4;U++)h[U]=h[U+2];h[4]=0,h[5]=0,v--}else v++;h[v]=1,E=!E}return null}},{key:"_verifyEnd",value:function(o,f){return!(o===f||!this._row[f])}},{key:"_decodeExtended",value:function(o){for(var f=o.length,h=[],v=0;v<f;v++){var E=o[v];if(E>="a"&&E<="d"){if(v>f-2)return null;var D=o[++v],I=D.charCodeAt(0),U=void 0;switch(E){case"a":if(!(D>="A"&&D<="Z"))return null;U=String.fromCharCode(I-64);break;case"b":if(D>="A"&&D<="E")U=String.fromCharCode(I-38);else if(D>="F"&&D<="J")U=String.fromCharCode(I-11);else if(D>="K"&&D<="O")U=String.fromCharCode(I+16);else if(D>="P"&&D<="S")U=String.fromCharCode(I+43);else{if(!(D>="T"&&D<="Z"))return null;U=String.fromCharCode(127)}break;case"c":if(D>="A"&&D<="O")U=String.fromCharCode(I-32);else{if("Z"!==D)return null;U=":"}break;case"d":if(!(D>="A"&&D<="Z"))return null;U=String.fromCharCode(I+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",U),null}h.push(U)}else h.push(E)}return h}},{key:"_matchCheckChar",value:function(o,f,h){var v=o.slice(0,f),E=v.length,D=v.reduce(function(I,U,B){return I+((-1*B+(E-1))%h+1)*bt.indexOf(U.charCodeAt(0))},0);return bt[D%47]===o[f].charCodeAt(0)}},{key:"_verifyChecksums",value:function(o){return this._matchCheckChar(o,o.length-2,20)&&this._matchCheckChar(o,o.length-1,15)}},{key:"decode",value:function(o,f){if(!(f=this._findStart()))return null;var h,v,E=new Uint16Array([0,0,0,0,0,0]),D=[],I=this._nextSet(this._row,f.end);do{E=this._toCounters(I,E);var U=this._toPattern(E);if(U<0||null===(v=this._patternToChar(U)))return null;D.push(v),h=I,I+=ae.a.sum(E),I=this._nextSet(this._row,I)}while("*"!==v);return D.pop(),D.length&&this._verifyEnd(h,I)&&this._verifyChecksums(D)?(D=D.slice(0,D.length-2),null===(D=this._decodeExtended(D))?null:{code:D.join(""),start:f.start,end:I,startInfo:f,decodedCodes:D,format:this.FORMAT}):null}}]),O}(ie);function Ft(A,L){var O=Object.keys(A);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(A);L&&(o=o.filter(function(f){return Object.getOwnPropertyDescriptor(A,f).enumerable})),O.push.apply(O,o)}return O}function Tt(A){for(var L=1;L<arguments.length;L++){var O=null!=arguments[L]?arguments[L]:{};L%2?Ft(Object(O),!0).forEach(function(o){N()(A,o,O[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(O)):Ft(Object(O)).forEach(function(o){Object.defineProperty(A,o,Object.getOwnPropertyDescriptor(O,o))})}return A}var pn=[1,1,1],Ut=[1,1,1,1,1],fn=[1,1,2],qt=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Nt=[0,11,13,14,19,25,28,21,22,26],Xe=function(A){H()(O,A);var L=function dn(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(o,f){var h;return w()(this,O),h=L.call(this,T()({supplements:[]},o),f),N()(Z()(h),"FORMAT","ean_13"),N()(Z()(h),"SINGLE_CODE_ERROR",.7),N()(Z()(h),"STOP_PATTERN",[1,1,1]),h}return F()(O,[{key:"_findPattern",value:function(o,f,h,v){var E=new Array(o.length).fill(0),D={error:Number.MAX_VALUE,start:0,end:0},I=0;f||(f=this._nextSet(this._row));for(var U=!1,B=f;B<this._row.length;B++)if(this._row[B]^(h?1:0))E[I]+=1;else{if(I===E.length-1){var oe=this._matchPattern(E,o);if(oe<.48&&D.error&&oe<D.error)return U=!0,D.error=oe,D.start=B-E.reduce(function(ue,pe){return ue+pe},0),D.end=B,D;if(v){for(var de=0;de<E.length-2;de++)E[de]=E[de+2];E[E.length-2]=0,E[E.length-1]=0,I--}}else I++;E[I]=1,h=!h}return U?D:null}},{key:"_decodeCode",value:function(o,f){var h=[0,0,0,0],E={error:Number.MAX_VALUE,code:-1,start:o,end:o},D=!this._row[o],I=0;f||(f=qt.length);for(var U=o;U<this._row.length;U++)if(this._row[U]^(D?1:0))h[I]++;else{if(I===h.length-1){for(var B=0;B<f;B++){var oe=this._matchPattern(h,qt[B]);E.end=U,oe<E.error&&(E.code=B,E.error=oe)}return E.error>.48?null:E}h[++I]=1,D=!D}return null}},{key:"_findStart",value:function(){for(var o=this._nextSet(this._row),f=null;!f;){if(!(f=this._findPattern(pn,o,!1,!0)))return null;var h=f.start-(f.end-f.start);if(h>=0&&this._matchRange(h,f.start,0))return f;o=f.end,f=null}return null}},{key:"_calculateFirstDigit",value:function(o){for(var f=0;f<Nt.length;f++)if(o===Nt[f])return f;return null}},{key:"_decodePayload",value:function(o,f,h){for(var v=Tt({},o),E=0,D=0;D<6;D++){if(!(v=this._decodeCode(v.end)))return null;v.code>=10?(v.code-=10,E|=1<<5-D):E|=0<<5-D,f.push(v.code),h.push(v)}var I=this._calculateFirstDigit(E);if(null===I)return null;f.unshift(I);var U=this._findPattern(Ut,v.end,!0,!1);if(null===U||!U.end)return null;h.push(U);for(var B=0;B<6;B++){if(!(U=this._decodeCode(U.end,10)))return null;h.push(U),f.push(U.code)}return U}},{key:"_verifyTrailingWhitespace",value:function(o){var f=o.end+(o.end-o.start);return f<this._row.length&&this._matchRange(o.end,f,0)?o:null}},{key:"_findEnd",value:function(o,f){var h=this._findPattern(this.STOP_PATTERN,o,f,!1);return null!==h?this._verifyTrailingWhitespace(h):null}},{key:"_checksum",value:function(o){for(var f=0,h=o.length-2;h>=0;h-=2)f+=o[h];f*=3;for(var v=o.length-1;v>=0;v-=2)f+=o[v];return f%10==0}},{key:"_decodeExtensions",value:function(o){var f=this._nextSet(this._row,o),h=this._findPattern(fn,f,!1,!1);if(null===h)return null;for(var v=0;v<this.supplements.length;v++)try{var E=this.supplements[v].decode(this._row,h.end);if(null!==E)return{code:E.code,start:f,startInfo:h,end:E.end,decodedCodes:E.decodedCodes,format:this.supplements[v].FORMAT}}catch(D){console.error("* decodeExtensions error in ",this.supplements[v],": ",D)}return null}},{key:"decode",value:function(o,f){var h=new Array,v=new Array,E={},D=this._findStart();if(!D)return null;var I={start:D.start,end:D.end};if(v.push(I),!(I=this._decodePayload(I,h,v))||!(I=this._findEnd(I.end,!1))||(v.push(I),!this._checksum(h)))return null;if(this.supplements.length>0){var U=this._decodeExtensions(I.end);if(!U||!U.decodedCodes)return null;var B=U.decodedCodes[U.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:B.start+((B.end-B.start)/2|0),end:B.end}))return null;E={supplement:U,code:h.join("")+U.code}}return Tt(Tt({code:h.join(""),start:D.start,end:I.end,startInfo:D,decodedCodes:v},E),{},{format:this.FORMAT})}}]),O}(ie);var Bt=function(A){H()(O,A);var L=function hn(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(){var o;w()(this,O);for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return o=L.call.apply(L,[this].concat(h)),N()(Z()(o),"FORMAT","ean_2"),o}return F()(O,[{key:"decode",value:function(o,f){o&&(this._row=o);var h=0,v=f,E=this._row.length,D=[],I=[],U=null;if(void 0===v)return null;for(var B=0;B<2&&v<E;B++){if(!(U=this._decodeCode(v)))return null;I.push(U),D.push(U.code%10),U.code>=10&&(h|=1<<1-B),1!==B&&(v=this._nextSet(this._row,U.end),v=this._nextUnset(this._row,v))}if(2!==D.length||parseInt(D.join(""))%4!==h)return null;var oe=this._findStart();return{code:D.join(""),decodedCodes:I,end:U.end,format:this.FORMAT,startInfo:oe,start:oe.start}}}]),O}(Xe);var gn=[24,20,18,17,12,6,3,10,9,5],Ot=function(A){H()(O,A);var L=function _n(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(){var o;w()(this,O);for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return o=L.call.apply(L,[this].concat(h)),N()(Z()(o),"FORMAT","ean_5"),o}return F()(O,[{key:"decode",value:function(o,f){if(void 0===f)return null;o&&(this._row=o);for(var h=0,v=f,E=this._row.length,D=null,I=[],U=[],B=0;B<5&&v<E;B++){if(!(D=this._decodeCode(v)))return null;U.push(D),I.push(D.code%10),D.code>=10&&(h|=1<<4-B),4!==B&&(v=this._nextSet(this._row,D.end),v=this._nextUnset(this._row,v))}if(5!==I.length||function(de){for(var ue=de.length,pe=0,Te=ue-2;Te>=0;Te-=2)pe+=de[Te];pe*=3;for(var we=ue-1;we>=0;we-=2)pe+=de[we];return(pe*=3)%10}(I)!==function(de){for(var ue=0;ue<10;ue++)if(de===gn[ue])return ue;return null}(h))return null;var oe=this._findStart();return{code:I.join(""),decodedCodes:U,end:D.end,format:this.FORMAT,startInfo:oe,start:oe.start}}}]),O}(Xe);var jt=function(A){H()(O,A);var L=function tt(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(){var o;w()(this,O);for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return o=L.call.apply(L,[this].concat(h)),N()(Z()(o),"FORMAT","ean_8"),o}return F()(O,[{key:"_decodePayload",value:function(o,f,h){for(var v=o,E=0;E<4;E++){if(!(v=this._decodeCode(v.end,10)))return null;f.push(v.code),h.push(v)}if(null===(v=this._findPattern(Ut,v.end,!0,!1)))return null;h.push(v);for(var D=0;D<4;D++){if(!(v=this._decodeCode(v.end,10)))return null;h.push(v),f.push(v.code)}return v}}]),O}(Xe);var Jt=function(A){H()(O,A);var L=function mn(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(o){var f;return w()(this,O),f=L.call(this,T()({normalizeBarSpaceWidth:!1},o)),N()(Z()(f),"barSpaceRatio",[1,1]),N()(Z()(f),"SINGLE_CODE_ERROR",.78),N()(Z()(f),"AVG_CODE_ERROR",.38),N()(Z()(f),"START_PATTERN",[1,1,1,1]),N()(Z()(f),"STOP_PATTERN",[1,1,3]),N()(Z()(f),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),N()(Z()(f),"MAX_CORRECTION_FACTOR",5),N()(Z()(f),"FORMAT","i2of5"),o.normalizeBarSpaceWidth&&(f.SINGLE_CODE_ERROR=.38,f.AVG_CODE_ERROR=.09),f.config=o,X()(f,Z()(f))}return F()(O,[{key:"_matchPattern",value:function(o,f){if(this.config.normalizeBarSpaceWidth){for(var h=[0,0],v=[0,0],E=[0,0],D=this.MAX_CORRECTION_FACTOR,I=1/D,U=0;U<o.length;U++)h[U%2]+=o[U],v[U%2]+=f[U];E[0]=v[0]/h[0],E[1]=v[1]/h[1],E[0]=Math.max(Math.min(E[0],D),I),E[1]=Math.max(Math.min(E[1],D),I),this.barSpaceRatio=E;for(var B=0;B<o.length;B++)o[B]*=this.barSpaceRatio[B%2]}return Ue()($()(O.prototype),"_matchPattern",this).call(this,o,f)}},{key:"_findPattern",value:function(o,f){var h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],v=arguments.length>3&&void 0!==arguments[3]&&arguments[3],E=new Array(o.length).fill(0),D=0,I={error:Number.MAX_VALUE,start:0,end:0},U=this.AVG_CODE_ERROR;h=h||!1,v=v||!1,f||(f=this._nextSet(this._row));for(var B=f;B<this._row.length;B++)if(this._row[B]^(h?1:0))E[D]++;else{if(D===E.length-1){var oe=E.reduce(function(pe,Te){return pe+Te},0),de=this._matchPattern(E,o);if(de<U)return I.error=de,I.start=B-oe,I.end=B,I;if(!v)return null;for(var ue=0;ue<E.length-2;ue++)E[ue]=E[ue+2];E[E.length-2]=0,E[E.length-1]=0,D--}else D++;E[D]=1,h=!h}return null}},{key:"_findStart",value:function(){for(var o=0,f=this._nextSet(this._row),h=null,v=1;!h;){if(!(h=this._findPattern(this.START_PATTERN,f,!1,!0)))return null;if(v=Math.floor((h.end-h.start)/4),(o=h.start-10*v)>=0&&this._matchRange(o,h.start,0))return h;f=h.end,h=null}return null}},{key:"_verifyTrailingWhitespace",value:function(o){var f=o.end+(o.end-o.start)/2;return f<this._row.length&&this._matchRange(o.end,f,0)?o:null}},{key:"_findEnd",value:function(){this._row.reverse();var o=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===o)return null;var f=o.start;return o.start=this._row.length-o.end,o.end=this._row.length-f,null!==o?this._verifyTrailingWhitespace(o):null}},{key:"_decodePair",value:function(o){for(var f=[],h=0;h<o.length;h++){var v=this._decodeCode(o[h]);if(!v)return null;f.push(v)}return f}},{key:"_decodeCode",value:function(o){for(var f=this.AVG_CODE_ERROR,h={error:Number.MAX_VALUE,code:-1,start:0,end:0},v=0;v<this.CODE_PATTERN.length;v++){var E=this._matchPattern(o,this.CODE_PATTERN[v]);E<h.error&&(h.code=v,h.error=E)}return h.error<f?h:null}},{key:"_decodePayload",value:function(o,f,h){for(var v=0,E=o.length,D=[[0,0,0,0,0],[0,0,0,0,0]],I=null;v<E;){for(var U=0;U<5;U++)D[0][U]=o[v]*this.barSpaceRatio[0],D[1][U]=o[v+1]*this.barSpaceRatio[1],v+=2;if(!(I=this._decodePair(D)))return null;for(var B=0;B<I.length;B++)f.push(I[B].code+""),h.push(I[B])}return I}},{key:"_verifyCounterLength",value:function(o){return o.length%10==0}},{key:"decode",value:function(o,f){var h=new Array,v=new Array,E=this._findStart();if(!E)return null;v.push(E);var D=this._findEnd();if(!D)return null;var I=this._fillCounters(E.end,D.start,!1);return this._verifyCounterLength(I)&&this._decodePayload(I,h,v)?h.length%2!=0||h.length<6?null:(v.push(D),{code:h.join(""),start:E.start,end:D.end,startInfo:E,decodedCodes:v,format:this.FORMAT}):null}}]),O}(ie);function Qt(A,L){var O=Object.keys(A);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(A);L&&(o=o.filter(function(f){return Object.getOwnPropertyDescriptor(A,f).enumerable})),O.push.apply(O,o)}return O}var Yt=function(A){H()(O,A);var L=function vn(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(){var o;w()(this,O);for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return o=L.call.apply(L,[this].concat(h)),N()(Z()(o),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),N()(Z()(o),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),N()(Z()(o),"FORMAT","upc_e"),o}return F()(O,[{key:"_decodePayload",value:function(o,f,h){for(var v=function(I){for(var U=1;U<arguments.length;U++){var B=null!=arguments[U]?arguments[U]:{};U%2?Qt(Object(B),!0).forEach(function(oe){N()(I,oe,B[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(B)):Qt(Object(B)).forEach(function(oe){Object.defineProperty(I,oe,Object.getOwnPropertyDescriptor(B,oe))})}return I}({},o),E=0,D=0;D<6;D++){if(!(v=this._decodeCode(v.end)))return null;v.code>=10&&(v.code=v.code-10,E|=1<<5-D),f.push(v.code),h.push(v)}return this._determineParity(E,f)?v:null}},{key:"_determineParity",value:function(o,f){for(var h=0;h<this.CODE_FREQUENCY.length;h++)for(var v=0;v<this.CODE_FREQUENCY[h].length;v++)if(o===this.CODE_FREQUENCY[h][v])return f.unshift(h),f.push(v),!0;return!1}},{key:"_convertToUPCA",value:function(o){var f=[o[0]],h=o[o.length-2];return(f=h<=2?f.concat(o.slice(1,3)).concat([h,0,0,0,0]).concat(o.slice(3,6)):3===h?f.concat(o.slice(1,4)).concat([0,0,0,0,0]).concat(o.slice(4,6)):4===h?f.concat(o.slice(1,5)).concat([0,0,0,0,0,o[5]]):f.concat(o.slice(1,6)).concat([0,0,0,0,h])).push(o[o.length-1]),f}},{key:"_checksum",value:function(o){return Ue()($()(O.prototype),"_checksum",this).call(this,this._convertToUPCA(o))}},{key:"_findEnd",value:function(o,f){return Ue()($()(O.prototype),"_findEnd",this).call(this,o,!0)}},{key:"_verifyTrailingWhitespace",value:function(o){var f=o.end+(o.end-o.start)/2;return f<this._row.length&&this._matchRange(o.end,f,0)?o:null}}]),O}(Xe);var Gt=function(A){H()(O,A);var L=function yn(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(){var o;w()(this,O);for(var f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return o=L.call.apply(L,[this].concat(h)),N()(Z()(o),"FORMAT","upc_a"),o}return F()(O,[{key:"decode",value:function(o,f){var h=Xe.prototype.decode.call(this);return h&&h.code&&13===h.code.length&&"0"===h.code.charAt(0)?(h.code=h.code.substring(1),h):null}}]),O}(Xe),ot={},pt_UP=1,pt_DOWN=-1;ot.getBarcodeLine=function(A,L,O){var o,f,h,v,E,D=0|L.x,I=0|L.y,U=0|O.x,B=0|O.y,oe=Math.abs(B-I)>Math.abs(U-D),de=[],ue=A.data,pe=A.size.x,Te=255,we=0;function Oe(st,Un){Te=(E=ue[Un*pe+st])<Te?E:Te,we=E>we?E:we,de.push(E)}oe&&(h=D,D=I,I=h,h=U,U=B,B=h),D>U&&(h=D,D=U,U=h,h=I,I=B,B=h);var Ee=U-D,Ze=Math.abs(B-I);o=Ee/2|0,f=I;var Je=I<B?1:-1;for(v=D;v<U;v++)oe?Oe(f,v):Oe(v,f),(o-=Ze)<0&&(f+=Je,o+=Ee);return{line:de,min:Te,max:we}},ot.toBinaryLine=function(A){var L,O,o,f,h,v,E=A.min,D=A.max,I=A.line,U=E+(D-E)/2,B=[],oe=(D-E)/12,de=-oe;for(o=I[0]>U?pt_UP:pt_DOWN,B.push({pos:0,val:I[0]}),h=0;h<I.length-2;h++)o!==(f=(L=I[h+1]-I[h])+(O=I[h+2]-I[h+1])<de&&I[h+1]<1.5*U?pt_DOWN:L+O>oe&&I[h+1]>.5*U?pt_UP:o)&&(B.push({pos:h,val:I[h]}),o=f);for(B.push({pos:I.length,val:I[I.length-1]}),v=B[0].pos;v<B[1].pos;v++)I[v]=I[v]>U?0:1;for(h=1;h<B.length-1;h++)for(oe=B[h+1].val>B[h].val?B[h].val+(B[h+1].val-B[h].val)/3*2|0:B[h+1].val+(B[h].val-B[h+1].val)/3|0,v=B[h].pos;v<B[h+1].pos;v++)I[v]=I[v]>oe?0:1;return{line:I,threshold:oe}},ot.debug={printFrequency:function(A,L){var O,o=L.getContext("2d");for(L.width=A.length,L.height=256,o.beginPath(),o.strokeStyle="blue",O=0;O<A.length;O++)o.moveTo(O,255),o.lineTo(O,255-A[O]);o.stroke(),o.closePath()},printPattern:function(A,L){var O,o=L.getContext("2d");for(L.width=A.length,o.fillColor="black",O=0;O<A.length;O++)1===A[O]&&o.fillRect(O,0,1,100)}};var Ct=ot;function xn(A,L){var O=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!O){if(Array.isArray(A)||(O=function(D,I){if(D){if("string"==typeof D)return Ht(D,I);var U=Object.prototype.toString.call(D).slice(8,-1);if("Object"===U&&D.constructor&&(U=D.constructor.name),"Map"===U||"Set"===U)return Array.from(D);if("Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return Ht(D,I)}}(A))||L&&A&&"number"==typeof A.length){O&&(A=O);var o=0,f=function(){};return{s:f,n:function(){return o>=A.length?{done:!0}:{done:!1,value:A[o++]}},e:function(D){throw D},f}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,v=!0,E=!1;return{s:function(){O=O.call(A)},n:function(){var D=O.next();return v=D.done,D},e:function(D){E=!0,h=D},f:function(){try{v||null==O.return||O.return()}finally{if(E)throw h}}}}function Ht(A,L){(null==L||L>A.length)&&(L=A.length);for(var O=0,o=new Array(L);O<L;O++)o[O]=A[O];return o}var at={code_128_reader:Le,ean_reader:Xe,ean_5_reader:Ot,ean_2_reader:Bt,ean_8_reader:jt,code_39_reader:dt,code_39_vin_reader:xt,codabar_reader:Re,upc_reader:Gt,upc_e_reader:Yt,i2of5_reader:Jt,"2of5_reader":_e,code_93_reader:zt,code_32_reader:It},wt={registerReader:function(A,L){at[A]=L},create:function(A,L){var o=[];function f(){A.readers.forEach(function(I){var U,B={},oe=[];"object"===p()(I)?(U=I.format,B=I.config):"string"==typeof I&&(U=I),B.supplements&&(oe=B.supplements.map(function(ue){return new at[ue]}));try{var de=new at[U](B,oe);o.push(de)}catch(ue){throw console.error("* Error constructing reader ",U,ue),ue}})}function h(I){var U,B=null,oe=Ct.getBarcodeLine(L,I[0],I[1]);for(Ct.toBinaryLine(oe),U=0;U<o.length&&null===B;U++)B=o[U].decodePattern(oe.line);return null===B?null:{codeResult:B,barcodeLine:oe}}function v(I){return E.apply(this,arguments)}function E(){return(E=u()(c.a.mark(function I(U){var B,oe,de,ue;return c.a.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:B=null,oe=xn(o),pe.prev=2,oe.s();case 4:if((de=oe.n()).done){pe.next=14;break}if(!(ue=de.value).decodeImage){pe.next=12;break}return pe.next=9,ue.decodeImage(U);case 9:if(!(B=pe.sent)){pe.next=12;break}return pe.abrupt("break",14);case 12:pe.next=4;break;case 14:pe.next=19;break;case 16:pe.prev=16,pe.t0=pe.catch(2),oe.e(pe.t0);case 19:return pe.prev=19,oe.f(),pe.finish(19);case 22:return pe.abrupt("return",B);case 23:case"end":return pe.stop()}},I,null,[[2,16,19,22]])}))).apply(this,arguments)}function D(I){var U,B,ue,oe=function(ue){return Math.sqrt(Math.pow(Math.abs(ue[1].y-ue[0].y),2)+Math.pow(Math.abs(ue[1].x-ue[0].x),2))}(U=[{x:((ue=I)[1][0]-ue[0][0])/2+ue[0][0],y:(ue[1][1]-ue[0][1])/2+ue[0][1]},{x:(ue[3][0]-ue[2][0])/2+ue[2][0],y:(ue[3][1]-ue[2][1])/2+ue[2][1]}]),de=Math.atan2(U[1].y-U[0].y,U[1].x-U[0].x);return null===(U=function(ue,pe,Te){function we(Oe){var Ee=Oe*Math.sin(pe),Ze=Oe*Math.cos(pe);ue[0].y-=Ee,ue[0].x-=Ze,ue[1].y+=Ee,ue[1].x+=Ze}for(we(Te);Te>1&&(!L.inImageWithBorder(ue[0])||!L.inImageWithBorder(ue[1]));)we(-(Te-=Math.ceil(Te/2)));return ue}(U,de,Math.floor(.1*oe)))?null:(null===(B=h(U))&&(B=function(ue,pe,Te){var we,Oe,Ee,Ze=Math.sqrt(Math.pow(ue[1][0]-ue[0][0],2)+Math.pow(ue[1][1]-ue[0][1],2)),Je=null,st=Math.sin(Te),Un=Math.cos(Te);for(we=1;we<16&&null===Je;we++)Ee={y:(Oe=Ze/16*we*(we%2==0?-1:1))*st,x:Oe*Un},pe[0].y+=Ee.x,pe[0].x-=Ee.y,pe[1].y+=Ee.x,pe[1].x-=Ee.y,Je=h(pe);return Je}(I,U,de)),null===B?null:{codeResult:B.codeResult,line:U,angle:de,pattern:B.barcodeLine.line,threshold:B.barcodeLine.threshold})}return f(),{decodeFromBoundingBox:function(I){return D(I)},decodeFromBoundingBoxes:function(I){var U,B,oe=[],de=A.multiple;for(U=0;U<I.length;U++){var ue=I[U];if((B=D(ue)||{}).box=ue,de)oe.push(B);else if(B.codeResult)return B}return{barcodes:oe}},decodeFromImage:function(I){return u()(c.a.mark(function U(){return c.a.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,v(I);case 2:return oe.abrupt("return",oe.sent);case 4:case"end":return oe.stop()}},U)}))()},registerReader:function(I,U){if(at[I])throw new Error("cannot register existing reader",I);at[I]=U},setReaders:function(I){A.readers=I,o.length=0,f()}}}},et=function(){var A={};function L(f){return A[f]||(A[f]={subscribers:[]}),A[f]}function O(f,h){f.async?setTimeout(function(){f.callback(h)},4):f.callback(h)}function o(f,h,v){var E;if("function"==typeof h)E={callback:h,async:v};else if(!(E=h).callback)throw new Error("Callback was not specified on options");L(f).subscribers.push(E)}return{subscribe:function(f,h,v){return o(f,h,v)},publish:function(f,h){var v=L(f),E=v.subscribers;E.filter(function(D){return!!D.once}).forEach(function(D){O(D,h)}),v.subscribers=E.filter(function(D){return!D.once}),v.subscribers.forEach(function(D){O(D,h)})},once:function(f,h){o(f,{callback:h,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(f,h){if(f){var v=L(f);v.subscribers=v&&h?v.subscribers.filter(function(E){return E.callback!==h}):[]}else A={}}}}(),Vt=n(62),Wt=n.n(Vt),bn=n(63);var nt,St=function(A){H()(O,A);var L=function Tn(A){var L=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var O,o=$()(A);if(L){var f=$()(this).constructor;O=Reflect.construct(o,arguments,f)}else O=o.apply(this,arguments);return X()(this,O)}}(O);function O(o,f){var h;return w()(this,O),h=L.call(this,o),N()(Z()(h),"code",void 0),h.code=f,Object.setPrototypeOf(Z()(h),O.prototype),h}return F()(O)}(n.n(bn)()(Error)),$t="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function On(){try{return navigator.mediaDevices.enumerateDevices()}catch{var A=new St("enumerateDevices is not defined. ".concat($t),-1);return Promise.reject(A)}}function Cn(A){try{return navigator.mediaDevices.getUserMedia(A)}catch{var L=new St("getUserMedia is not defined. ".concat($t),-1);return Promise.reject(L)}}function Kt(A){return new Promise(function(L,O){var o=10;!function f(){o>0?A.videoWidth>10&&A.videoHeight>10?L():window.setTimeout(f,500):O(new St("Unable to play video stream. Is webcam working?",-1)),o--}()})}function Xt(A,L){return At.apply(this,arguments)}function At(){return(At=u()(c.a.mark(function A(L,O){var o;return c.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Cn(O);case 2:if(nt=o=f.sent,!L){f.next=11;break}return L.setAttribute("autoplay","true"),L.setAttribute("muted","true"),L.setAttribute("playsinline","true"),L.srcObject=o,L.addEventListener("loadedmetadata",function(){L.play().catch(function(h){console.warn("* Error while trying to play video stream:",h)})}),f.abrupt("return",Kt(L));case 11:return f.abrupt("return",Promise.resolve());case 12:case"end":return f.stop()}},A)}))).apply(this,arguments)}function Sn(){var L=function wn(A){var L=Wt()(A,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==A.minAspectRatio&&A.minAspectRatio>0&&(L.aspectRatio=A.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==A.facing&&(L.facingMode=A.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),L}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return L&&L.deviceId&&L.facingMode&&delete L.facingMode,Promise.resolve({audio:!1,video:L})}function en(){return(en=u()(c.a.mark(function A(){return c.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,On();case 2:return O.abrupt("return",O.sent.filter(function(o){return"videoinput"===o.kind}));case 4:case"end":return O.stop()}},A)}))).apply(this,arguments)}function ut(){if(!nt)return null;var A=nt.getVideoTracks();return A&&null!=A&&A.length?A[0]:null}var lt={requestedVideoElement:null,request:function(A,L){return u()(c.a.mark(function O(){return c.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return lt.requestedVideoElement=A,f.next=3,Sn(L);case 3:return f.abrupt("return",Xt(A,f.sent));case 5:case"end":return f.stop()}},O)}))()},release:function(){var A=nt&&nt.getVideoTracks();return null!==lt.requestedVideoElement&&lt.requestedVideoElement.pause(),new Promise(function(L){setTimeout(function(){A&&A.length&&A.forEach(function(O){return O.stop()}),nt=null,lt.requestedVideoElement=null,L()},0)})},enumerateVideoDevices:function(){return en.apply(this,arguments)},getActiveStreamLabel:function(){var A=ut();return A?A.label:""},getActiveTrack:ut,disableTorch:function(){return u()(c.a.mark(function A(){var L;return c.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!(L=ut())){O.next=11;break}return O.prev=2,O.next=5,L.applyConstraints({advanced:[{torch:!1}]});case 5:O.next=11;break;case 7:throw O.prev=7,O.t0=O.catch(2),O.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),O.t0;case 11:case"end":return O.stop()}},A,null,[[2,7]])}))()},enableTorch:function(){return u()(c.a.mark(function A(){var L;return c.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!(L=ut())){O.next=11;break}return O.prev=2,O.next=5,L.applyConstraints({advanced:[{torch:!0}]});case 5:O.next=11;break;case 7:throw O.prev=7,O.t0=O.catch(2),O.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),O.t0;case 11:case"end":return O.stop()}},A,null,[[2,7]])}))()}},ft=lt,tn={create:function(A){var L,O=document.createElement("canvas"),o=O.getContext("2d",{willReadFrequently:!!A.willReadFrequently}),f=[],h=null!==(L=A.capacity)&&void 0!==L?L:20,v=!0===A.capture;return{addResult:function(D,I,U){var B={};(function E(D){return!!h&&D&&(I=D,!((U=A.blacklist)&&U.some(function(B){return Object.keys(B).every(function(oe){return B[oe]===I[oe]})})))&&function(I,U){return"function"!=typeof U||U(I)}(D,A.filter);var I,U})(U)&&(h--,B.codeResult=U,v&&(O.width=I.x,O.height=I.y,e.a.drawImage(D,I,o),B.frame=O.toDataURL()),f.push(B))},getResults:function(){return f}}}},An={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Ye=n(5),ht=n(10),nn=Math.PI/180,En={create:function(A,L){var O,o={},f=A.getConfig(),h=(Object(ht.h)(A.getRealWidth(),A.getRealHeight()),A.getCanvasSize()),v=Object(ht.h)(A.getWidth(),A.getHeight()),E=A.getTopRight(),D=E.x,I=E.y,U=null,B=null,oe=f.willReadFrequently;return(O=L||document.createElement("canvas")).width=h.x,O.height=h.y,console.warn("*** frame_grabber_browser: willReadFrequently=",oe,"canvas=",O),U=O.getContext("2d",{willReadFrequently:!!oe}),B=new Uint8Array(v.x*v.y),o.attachData=function(de){B=de},o.getData=function(){return B},o.grab=function(){var de,Oe,Ee,ue=f.halfSample,pe=A.getFrame(),Te=pe,we=0;if(Te){if((Oe=O).width!==(Ee=h).x&&(Oe.width=Ee.x),Oe.height!==Ee.y&&(Oe.height=Ee.y),"ImageStream"===f.type&&(Te=pe.img,pe.tags&&pe.tags.orientation))switch(pe.tags.orientation){case 6:we=90*nn;break;case 8:we=-90*nn}return 0!==we?(U.translate(h.x/2,h.y/2),U.rotate(we),U.drawImage(Te,-h.y/2,-h.x/2,h.y,h.x),U.rotate(-we),U.translate(-h.x/2,-h.y/2)):U.drawImage(Te,0,0,h.x,h.y),de=U.getImageData(D,I,v.x,v.y).data,ue?Object(ht.e)(de,v,B):Object(ht.c)(de,B,f),!0}return!1},o.getSize=function(){return v},o}},Mn=En,_t={274:"orientation"},rn=Object.keys(_t).map(function(A){return _t[A]});function kn(A){return new Promise(function(L){var O=new FileReader;O.onload=function(o){return L(o.target.result)},O.readAsArrayBuffer(A)})}function Rn(A,L,O){if("Exif"!==function(v,E,D){for(var I="",U=E;U<E+4;U++)I+=String.fromCharCode(v.getUint8(U));return I}(A,L))return!1;var o,f=L+6;if(18761===A.getUint16(f))o=!1;else{if(19789!==A.getUint16(f))return!1;o=!0}if(42!==A.getUint16(f+2,!o))return!1;var h=A.getUint32(f+4,!o);return!(h<8)&&function(v,E,D,I,U){for(var B=v.getUint16(D,!U),oe={},de=0;de<B;de++){var ue=D+12*de+2,pe=I[v.getUint16(ue,!U)];pe&&(oe[pe]=Dn(v,ue,0,0,U))}return oe}(A,0,f+h,O,o)}function Dn(A,L,O,o,f){var h=A.getUint16(L+2,!f),v=A.getUint32(L+4,!f);return 3===h&&1===v?A.getUint16(L+8,!f):null}var on={};function Pn(A,L){A.onload=function(){L.loaded(this)}}on.load=function(A,L,O,o,f){var h,v,E,D=new Array(o),I=new Array(D.length);if(!1===f)D[0]=A;else for(h=0;h<D.length;h++)E=O+h,D[h]="".concat(A,"image-").concat("00".concat(E).slice(-3),".jpg");for(I.notLoaded=[],I.addImage=function(U){I.notLoaded.push(U)},I.loaded=function(U){for(var B=I.notLoaded,oe=0;oe<B.length;oe++)if(B[oe]===U){B.splice(oe,1);for(var de=0;de<D.length;de++){var ue=D[de].substr(D[de].lastIndexOf("/"));if(-1!==U.src.lastIndexOf(ue)){I[de]={img:U};break}}break}0===B.length&&(!1===f?function(pe){var Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn;return/^blob:/i.test(pe)?function Zn(A){return new Promise(function(L,O){var o=new XMLHttpRequest;o.open("GET",A,!0),o.responseType="blob",o.onreadystatechange=function(){o.readyState!==XMLHttpRequest.DONE||200!==o.status&&0!==o.status||L(this.response)},o.onerror=O,o.send()})}(pe).then(kn).then(function(we){return function In(A){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rn,O=new DataView(A),o=A.byteLength,f=L.reduce(function(v,E){var D=Object.keys(_t).filter(function(I){return _t[I]===E})[0];return D&&(v[D]=E),v},{}),h=2;if(255!==O.getUint8(0)||216!==O.getUint8(1))return!1;for(;h<o;){if(255!==O.getUint8(h))return!1;if(225===O.getUint8(h+1))return Rn(O,h+4,f);h+=2+O.getUint16(h+2)}return!1}(we,Te)}):Promise.resolve(null)}(A,["orientation"]).then(function(pe){I[0].tags=pe,L(I)}).catch(function(pe){console.log(pe),L(I)}):L(I))},h=0;h<D.length;h++)v=new Image,I.addImage(v),Pn(v,I),v.src=D[h]};var Ln=on,an={createVideoStream:function(A){console.warn("**** InputStreamBrowser createVideoStream");var L,O,o=null,f=["canrecord","ended"],h={},v={x:0,y:0,type:"Point"},E={x:0,y:0,type:"XYSize"},D={getRealWidth:function(){return A.videoWidth},getRealHeight:function(){return A.videoHeight},getWidth:function(){return L},getHeight:function(){return O},setWidth:function(I){L=I},setHeight:function(I){O=I},setInputStream:function(I){o=I,this.setAttribute("src",void 0!==I.src?I.src:"")},ended:function(){return A.ended},getConfig:function(){return o},setAttribute:function(I,U){A&&A.setAttribute(I,U)},pause:function(){A.pause()},play:function(){A.play()},setCurrentTime:function(I){var U;"LiveStream"!==(null===(U=o)||void 0===U?void 0:U.type)&&this.setAttribute("currentTime",I.toString())},addEventListener:function(I,U,B){-1!==f.indexOf(I)?(h[I]||(h[I]=[]),h[I].push(U)):A.addEventListener(I,U,B)},clearEventHandlers:function(){f.forEach(function(I){var U=h[I];U&&U.length>0&&U.forEach(function(B){A.removeEventListener(I,B)})})},trigger:function(I,U){var B,oe,de,ue,pe,Te=h[I];if("canrecord"===I&&(ue=A.videoWidth,pe=A.videoHeight,L=null!==(oe=o)&&void 0!==oe&&oe.size?ue/pe>1?o.size:Math.floor(ue/pe*o.size):ue,O=null!==(de=o)&&void 0!==de&&de.size?ue/pe>1?Math.floor(pe/ue*o.size):o.size:pe,E.x=L,E.y=O),Te&&Te.length>0)for(B=0;B<Te.length;B++)Te[B].apply(D,U)},setTopRight:function(I){v.x=I.x,v.y=I.y},getTopRight:function(){return v},setCanvasSize:function(I){E.x=I.x,E.y=I.y},getCanvasSize:function(){return E},getFrame:function(){return A}};return D},createLiveStream:function(A){console.warn("**** InputStreamBrowser createLiveStream"),A&&A.setAttribute("autoplay","true");var L=an.createVideoStream(A);return L.ended=function(){return!1},L},createImageStream:function(){var A,L,O=null,o=0,f=0,h=0,v=!0,E=!1,D=null,I=0,U=null,B=!1,oe=["canrecord","ended"],de={},ue={x:0,y:0,type:"Point"},pe={x:0,y:0,type:"XYSize"};function Te(Oe,Ee){var Ze,Je=de[Oe];if(Je&&Je.length>0)for(Ze=0;Ze<Je.length;Ze++)Je[Ze].apply(we,Ee)}var we={trigger:Te,getWidth:function(){return A},getHeight:function(){return L},setWidth:function(Oe){A=Oe},setHeight:function(Oe){L=Oe},getRealWidth:function(){return o},getRealHeight:function(){return f},setInputStream:function(Oe){var Ee;!1===Oe.sequence?(U=Oe.src,I=1):(U=Oe.src,I=Oe.length),E=!1,Ln.load(U,function(Ze){var Je,st;if(D=Ze,Ze[0].tags&&Ze[0].tags.orientation)switch(Ze[0].tags.orientation){case 6:case 8:o=Ze[0].img.height,f=Ze[0].img.width;break;default:o=Ze[0].img.width,f=Ze[0].img.height}else o=Ze[0].img.width,f=Ze[0].img.height;A=null!==(Je=O)&&void 0!==Je&&Je.size?o/f>1?O.size:Math.floor(o/f*O.size):o,L=null!==(st=O)&&void 0!==st&&st.size?o/f>1?Math.floor(f/o*O.size):O.size:f,pe.x=A,pe.y=L,E=!0,h=0,setTimeout(function(){Te("canrecord",[])},0)},1,I,null===(Ee=O=Oe)||void 0===Ee?void 0:Ee.sequence)},ended:function(){return B},setAttribute:function(){},getConfig:function(){return O},pause:function(){v=!0},play:function(){v=!1},setCurrentTime:function(Oe){h=Oe},addEventListener:function(Oe,Ee){-1!==oe.indexOf(Oe)&&(de[Oe]||(de[Oe]=[]),de[Oe].push(Ee))},clearEventHandlers:function(){Object.keys(de).forEach(function(Oe){return delete de[Oe]})},setTopRight:function(Oe){ue.x=Oe.x,ue.y=Oe.y},getTopRight:function(){return ue},setCanvasSize:function(Oe){pe.x=Oe.x,pe.y=Oe.y},getCanvasSize:function(){return pe},getFrame:function(){var Oe,Ee;return E?(v||(Oe=null===(Ee=D)||void 0===Ee?void 0:Ee[h],h<I-1?h++:setTimeout(function(){B=!0,Te("ended",[])},0)),Oe):null}};return we}},zn=an,Et=n(23),Fn=F()(function A(){w()(this,A),N()(this,"config",void 0),N()(this,"inputStream",void 0),N()(this,"framegrabber",void 0),N()(this,"inputImageWrapper",void 0),N()(this,"stopped",!1),N()(this,"boxSize",void 0),N()(this,"resultCollector",void 0),N()(this,"decoder",void 0),N()(this,"workerPool",[]),N()(this,"onUIThread",!0),N()(this,"canvasContainer",new g)}),un=F()(function A(){w()(this,A),N()(this,"image",void 0),N()(this,"overlay",void 0)}),g=F()(function A(){w()(this,A),N()(this,"ctx",void 0),N()(this,"dom",void 0),this.ctx=new un,this.dom=new un});function C(A){return typeof document>"u"?null:A instanceof HTMLElement&&A.nodeName&&1===A.nodeType?A:document.querySelector("string"==typeof A?A:"#interactive.viewport")}function R(A,L,O){var v,E,o=(v=L,(E=document.querySelector(A))||((E=document.createElement("canvas")).className=v),E);console.warn("* initCanvas getCanvasAndContext");var f=o.getContext("2d",{willReadFrequently:O.willReadFrequently});return{canvas:o,context:f}}function K(A,L){var O=Object.keys(A);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(A);L&&(o=o.filter(function(f){return Object.getOwnPropertyDescriptor(A,f).enumerable})),O.push.apply(O,o)}return O}function W(A){for(var L=1;L<arguments.length;L++){var O=null!=arguments[L]?arguments[L]:{};L%2?K(Object(O),!0).forEach(function(o){N()(A,o,O[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(O)):K(Object(O)).forEach(function(o){Object.defineProperty(A,o,Object.getOwnPropertyDescriptor(O,o))})}return A}Ye.a.setMatrixArrayType(Array);var he=[];function me(A){return W(W({},A),{},{inputStream:W(W({},A.inputStream),{},{target:null})})}function Se(A){if(A){var L=A().default;if(!L)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var O;function o(h){self.postMessage({event:"processed",imageData:O.data,result:h},[O.data.buffer])}function f(){self.postMessage({event:"initialized",imageData:O.data},[O.data.buffer])}self.onmessage=function(h){if("init"===h.data.cmd){var v=h.data.config;v.numOfWorkers=0,O=new L.ImageWrapper({x:h.data.size.x,y:h.data.size.y},new Uint8Array(h.data.imageData)),L.init(v,f,O),L.onProcessed(o)}else"process"===h.data.cmd?(O.data=new Uint8Array(h.data.imageData),L.start()):"setReaders"===h.data.cmd?L.setReaders(h.data.readers):"registerReader"===h.data.cmd&&L.registerReader(h.data.name,h.data.reader)}}function De(A,L,O){var o,f,h=(typeof __factorySource__<"u"&&(f=__factorySource__),o=new Blob(["("+Se.toString()+")("+f+");"],{type:"text/javascript"}),window.URL.createObjectURL(o)),v={worker:new Worker(h),imageData:new Uint8Array(L.getWidth()*L.getHeight()),busy:!0};v.worker.onmessage=function(E){"initialized"===E.data.event?(URL.revokeObjectURL(h),v.busy=!1,v.imageData=new Uint8Array(E.data.imageData),O(v)):"processed"===E.data.event&&(v.imageData=new Uint8Array(E.data.imageData),v.busy=!1)},v.worker.postMessage({cmd:"init",size:{x:L.getWidth(),y:L.getHeight()},imageData:v.imageData,config:me(A)},[v.imageData.buffer])}function ze(A,L,O,o){var f=A-he.length;if(0===f&&o)o();else if(f<0)he.slice(f).forEach(function(E){E.worker.terminate()}),he=he.slice(0,f),o&&o();else{var h=function(E){he.push(E),he.length>=A&&o&&o()};if(L)for(var v=0;v<f;v++)De(L,O,h)}}function We(A,L,O){for(var o=A.length;o--;)A[o][0]+=L,A[o][1]+=O}Ye.a.setMatrixArrayType(Array);var $e=function(){function A(){var o=this;w()(this,A),N()(this,"context",new Fn),N()(this,"canRecord",function(f){var h;o.context.config&&(Et.a.checkImageConstraints(o.context.inputStream,null===(h=o.context.config)||void 0===h?void 0:h.locator),o.initCanvas(),o.context.framegrabber=Mn.create(o.context.inputStream,o.context.canvasContainer.dom.image),void 0===o.context.config.numOfWorkers&&(o.context.config.numOfWorkers=0),ze(o.context.config.numOfWorkers,o.context.config,o.context.inputStream,function(){var v;0===(null===(v=o.context.config)||void 0===v?void 0:v.numOfWorkers)&&o.initializeData(),o.ready(f)}))}),N()(this,"update",function(){if(o.context.onUIThread){var f,h=(E=o.context.framegrabber,he.length?!!(D=he.filter(function(I){return!I.busy})[0])&&(E.attachData(D.imageData),E.grab()&&(D.busy=!0,D.worker.postMessage({cmd:"process",imageData:D.imageData},[D.imageData.buffer])),!0):null);h||(o.context.framegrabber.attachData(null===(f=o.context.inputImageWrapper)||void 0===f?void 0:f.data),o.context.framegrabber.grab()&&(h||o.locateAndDecode()))}else{var v;o.context.framegrabber.attachData(null===(v=o.context.inputImageWrapper)||void 0===v?void 0:v.data),o.context.framegrabber.grab(),o.locateAndDecode()}var E,D})}var L,O;return F()(A,[{key:"initBuffers",value:function(o){if(this.context.config){var f=(E=this.context.inputStream,I=this.context.config.locator,U=o||new M.a({x:E.getWidth(),y:E.getHeight(),type:"XYSize"}),B=[Ye.c.clone([0,0]),Ye.c.clone([0,U.size.y]),Ye.c.clone([U.size.x,U.size.y]),Ye.c.clone([U.size.x,0])],Et.a.init(U,I),{inputImageWrapper:U,boxSize:B}),v=f.boxSize;this.context.inputImageWrapper=f.inputImageWrapper,this.context.boxSize=v}var E,I,U,B}},{key:"initializeData",value:function(o){this.context.config&&(this.initBuffers(o),this.context.decoder=wt.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?C(this.context.config.inputStream.target):null}},{key:"ready",value:function(o){this.context.inputStream.play(),o()}},{key:"initCanvas",value:function(){var o=function G(A){var L,O,o,f,h,v,E=C(null==A||null===(L=A.config)||void 0===L||null===(O=L.inputStream)||void 0===O?void 0:O.target),D=null==A||null===(o=A.config)||void 0===o||null===(f=o.inputStream)||void 0===f?void 0:f.type;if(!D)return null;var I=function(B,oe){var de=oe.willReadFrequently;if(typeof document<"u"){var ue=R("canvas.imgBuffer","imgBuffer",{willReadFrequently:de}),pe=R("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:de});return ue.canvas.width=pe.canvas.width=B.x,ue.canvas.height=pe.canvas.height=B.y,{dom:{image:ue.canvas,overlay:pe.canvas},ctx:{image:ue.context,overlay:pe.context}}}return null}(A.inputStream.getCanvasSize(),{willReadFrequently:!(null==A||null===(h=A.config)||void 0===h||null===(v=h.inputStream)||void 0===v||!v.willReadFrequently)});if(!I)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var U=I.dom;return typeof document<"u"&&E&&("ImageStream"!==D||E.contains(U.image)||E.appendChild(U.image),E.contains(U.overlay)||E.appendChild(U.overlay)),I}(this.context);if(o){var f=o.ctx,h=o.dom;this.context.canvasContainer.dom.image=h.image,this.context.canvasContainer.dom.overlay=h.overlay,this.context.canvasContainer.ctx.image=f.image,this.context.canvasContainer.ctx.overlay=f.overlay}}},{key:"initInputStream",value:function(o){if(this.context.config&&this.context.config.inputStream){var f=this.context.config.inputStream,h=f.type,v=f.constraints,E=function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",B=arguments.length>1?arguments[1]:void 0,oe=arguments.length>2?arguments[2]:void 0;switch(U){case"VideoStream":var de=document.createElement("video");return{video:de,inputStream:oe.createVideoStream(de)};case"ImageStream":return{inputStream:oe.createImageStream()};case"LiveStream":var ue=null;return B&&((ue=B.querySelector("video"))||(ue=document.createElement("video"),B.appendChild(ue))),{video:ue,inputStream:oe.createLiveStream(ue)};default:return console.error("* setupInputStream invalid type ".concat(U)),{video:null,inputStream:null}}}(h,this.getViewPort(),zn),D=E.video,I=E.inputStream;"LiveStream"===h&&D&&ft.request(D,v).then(function(){return I.trigger("canrecord")}).catch(function(U){return o(U)}),I&&(I.setAttribute("preload","auto"),I.setInputStream(this.context.config.inputStream),I.addEventListener("canrecord",this.canRecord.bind(void 0,o))),this.context.inputStream=I}}},{key:"getBoundingBoxes",value:function(){var o;return null!==(o=this.context.config)&&void 0!==o&&o.locate?Et.a.locate():[[Ye.c.clone(this.context.boxSize[0]),Ye.c.clone(this.context.boxSize[1]),Ye.c.clone(this.context.boxSize[2]),Ye.c.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(o){var I,U,B,f=this,h=this.context.inputStream.getTopRight(),v=h.x,E=h.y;if((0!==v||0!==E)&&(o.barcodes&&o.barcodes.forEach(function(I){return f.transformResult(I)}),o.line&&2===o.line.length&&(B=E,(I=o.line)[0].x+=U=v,I[0].y+=B,I[1].x+=U,I[1].y+=B),o.box&&We(o.box,v,E),o.boxes&&o.boxes.length>0))for(var D=0;D<o.boxes.length;D++)We(o.boxes[D],v,E)}},{key:"addResult",value:function(o,f){var h=this;f&&this.context.resultCollector&&(o.barcodes?o.barcodes.filter(function(v){return v.codeResult}).forEach(function(v){return h.addResult(v,f)}):o.codeResult&&this.context.resultCollector.addResult(f,this.context.inputStream.getCanvasSize(),o.codeResult))}},{key:"hasCodeResult",value:function(o){return!(!o||!(o.barcodes?o.barcodes.some(function(f){return f.codeResult}):o.codeResult))}},{key:"publishResult",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,f=arguments.length>1?arguments[1]:void 0,h=o;o&&this.context.onUIThread&&(this.transformResult(o),this.addResult(o,f),h=o.barcodes||o),et.publish("processed",h),this.hasCodeResult(o)&&et.publish("detected",h)}},{key:"locateAndDecode",value:(O=u()(c.a.mark(function o(){var f,h,v,E,D;return c.a.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!(f=this.getBoundingBoxes())){I.next=12;break}return I.next=4,this.context.decoder.decodeFromBoundingBoxes(f);case 4:if(I.t0=I.sent,I.t0){I.next=7;break}I.t0={};case 7:(v=I.t0).boxes=f,this.publishResult(v,null===(h=this.context.inputImageWrapper)||void 0===h?void 0:h.data),I.next=16;break;case 12:return I.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(E=I.sent)?this.publishResult(E,null===(D=this.context.inputImageWrapper)||void 0===D?void 0:D.data):this.publishResult();case 16:case"end":return I.stop()}},o,this)})),function(){return O.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var o,f=this,h=null,v=1e3/((null===(o=this.context.config)||void 0===o?void 0:o.frequency)||60);this.context.stopped=!1;var E=this.context;!function D(I){h=h||I,E.stopped||(I>=h&&(h+=v,f.update()),window.requestAnimationFrame(D))}(performance.now())}},{key:"start",value:function(){var o,f;this.context.onUIThread&&"LiveStream"===(null===(o=this.context.config)||void 0===o||null===(f=o.inputStream)||void 0===f?void 0:f.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(L=u()(c.a.mark(function o(){var f;return c.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.context.stopped=!0,ze(0),null===(f=this.context.config)||void 0===f||!f.inputStream||"LiveStream"!==this.context.config.inputStream.type){h.next=6;break}return h.next=5,ft.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return h.stop()}},o,this)})),function(){return L.apply(this,arguments)})},{key:"setReaders",value:function(o){var f;this.context.decoder&&this.context.decoder.setReaders(o),f=o,he.forEach(function(h){return h.worker.postMessage({cmd:"setReaders",readers:f})})}},{key:"registerReader",value:function(o,f){var h,v;wt.registerReader(o,f),this.context.decoder&&this.context.decoder.registerReader(o,f),h=o,v=f,he.forEach(function(E){return E.worker.postMessage({cmd:"registerReader",name:h,reader:v})})}}]),A}(),rt=new $e,gt=rt.context,Mt={init:function(A,L,O){var o,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:rt;return L||(o=new Promise(function(h,v){L=function(E){E?v(E):h()}})),f.context.config=T()({},An,A),f.context.config.numOfWorkers>0&&(f.context.config.numOfWorkers=0),O?(f.context.onUIThread=!1,f.initializeData(O),L&&L()):f.initInputStream(L),o},start:function(){return rt.start()},stop:function(){return rt.stop()},pause:function(){gt.stopped=!0},onDetected:function(A){A&&("function"==typeof A||"object"===p()(A)&&A.callback)?et.subscribe("detected",A):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(A){et.unsubscribe("detected",A)},onProcessed:function(A){A&&("function"==typeof A||"object"===p()(A)&&A.callback)?et.subscribe("processed",A):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(A){et.unsubscribe("processed",A)},setReaders:function(A){A?rt.setReaders(A):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(A,L){A?L?rt.registerReader(A,L):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(A){A&&"function"==typeof A.addResult&&(gt.resultCollector=A)},get canvas(){return gt.canvasContainer},decodeSingle:function(A,L){var O=this,o=new $e;return(A=T()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:A.src},numOfWorkers:1,locator:{halfSample:!1}},A)).numOfWorkers>0&&(A.numOfWorkers=0),A.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),A.numOfWorkers=0),new Promise(function(f,h){try{O.init(A,function(){et.once("processed",function(v){o.stop(),L&&L.call(null,v),f(v)},!0),o.start()},null,o)}catch(v){h(v)}})},get default(){return Mt},Readers:a,CameraAccess:ft,ImageDebug:e.a,ImageWrapper:M.a,ResultCollector:tn};y.default=Mt}]).default},8571:(ye,i,y)=>{"use strict";y.r(i),y.d(i,{OzonModule:()=>mo});var n=y(6814),a=y(6697),s=y(5861),d=y(5619),p=y(6306),x=y(6232),T=y(2181),M=y(9773),b=y(9397),u=y(4664),l=y(7494),c=y(4963),e=y(2029),S=y(7958),w=y(5219),k=y(7700),F=y(723),q=y(6593),Z=y(2966),j=y(707),H=y(6760),V=y(4532),X=y(6223),ne=y(2076),$=y(5807),ee=y(4480),N=y(6489),ae=y(3259),ie=y(2332),re=y(2591),ce=y(2324),Y=y(8468),J=y(7778),te=y(6005);function _e(r,P){1&r&&e._UZ(0,"CheckIcon",7),2&r&&e.Q6J("styleClass","p-checkbox-icon")}function se(r,P){}function ve(r,P){1&r&&e.YNc(0,se,0,0,"ng-template")}function Ae(r,P){if(1&r&&(e.TgZ(0,"span",8),e.YNc(1,ve,1,0,null,9),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.checkIconTemplate)}}function Ie(r,P){if(1&r&&(e.ynx(0),e.YNc(1,_e,1,1,"CheckIcon",5),e.YNc(2,Ae,2,1,"span",6),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.checkIconTemplate),e.xp6(1),e.Q6J("ngIf",t.checkIconTemplate)}}function Re(r,P){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.label)}}function Fe(r,P){1&r&&e.GkF(0)}const Le=function(r){return{height:r}},je=function(r,P){return{"p-highlight":r,"p-disabled":P}},Ue=function(r){return{"p-highlight":r}},qe=function(r){return{$implicit:r}},He=["container"],Ke=["overlay"],Ve=["filterInput"],Zt=["in"],dt=["items"],ln=["scroller"];function sn(r,P){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t.valuesAsString||"empty")}}function It(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"TimesCircleIcon",20),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2).$implicit,z=e.oxw(3);return e.KtG(z.removeChip(m,z.event))}),e.qZA()}2&r&&e.Q6J("styleClass","p-multiselect-token-icon")}function cn(r,P){1&r&&e.GkF(0)}function Rt(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"span",21),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2).$implicit,z=e.oxw(3);return e.KtG(z.removeChip(m,z.event))}),e.YNc(1,cn,1,0,"ng-container",22),e.qZA()}if(2&r){const t=e.oxw(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t.removeTokenIconTemplate)}}function Dt(r,P){if(1&r&&(e.ynx(0),e.YNc(1,It,1,1,"TimesCircleIcon",18),e.YNc(2,Rt,2,1,"span",19),e.BQk()),2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!t.removeTokenIconTemplate),e.xp6(1),e.Q6J("ngIf",t.removeTokenIconTemplate)}}function xt(r,P){if(1&r&&(e.TgZ(0,"div",15,16)(2,"span",17),e._uU(3),e.qZA(),e.YNc(4,Dt,3,2,"ng-container",7),e.qZA()),2&r){const t=P.$implicit,_=e.oxw(3);e.xp6(3),e.Oqu(_.findLabelByValue(t)),e.xp6(1),e.Q6J("ngIf",!_.disabled)}}function Pt(r,P){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw(3);e.xp6(1),e.Oqu(t.placeholder||t.defaultLabel||"empty")}}function bt(r,P){if(1&r&&(e.ynx(0),e.YNc(1,xt,5,2,"div",14),e.YNc(2,Pt,2,1,"ng-container",7),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.value),e.xp6(1),e.Q6J("ngIf",!t.value||0===t.value.length)}}function Lt(r,P){if(1&r&&(e.ynx(0),e.YNc(1,sn,2,1,"ng-container",7),e.YNc(2,bt,3,2,"ng-container",7),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","comma"===t.display),e.xp6(1),e.Q6J("ngIf","chip"===t.display)}}function zt(r,P){1&r&&e.GkF(0)}function Ft(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"TimesIcon",20),e.NdJ("click",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.clear(m))}),e.qZA()}2&r&&e.Q6J("styleClass","p-multiselect-clear-icon")}function Tt(r,P){}function dn(r,P){1&r&&e.YNc(0,Tt,0,0,"ng-template")}function pn(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"span",24),e.NdJ("click",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.clear(m))}),e.YNc(1,dn,1,0,null,22),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.clearIconTemplate)}}function Ut(r,P){if(1&r&&(e.ynx(0),e.YNc(1,Ft,1,1,"TimesIcon",18),e.YNc(2,pn,2,1,"span",23),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.clearIconTemplate),e.xp6(1),e.Q6J("ngIf",t.clearIconTemplate)}}function fn(r,P){if(1&r&&e._UZ(0,"span",27),2&r){const t=e.oxw(2);e.Q6J("ngClass",t.dropdownIcon)}}function qt(r,P){1&r&&e._UZ(0,"ChevronDownIcon",28),2&r&&e.Q6J("styleClass","p-multiselect-trigger-icon")}function Nt(r,P){if(1&r&&(e.ynx(0),e.YNc(1,fn,1,1,"span",25),e.YNc(2,qt,1,1,"ChevronDownIcon",26),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.dropdownIcon),e.xp6(1),e.Q6J("ngIf",!t.dropdownIcon)}}function Xe(r,P){}function hn(r,P){1&r&&e.YNc(0,Xe,0,0,"ng-template")}function Bt(r,P){if(1&r&&(e.TgZ(0,"span",29),e.YNc(1,hn,1,0,null,22),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.dropdownIconTemplate)}}function _n(r,P){1&r&&e.GkF(0)}function gn(r,P){1&r&&e.GkF(0)}const Ot=function(r){return{options:r}};function tt(r,P){if(1&r&&(e.ynx(0),e.YNc(1,gn,1,0,"ng-container",8),e.BQk()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",e.VKq(2,Ot,t.filterOptions))}}function jt(r,P){1&r&&e._UZ(0,"CheckIcon",28),2&r&&e.Q6J("styleClass","p-checkbox-icon")}function mn(r,P){}function Jt(r,P){1&r&&e.YNc(0,mn,0,0,"ng-template")}function Qt(r,P){if(1&r&&(e.TgZ(0,"span",47),e.YNc(1,Jt,1,0,null,22),e.qZA()),2&r){const t=e.oxw(6);e.xp6(1),e.Q6J("ngTemplateOutlet",t.checkIconTemplate)}}function vn(r,P){if(1&r&&(e.ynx(0),e.YNc(1,jt,1,1,"CheckIcon",26),e.YNc(2,Qt,2,1,"span",46),e.BQk()),2&r){const t=e.oxw(5);e.xp6(1),e.Q6J("ngIf",!t.checkIconTemplate),e.xp6(1),e.Q6J("ngIf",t.checkIconTemplate)}}const Yt=function(r){return{"p-checkbox-disabled":r}},yn=function(r,P,t){return{"p-highlight":r,"p-focus":P,"p-disabled":t}};function Gt(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"div",43)(1,"div",2)(2,"input",44),e.NdJ("focus",function(){e.CHM(t);const m=e.oxw(4);return e.KtG(m.onHeaderCheckboxFocus())})("blur",function(){e.CHM(t);const m=e.oxw(4);return e.KtG(m.onHeaderCheckboxBlur())})("keydown.space",function(m){e.CHM(t);const z=e.oxw(4);return e.KtG(z.toggleAll(m))}),e.qZA()(),e.TgZ(3,"div",45),e.NdJ("click",function(m){e.CHM(t);const z=e.oxw(4);return e.KtG(z.toggleAll(m))}),e.YNc(4,vn,3,2,"ng-container",7),e.qZA()()}if(2&r){const t=e.oxw(4);e.Q6J("ngClass",e.VKq(6,Yt,t.disabled||t.toggleAllDisabled)),e.xp6(2),e.Q6J("checked",t.allChecked)("disabled",t.disabled||t.toggleAllDisabled),e.xp6(1),e.Q6J("ngClass",e.kEZ(8,yn,t.allChecked,t.headerCheckboxFocus,t.disabled||t.toggleAllDisabled)),e.uIk("aria-checked",t.allChecked),e.xp6(1),e.Q6J("ngIf",t.allChecked)}}function ot(r,P){1&r&&e._UZ(0,"SearchIcon",28),2&r&&e.Q6J("styleClass","p-multiselect-filter-icon")}function pt(r,P){}function Ct(r,P){1&r&&e.YNc(0,pt,0,0,"ng-template")}function xn(r,P){if(1&r&&(e.TgZ(0,"span",52),e.YNc(1,Ct,1,0,null,22),e.qZA()),2&r){const t=e.oxw(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t.filterIconTemplate)}}function Ht(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"div",48)(1,"input",49,50),e.NdJ("input",function(m){e.CHM(t);const z=e.oxw(4);return e.KtG(z.onFilterInputChange(m))}),e.qZA(),e.YNc(3,ot,1,1,"SearchIcon",26),e.YNc(4,xn,2,1,"span",51),e.qZA()}if(2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("value",t.filterValue||"")("disabled",t.disabled),e.uIk("autocomplete",t.autocomplete)("placeholder",t.filterPlaceHolder)("aria-label",t.ariaFilterLabel),e.xp6(2),e.Q6J("ngIf",!t.filterIconTemplate),e.xp6(1),e.Q6J("ngIf",t.filterIconTemplate)}}function at(r,P){1&r&&e._UZ(0,"TimesIcon",28),2&r&&e.Q6J("styleClass","p-multiselect-close-icon")}function wt(r,P){}function et(r,P){1&r&&e.YNc(0,wt,0,0,"ng-template")}function Vt(r,P){if(1&r&&(e.TgZ(0,"span",53),e.YNc(1,et,1,0,null,22),e.qZA()),2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t.closeIconTemplate)}}function Wt(r,P){if(1&r){const t=e.EpF();e.YNc(0,Gt,5,12,"div",39),e.YNc(1,Ht,5,7,"div",40),e.TgZ(2,"button",41),e.NdJ("click",function(m){e.CHM(t);const z=e.oxw(3);return e.KtG(z.close(m))}),e.YNc(3,at,1,1,"TimesIcon",26),e.YNc(4,Vt,2,1,"span",42),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("ngIf",t.showToggleAll&&!t.selectionLimit),e.xp6(1),e.Q6J("ngIf",t.filter),e.xp6(2),e.Q6J("ngIf",!t.closeIconTemplate),e.xp6(1),e.Q6J("ngIf",t.closeIconTemplate)}}function bn(r,P){if(1&r&&(e.TgZ(0,"div",36),e.Hsn(1),e.YNc(2,_n,1,0,"ng-container",22),e.YNc(3,tt,2,4,"ng-container",37),e.YNc(4,Wt,5,4,"ng-template",null,38,e.W1O),e.qZA()),2&r){const t=e.MAs(5),_=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",_.headerTemplate),e.xp6(1),e.Q6J("ngIf",_.filterTemplate)("ngIfElse",t)}}function Tn(r,P){1&r&&e.GkF(0)}const nt=function(r,P){return{$implicit:r,options:P}};function St(r,P){if(1&r&&e.YNc(0,Tn,1,0,"ng-container",8),2&r){const t=P.$implicit,_=P.options;e.oxw(2);const m=e.MAs(6);e.Q6J("ngTemplateOutlet",m)("ngTemplateOutletContext",e.WLB(2,nt,t,_))}}function $t(r,P){1&r&&e.GkF(0)}function On(r,P){if(1&r&&e.YNc(0,$t,1,0,"ng-container",8),2&r){const t=P.options,_=e.oxw(4);e.Q6J("ngTemplateOutlet",_.loaderTemplate)("ngTemplateOutletContext",e.VKq(2,Ot,t))}}function Cn(r,P){1&r&&(e.ynx(0),e.YNc(1,On,1,4,"ng-template",56),e.BQk())}function Kt(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-scroller",54,55),e.NdJ("onLazyLoad",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.onLazyLoad.emit(m))}),e.YNc(2,St,1,5,"ng-template",13),e.YNc(3,Cn,2,0,"ng-container",7),e.qZA()}if(2&r){const t=e.oxw(2);e.Akn(e.VKq(9,Le,t.scrollHeight)),e.Q6J("items",t.optionsToRender)("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("tabindex",-1)("lazy",t.lazy)("options",t.virtualScrollOptions),e.xp6(3),e.Q6J("ngIf",t.loaderTemplate)}}function Xt(r,P){1&r&&e.GkF(0)}const At=function(){return{}};function wn(r,P){if(1&r&&(e.ynx(0),e.YNc(1,Xt,1,0,"ng-container",8),e.BQk()),2&r){e.oxw();const t=e.MAs(6),_=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",e.WLB(3,nt,_.optionsToRender,e.DdM(2,At)))}}function Sn(r,P){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,_=e.oxw(4);e.xp6(1),e.Oqu(_.getOptionGroupLabel(t)||"empty")}}function en(r,P){1&r&&e.GkF(0)}function ut(r,P){1&r&&e.GkF(0)}function lt(r,P){if(1&r&&(e.TgZ(0,"li",62),e.YNc(1,Sn,2,1,"span",7),e.YNc(2,en,1,0,"ng-container",8),e.qZA(),e.YNc(3,ut,1,0,"ng-container",8)),2&r){const t=P.$implicit,_=e.oxw(2).options,m=e.MAs(5),z=e.oxw(2);e.Q6J("ngStyle",e.VKq(6,Le,_.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!z.groupTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",z.groupTemplate)("ngTemplateOutletContext",e.VKq(8,qe,t)),e.xp6(1),e.Q6J("ngTemplateOutlet",m)("ngTemplateOutletContext",e.VKq(10,qe,z.getOptionGroupChildren(t)))}}function ft(r,P){if(1&r&&(e.ynx(0),e.YNc(1,lt,4,12,"ng-template",61),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function tn(r,P){1&r&&e.GkF(0)}function An(r,P){if(1&r&&(e.ynx(0),e.YNc(1,tn,1,0,"ng-container",8),e.BQk()),2&r){const t=e.oxw().$implicit,_=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",_)("ngTemplateOutletContext",e.VKq(2,qe,t))}}function Ye(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-multiSelectItem",63),e.NdJ("onClick",function(m){e.CHM(t);const z=e.oxw(4);return e.KtG(z.onOptionClick(m))})("onKeydown",function(m){e.CHM(t);const z=e.oxw(4);return e.KtG(z.onOptionKeydown(m))}),e.qZA()}if(2&r){const t=P.$implicit,_=e.oxw(2).options,m=e.oxw(2);e.Q6J("option",t)("selected",m.isSelected(t))("label",m.getOptionLabel(t))("disabled",m.isOptionDisabled(t))("template",m.itemTemplate)("checkIconTemplate",m.checkIconTemplate)("itemSize",_.itemSize)}}function ht(r,P){1&r&&e.YNc(0,Ye,1,7,"ng-template",61),2&r&&e.Q6J("ngForOf",P.$implicit)}function nn(r,P){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.emptyFilterMessageLabel," ")}}function En(r,P){1&r&&e.GkF(0,null,65)}function Mn(r,P){if(1&r&&(e.TgZ(0,"li",64),e.YNc(1,nn,2,1,"ng-container",37),e.YNc(2,En,2,0,"ng-container",22),e.qZA()),2&r){const t=e.oxw().options,_=e.oxw(2);e.Q6J("ngStyle",e.VKq(4,Le,t.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!_.emptyFilterTemplate&&!_.emptyTemplate)("ngIfElse",_.emptyFilter),e.xp6(1),e.Q6J("ngTemplateOutlet",_.emptyFilterTemplate||_.emptyTemplate)}}function _t(r,P){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.emptyMessageLabel," ")}}function rn(r,P){1&r&&e.GkF(0,null,66)}function kn(r,P){if(1&r&&(e.TgZ(0,"li",64),e.YNc(1,_t,2,1,"ng-container",37),e.YNc(2,rn,2,0,"ng-container",22),e.qZA()),2&r){const t=e.oxw().options,_=e.oxw(2);e.Q6J("ngStyle",e.VKq(4,Le,t.itemSize+"px")),e.xp6(1),e.Q6J("ngIf",!_.emptyTemplate)("ngIfElse",_.empty),e.xp6(1),e.Q6J("ngTemplateOutlet",_.emptyTemplate)}}function Zn(r,P){if(1&r&&(e.TgZ(0,"ul",57,58),e.YNc(2,ft,2,1,"ng-container",7),e.YNc(3,An,2,4,"ng-container",7),e.YNc(4,ht,1,1,"ng-template",null,59,e.W1O),e.YNc(6,Mn,3,6,"li",60),e.YNc(7,kn,3,6,"li",60),e.qZA()),2&r){const t=P.options,_=e.oxw(2);e.Akn(t.contentStyle),e.Q6J("ngClass",t.contentStyleClass),e.xp6(2),e.Q6J("ngIf",_.group),e.xp6(1),e.Q6J("ngIf",!_.group),e.xp6(3),e.Q6J("ngIf",_.hasFilter()&&_.isEmpty()),e.xp6(1),e.Q6J("ngIf",!_.hasFilter()&&_.isEmpty())}}function In(r,P){1&r&&e.GkF(0)}function Rn(r,P){if(1&r&&(e.TgZ(0,"div",67),e.Hsn(1,1),e.YNc(2,In,1,0,"ng-container",22),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",t.footerTemplate)}}const Dn=function(){return["p-multiselect-panel p-component"]};function on(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"div",30),e.NdJ("keydown",function(m){e.CHM(t);const z=e.oxw();return e.KtG(z.onKeydown(m))}),e.YNc(1,bn,6,3,"div",31),e.TgZ(2,"div",32),e.YNc(3,Kt,4,11,"p-scroller",33),e.YNc(4,wn,2,6,"ng-container",7),e.YNc(5,Zn,8,7,"ng-template",null,34,e.W1O),e.qZA(),e.YNc(7,Rn,3,1,"div",35),e.qZA()}if(2&r){const t=e.oxw();e.Tol(t.panelStyleClass),e.Q6J("ngClass",e.DdM(10,Dn))("ngStyle",t.panelStyle),e.xp6(1),e.Q6J("ngIf",t.showHeader),e.xp6(1),e.Udp("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),e.xp6(1),e.Q6J("ngIf",t.virtualScroll),e.xp6(1),e.Q6J("ngIf",!t.virtualScroll),e.xp6(3),e.Q6J("ngIf",t.footerFacet||t.footerTemplate)}}const Pn=[[["p-header"]],[["p-footer"]]],Ln=function(r,P,t,_){return{"p-multiselect p-component":!0,"p-multiselect-open":r,"p-multiselect-chip":P,"p-focus":t,"p-disabled":_}},an=function(r,P){return{"p-placeholder":r,"p-multiselect-label-empty":P}},zn=function(r,P){return{$implicit:r,removeChip:P}},Et=function(){return{"p-multiselect-trigger":!0}},Fn=["p-header","p-footer"],un={provide:X.JU,useExisting:(0,e.Gpc)(()=>C),multi:!0};let g=(()=>{class r{option;selected;label;disabled;itemSize;template;checkIconTemplate;onClick=new e.vpe;onKeydown=new e.vpe;onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option,selected:this.selected})}onOptionKeydown(t){this.onKeydown.emit({originalEvent:t,option:this.option})}static \u0275fac=function(_){return new(_||r)};static \u0275cmp=e.Xpm({type:r,selectors:[["p-multiSelectItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",itemSize:"itemSize",template:"template",checkIconTemplate:"checkIconTemplate"},outputs:{onClick:"onClick",onKeydown:"onKeydown"},decls:6,vars:18,consts:[["pRipple","",1,"p-multiselect-item",3,"ngStyle","ngClass","click","keydown"],[1,"p-checkbox","p-component"],[1,"p-checkbox-box",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"]],template:function(_,m){1&_&&(e.TgZ(0,"li",0),e.NdJ("click",function(Q){return m.onOptionClick(Q)})("keydown",function(Q){return m.onOptionKeydown(Q)}),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,Ie,3,2,"ng-container",3),e.qZA()(),e.YNc(4,Re,2,1,"span",3),e.YNc(5,Fe,1,0,"ng-container",4),e.qZA()),2&_&&(e.Q6J("ngStyle",e.VKq(9,Le,m.itemSize+"px"))("ngClass",e.WLB(11,je,m.selected,m.disabled)),e.uIk("aria-label",m.label)("tabindex",m.disabled?null:"0"),e.xp6(2),e.Q6J("ngClass",e.VKq(14,Ue,m.selected)),e.xp6(1),e.Q6J("ngIf",m.selected),e.xp6(1),e.Q6J("ngIf",!m.template),e.xp6(1),e.Q6J("ngTemplateOutlet",m.template)("ngTemplateOutletContext",e.VKq(16,qe,m.option)))},dependencies:function(){return[n.mk,n.O5,n.tP,n.PC,ee.H,re.n]},encapsulation:2})}return r})(),C=(()=>{class r{el;renderer;cd;zone;filterService;config;overlayService;style;styleClass;panelStyle;panelStyleClass;inputId;disabled;readonly;group;filter=!0;filterPlaceHolder;filterLocale;overlayVisible;tabindex;appendTo;dataKey;name;label;ariaLabelledBy;displaySelectedLabel=!0;maxSelectedLabels=3;selectedItemsLabel="ellipsis";showToggleAll=!0;emptyFilterMessage="";emptyMessage="";resetFilterOnHide=!1;dropdownIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel;optionGroupChildren="items";showHeader=!0;filterBy;scrollHeight="200px";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;filterMatchMode="contains";tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;autofocusFilter=!0;display="comma";autocomplete="on";showClear=!1;get autoZIndex(){return this._autoZIndex}set autoZIndex(t){this._autoZIndex=t,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get baseZIndex(){return this._baseZIndex}set baseZIndex(t){this._baseZIndex=t,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}set defaultLabel(t){this._defaultLabel=t,this.updateLabel()}get defaultLabel(){return this._defaultLabel}set placeholder(t){this._placeholder=t,this.updateLabel()}get placeholder(){return this._placeholder}get options(){return this._options}set options(t){this._options=t,this.updateLabel()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}get selectionLimit(){return this._selectionLimit}set selectionLimit(t){this._selectionLimit=t,this.checkSelectionLimit()}containerViewChild;overlayViewChild;filterInputChild;accessibleViewChild;itemsViewChild;scroller;footerFacet;headerFacet;templates;onChange=new e.vpe;onFilter=new e.vpe;onFocus=new e.vpe;onBlur=new e.vpe;onClick=new e.vpe;onClear=new e.vpe;onPanelShow=new e.vpe;onPanelHide=new e.vpe;onLazyLoad=new e.vpe;onRemove=new e.vpe;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_defaultLabel;_placeholder;_itemSize;_selectionLimit;value;_filteredOptions;onModelChange=()=>{};onModelTouched=()=>{};valuesAsString;focus;filled;_filterValue;filtered;itemTemplate;groupTemplate;loaderTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;selectedItemsTemplate;checkIconTemplate;filterIconTemplate;removeTokenIconTemplate;closeIconTemplate;clearIconTemplate;dropdownIconTemplate;headerCheckboxFocus;filterOptions;_options;maxSelectionLimitReached;preventModelTouched;preventDocumentDefault;constructor(t,_,m,z,Q,le,fe){this.el=t,this.renderer=_,this.cd=m,this.zone=z,this.filterService=Q,this.config=le,this.overlayService=fe}ngOnInit(){this.updateLabel(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"selectedItems":this.selectedItemsTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"checkicon":this.checkIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;case"removetokenicon":this.removeTokenIconTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"dropdownicon":this.dropdownIconTemplate=t.template}})}ngAfterViewInit(){this.overlayVisible&&this.show()}ngAfterViewChecked(){this.filtered&&(this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild?.alignOverlay()},1)}),this.filtered=!1)}getOptionLabel(t){return this.optionLabel?ie.gb.resolveFieldData(t,this.optionLabel):t&&null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?ie.gb.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&void 0!==t.value?t.value:t}getOptionGroupLabel(t){return this.optionGroupLabel?ie.gb.resolveFieldData(t,this.optionGroupLabel):t&&null!=t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?ie.gb.resolveFieldData(t,this.optionGroupChildren):t.items}isOptionDisabled(t){return(this.optionDisabled?ie.gb.resolveFieldData(t,this.optionDisabled):!(!t||void 0===t.disabled)&&t.disabled)||this.maxSelectionLimitReached&&!this.isSelected(t)}writeValue(t){this.value=t,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.cd.markForCheck()}checkSelectionLimit(){this.maxSelectionLimitReached=!(!this.selectionLimit||!this.value||this.value.length!==this.selectionLimit)}updateFilledState(){this.filled=this.value&&this.value.length>0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onOptionClick(t){let _=t.option;if(this.isOptionDisabled(_))return;let m=this.getOptionValue(_),z=this.findSelectionIndex(m);-1!=z?(this.value=this.value.filter((Q,le)=>le!=z),this.onRemove.emit({newValue:this.value,removed:m}),this.selectionLimit&&(this.maxSelectionLimitReached=!1)):((!this.selectionLimit||!this.value||this.value.length<this.selectionLimit)&&(this.value=[...this.value||[],m]),this.checkSelectionLimit()),this.onModelChange(this.value),this.onChange.emit({originalEvent:t.originalEvent,value:this.value,itemValue:m}),this.updateLabel(),this.updateFilledState()}isSelected(t){return-1!=this.findSelectionIndex(this.getOptionValue(t))}findSelectionIndex(t){let _=-1;if(this.value)for(let m=0;m<this.value.length;m++)if(ie.gb.equals(this.value[m],t,this.dataKey)){_=m;break}return _}get toggleAllDisabled(){let t=this.optionsToRender;if(!t||0===t.length)return!0;for(let _ of t)if(!this.isOptionDisabled(_))return!1;return!0}toggleAll(t){this.disabled||this.toggleAllDisabled||this.readonly||(this.allChecked?this.uncheckAll():this.checkAll(),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateFilledState(),this.updateLabel(),t.preventDefault(),t.stopPropagation())}checkAll(){let _=[];this.optionsToRender.forEach(m=>{if(this.group){let z=this.getOptionGroupChildren(m);z&&z.forEach(Q=>{let le=this.isOptionDisabled(Q);(!le||le&&this.isSelected(Q))&&_.push(this.getOptionValue(Q))})}else{let z=this.isOptionDisabled(m);(!z||z&&this.isSelected(m))&&_.push(this.getOptionValue(m))}}),this.value=_}uncheckAll(){let _=[];this.optionsToRender.forEach(m=>{this.group?m.items&&m.items.forEach(z=>{this.isOptionDisabled(z)&&this.isSelected(z)&&_.push(this.getOptionValue(z))}):this.isOptionDisabled(m)&&this.isSelected(m)&&_.push(this.getOptionValue(m))}),this.value=_}show(){this.overlayVisible||(this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck())}onOverlayAnimationStart(t){switch(t.toState){case"visible":this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.filterInputChild&&this.filterInputChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterInputChild.nativeElement.focus()),this.onPanelShow.emit();break;case"void":this.onModelTouched()}}hide(){this.overlayVisible=!1,this.resetFilterOnHide&&this.resetFilter(),this.onPanelHide.emit(),this.cd.markForCheck()}resetFilter(){this.filterInputChild&&this.filterInputChild.nativeElement&&(this.filterInputChild.nativeElement.value=""),this._filterValue=null,this._filteredOptions=null}close(t){this.hide(),t.preventDefault(),t.stopPropagation()}clear(t){this.value=null,this.updateLabel(),this.updateFilledState(),this.checkSelectionLimit(),this.onClear.emit(),this.onModelChange(this.value),t.stopPropagation()}onMouseclick(t,_){this.disabled||this.readonly||t.target.isSameNode(this.accessibleViewChild?.nativeElement)||(this.onClick.emit(t),!this.overlayViewChild?.el?.nativeElement?.contains(t.target)&&!ne.p.hasClass(t.target,"p-multiselect-token-icon")&&(this.overlayVisible?this.hide():this.show(),_.focus()))}removeChip(t,_){this.value=this.value.filter(m=>!ie.gb.equals(m,t,this.dataKey)),this.onModelChange(this.value),this.checkSelectionLimit(),this.onChange.emit({originalEvent:_,value:this.value,itemValue:t}),this.updateLabel(),this.updateFilledState()}onInputFocus(t){this.focus=!0,this.onFocus.emit({originalEvent:t})}onInputBlur(t){this.focus=!1,this.onBlur.emit({originalEvent:t}),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onOptionKeydown(t){if(!this.readonly)switch(t.originalEvent.which){case 40:var _=this.findNextItem(t.originalEvent.target.parentElement);_&&_.focus(),t.originalEvent.preventDefault();break;case 38:var m=this.findPrevItem(t.originalEvent.target.parentElement);m&&m.focus(),t.originalEvent.preventDefault();break;case 13:this.onOptionClick(t),t.originalEvent.preventDefault();break;case 27:case 9:this.hide()}}findNextItem(t){let _=t.nextElementSibling;return _?ne.p.hasClass(_.children[0],"p-disabled")||ne.p.isHidden(_.children[0])||ne.p.hasClass(_,"p-multiselect-item-group")?this.findNextItem(_):_.children[0]:null}findPrevItem(t){let _=t.previousElementSibling;return _?ne.p.hasClass(_.children[0],"p-disabled")||ne.p.isHidden(_.children[0])||ne.p.hasClass(_,"p-multiselect-item-group")?this.findPrevItem(_):_.children[0]:null}onKeydown(t){switch(t.which){case 40:!this.overlayVisible&&t.altKey&&(this.show(),t.preventDefault());break;case 32:this.overlayVisible||(this.show(),t.preventDefault());break;case 27:this.hide()}}updateLabel(){if(this.value&&this.options&&this.value.length&&this.displaySelectedLabel){let t="";for(let _=0;_<this.value.length;_++){let m=this.findLabelByValue(this.value[_]);m&&(t.length>0&&(t+=", "),t+=m)}if(this.value.length<=this.maxSelectedLabels||"ellipsis"===this.selectedItemsLabel)this.valuesAsString=t;else{let _=/{(.*?)}/;this.valuesAsString=_.test(this.selectedItemsLabel)?this.selectedItemsLabel.replace(this.selectedItemsLabel.match(_)[0],this.value.length+""):this.selectedItemsLabel}}else this.valuesAsString=this.placeholder||this.defaultLabel}findLabelByValue(t){if(this.group){let _=null;for(let m=0;m<this.options.length;m++){let z=this.getOptionGroupChildren(this.options[m]);if(z&&(_=this.searchLabelByValue(t,z),_))break}return _}return this.searchLabelByValue(t,this.options)}searchLabelByValue(t,_){let m=null;for(let z=0;z<_.length;z++){let Q=_[z],le=this.getOptionValue(Q);if(null==t&&null==le||ie.gb.equals(t,le,this.dataKey)){m=this.getOptionLabel(Q);break}}return m}get allChecked(){let t=this.optionsToRender;if(!t||0===t.length)return!1;{let _=0,m=0,z=0,Q=this.group?0:this.optionsToRender.length;for(let le of t)if(this.group)for(let fe of this.getOptionGroupChildren(le)){let ge=this.isOptionDisabled(fe),xe=this.isSelected(fe);if(ge)xe?_++:m++;else{if(!xe)return!1;z++}Q++}else{let fe=this.isOptionDisabled(le),ge=this.isSelected(le);if(fe)ge?_++:m++;else{if(!ge)return!1;z++}}return Q===_||Q===z||z&&Q===z+m+_}}get optionsToRender(){return this._filteredOptions||this.options}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(w.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(w.ws.EMPTY_FILTER_MESSAGE)}hasFilter(){return this._filterValue&&this._filterValue.trim().length>0}isEmpty(){return!this.optionsToRender||this.optionsToRender&&0===this.optionsToRender.length}onFilterInputChange(t){this._filterValue=t.target.value,this.activateFilter(),this.filtered=!0,this.onFilter.emit({originalEvent:t,filter:this._filterValue}),this.cd.detectChanges()}activateFilter(){if(this.hasFilter()&&this._options){let t=(this.filterBy||this.optionLabel||"label").split(",");if(this.group){let _=[];for(let m of this.options){let z=this.filterService.filter(this.getOptionGroupChildren(m),t,this.filterValue,this.filterMatchMode,this.filterLocale);z&&z.length&&_.push({...m,[this.optionGroupChildren]:z})}this._filteredOptions=_}else this._filteredOptions=this.filterService.filter(this.options,t,this._filterValue,this.filterMatchMode,this.filterLocale)}else this._filteredOptions=null}onHeaderCheckboxFocus(){this.headerCheckboxFocus=!0}onHeaderCheckboxBlur(){this.headerCheckboxFocus=!1}static \u0275fac=function(_){return new(_||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(w.iZ),e.Y36(w.b4),e.Y36(w.F0))};static \u0275cmp=e.Xpm({type:r,selectors:[["p-multiSelect"]],contentQueries:function(_,m,z){if(1&_&&(e.Suo(z,w.$_,5),e.Suo(z,w.h4,5),e.Suo(z,w.jx,4)),2&_){let Q;e.iGM(Q=e.CRH())&&(m.footerFacet=Q.first),e.iGM(Q=e.CRH())&&(m.headerFacet=Q.first),e.iGM(Q=e.CRH())&&(m.templates=Q)}},viewQuery:function(_,m){if(1&_&&(e.Gf(He,5),e.Gf(Ke,5),e.Gf(Ve,5),e.Gf(Zt,5),e.Gf(dt,5),e.Gf(ln,5)),2&_){let z;e.iGM(z=e.CRH())&&(m.containerViewChild=z.first),e.iGM(z=e.CRH())&&(m.overlayViewChild=z.first),e.iGM(z=e.CRH())&&(m.filterInputChild=z.first),e.iGM(z=e.CRH())&&(m.accessibleViewChild=z.first),e.iGM(z=e.CRH())&&(m.itemsViewChild=z.first),e.iGM(z=e.CRH())&&(m.scroller=z.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(_,m){2&_&&e.ekj("p-inputwrapper-filled",m.filled)("p-inputwrapper-focus",m.focus||m.overlayVisible)("p-multiselect-clearable",m.showClear&&!m.disabled)},inputs:{style:"style",styleClass:"styleClass",panelStyle:"panelStyle",panelStyleClass:"panelStyleClass",inputId:"inputId",disabled:"disabled",readonly:"readonly",group:"group",filter:"filter",filterPlaceHolder:"filterPlaceHolder",filterLocale:"filterLocale",overlayVisible:"overlayVisible",tabindex:"tabindex",appendTo:"appendTo",dataKey:"dataKey",name:"name",label:"label",ariaLabelledBy:"ariaLabelledBy",displaySelectedLabel:"displaySelectedLabel",maxSelectedLabels:"maxSelectedLabels",selectedItemsLabel:"selectedItemsLabel",showToggleAll:"showToggleAll",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",showHeader:"showHeader",filterBy:"filterBy",scrollHeight:"scrollHeight",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",filterMatchMode:"filterMatchMode",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",display:"display",autocomplete:"autocomplete",showClear:"showClear",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",defaultLabel:"defaultLabel",placeholder:"placeholder",options:"options",filterValue:"filterValue",itemSize:"itemSize",selectionLimit:"selectionLimit"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onClear:"onClear",onPanelShow:"onPanelShow",onPanelHide:"onPanelHide",onLazyLoad:"onLazyLoad",onRemove:"onRemove"},features:[e._Bn([un])],ngContentSelectors:Fn,decls:16,vars:43,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","readonly","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[1,"p-multiselect-label-container",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[1,"p-multiselect-label",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["class","p-multiselect-trigger-icon",4,"ngIf"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["class","p-multiselect-token",4,"ngFor","ngForOf"],[1,"p-multiselect-token"],["token",""],[1,"p-multiselect-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-multiselect-token-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-multiselect-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-multiselect-clear-icon",3,"click",4,"ngIf"],[1,"p-multiselect-clear-icon",3,"click"],["class","p-multiselect-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-multiselect-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-multiselect-trigger-icon"],[3,"ngClass","ngStyle","keydown"],["class","p-multiselect-header",4,"ngIf"],[1,"p-multiselect-items-wrapper"],[3,"items","style","itemSize","autoSize","tabindex","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["class","p-multiselect-footer",4,"ngIf"],[1,"p-multiselect-header"],[4,"ngIf","ngIfElse"],["builtInFilterElement",""],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],["class","p-multiselect-filter-container",4,"ngIf"],["type","button","pRipple","",1,"p-multiselect-close","p-link","p-button-icon-only",3,"click"],["class","p-multiselect-close-icon",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],["type","checkbox","readonly","readonly",3,"checked","disabled","focus","blur","keydown.space"],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],["class","p-checkbox-icon",4,"ngIf"],[1,"p-checkbox-icon"],[1,"p-multiselect-filter-container"],["type","text","role","textbox",1,"p-multiselect-filter","p-inputtext","p-component",3,"value","disabled","input"],["filterInput",""],["class","p-multiselect-filter-icon",4,"ngIf"],[1,"p-multiselect-filter-icon"],[1,"p-multiselect-close-icon"],[3,"items","itemSize","autoSize","tabindex","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox","aria-multiselectable","true",1,"p-multiselect-items","p-component",3,"ngClass"],["items",""],["itemslist",""],["class","p-multiselect-empty-message",3,"ngStyle",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"p-multiselect-item-group",3,"ngStyle"],[3,"option","selected","label","disabled","template","checkIconTemplate","itemSize","onClick","onKeydown"],[1,"p-multiselect-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""],[1,"p-multiselect-footer"]],template:function(_,m){if(1&_){const z=e.EpF();e.F$t(Pn),e.TgZ(0,"div",0,1),e.NdJ("click",function(le){e.CHM(z);const fe=e.MAs(4);return e.KtG(m.onMouseclick(le,fe))}),e.TgZ(2,"div",2)(3,"input",3,4),e.NdJ("focus",function(le){return m.onInputFocus(le)})("blur",function(le){return m.onInputBlur(le)})("keydown",function(le){return m.onKeydown(le)}),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6),e.YNc(7,Lt,3,2,"ng-container",7),e.YNc(8,zt,1,0,"ng-container",8),e.qZA(),e.YNc(9,Ut,3,2,"ng-container",7),e.qZA(),e.TgZ(10,"div",9),e.YNc(11,Nt,3,2,"ng-container",7),e.YNc(12,Bt,2,1,"span",10),e.qZA(),e.TgZ(13,"p-overlay",11,12),e.NdJ("visibleChange",function(le){return m.overlayVisible=le})("onAnimationStart",function(le){return m.onOverlayAnimationStart(le)})("onHide",function(){return m.hide()}),e.YNc(15,on,8,11,"ng-template",13),e.qZA()()}2&_&&(e.Tol(m.styleClass),e.Q6J("ngClass",e.l5B(31,Ln,m.overlayVisible,"chip"===m.display,m.focus,m.disabled))("ngStyle",m.style),e.xp6(3),e.Q6J("disabled",m.disabled),e.uIk("label",m.label)("id",m.inputId)("name",m.name)("tabindex",m.tabindex)("aria-expanded",m.overlayVisible)("aria-labelledby",m.ariaLabelledBy),e.xp6(2),e.Q6J("pTooltip",m.tooltip)("tooltipPosition",m.tooltipPosition)("positionStyle",m.tooltipPositionStyle)("tooltipStyleClass",m.tooltipStyleClass),e.xp6(1),e.Q6J("ngClass",e.WLB(36,an,m.valuesAsString===(m.defaultLabel||m.placeholder),!(null!=m.valuesAsString&&0!==m.valuesAsString.length||null!=m.placeholder&&0!==m.placeholder.length))),e.xp6(1),e.Q6J("ngIf",!m.selectedItemsTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",m.selectedItemsTemplate)("ngTemplateOutletContext",e.WLB(39,zn,m.value,m.removeChip.bind(m))),e.xp6(1),e.Q6J("ngIf",null!=m.value&&m.filled&&!m.disabled&&m.showClear),e.xp6(1),e.Q6J("ngClass",e.DdM(42,Et)),e.xp6(1),e.Q6J("ngIf",!m.dropdownIconTemplate),e.xp6(1),e.Q6J("ngIf",m.dropdownIconTemplate),e.xp6(1),e.Q6J("visible",m.overlayVisible)("options",m.overlayOptions)("target","@parent")("appendTo",m.appendTo)("autoZIndex",m.autoZIndex)("baseZIndex",m.baseZIndex)("showTransitionOptions",m.showTransitionOptions)("hideTransitionOptions",m.hideTransitionOptions))},dependencies:function(){return[n.mk,n.sg,n.O5,n.tP,n.PC,$.aV,w.jx,ae.u,ee.H,N.T,re.n,ce.W,Y.x,J.q,te.v,g]},styles:["@layer primeng{.p-multiselect{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-multiselect-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-multiselect-label-container{overflow:hidden;flex:1 1 auto;cursor:pointer}.p-multiselect-label{display:block;white-space:nowrap;cursor:pointer;overflow:hidden;text-overflow:ellipsis}.p-multiselect-label-empty{overflow:hidden;visibility:hidden}.p-multiselect-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto}.p-multiselect-token-icon{cursor:pointer}.p-multiselect-items-wrapper{overflow:auto}.p-multiselect-items{margin:0;padding:0;list-style-type:none}.p-multiselect-item{cursor:pointer;display:flex;align-items:center;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-multiselect-header{display:flex;align-items:center;justify-content:space-between}.p-multiselect-filter-container{position:relative;flex:1 1 auto}.p-multiselect-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-multiselect-filter-container .p-inputtext{width:100%}.p-multiselect-close{display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;position:relative}.p-fluid .p-multiselect{display:flex}.p-multiselect-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-multiselect-clearable{position:relative}}\n"],encapsulation:2,changeDetection:0})}return r})(),R=(()=>{class r{static \u0275fac=function(_){return new(_||r)};static \u0275mod=e.oAB({type:r});static \u0275inj=e.cJS({imports:[n.ez,$.U8,w.m8,ae.z,ee.T,N.v,re.n,ce.W,Y.x,J.q,te.v,re.n,$.U8,w.m8,N.v]})}return r})();var G=y(2328),K=y(6128),W=y(9232),he=y(6263),me=y(4104);function Se(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"div",6)(1,"p-calendar",7),e.NdJ("ngModelChange",function(m){e.CHM(t);const z=e.oxw();return e.KtG(z.filterModel.dateRange=m)}),e.qZA(),e.TgZ(2,"p-button",8),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.findOrders())}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.filterModel.dateRange)("showClear",!0)("selectOtherMonths",!0)("readonlyInput",!0)}}function De(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-button",9),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.importOrders())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("icon",t.isLoading?"pi pi-download":"")}}function ze(r,P){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw().ngIf;e.xp6(1),e.hij("~",e.xi3(2,1,t.expectedPayout,"1.2-2"),"\u20bd")}}function We(r,P){1&r&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function $e(r,P){1&r&&(e.TgZ(0,"div",33)(1,"span",34),e._uU(2,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b\u044b"),e.qZA()())}function rt(r,P){if(1&r&&(e.TgZ(0,"div",38),e._UZ(1,"img",39),e.TgZ(2,"div"),e._uU(3),e.qZA()()),2&r){const t=P.$implicit;e.xp6(1),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.id)}}function gt(r,P){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=P.$implicit;e.xp6(1),e.hij(" ",t,", ")}}function Mt(r,P){1&r&&e.YNc(0,gt,2,1,"ng-container",40),2&r&&e.Q6J("ngForOf",P.$implicit)}function A(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-multiSelect",35),e.NdJ("onChange",function(m){const Q=e.CHM(t).filterCallback;return e.KtG(Q(m.value))}),e.YNc(1,rt,4,2,"ng-template",36),e.YNc(2,Mt,1,1,"ng-template",37),e.qZA()}if(2&r){const t=P.$implicit,_=e.oxw(4);e.Q6J("ngModel",t)("filter",!1)("options",_.productPackageIDs)}}function L(r,P){1&r&&(e.TgZ(0,"div",33)(1,"span",34),e._uU(2,"\u0421\u0442\u0430\u0442\u0443\u0441\u044b"),e.qZA()())}function O(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-multiSelect",41),e.NdJ("onChange",function(m){const Q=e.CHM(t).filterCallback;return e.KtG(Q(m.value))}),e.qZA()}if(2&r){const t=P.$implicit,_=e.oxw(4);e.Q6J("ngModel",t)("filter",!1)("options",_.orderStatuses)}}function o(r,P){1&r&&(e.TgZ(0,"div",33)(1,"span",34),e._uU(2,"\u0421\u043a\u043b\u0430\u0434\u044b"),e.qZA()())}function f(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-multiSelect",42),e.NdJ("onChange",function(m){const Q=e.CHM(t).filterCallback;return e.KtG(Q(m.value))}),e.qZA()}if(2&r){const t=P.$implicit,_=e.oxw(4);e.Q6J("ngModel",t)("filter",!1)("options",_.warehouses)}}function h(r,P){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",24),e.TgZ(2,"th",25),e._uU(3," \u0417\u0430\u043a\u0430\u0437 "),e._UZ(4,"p-sortIcon",26),e.TgZ(5,"p-columnFilter",27),e.YNc(6,$e,3,0,"ng-template",20),e.YNc(7,A,3,3,"ng-template",28),e.qZA()(),e.TgZ(8,"th",29),e._uU(9,"\u0421\u0443\u043c\u043c\u0430 "),e._UZ(10,"p-sortIcon",30),e.qZA(),e.TgZ(11,"th"),e._uU(12," \u0421\u0442\u0430\u0442\u0443\u0441 "),e.TgZ(13,"p-columnFilter",31),e.YNc(14,L,3,0,"ng-template",20),e.YNc(15,O,1,3,"ng-template",28),e.qZA(),e._uU(16," / \u0421\u043a\u043b\u0430\u0434 "),e.TgZ(17,"p-columnFilter",32),e.YNc(18,o,3,0,"ng-template",20),e.YNc(19,f,1,3,"ng-template",28),e.qZA()()()),2&r&&(e.xp6(5),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),e.xp6(8),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),e.xp6(4),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1))}function v(r,P){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"img",50),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.primaryImage,e.LSH)}}function E(r,P){if(1&r&&(e.ynx(0),e._uU(1),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" - ",t.price*t.quantity,"\u20bd")}}function D(r,P){if(1&r&&(e.ynx(0),e._UZ(1,"div",47),e.YNc(2,v,2,1,"div",17),e.TgZ(3,"span",48)(4,"a",49),e._uU(5),e.qZA(),e._uU(6),e.TgZ(7,"b"),e._uU(8),e.YNc(9,E,2,1,"ng-container",17),e.qZA()(),e.BQk()),2&r){const t=P.$implicit;e.xp6(2),e.Q6J("ngIf",t.primaryImage),e.xp6(1),e.Q6J("title",t.name),e.xp6(1),e.s9C("href",t.link,e.LSH),e.xp6(1),e.Oqu(t.productPackageID),e.xp6(1),e.hij(" x ",t.price,"\u20bd x "),e.xp6(2),e.hij("",t.quantity,"\u0448\u0442"),e.xp6(1),e.Q6J("ngIf",1!=t.quantity)}}function I(r,P){if(1&r&&(e.ynx(0),e.TgZ(1,"p-tag",53),e._uU(2),e.qZA(),e._uU(3," - "),e.TgZ(4,"p-tag",54),e._uU(5),e.qZA(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.key.clusterFrom),e.xp6(3),e.Oqu(t.key.clusterTo)}}function U(r,P){if(1&r&&(e.TgZ(0,"p-tag",55),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.key.clusterFrom," ")}}function B(r,P){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"p-tag",51),e._uU(2," x"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5),e.YNc(6,I,6,2,"ng-container",17),e.YNc(7,U,2,1,"p-tag",52),e.qZA()),2&r){const t=P.$implicit;e.xp6(1),e.Q6J("severity",t.key.statusTag)("icon","pi "+t.key.statusIcon),e.xp6(3),e.Oqu(t.value),e.xp6(1),e.hij(" ",t.key.warehouse," "),e.xp6(1),e.Q6J("ngIf",t.key.clusterFrom!=t.key.clusterTo),e.xp6(1),e.Q6J("ngIf",t.key.clusterFrom==t.key.clusterTo)}}function oe(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"i",43),e.qZA(),e.TgZ(3,"td")(4,"div")(5,"span",44),e._uU(6,"\u0422\u043e\u0432\u0430\u0440"),e.qZA(),e.TgZ(7,"div",45),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"div"),e.YNc(11,D,10,7,"ng-container",40),e.qZA()()(),e.TgZ(12,"td")(13,"div")(14,"span",46),e._uU(15,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(16,"div"),e._uU(17),e.ALo(18,"number"),e.qZA()()(),e.TgZ(19,"td")(20,"div")(21,"span",46),e._uU(22,"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),e.qZA(),e.YNc(23,B,8,6,"div",40),e.ALo(24,"keyvalue"),e.qZA()()()),2&r){const t=P.$implicit,_=e.oxw(3);e.xp6(2),e.Gre("pi ",_.getOrderTypeIcon(t.type),""),e.Q6J("pRowToggler",t),e.xp6(6),e.Oqu(e.xi3(9,8,t.date,"y-MM-dd HH:mm")),e.xp6(3),e.Q6J("ngForOf",t.products),e.xp6(6),e.hij(" ",e.xi3(18,11,t.sum,"1.2-2"),"\u20bd "),e.xp6(6),e.Q6J("ngForOf",e.lcZ(24,14,t.directions))}}function de(r,P){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0426\u0435\u043d\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA()())}function ue(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",44),e._uU(4,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b"),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA()()(),e.TgZ(7,"td")(8,"div")(9,"span",44),e._uU(10,"\u0426\u0435\u043d\u0430"),e.qZA(),e.TgZ(11,"div"),e._uU(12),e.ALo(13,"number"),e.qZA()()(),e.TgZ(14,"td")(15,"div")(16,"span",44),e._uU(17,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e.TgZ(18,"div"),e._uU(19),e.qZA()()(),e.TgZ(20,"td")(21,"div")(22,"span",44),e._uU(23,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(24,"div"),e._uU(25),e.qZA()()()()),2&r){const t=P.$implicit;e.xp6(6),e.hij(" ",t.product.productPackageID," "),e.xp6(6),e.hij(" ",e.xi3(13,4,t.price,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",t.quantity," "),e.xp6(6),e.hij(" ",t.product.name," ")}}function pe(r,P){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA()())}function Te(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",44),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"div")(6,"a",58),e.ALo(7,"date"),e._uU(8),e.qZA()()()(),e.TgZ(9,"td")(10,"div")(11,"span",44),e._uU(12,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(13,"div"),e._uU(14),e.ALo(15,"date"),e.qZA()()(),e.TgZ(16,"td")(17,"div")(18,"span",44),e._uU(19,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(20,"div"),e._uU(21),e.ALo(22,"number"),e.qZA()()(),e.TgZ(23,"td")(24,"div")(25,"span",44),e._uU(26,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(27,"div"),e._uU(28),e.ALo(29,"number"),e.qZA()()(),e.TgZ(30,"td")(31,"div")(32,"span",44),e._uU(33,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(34,"div"),e._uU(35),e.qZA()()(),e.TgZ(36,"td")(37,"div")(38,"span",44),e._uU(39,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA(),e.TgZ(40,"div"),e._uU(41),e.qZA()()()()),2&r){const t=P.$implicit,_=e.oxw(7);e.xp6(6),e.hYB("href","https://seller.ozon.ru/app/finances/financial-statement/",t.iD,"?date=",e.xi3(7,8,t.date,"y-MM-dd HH:mm"),"",e.LSH),e.xp6(2),e.Oqu(t.iD),e.xp6(6),e.hij(" ",e.xi3(15,11,t.date,"y-MM-dd HH:mm")," "),e.xp6(7),e.hij(" ",e.xi3(22,14,t.amount,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",e.xi3(29,17,t.saleCommission,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",_.getOperationTypeText(t.operationType)," "),e.xp6(6),e.hij(" ",_.getTransactionTypeText(t.accrualType)," ")}}const we=function(){return{"min-width":"50rem"}};function Oe(r,P){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",56)(3,"h5")(4,"a",58),e._uU(5),e.qZA()()()(),e.TgZ(6,"tr")(7,"td",56)(8,"p-table",60),e.YNc(9,pe,13,0,"ng-template",20),e.YNc(10,Te,42,20,"ng-template",21),e.qZA()()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(4),e.MGl("href","https://seller.ozon.ru/app/finances/transactions-order?page=1&pageSize=50&search=",t.postingNumber,"",e.LSH),e.xp6(1),e.hij("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e \u2116",t.postingNumber,""),e.xp6(3),e.Q6J("value",t.operations)("breakpoint","960px")("tableStyle",e.DdM(5,we))}}function Ee(r,P){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",57)(3,"a",58),e._uU(4),e.qZA(),e._UZ(5,"p-tag",59),e.qZA()(),e.TgZ(6,"tr")(7,"td",56)(8,"p-table",60),e.YNc(9,de,9,0,"ng-template",20),e.YNc(10,ue,26,7,"ng-template",21),e.qZA()()(),e.YNc(11,Oe,11,6,"ng-container",17),e.BQk()),2&r){const t=P.$implicit;e.xp6(3),e.MGl("href","https://seller.ozon.ru/app/postings/fbo/",t.postingNumber,"",e.LSH),e.xp6(1),e.hij("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u2116",t.postingNumber,""),e.xp6(1),e.Q6J("value",t.statusText)("severity",t.statusTag),e.xp6(3),e.Q6J("value",t.orderItems)("breakpoint","960px")("tableStyle",e.DdM(8,we)),e.xp6(3),e.Q6J("ngIf",null==t.operations?null:t.operations.length)}}function Ze(r,P){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",56)(3,"h5"),e._uU(4,"\u0421\u043e\u0441\u0442\u0430\u0432 \u0437\u0430\u043a\u0430\u0437\u0430"),e.qZA()()(),e.YNc(5,Ee,12,9,"ng-container",40),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(5),e.Q6J("ngForOf",t.postings)}}function Je(r,P){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA()())}function st(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",44),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"div")(6,"a",58),e.ALo(7,"date"),e._uU(8),e.qZA()()()(),e.TgZ(9,"td")(10,"div")(11,"span",44),e._uU(12,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(13,"div"),e._uU(14),e.ALo(15,"date"),e.qZA()()(),e.TgZ(16,"td")(17,"div")(18,"span",44),e._uU(19,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(20,"div"),e._uU(21),e.ALo(22,"number"),e.qZA()()(),e.TgZ(23,"td")(24,"div")(25,"span",44),e._uU(26,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(27,"div"),e._uU(28),e.ALo(29,"number"),e.qZA()()(),e.TgZ(30,"td")(31,"div")(32,"span",44),e._uU(33,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(34,"div"),e._uU(35),e.qZA()()(),e.TgZ(36,"td")(37,"div")(38,"span",44),e._uU(39,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA(),e.TgZ(40,"div"),e._uU(41),e.qZA()()()()),2&r){const t=P.$implicit,_=e.oxw(5);e.xp6(6),e.hYB("href","https://seller.ozon.ru/app/finances/financial-statement/",t.iD,"?date=",e.xi3(7,8,t.date,"y-MM-dd HH:mm"),"",e.LSH),e.xp6(2),e.Oqu(t.iD),e.xp6(6),e.hij(" ",e.xi3(15,11,t.date,"y-MM-dd HH:mm")," "),e.xp6(7),e.hij(" ",e.xi3(22,14,t.amount,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",e.xi3(29,17,t.saleCommission,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",_.getOperationTypeText(t.operationType)," "),e.xp6(6),e.hij(" ",_.getTransactionTypeText(t.accrualType)," ")}}function Un(r,P){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",56)(3,"h5")(4,"a",58),e._uU(5),e.qZA()()()(),e.TgZ(6,"tr")(7,"td",56)(8,"p-table",61),e.YNc(9,Je,13,0,"ng-template",20),e.YNc(10,st,42,20,"ng-template",21),e.qZA()()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(4),e.MGl("href","https://seller.ozon.ru/app/finances/transactions-order?page=1&pageSize=50&search=",t.ozonOrderNumber,"",e.LSH),e.xp6(1),e.hij("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 \u2116",t.ozonOrderNumber,""),e.xp6(3),e.Q6J("value",t.orderOperations)("breakpoint","960px")("tableStyle",e.DdM(5,we))}}function Wn(r,P){if(1&r&&(e.YNc(0,Ze,6,1,"ng-container",17),e.YNc(1,Un,11,6,"ng-container",17)),2&r){const t=P.$implicit;e.Q6J("ngIf",null==t.postings?null:t.postings.length),e.xp6(1),e.Q6J("ngIf",null==t.orderOperations?null:t.orderOperations.length)}}function $n(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"th",56)(2,"table",62)(3,"tr"),e._UZ(4,"th"),e.TgZ(5,"th"),e._uU(6,"\u0417\u0430\u043a\u0430\u0437\u043e\u0432"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0422\u043e\u0432\u0430\u0440\u043e\u0432"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041e\u0442\u043c\u0435\u043d"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0421\u0443\u043c\u043c\u0430"),e.qZA()(),e.TgZ(13,"tr")(14,"th"),e._uU(15,"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"number"),e.qZA()(),e.TgZ(25,"tr")(26,"th"),e._uU(27,"\u0412\u0441\u0435\u0433\u043e"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.qZA(),e.TgZ(30,"td"),e._uU(31),e.qZA(),e.TgZ(32,"td"),e._uU(33),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.ALo(36,"number"),e.qZA()()()()()),2&r){const t=e.oxw(4);e.xp6(17),e.Oqu(t.pageOrderCount),e.xp6(2),e.Oqu(t.pageItemCount),e.xp6(2),e.Oqu(t.pageCanceledItemCount),e.xp6(2),e.hij("",e.xi3(24,8,t.pageOrderSum,"1.2-2"),"\u20bd"),e.xp6(6),e.Oqu(t.totalOrderCount),e.xp6(2),e.Oqu(t.totalItemCount),e.xp6(2),e.Oqu(t.totalCanceledItemCount),e.xp6(2),e.hij("",e.xi3(36,11,t.totalOrderSum,"1.2-2"),"\u20bd")}}function Kn(r,P){if(1&r&&e.YNc(0,$n,37,14,"tr",17),2&r){const t=e.oxw(3);e.Q6J("ngIf",t.pageOrderCount)}}const Xn=function(){return[30,50,100]},er=function(){return{}};function tr(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-table",19),e.NdJ("onPage",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.pageChange(m))})("onFilter",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.onFilter(m))}),e.YNc(1,h,20,9,"ng-template",20),e.YNc(2,oe,25,16,"ng-template",21),e.YNc(3,Wn,2,2,"ng-template",22),e.YNc(4,Kn,1,1,"ng-template",23),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("value",t.data)("loading",t.loading)("paginator",!0)("showCurrentPageReport",!1)("rows",t.filterModel.rows)("rowsPerPageOptions",e.DdM(7,Xn))("tableStyle",e.DdM(8,er))}}function nr(r,P){if(1&r&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"div",15),e._uU(6,"\u0417\u0430\u043a\u0430\u0437\u044b"),e.qZA(),e.TgZ(7,"div")(8,"div",16)(9,"span"),e._uU(10,"\u0417\u0430\u043a\u0430\u0437\u043e\u0432"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.qZA()()(),e.TgZ(13,"div",16)(14,"span"),e._uU(15,"\u0422\u043e\u0432\u0430\u0440\u043e\u0432"),e.qZA(),e.TgZ(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"div")(19,"div",16)(20,"span"),e._uU(21,"\u041a \u0432\u044b\u043f\u043b\u0430\u0442\u0435"),e.qZA(),e.YNc(22,ze,3,4,"span",17),e.YNc(23,We,2,0,"span",17),e.qZA()(),e.TgZ(24,"div")(25,"div",16)(26,"span"),e._uU(27,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(28,"span"),e._uU(29),e.ALo(30,"number"),e.qZA()()()()()(),e.TgZ(31,"div",12)(32,"div",13)(33,"div",14)(34,"div",15),e._uU(35,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b"),e.qZA(),e.TgZ(36,"div",16)(37,"span"),e._uU(38,"\u0422\u043e\u0432\u0430\u0440\u043e\u0432 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043e"),e.qZA(),e.TgZ(39,"span"),e._uU(40),e.qZA()(),e.TgZ(41,"div",16)(42,"span"),e._uU(43,"\u0422\u043e\u0432\u0430\u0440\u043e\u0432 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u043e"),e.qZA(),e.TgZ(44,"span"),e._uU(45),e.qZA()(),e.TgZ(46,"div",16)(47,"span"),e._uU(48,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(49,"span"),e._uU(50),e.ALo(51,"number"),e.qZA()(),e.TgZ(52,"div",16)(53,"span"),e._uU(54,"% \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043e\u0432"),e.qZA(),e.TgZ(55,"span"),e._uU(56),e.ALo(57,"number"),e.qZA()()()()(),e.TgZ(58,"div",12)(59,"div",13)(60,"div",14)(61,"div",15),e._uU(62,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u043a\u0430\u0437\u044b"),e.qZA(),e.TgZ(63,"div")(64,"div",16)(65,"span"),e._uU(66,"\u0417\u0430\u043a\u0430\u0437\u043e\u0432"),e.qZA(),e.TgZ(67,"span"),e._uU(68),e.qZA()()(),e.TgZ(69,"div",16)(70,"span"),e._uU(71,"\u0422\u043e\u0432\u0430\u0440\u043e\u0432"),e.qZA(),e.TgZ(72,"span"),e._uU(73),e.qZA()(),e.TgZ(74,"div")(75,"div",16)(76,"span"),e._uU(77,"\u041a \u0432\u044b\u043f\u043b\u0430\u0442\u0435"),e.qZA(),e.TgZ(78,"span"),e._uU(79),e.ALo(80,"number"),e.qZA()()(),e.TgZ(81,"div")(82,"div",16)(83,"span"),e._uU(84,"\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0434\u0430\u0436"),e.qZA(),e.TgZ(85,"span"),e._uU(86),e.ALo(87,"number"),e.qZA()()()()()()(),e.YNc(88,tr,5,9,"p-table",18),e.qZA()),2&r){const t=P.ngIf,_=e.oxw();e.xp6(12),e.Oqu(t.totalOrderCount),e.xp6(5),e.Oqu(t.totalProductCount),e.xp6(5),e.Q6J("ngIf",t.expectedPayout),e.xp6(1),e.Q6J("ngIf",!t.expectedPayout),e.xp6(6),e.hij("",e.xi3(30,14,t.totalSum,"1.2-2"),"\u20bd"),e.xp6(11),e.Oqu(t.cancelledProductCount),e.xp6(5),e.Oqu(t.returnedProductCount),e.xp6(5),e.hij("",e.xi3(51,17,t.returnSum,"1.2-2"),"\u20bd"),e.xp6(6),e.hij("",e.xi3(57,20,100*t.returnProductCountPercentage,"1.1-1"),"%"),e.xp6(12),e.Oqu(t.finalizedOrderCount),e.xp6(5),e.Oqu(t.finalizedProductCount),e.xp6(6),e.hij("",e.xi3(80,23,t.finalizedSum,"1.2-2"),"\u20bd"),e.xp6(7),e.hij("",e.xi3(87,26,t.finalizedSalesSum,"1.2-2"),"\u20bd"),e.xp6(2),e.Q6J("ngIf",_.data)}}var Pe=function(r){return r[r.ThisDay=0]="ThisDay",r[r.PreviousDay=1]="PreviousDay",r[r.Day=2]="Day",r[r.ThisWeek=3]="ThisWeek",r[r.PreviousWeek=4]="PreviousWeek",r[r.Week=5]="Week",r[r.ThisMonth=6]="ThisMonth",r[r.PreviousMonth=7]="PreviousMonth",r[r.Month=8]="Month",r[r.Custom=9]="Custom",r}(Pe||{});let rr=(()=>{class r extends l.V{constructor(t,_,m,z,Q,le,fe,ge,xe){super(ge),this.ozonSalesOrderClient=t,this.ozonPostingCommandClient=_,this.ozonOperationCommandClient=m,this.ozonOperationClient=z,this.messageService=Q,this.ozonWarehouseService=le,this.timeService=fe,this.dbService=xe,this.pageOrderSum=0,this.pageOrderCount=0,this.pageItemCount=0,this.totalOrderSum=0,this.totalOrderCount=0,this.totalItemCount=0,this.dateRangeTypes=Pe,this.loading=!1,this.productPackageIDs=[],this.warehouses=[],this.isLoading=!1,this.findOrdersSubject=new d.X(null),this.dateRangeOptions=[{name:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",value:Pe.ThisDay},{name:"\u0412\u0447\u0435\u0440\u0430",value:Pe.PreviousDay},{name:"\u0421\u0443\u0442\u043a\u0438",value:Pe.Day},{name:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f",value:Pe.ThisWeek},{name:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f",value:Pe.PreviousWeek},{name:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043d\u0435\u0434\u0435\u043b\u044f",value:Pe.Week},{name:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446",value:Pe.ThisMonth},{name:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446",value:Pe.PreviousMonth},{name:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043c\u0435\u0441\u044f\u0446",value:Pe.Month},{name:"\u0417\u0430 \u043f\u0435\u0440\u0438\u043e\u0434",value:Pe.Custom}],this.filterModel={dateRangeType:Pe.ThisDay,rows:50},this.orderStatuses=[{status:c.f.PostingStatus.AwaitingPackaging,text:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0438"},{status:c.f.PostingStatus.AwaitingDeliver,text:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"},{status:c.f.PostingStatus.Delivering,text:"\u0414\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f"},{status:c.f.PostingStatus.Delivered,text:"\u0414\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d"},{status:c.f.PostingStatus.Cancelled,text:"\u041e\u0442\u043c\u0435\u043d\u0451\u043d"},{status:c.f.PostingStatus.AwaitingRegistration,text:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"},{status:c.f.PostingStatus.AcceptanceInProgress,text:"\u0418\u0434\u0451\u0442 \u043f\u0440\u0438\u0451\u043c\u043a\u0430"},{status:c.f.PostingStatus.AwaitingApprove,text:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f"},{status:c.f.PostingStatus.Arbitration,text:"\u0410\u0440\u0431\u0438\u0442\u0440\u0430\u0436"},{status:c.f.PostingStatus.ClientArbitration,text:"\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0430\u0440\u0431\u0438\u0442\u0440\u0430\u0436 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"},{status:c.f.PostingStatus.DriverPickup,text:"\u0423 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f"},{status:c.f.PostingStatus.NotAccepted,text:"\u041d\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u043e"},{status:c.f.PostingStatus.SentBySeller,text:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u043e\u043c"}]}updateFilter(t){this.dbService.update("filters",{id:r.name,data:t}).pipe((0,p.K)(_=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430",severity:"error",detail:_}),x.E))).subscribe()}ngOnInit(){this.titleService.setTitle("\u0417\u0430\u043a\u0430\u0437\u044b Ozon"),this.ozonWarehouseService.getWarehouses().pipe((0,T.h)(t=>!this.ozonWarehouses&&!!t)).subscribe(t=>{this.ozonWarehouses=t,this.findOrdersSubject.pipe((0,M.R)(this.destroyed),(0,T.h)(_=>!!_)).pipe((0,b.b)(_=>{this.updateFilter(_)})).subscribe(_=>{this.findOrders()})}),this.dbService.getByID("filters",r.name).subscribe(t=>{t&&t.data&&(this.filterModel=t.data),this.changeReportDate()})}changeReportDate(){var t=this;return(0,s.Z)(function*(){t.findOrdersSubject.next(t.filterModel)})()}getSummary(){let t=0,_=0,m=0,z=0,Q=0,le=0,fe=0,ge=0,xe=0,be=0;if(this.data)for(const ct of this.data){let vt=!1,Qe=!1,Be=!1,Vn=!1;for(let Ge of ct.orderItems){if(Ge.status==c.f.PostingStatus.Cancelled){const yt=ct.operations.filter(kt=>kt.postingNumber==Ge.postingNumber).reduce((kt,Yn)=>kt+Yn.amount,0);0!=yt?(Be||=!0,be+=Ge.quantity,ge+=yt,t+=yt,z-=yt):(Qe||=!0,xe+=Ge.quantity)}else{Vn=!0;const yt=ct.operations.filter(kt=>kt.postingNumber==Ge.postingNumber).reduce((kt,Yn)=>kt+Yn.amount,0);Ge.status==c.f.PostingStatus.Delivered&&(vt=!0,m+=Ge.quantity,t+=yt,z+=Ge.price),fe+=Ge.quantity}Q+=Ge.price}const vo=ct.operations.filter(Ge=>Ge.postingNumber==ct.ozonOrderNumber).reduce((Ge,yt)=>Ge+yt.amount,0);vt&&_++,(vt||Qe||Be)&&(t+=vo),Vn&&le++}const ke=m+be==0?0:be/(m+be);return{finalizedOrderCount:_,finalizedSum:t,finalizedProductCount:m,returnSum:ge,cancelledProductCount:xe,returnedProductCount:be,returnProductCountPercentage:ke,totalOrderCount:le,totalSum:Q,totalProductCount:fe,finalizedSalesSum:z,expectedPayout:ke*fe*(0==be?0:ge/be)+t*Q/z}}pageChange(t){this.filterModel.rows!=t.rows&&this.updateFilter(this.filterModel),this.filterModel.rows=t.rows;let _=0,m=0,le=0,fe=t.first;const ge=Math.min(t.rows+fe,this.filteredData.length);for(this.pageOrderCount=ge==fe?0:ge-fe;fe<ge;fe++){const xe=this.filteredData[fe];_+=xe.sum,xe.orderItems.forEach(be=>{be.status==c.f.PostingStatus.Cancelled?le+=be.quantity:m+=be.quantity})}this.pageOrderSum=_,this.pageItemCount=m,this.pageCanceledItemCount=le}onFilter(t){this.filteredData=t.filteredValue,this.pageChange({first:0,rows:this.filterModel.rows})}getOrderTypeIcon(t){switch(t){case c.f.OzonSalesOrderType.Fbo:return"ozon-fbo";case c.f.OzonSalesOrderType.Fbs:return"ozon-fbs";default:return"pi-question"}}mapOrder(t){const _=[],m=new Set(t.orderItems.map(ge=>ge.postingNumber));let z=t.orderItems.reduce((ge,xe)=>{const be=null==ge[xe.product.productPackageID]?{quantity:0,name:xe.product.name}:ge[xe.product.productPackageID];return be.quantity+=xe.quantity,be.primaryImage=xe.product.primaryImage,be.price=xe.price,be.link="https://www.ozon.ru/product/"+(xe.product.sku||(t.type==c.f.OzonSalesOrderType.Fbo?xe.product.fboSku:xe.product.fbsSku)),ge[xe.product.productPackageID]=be,ge},{}),Q=Object.keys(z).map(ge=>({productPackageID:ge,quantity:z[ge].quantity,primaryImage:z[ge].primaryImage,link:z[ge].link,name:z[ge].name,price:z[ge].price}));for(const ge of m){const xe=t.orderItems.filter(Me=>Me.postingNumber==ge),be={postingNumber:ge,orderItems:xe,operations:t.operations.filter(Me=>Me.postingNumber==ge),status:xe[0].status,statusText:this.orderStatuses.find(Me=>Me.status==xe[0].status)?.text,statusTag:this.getOrderStatusTag(xe[0].status)};_.push(be)}var le=t;le.products=Q,le.orderOperations=le.operations.filter(ge=>ge.postingNumber==le.ozonOrderNumber),le.sum=t.operations.reduce((ge,xe)=>ge+xe.amount,0),le.productCount=t.orderItems.reduce((ge,xe)=>ge+xe.quantity,0),le.statuses=this.getOrderStatuses(le),le.status=le.statuses.map(ge=>ge.status),le.product=le.products.map(ge=>ge.productPackageID),le.directions=this.getOrderDirections(le);const fe=new Set;return le.directions.forEach((ge,xe)=>fe.add(xe.warehouse)),le.orderWarehouses=[...fe],le.postings=_,le}getOrderStatuses(t){return[...new Set(t.orderItems.map(z=>z.status))].map(z=>({status:z,statusText:this.orderStatuses.find(Q=>Q.status==z)?.text??t.toString(),tag:this.getOrderStatusTag(z),icon:this.getOrderStatusIcon(z)}))}getOrderStatusIcon(t){switch(t){case c.f.PostingStatus.AwaitingDeliver:return"pi-car";case c.f.PostingStatus.Cancelled:return"pi-ban";case c.f.PostingStatus.AwaitingPackaging:return"pi-box";case c.f.PostingStatus.Delivering:return"pi-car";case c.f.PostingStatus.Delivered:return"pi-dollar";default:return""}}getOrderStatusTag(t){switch(t){case c.f.PostingStatus.AwaitingDeliver:return"warning";case c.f.PostingStatus.Cancelled:return"danger";case c.f.PostingStatus.AwaitingPackaging:return"warning";case c.f.PostingStatus.Delivering:return"info";case c.f.PostingStatus.Delivered:return"success";default:return"warning"}}importOrders(){var t=this;return(0,s.Z)(function*(){let[_,m]=t.getDateRange();m?.setDate(m.getDate()+1);const z=(0,p.K)(Q=>(t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:Q}),t.loading=!1,x.E));yield t.ozonPostingCommandClient.importOzonFboPostings(_,m).pipe(z).pipe((0,u.w)(()=>t.ozonOperationCommandClient.importOzonOperations(_,m).pipe(z))).subscribe(()=>{t.findOrdersSubject.next(t.filterModel)})})()}getDateRange(){var t=new Date,_=null;switch(this.filterModel.dateRangeType){case Pe.ThisDay:t.setHours(0,0,0,0);break;case Pe.PreviousDay:t.setDate(t.getDate()-1),t.setHours(0,0,0,0),_=new Date(t);break;case Pe.Day:t.setDate(t.getDate()-1);break;case Pe.ThisWeek:t.setDate(t.getDate()-(t.getDay()?t.getDay()-1:6)),t.setHours(0,0,0,0);break;case Pe.PreviousWeek:const z=(_=new Date(t)).getDay()||7;_.setHours(0,0,0,0),_.setDate(_.getDate()-z),(t=new Date(_)).setDate(t.getDate()-6);break;case Pe.Week:t.setDate(t.getDate()-7);break;case Pe.ThisMonth:t.setHours(0,0,0,0),t.setDate(1);break;case Pe.PreviousMonth:t.setHours(0,0,0,0),t.setDate(1),(_=new Date(t)).setDate(_.getDate()-1),t.setMonth(t.getMonth()-1);break;case Pe.Month:t.setMonth(t.getMonth()-1);break;default:t=this.filterModel.dateRange?.[0],t=null==t?null:new Date(t.getFullYear(),t.getMonth(),t.getDate()),_=this.filterModel.dateRange?.[1],_=null==_?null:new Date(_.getFullYear(),_.getMonth(),_.getDate())}return[t,_]}getOrderDirections(t){const _=new Map;return t.orderItems.reduce((m,z)=>{const Q=this.ozonWarehouses.find(xe=>xe.iD==z.ozonWarehouseID)?.name||"<UNKNOWN>",le=`${z.clusterFrom}#${z.clusterTo}#${Q}#${z.status}`;_.has(le)||_.set(le,{clusterFrom:z.clusterFrom,clusterTo:z.clusterTo,warehouse:Q,clusterTag:z.clusterFrom==z.clusterTo?"success":"danger",statusTag:this.getOrderStatusTag(z.status),statusIcon:this.getOrderStatusIcon(z.status)});const fe=_.get(le);let ge=m.has(fe)?m.get(fe):0;return ge+=z.quantity,m.set(fe,ge),m},new Map)}findOrders(){let[t,_]=this.getDateRange();_?.setDate(_.getDate()+1);const z=new c.f.FindPostingsModel({dateFrom:t??void 0,dateTo:_??void 0,orderNumbers:[]});this.loading=!0,this.ozonSalesOrderClient.findSalesOzonOrders(z).pipe((0,p.K)(Q=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:Q}),this.loading=!1,x.E))).subscribe(Q=>{this.loading=!1;let le=0,fe=0,ge=0,xe=0;const be=new Map,Me=new Set;this.data=Q?.map(ke=>{const Ce=this.mapOrder(ke);return Ce.orderWarehouses.forEach(Ne=>Me.add(Ne)),fe++,le+=Ce.sum,Ce.orderItems.forEach(Ne=>{Ne.status==c.f.PostingStatus.Cancelled?xe+=Ne.quantity:ge+=Ne.quantity,be.set(Ne.product.productPackageID,Ne.product.primaryImage)}),Ce}),this.warehouses=Array.from(Me).sort((ke,Ce)=>ke.localeCompare(Ce)),this.productPackageIDs=Array.from(be.entries(),([ke,Ce])=>({id:ke,image:Ce})).sort((ke,Ce)=>Math.sign(ke.id-Ce.id)).map(ke=>({id:ke.id.toString(),image:ke.image})),this.totalOrderSum=le,this.totalOrderCount=fe,this.totalItemCount=ge,this.totalCanceledItemCount=xe,this.filteredData=this.data,this.pageChange({first:0,rows:this.filterModel.rows})})}getTransactionTypeText(t){return c.f.TransactionType[t]}getOperationTypeText(t){return c.f.OperationType[t]}static#e=this.\u0275fac=function(_){return new(_||r)(e.Y36(c.f.OzonSalesOrderClient),e.Y36(S.Q.PostingClient),e.Y36(S.Q.OperationClient),e.Y36(c.f.OperationClient),e.Y36(w.ez),e.Y36(k.w),e.Y36(F.O),e.Y36(q.Dx),e.Y36(Z.ys))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-ozon-sales-order-list"]],features:[e.qOj],decls:8,vars:6,consts:[["header","\u0417\u0430\u043a\u0430\u0437\u044b Ozon"],[1,"justify-content-center"],["icon","pi pi-search","optionLabel","name","optionValue","value",3,"options","tabIndex","ngModel","tabIndexChange","ngModelChange","onOptionClick"],["class","justify-content-center mb-1",4,"ngIf"],["styleClass","m-3","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439",3,"icon","click",4,"ngIf"],["class","card",4,"ngIf"],[1,"justify-content-center","mb-1"],["selectionMode","range","placeholder","\u041f\u0435\u0440\u0438\u043e\u0434",3,"ngModel","showClear","selectOtherMonths","readonlyInput","ngModelChange"],["icon","pi pi-search","label","\u041d\u0430\u0439\u0442\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f",3,"click"],["styleClass","m-3","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439",3,"icon","click"],[1,"card"],[1,"grid"],[1,"col-12","md:col-4"],[1,"card","text-right"],[1,"text-900","font-medium","text-xl","mb-3"],[1,"text-500","text-center"],[1,"flex","justify-content-between"],[4,"ngIf"],["responsiveLayout","stack","dataKey","iD",3,"value","loading","paginator","showCurrentPageReport","rows","rowsPerPageOptions","tableStyle","onPage","onFilter",4,"ngIf"],["responsiveLayout","stack","dataKey","iD",3,"value","loading","paginator","showCurrentPageReport","rows","rowsPerPageOptions","tableStyle","onPage","onFilter"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","footer"],["width","1%"],["pSortableColumn","date"],["field","date"],["field","product","matchMode","intersects","display","menu",3,"showMatchModes","showOperator","showAddButton"],["pTemplate","filter"],["pSortableColumn","sum"],["field","sum"],["field","status","matchMode","intersects","display","menu",3,"showMatchModes","showOperator","showAddButton"],["field","orderWarehouses","matchMode","intersects","display","menu",3,"showMatchModes","showOperator","showAddButton"],[1,"px-3","pt-3","pb-0"],[1,"font-bold"],["optionValue","id","placeholder","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435","appendTo","body",3,"ngModel","filter","options","onChange"],["pTemplate","item"],["pTemplate","selectedItems"],[1,"flex","align-items-center","gap-2"],[2,"width","36px",3,"src"],[4,"ngFor","ngForOf"],["optionValue","status","placeholder","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435","optionLabel","text",3,"ngModel","filter","options","onChange"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435",3,"ngModel","filter","options","onChange"],[3,"pRowToggler"],[1,"p-column-title","font-bold"],[1,"mb-2"],[1,"p-column-title"],[1,"vertical-align-middle"],[3,"title"],["target","_blank",3,"href"],["width","50",3,"src"],[3,"severity","icon"],["severity","success",4,"ngIf"],["severity","info"],["severity","danger"],["severity","success"],["colspan","4"],["colspan","4",1,"text-left","justify-content-start"],["target","_blank","rel","noreferrer",3,"href"],[3,"value","severity"],["responsiveLayout","stack",3,"value","breakpoint","tableStyle"],["dataKey","iD","responsiveLayout","stack",3,"value","breakpoint","tableStyle"],[1,"text-right"]],template:function(_,m){1&_&&(e._UZ(0,"p-toast")(1,"p-scrollTop"),e.TgZ(2,"p-card",0)(3,"div",1)(4,"p-selectButton",2),e.NdJ("tabIndexChange",function(Q){return m.filterModel.dateRangeType=Q})("ngModelChange",function(Q){return m.filterModel.dateRangeType=Q})("onOptionClick",function(){return m.changeReportDate()}),e.qZA()(),e.YNc(5,Se,3,4,"div",3),e.YNc(6,De,1,1,"p-button",4),e.qZA(),e.YNc(7,nr,89,29,"div",5)),2&_&&(e.xp6(4),e.Q6J("options",m.dateRangeOptions)("tabIndex",m.filterModel.dateRangeType)("ngModel",m.filterModel.dateRangeType),e.xp6(1),e.Q6J("ngIf",m.filterModel.dateRangeType==m.dateRangeTypes.Custom),e.xp6(1),e.Q6J("ngIf",void 0!==m.filterModel.dateRangeType),e.xp6(1),e.Q6J("ngIf",m.getSummary()))},dependencies:[w.jx,j.zx,H.f,V.Z,n.sg,n.O5,X.JJ,X.On,C,G.F,K.UN,W.iA,W.lQ,W.jB,W.fz,W.xl,he.V,me.FN,n.JJ,n.uU,n.Nd],styles:["@media (min-width: 961px){.p-column-title[_ngcontent-%COMP%]{display:none}}@media (max-width: 960px){.p-column-title[_ngcontent-%COMP%]{display:block}.p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block}}"]})}return r})();var ir=y(6387),qn=y(8057),Nn=y(3714),Gn=y(3904),Bn=y(3530),jn=y(9653);function or(r,P){1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th"),e.TgZ(2,"th",9),e._uU(3," ID "),e._UZ(4,"p-sortIcon",10),e.qZA(),e.TgZ(5,"th",11),e._uU(6," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 "),e._UZ(7,"p-sortIcon",12),e.qZA(),e._UZ(8,"th"),e.qZA(),e.TgZ(9,"tr"),e._UZ(10,"th"),e.TgZ(11,"th"),e._UZ(12,"p-columnFilter",13),e.qZA(),e.TgZ(13,"th"),e._UZ(14,"p-columnFilter",14),e.qZA(),e._UZ(15,"th"),e.qZA()),2&r&&(e.xp6(12),e.Q6J("showButtons",!1)("useGrouping",!1))}function ar(r,P){if(1&r&&e._UZ(0,"button",21),2&r){const t=e.oxw(),m=t.expanded;e.Q6J("pRowToggler",t.$implicit)("icon",m?"pi pi-chevron-down":"pi pi-chevron-right")}}function ur(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"a",15),e._UZ(3,"i",16),e.qZA(),e.TgZ(4,"a",15),e._UZ(5,"i",17),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td")(11,"p-button",18),e.NdJ("click",function(){const z=e.CHM(t).$implicit,Q=e.oxw();return e.KtG(Q.showBarcodeGenerator(z))}),e.qZA(),e.TgZ(12,"p-button",19),e.NdJ("click",function(m){const Q=e.CHM(t).$implicit,le=e.oxw();return e.KtG(le.confirmProductRemoval(m,Q))}),e.qZA(),e.YNc(13,ar,1,2,"button",20),e.qZA()()}if(2&r){const t=P.$implicit;e.xp6(2),e.MGl("href","https://www.ozon.ru/product/",t.sku,"",e.LSH),e.xp6(2),e.MGl("href","https://seller.ozon.ru/app/prices/control?search=",t.sku,"",e.LSH),e.xp6(3),e.Oqu(t.productPackageID),e.xp6(2),e.Oqu(t.name),e.xp6(4),e.Q6J("ngIf",null==t.stocks?null:t.stocks.length)}}function lr(r,P){1&r&&(e.TgZ(0,"tr")(1,"th",26),e._uU(2,"\u0421\u043a\u043b\u0430\u0434 "),e._UZ(3,"p-sortIcon",27),e.qZA(),e.TgZ(4,"th",28),e._uU(5,"\u041a\u043b\u0430\u0441\u0442\u0435\u0440 "),e._UZ(6,"p-sortIcon",29),e.qZA(),e.TgZ(7,"th",30),e._uU(8,"\u041d\u0430\u043b\u0438\u0447\u0438\u0435 "),e._UZ(9,"p-sortIcon",31),e.qZA(),e.TgZ(10,"th",32),e._uU(11,"\u0420\u0435\u0437\u0435\u0440\u0432 "),e._UZ(12,"p-sortIcon",33),e.qZA()())}function sr(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",34),e._uU(6),e.qZA(),e.TgZ(7,"td",34),e._uU(8),e.qZA()()),2&r){const t=P.$implicit;e.xp6(2),e.Oqu(t.warehouse.name),e.xp6(2),e.Oqu(t.warehouse.warehouseCluster),e.xp6(2),e.Oqu(t.present),e.xp6(2),e.Oqu(t.reserved)}}function cr(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td",35),e._uU(2,"\u0412\u0441\u0435\u0433\u043e:"),e.qZA(),e.TgZ(3,"td",34),e._uU(4),e.qZA(),e.TgZ(5,"td",34),e._uU(6),e.qZA()()),2&r){const t=e.oxw(2).$implicit;e.xp6(4),e.Oqu(t.totalPresent),e.xp6(2),e.Oqu(t.totalReserved)}}function dr(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td",23)(2,"div")(3,"p-table",24),e.YNc(4,lr,13,0,"ng-template",3),e.YNc(5,sr,9,4,"ng-template",4),e.YNc(6,cr,7,2,"ng-template",25),e.qZA()()()()),2&r){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("value",t.stocks)}}function pr(r,P){if(1&r&&e.YNc(0,dr,7,1,"tr",22),2&r){const t=P.$implicit;e.Q6J("ngIf",null==t.stocks?null:t.stocks.length)}}function fr(r,P){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",44)(2,"div",45)(3,"label",46),e._uU(4,"\u0422\u0435\u043a\u0441\u0442"),e.qZA(),e.TgZ(5,"input",47),e.NdJ("ngModelChange",function(m){const Q=e.CHM(t).$implicit;return e.KtG(Q.text=m)}),e.qZA()()(),e.TgZ(6,"div",45)(7,"label",48),e._uU(8,"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430"),e.qZA(),e.TgZ(9,"p-inputNumber",49),e.NdJ("ngModelChange",function(m){const Q=e.CHM(t).$implicit;return e.KtG(Q.fontSize=m)}),e.qZA()(),e.TgZ(10,"div",45)(11,"label",50),e._uU(12,"\u0416\u0438\u0440\u043d\u044b\u0439"),e.qZA(),e.TgZ(13,"p-checkbox",51),e.NdJ("ngModelChange",function(m){const Q=e.CHM(t).$implicit;return e.KtG(Q.bold=m)}),e.qZA()(),e.BQk()}if(2&r){const t=P.$implicit;e.xp6(5),e.Q6J("ngModel",t.text),e.xp6(4),e.Q6J("ngModel",t.fontSize)("showButtons",!0),e.xp6(4),e.Q6J("ngModel",t.bold)("binary",!0)}}function hr(r,P){if(1&r&&(e.O4$(),e.ynx(0),e._UZ(1,"rect",52),e.BQk()),2&r){const t=P.$implicit;e.xp6(1),e.uIk("width",3*t.width)("x",3*t.offset+89)}}function _r(r,P){if(1&r&&(e.O4$(),e.ynx(0),e._UZ(1,"text",53),e.BQk()),2&r){const t=P.$implicit,_=P.index,m=e.oxw(3);e.xp6(1),e.Q6J("innerHTML",t.text,e.oJD),e.uIk("font-weight",t.bold?"bold":"normal")("font-size",t.fontSize)("y",160+40*_/m.barcodeTexts.length)}}function gr(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"div",38),e.YNc(1,fr,14,5,"ng-container",39),e.TgZ(2,"div")(3,"p-button",40),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2);return e.KtG(m.addBarcodeText())}),e.qZA()()(),e.TgZ(4,"div"),e.O4$(),e.TgZ(5,"svg",41),e._UZ(6,"rect",42),e.YNc(7,hr,2,2,"ng-container",39),e.YNc(8,_r,2,4,"ng-container",39),e.qZA(),e.kcU(),e.TgZ(9,"a",43),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2);return e.KtG(m.downloadBarcode())}),e._uU(10,"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.barcodeTexts),e.xp6(6),e.Q6J("ngForOf",t.barcodeData),e.xp6(1),e.Q6J("ngForOf",t.barcodeTexts),e.xp6(1),e.Q6J("download",t.selectedProductForBarcode.productPackageID+".png")}}const mr=function(){return{width:"50vw"}};function vr(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-dialog",36),e.NdJ("onShow",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.onShowBarcodeDialog())})("visibleChange",function(m){e.CHM(t);const z=e.oxw();return e.KtG(z.selectedProductForBarcode=m)}),e.YNc(1,gr,11,4,"ng-template",37),e.qZA()}if(2&r){const t=e.oxw();e.Akn(e.DdM(6,mr)),e.Q6J("modal",!0)("visible",t.selectedProductForBarcode)("draggable",!1)("resizable",!1)}}const yr=function(){return{"min-width":"75rem"}},xr=function(){return[10,25,50]},br=function(){return["name"]};let Tr=(()=>{class r extends l.V{addBarcodeText(){this.barcodeTexts=[...this.barcodeTexts,{fontSize:10,text:"",bold:!1}]}constructor(t,_,m,z,Q){super(Q),this.ozonProductClient=t,this.messageService=_,this.ozonProductCommandHandler=m,this.confirmationService=z,this.findProductsSubject=new d.X(null),this.rows=50,this.barcodeHeight=10}ngOnInit(){this.titleService.setTitle("Ozon Products"),this.px2mmFactor=this.calcPx2MmFactor()}findProducts(t){this.ozonProductClient.findOzonProducts(t).pipe((0,M.R)(this.destroyed)).pipe((0,p.K)(_=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:_}),x.E))).subscribe(_=>{_.items?.forEach(m=>{let z=m;z.totalPresent=m.stocks.reduce((Q,le)=>Q+le.present,0),z.totalReserved=m.stocks.reduce((Q,le)=>Q+le.reserved,0)}),this.data=_.items,this.totalRecords=_.totalCount})}confirmProductRemoval(t,_){this.confirmationService.confirm({target:t.target,message:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440?",header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{this.ozonProductCommandHandler.removeOzonProduct(_.productPackageID).pipe((0,p.K)(m=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430",severity:"error",detail:m}),x.E))).subscribe(m=>{const z=this.data.indexOf(_);this.data.splice(z,1),this.messageService.add({summary:"\u0422\u043e\u0432\u0430\u0440 \u0443\u0434\u0430\u043b\u0451\u043d",severity:"success"})})}})}onDataLazyLoad(t){const _=new c.f.FindOzonProductsModel({offset:t.first,count:t.rows,includeStocks:!0});if(this.fillFilterModel(_,t.filters),t.sortField){switch(t.sortField){case"name":_.orderField=c.f.FindOzonProductsModelSortField.ProductName;break;case"productPackageID":_.orderField=c.f.FindOzonProductsModelSortField.ProductPackageID}_.orderAscending=t.sortOrder>0}this.findProducts(_)}fillFilterModel(t,_){t.productName=_?.name?.value,t.productPackageID=_?.productPackageID?.value}onShowBarcodeDialog(){this.barcodeTexts=[]}calcPx2MmFactor(){let t=document.createElement("div");t.style.position="absolute",t.style.width="100mm",document.body.appendChild(t);let _=t.getBoundingClientRect();return document.body.removeChild(t),_.width/100}showBarcodeGenerator(t){if(t.barcodes?.length>0){this.selectedProductForBarcode=t;const _=this.selectedProductForBarcode.barcodes[0],m={};ir(m,_,{format:"code128",height:this.barcodeHeight*this.px2mmFactor,text:_,background:"rgba(255, 255, 255, 1)",font:"monospace",fontOptions:"bold",marginTop:0,fontSize:16,lineColor:"black",margin:2*this.px2mmFactor,textMargin:0,flat:!0});let le,Q=[];for(let fe=0;fe<m.encodings[0].data.length;fe++)"1"==m.encodings[0].data[fe]?le?le.width++:le={width:1,offset:fe}:le?.width>0&&(Q.push(le),le=null);le&&Q.push(le),this.barcodeData=Q}}downloadBarcode(){var t=this;return(0,s.Z)(function*(){yield new Promise(m=>{try{const Q=document.getElementById("barcodeImage").outerHTML,le=btoa(encodeURIComponent(Q).replace(/%([0-9A-F]{2})/g,(ge,xe)=>String.fromCharCode(parseInt(xe,16)))),fe=document.createElement("a");fe.href="data:image/svg+xml;base64,"+le,fe.download=t.selectedProductForBarcode.productPackageID+".svg",fe.click()}catch(z){t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:z})}})})()}importProducts(){var t=this;return(0,s.Z)(function*(){yield t.ozonProductCommandHandler.importOzonProducts().pipe((0,p.K)(_=>(t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:_}),x.E))).subscribe(()=>{t.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"}),t.onDataLazyLoad({first:0,rows:t.rows})})})()}updateStocks(){var t=this;return(0,s.Z)(function*(){t.ozonProductCommandHandler.importOzonProductStocks().pipe((0,p.K)(_=>(t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:_}),x.E))).subscribe(()=>{t.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043a\u043b\u0430\u0434\u043e\u0432 \u041e\u0437\u043e\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"}),t.onDataLazyLoad({first:0,rows:t.rows})})})()}static#e=this.\u0275fac=function(_){return new(_||r)(e.Y36(c.f.OzonProductClient),e.Y36(w.ez),e.Y36(S.Q.OzonProductClient),e.Y36(w.YP),e.Y36(q.Dx))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-ozon-product-list"]],features:[e.qOj],decls:11,vars:13,consts:[["pButton","","pRipple","","type","button","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432",1,"mb-2",3,"click"],["pButton","","pRipple","","type","button","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u043e\u0441\u0442\u0430\u0442\u043a\u043e\u0432",1,"ml-1","mb-2",3,"click"],["dataKey","productPackageID",3,"value","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","loading","globalFilterFields","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["header","\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0431\u0430\u0440\u043a\u043e\u0434\u0430",3,"modal","style","visible","draggable","resizable","onShow","visibleChange",4,"ngIf"],[1,"hidden"],["id","barcode",2,"display","none"],["pSortableColumn","productPackageID","width","20%"],["field","productPackageID"],["pSortableColumn","name"],["field","name"],["field","productPackageID","type","numeric",3,"showButtons","useGrouping"],["field","name","type","text"],["target","_blank",3,"href"],[1,"pi","ozon-fbo"],[1,"pi","ozon-seller"],["icon","pi pi-chart-bar",3,"click"],["type","button","pRipple","","icon","pi pi-trash","styleClass","p-button-danger",3,"click"],["type","button","pButton","","pRipple","","class","p-button-text p-button-rounded p-button-plain",3,"pRowToggler","icon",4,"ngIf"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain",3,"pRowToggler","icon"],[4,"ngIf"],["colspan","4"],[3,"value"],["pTemplate","footer"],["pSortableColumn","warehouse.name"],["field","warehouse.name"],["pSortableColumn","warehouse.warehouseCluster"],["field","warehouse.warehouseCluster"],["width","10%","pSortableColumn","present"],["field","present"],["width","10%","pSortableColumn","reserved"],["field","reserved"],[1,"text-right"],["colspan","2",1,"text-right"],["header","\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0431\u0430\u0440\u043a\u043e\u0434\u0430",3,"modal","visible","draggable","resizable","onShow","visibleChange"],["pTemplate","content"],[1,"card"],[4,"ngFor","ngForOf"],["icon","pi pi-plus","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442",3,"click"],["id","barcodeImage","xmlns","http://www.w3.org/2000/svg"],["width","350em","height","600em","fill","white"],[1,"p-ripple","p-element","p-button","p-component",3,"download","click"],[1,"flex"],[1,"flex-auto"],["for","text",1,"block","font-bold"],["pInputText","","inputId","text",3,"ngModel","ngModelChange"],["for","fontSize",1,"mb-2","block","font-bold"],["inputId","fontSize",3,"ngModel","showButtons","ngModelChange"],["for","fontWeight",1,"mb-2","block","font-bold"],["inputId","binary",3,"ngModel","binary","ngModelChange"],["y","50","height","60","fill","black"],["x","50%","fill","black","text-anchor","middle",3,"innerHTML"]],template:function(_,m){1&_&&(e._UZ(0,"p-toast")(1,"p-confirmDialog"),e.TgZ(2,"button",0),e.NdJ("click",function(){return m.importProducts()}),e.qZA(),e.TgZ(3,"button",1),e.NdJ("click",function(){return m.updateStocks()}),e.qZA(),e.TgZ(4,"p-table",2),e.NdJ("onLazyLoad",function(Q){return m.onDataLazyLoad(Q)}),e.YNc(5,or,16,2,"ng-template",3),e.YNc(6,ur,14,5,"ng-template",4),e.YNc(7,pr,1,1,"ng-template",5),e.qZA(),e.YNc(8,vr,2,7,"p-dialog",6),e.TgZ(9,"div",7),e.O4$(),e._UZ(10,"svg",8),e.qZA()),2&_&&(e.xp6(4),e.Q6J("value",m.data)("lazy",!0)("tableStyle",e.DdM(10,yr))("paginator",!0)("rows",m.rows)("rowsPerPageOptions",e.DdM(11,xr))("totalRecords",m.totalRecords)("loading",m.loading)("globalFilterFields",e.DdM(12,br)),e.xp6(4),e.Q6J("ngIf",m.selectedProductForBarcode))},dependencies:[w.jx,j.Hq,j.zx,qn.XZ,Nn.o,n.sg,n.O5,Gn.Q,Bn.V,X.Fj,X.JJ,X.On,jn.Rn,W.iA,W.lQ,W.jB,W.fz,W.xl,me.FN]})}return r})();var Or=y(7398),it=y(701),Cr=y(8645),wr=y(7715);let Jn=(()=>{class r{defaultConfig(){return{inputStream:{name:"Live",type:"LiveStream"},locator:{patchSize:"medium",halfSample:!1},locate:!0,numOfWorkers:8,frequency:10}}isScanMatch(t,_){const m=this.meanBy(t.codeResult.decodedCodes,"error");return!!m&&m<_}start(t,_){var m=this;return typeof this.scanResult>"u"&&(this.scanResult=new Cr.x),it.onProcessed(z=>{this.onProcessed(z)}),it.onDetected(z=>{const Q=z.codeResult.code;this.isScanMatch(z,_)&&this.scanResult?.next(Q+"")}),it.init(t,function(){var z=(0,s.Z)(function*(Q){Q?(m.scanResult?.error(Q),yield m.stop()):it.start()});return function(Q){return z.apply(this,arguments)}}()),this.scanResult}stop(){return typeof this.scanResult<"u"&&(this.scanResult?.unsubscribe(),this.scanResult=void 0),(0,wr.D)(it.stop())}meanBy(t,_){if(t)return t.reduce((m,z)=>_ in z?m+z[_]:m,0)/t.length}onProcessed(t){const _=it.canvas.ctx.overlay,m=it.canvas.dom.overlay;if(t){if(t.boxes){const z=m.getAttribute("width")??"0",Q=m.getAttribute("height")??"0",le=parseInt(z,10),fe=parseInt(Q,10);_.clearRect(0,0,le,fe),t.boxes.filter(ge=>ge!==t.box).forEach(ge=>{it.ImageDebug.drawPath(ge,{x:0,y:1},_,{color:"green",lineWidth:2})})}t.box&&it.ImageDebug.drawPath(t.box,{x:0,y:1},_,{color:"#00F",lineWidth:2}),t.codeResult&&t.codeResult.code&&it.ImageDebug.drawPath(t.line,{x:"x",y:"y"},_,{color:"red",lineWidth:3})}}static#e=this.\u0275fac=function(_){return new(_||r)};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class mt{static setOrDefault(P,t,_){typeof P[t]>"u"&&(P[t]=_)}}let Sr=(()=>{class r{constructor(t){this.service=t,this.codes=["code_128","ean","ean_8","code_39","code_39_vin","codabar","upc","upc_e","i2of5","2of5","code_93"],this.valueChange=new e.vpe,this.exception=new e.vpe}setConfig(){this.config||(this.config={...this.service.defaultConfig(),decoder:{readers:this.readers()}}),this.config.inputStream||(this.config.inputStream={}),mt.setOrDefault(this.config.inputStream,"name","Live"),mt.setOrDefault(this.config.inputStream,"type","LiveStream"),this.config.locator||(this.config.locator={}),mt.setOrDefault(this.config.locator,"patchSize","medium"),mt.setOrDefault(this.config.locator,"halfSample",!1),mt.setOrDefault(this.config,"locate",!0),mt.setOrDefault(this.config,"numOfWorkers",8),mt.setOrDefault(this.config,"frequency",10),this.config.decoder||(this.config.decoder={}),mt.setOrDefault(this.config.decoder,"readers",this.readers())}ngOnInit(){this.setConfig();const t=isNaN(this.errorThreshold)?.1:this.errorThreshold;this.service.start(this.config,t).subscribe(m=>{this.valueChange.emit(m)},m=>{this.exception.emit(m)})}ngOnDestroy(){this.service.stop()}readers(){return("string"==typeof this.codes?[this.codes]:this.codes).map(_=>`${_}_reader`)}static#e=this.\u0275fac=function(_){return new(_||r)(e.Y36(Jn))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-barcode-scanner"]],inputs:{codes:"codes",config:"config",errorThreshold:"errorThreshold",value:"value"},outputs:{valueChange:"valueChange",exception:"exception"},decls:1,vars:0,consts:[["id","interactive",1,"viewport"]],template:function(_,m){1&_&&e._UZ(0,"div",0)},styles:["#interactive.viewport{position:relative;width:100%;height:auto;overflow:hidden;text-align:center}  #interactive.viewport>canvas,   #interactive.viewport>video{max-width:100%;width:100%}  canvas.drawing,   canvas.drawingBuffer{position:absolute;left:0;top:0}  video{width:100%;object-fit:cover}[_nghost-%COMP%]{position:static;width:100%}"]})}return r})(),Ar=(()=>{class r{static#e=this.\u0275fac=function(_){return new(_||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})();const Er=["table"];function Mr(r,P){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u0442\u0430\u0442\u0443\u0441"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u043a\u043b\u0430\u0434 \u043e\u0442\u0433\u0440\u0443\u0437\u043a\u0438"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u0421\u043a\u043b\u0430\u0434\u044b \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0437\u0438\u0446\u0438\u0439"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),e.qZA(),e._UZ(13,"th"),e.qZA())}function kr(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"a",8),e._uU(3),e.ALo(4,"date"),e.qZA()(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._UZ(16,"button",9),e.qZA()()),2&r){const t=P.$implicit,_=P.expanded;e.xp6(2),e.s9C("href",t.link,e.LSH),e.xp6(1),e.Oqu(e.xi3(4,9,t.date,"y-MM-dd")),e.xp6(3),e.Oqu(t.statusName),e.xp6(2),e.Oqu(null==t.ozonWarehouse?null:t.ozonWarehouse.name),e.xp6(2),e.Oqu(t.warehouses),e.xp6(2),e.Oqu(t.totalItemCount),e.xp6(2),e.Oqu(t.totalQuantity),e.xp6(2),e.Q6J("pRowToggler",t)("icon",_?"pi pi-chevron-down":"pi pi-chevron-right")}}function Zr(r,P){1&r&&(e.TgZ(0,"tr")(1,"th",13),e._uU(2,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b "),e._UZ(3,"p-sortIcon",14),e.qZA(),e.TgZ(4,"th",15),e._uU(5,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 "),e._UZ(6,"p-sortIcon",16),e.qZA(),e.TgZ(7,"th",17),e._uU(8,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e "),e._UZ(9,"p-sortIcon",18),e.qZA()())}function Ir(r,P){if(1&r&&(e.TgZ(0,"tr",19)(1,"td",10)(2,"b"),e._uU(3),e.qZA()()()),2&r){const t=P.$implicit;e.xp6(3),e.Oqu(t.ozonWarehouse.name)}}function Rr(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&r){const t=P.$implicit;e.xp6(2),e.Oqu(t.productPackageID),e.xp6(2),e.Oqu(t.productPackage.name),e.xp6(2),e.Oqu(t.quantity)}}function Dr(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td",10)(2,"p-table",11),e.YNc(3,Zr,10,0,"ng-template",4),e.YNc(4,Ir,4,1,"ng-template",12),e.YNc(5,Rr,7,3,"ng-template",5),e.qZA()()()),2&r){const t=P.$implicit;e.xp6(2),e.Q6J("value",t.orderItems)}}const Pr=function(){return["code_128","ean","upc","upc_e","ean_8"]};function Lr(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"ngx-barcode-scanner",22),e.NdJ("valueChange",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.onValueChanged(m))}),e.qZA(),e._uU(1)}if(2&r){const t=e.oxw(2);e.Q6J("codes",e.DdM(3,Pr))("errorThreshold",.1),e.xp6(1),e.hij(" ",t.barcode," ")}}const zr=function(){return{width:"50vw"}};function Fr(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-dialog",20),e.NdJ("valueChange",function(m){e.CHM(t);const z=e.oxw();return e.KtG(z.barcode=m)})("visibleChange",function(m){e.CHM(t);const z=e.oxw();return e.KtG(z.showScanBarcodeDialog=m)}),e.YNc(1,Lr,2,4,"ng-template",21),e.qZA()}if(2&r){const t=e.oxw();e.Akn(e.DdM(7,zr)),e.Q6J("value",t.barcode)("modal",!0)("visible",t.showScanBarcodeDialog)("draggable",!1)("resizable",!1)}}const Ur=function(){return{"min-width":"75rem"}},qr=function(){return[10,25,50]};let Nr=(()=>{class r extends l.V{constructor(t,_,m,z,Q,le){super(le),this.supplyOrderClient=t,this.supplyOrderCommandHandler=_,this.messageService=m,this.barcodeService=z,this.productClient=Q,this.findSupplyOrdersSubject=new d.X(null),this.rows=50}closeCellEdit(){}editComplete(t){if("ozonCrossDockWarehouseID"==t.field){const _=t.data;this.supplyOrderCommandHandler.updateOzonSupplyOrderCrossDockWarehouse(_.iD,_.ozonCrossDockWarehouse?.iD).pipe((0,p.K)(m=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:m}),x.E))).subscribe()}}ngOnInit(){this.titleService.setTitle("\u041f\u043e\u0441\u0442\u0430\u0432\u043a\u0438 Ozon"),this.findSupplyOrdersSubject.pipe((0,T.h)(t=>!!t)).pipe((0,M.R)(this.destroyed)).pipe((0,Or.U)(t=>{this.findSupplyOrders(t)}))}onValueChanged(t){}scanBarcode(){this.showScanBarcodeDialog=!0}findSupplyOrders(t){this.supplyOrderClient.findOzonSupplyOrders(t).pipe((0,M.R)(this.destroyed)).pipe((0,p.K)(_=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:_}),x.E))).subscribe(_=>{this.data=_.items,this.data.forEach(m=>{var z=m.orderItems.reduce((fe,ge)=>(ge.ozonWarehouse?.name&&fe.add(ge.ozonWarehouse.name),fe),new Set),Q=m;Q.statusName=this.getOrderStatusName(m.status),Q.warehouses=[...z].join(", "),Q.link=`${m.state==c.f.SupplyOrderState.DataFilling?"https://seller.ozon.ru/app/supply/orders/draft":"https://seller.ozon.ru/app/supply/orders"}/${Q.iD}`}),this.totalRecords=_.totalCount})}getOrderStatusName(t){let _;switch(Object.values(c.f.SupplyOrderState)[t]){case c.f.SupplyOrderState.AcceptanceAtStorageWarehouse:_="\u041f\u0440\u0438\u0451\u043c\u043a\u0430 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f";break;case c.f.SupplyOrderState.Cancelled:_="\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430";break;case c.f.SupplyOrderState.DataFilling:_="\u0417\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435";break;case c.f.SupplyOrderState.AcceptedAtSupplyWarehouse:_="\u041f\u0440\u0438\u043d\u044f\u0442\u0430 \u043d\u0430 \u0441\u043a\u043b\u0430\u0434\u0435 \u043e\u0442\u0433\u0440\u0443\u0437\u043a\u0438";break;case c.f.SupplyOrderState.Completed:_="\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430";break;case c.f.SupplyOrderState.InTransit:_="\u0412 \u043f\u0443\u0442\u0438";break;case c.f.SupplyOrderState.ReadyToSupply:_="\u0413\u043e\u0442\u043e\u0432\u0430 \u043a \u043e\u0442\u0433\u0440\u0443\u0437\u043a\u0435";break;case c.f.SupplyOrderState.RejectedAtSupplyWarehouse:_="\u041e\u0442\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u043f\u0440\u0438\u0451\u043c\u043a\u0435";break;case c.f.SupplyOrderState.ReportRejected:_="\u0421\u043f\u043e\u0440";break;case c.f.SupplyOrderState.ReportsConfirmationAwaiting:_="\u0421\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u043a\u0442\u043e\u0432";break;case c.f.SupplyOrderState.Unknown:_="\u0421\u0442\u0430\u0442\u0443\u0441 \u043d\u0435 \u0437\u0430\u0434\u0430\u043d";break;default:throw Error(`Unsupported status ${t}`)}return _}onDataLazyLoad(t){const _=new c.f.FindOzonSupplyOrdersModel({offset:t.first,count:t.rows});this.findSupplyOrdersSubject.next(_),this.findSupplyOrders(_)}importSupplyOrders(){var t=this;return(0,s.Z)(function*(){t.supplyOrderCommandHandler.updateOzonSupplyOrders().pipe((0,p.K)(_=>(t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u0437\u0430\u044f\u0432\u043e\u043a \u043d\u0430 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0443",severity:"error",detail:_}),x.E))).subscribe(()=>{t.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0437\u0430\u044f\u0432\u043e\u043a \u043d\u0430 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0443 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"}),t.onDataLazyLoad({first:0,rows:t.rows})})})()}static#e=this.\u0275fac=function(_){return new(_||r)(e.Y36(c.f.OzonSupplyOrderClient),e.Y36(S.Q.OzonSupplyOrderClient),e.Y36(w.ez),e.Y36(Jn),e.Y36(c.f.ProductClient),e.Y36(q.Dx))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-ozon-supply-order-list"]],viewQuery:function(_,m){if(1&_&&e.Gf(Er,5),2&_){let z;e.iGM(z=e.CRH())&&(m.table=z.first)}},features:[e.qOj],decls:9,vars:11,consts:[["label","\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c",3,"click"],["pButton","","pRipple","","type","button","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u0437\u0430\u044f\u0432\u043e\u043a \u043d\u0430 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0443",1,"ml-1",3,"click"],["dataKey","iD","editMode","cell",3,"value","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","loading","onLazyLoad","onEditComplete"],["table",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["header","\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430",3,"value","modal","style","visible","draggable","resizable","valueChange","visibleChange",4,"ngIf"],["target","_blank",3,"href"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain",3,"pRowToggler","icon"],["colspan","7"],["rowGroupMode","subheader","groupRowsBy","ozonWarehouse?.name",3,"value"],["pTemplate","groupheader"],["pSortableColumn","productPackageID"],["field","productPackageID"],["pSortableColumn","productPackage.name"],["field","productPackage.name"],["pSortableColumn","quantity"],["field","quantity"],["pRowGroupHeader",""],["header","\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u0434\u0430",3,"value","modal","visible","draggable","resizable","valueChange","visibleChange"],["pTemplate","content"],["width","300",3,"codes","errorThreshold","valueChange"]],template:function(_,m){1&_&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-button",0),e.NdJ("click",function(){return m.scanBarcode()}),e.qZA(),e.TgZ(2,"button",1),e.NdJ("click",function(){return m.importSupplyOrders()}),e.qZA(),e.TgZ(3,"p-table",2,3),e.NdJ("onLazyLoad",function(Q){return m.onDataLazyLoad(Q)})("onEditComplete",function(Q){return m.editComplete(Q)}),e.YNc(5,Mr,14,0,"ng-template",4),e.YNc(6,kr,17,12,"ng-template",5),e.YNc(7,Dr,6,1,"ng-template",6),e.qZA(),e.YNc(8,Fr,2,8,"p-dialog",7)),2&_&&(e.xp6(3),e.Q6J("value",m.data)("lazy",!0)("tableStyle",e.DdM(9,Ur))("paginator",!0)("rows",m.rows)("rowsPerPageOptions",e.DdM(10,qr))("totalRecords",m.totalRecords)("loading",m.loading),e.xp6(5),e.Q6J("ngIf",m.showScanBarcodeDialog))},dependencies:[w.jx,j.Hq,j.zx,n.O5,Bn.V,Sr,W.iA,W.lQ,W.Z5,W.jB,W.fz,me.FN,n.uU]})}return r})();function Br(r,P){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"number"),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"div"),e._uU(10),e.ALo(11,"number"),e.qZA()),2&r){const t=e.oxw().ngIf;e.xp6(1),e.hij("\u0421\u0443\u043c\u043c\u0430: ",e.xi3(2,4,t.sum,"1.2-2"),""),e.xp6(3),e.hij("\u041d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u043e: ",e.xi3(5,7,t.accrual,"1.2-2"),""),e.xp6(3),e.hij("\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f: ",e.xi3(8,10,t.commission,"1.2-2"),""),e.xp6(3),e.hij("\u041d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u043e \u0437\u0430 \u0432\u044b\u0447\u0435\u0442\u043e\u043c \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438: ",e.xi3(11,13,t.accrual+t.commission,"1.2-2"),"")}}const jr=function(){return{"max-width":"300px"}};function Jr(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th",11),e._uU(6,"\u0421\u0443\u043c\u043c\u0430 "),e._UZ(7,"p-sortIcon",12),e.qZA(),e.TgZ(8,"th"),e._uU(9,"\u0421\u0435\u0440\u0432\u0438\u0441\u044b"),e.qZA(),e._UZ(10,"th"),e.qZA(),e.TgZ(11,"tr"),e._UZ(12,"th")(13,"th")(14,"th"),e.TgZ(15,"th")(16,"p-multiSelect",13),e.NdJ("ngModelChange",function(m){e.CHM(t);const z=e.oxw(2);return e.KtG(z.selectedServiceTypes=m)})("onChange",function(){e.CHM(t);const m=e.oxw(2);return e.KtG(m.filterData())}),e.qZA()(),e._UZ(17,"th"),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(16),e.Akn(e.DdM(4,jr)),e.Q6J("ngModel",t.selectedServiceTypes)("options",t.serviceTypes)}}function Qr(r,P){if(1&r&&(e.TgZ(0,"div")(1,"div",17)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.ALo(6,"number"),e.qZA()()()),2&r){const t=P.$implicit,_=e.oxw(3);e.xp6(3),e.Oqu(_.getOperationServiceType(t.type)),e.xp6(2),e.Oqu(e.xi3(6,2,t.price,"1.2-2"))}}function Yr(r,P){if(1&r&&(e.TgZ(0,"tr",14)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td")(7,"span",15),e._uU(8,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(9,"div"),e._uU(10),e.ALo(11,"number"),e.qZA()(),e.TgZ(12,"td"),e.YNc(13,Qr,7,5,"div",16),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()()),2&r){const t=P.$implicit,_=e.oxw(2);e.Q6J("pRowToggler",t),e.xp6(2),e.hij(" ",t.iD," "),e.xp6(2),e.hij(" ",e.xi3(5,6,t.date,"y-MM-dd HH:mm")," "),e.xp6(6),e.hij(" ",e.xi3(11,9,t.amount,"1.2-2"),"\u20bd "),e.xp6(3),e.Q6J("ngForOf",t.services),e.xp6(2),e.Oqu(_.getOperationType(t.operationType))}}function Gr(r,P){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0422\u0438\u043f"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0421\u0443\u043c\u043c\u0430"),e.qZA()())}function Hr(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&r){const t=P.$implicit,_=e.oxw(3);e.xp6(2),e.AsE("",_.getOperationServiceType(t.type),"",t.type,""),e.xp6(2),e.Oqu(t.price)}}const Vr=function(){return{"min-width":"50rem"}};function Wr(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td",18)(2,"h5"),e._uU(3,"\u0421\u0435\u0440\u0432\u0438\u0441\u044b \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA()()(),e.TgZ(4,"tr")(5,"td",18)(6,"p-table",19),e.YNc(7,Gr,5,0,"ng-template",8),e.YNc(8,Hr,5,3,"ng-template",9),e.qZA()()()),2&r){const t=P.$implicit;e.xp6(6),e.Q6J("value",t.services)("breakpoint","960px")("tableStyle",e.DdM(3,Vr))}}const $r=function(){return[50,250,1e3]};function Kr(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"p-table",6),e.NdJ("onPage",function(m){e.CHM(t);const z=e.oxw();return e.KtG(z.pageChange(m))}),e.YNc(2,Br,12,16,"ng-template",7),e.YNc(3,Jr,18,5,"ng-template",8),e.YNc(4,Yr,16,12,"ng-template",9),e.YNc(5,Wr,9,4,"ng-template",10),e.qZA()()}if(2&r){const t=P.ngIf,_=e.oxw();e.xp6(1),e.Q6J("value",t.items)("loading",_.loading)("totalRecords",t.totalCount)("paginator",!0)("showCurrentPageReport",!1)("rows",_.rows)("rowsPerPageOptions",e.DdM(7,$r))}}let Xr=(()=>{class r extends l.V{constructor(t,_,m,z,Q){super(Q),this.operationClient=t,this.messageService=_,this.operationCommandHandler=m,this.timeService=z,this.rows=50,this.isLoading=!1,this.serviceTypes=[],this.selectedServiceTypes=[],this.operationServiceTypes=Object.values(c.f.OperationServiceType),this.operationTypes=Object.values(c.f.OperationType),this.filteredData=new d.X(null),this.dataSubject=new d.X(null),this.filterSubject=new d.X(null),this.serviceTypes=Object.keys(c.f.OperationServiceType).map(le=>({type:le,text:c.f.OperationServiceType[le]})).sort((le,fe)=>le.text>fe.text?1:fe.text>le.text?-1:0)}ngOnInit(){this.titleService.setTitle("\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 Ozon"),this.filterSubject.pipe((0,M.R)(this.destroyed)).pipe((0,T.h)(t=>!!t)).pipe((0,u.w)(t=>this.operationClient.findOzonOperations(t).pipe((0,p.K)(_=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:_}),x.E))))).subscribe(t=>{this.dataSubject.next(t)}),this.dataSubject.pipe((0,M.R)(this.destroyed)).pipe((0,T.h)(t=>!!t)).pipe((0,p.K)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:t}),x.E))).subscribe(t=>{this.filterData()})}filterData(){const t=this.dataSubject.value,_=[];let m=0,z=0,Q=0;if(t)for(const fe of t.items){let ge=!0;const xe=Object.assign({},fe);if(this.selectedServiceTypes.length){const be=xe.services.filter(Me=>this.selectedServiceTypes.find(ke=>ke==Me.type));be.length?xe.services=be:ge=!1}ge&&(_.push(xe),z+=xe.accrualsForSale,Q+=xe.saleCommission,m+=xe.services.reduce((be,Me)=>be+Me.price,0)??0)}this.filteredData.next({totalCount:_.length,items:_,sum:m,commission:Q,accrual:z})}importTransactions(){var t=this;return(0,s.Z)(function*(){const[_,m]=[t.timeService.asUtc(t.dateRange?.[0]),t.timeService.asUtc(t.dateRange?.[1])];t.operationCommandHandler.importOzonOperations(_,m).pipe((0,p.K)(z=>(t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:z}),x.E))).subscribe(()=>{t.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"}),t.findTransactionsClick()})})()}findTransactionsClick(){const t=new c.f.FindOzonOperationsModel({dateFrom:this.timeService.asUtc(this.dateRange?.[0]),dateTo:this.timeService.asUtc(this.dateRange?.[1]),offset:0,count:this.rows});this.filterSubject.next(t)}getOperationServiceType(t){return this.operationServiceTypes[t]}getOperationType(t){return this.operationTypes[t]}static#e=this.\u0275fac=function(_){return new(_||r)(e.Y36(c.f.OperationClient),e.Y36(w.ez),e.Y36(S.Q.OperationClient),e.Y36(F.O),e.Y36(q.Dx))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-ozon-transaction-list"]],features:[e.qOj],decls:7,vars:7,consts:[["header","\u0422\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 Ozon"],["styleClass","m-1","selectionMode","range","placeholder","\u041f\u0435\u0440\u0438\u043e\u0434",3,"ngModel","showClear","readonlyInput","ngModelChange"],["styleClass","m-1","icon","pi pi-search","label","\u041d\u0430\u0439\u0442\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438",3,"click"],["styleClass","m-1","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439",3,"icon","click"],["class","card",4,"ngIf"],[1,"card"],["responsiveLayout","stack","dataKey","iD",3,"value","loading","totalRecords","paginator","showCurrentPageReport","rows","rowsPerPageOptions","onPage"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pSortableColumn","sum"],["field","amount"],["appendTo","body","optionValue","type","optionLabel","text","placeholder","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435",3,"ngModel","options","ngModelChange","onChange"],[3,"pRowToggler"],[1,"p-column-title"],[4,"ngFor","ngForOf"],[1,"flex","justify-content-between"],["colspan","5"],["responsiveLayout","stack",3,"value","breakpoint","tableStyle"]],template:function(_,m){1&_&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-card",0)(2,"p-calendar",1),e.NdJ("ngModelChange",function(Q){return m.dateRange=Q}),e.qZA(),e.TgZ(3,"p-button",2),e.NdJ("click",function(){return m.findTransactionsClick()}),e.qZA(),e.TgZ(4,"p-button",3),e.NdJ("click",function(){return m.importTransactions()}),e.qZA()(),e.YNc(5,Kr,6,8,"div",4),e.ALo(6,"async")),2&_&&(e.xp6(2),e.Q6J("ngModel",m.dateRange)("showClear",!0)("readonlyInput",!0),e.xp6(2),e.Q6J("icon",m.isLoading?"pi pi-download":""),e.xp6(1),e.Q6J("ngIf",e.lcZ(6,5,m.filteredData)))},dependencies:[w.jx,j.zx,H.f,V.Z,n.sg,n.O5,X.JJ,X.On,C,W.iA,W.lQ,W.jB,W.fz,me.FN,n.Ov,n.JJ,n.uU]})}return r})();function ei(r,P){1&r&&(e.TgZ(0,"div",22)(1,"span",23),e._uU(2,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b\u044b"),e.qZA()())}function ti(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-multiSelect",24),e.NdJ("onChange",function(m){const Q=e.CHM(t).filterCallback;return e.KtG(Q(m.value))}),e.qZA()}if(2&r){const t=P.$implicit,_=e.oxw(4);e.Q6J("ngModel",t)("filter",!1)("options",_.productPackageIDs)}}function ni(r,P){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2," \u0422\u043e\u0432\u0430\u0440 "),e.TgZ(3,"p-columnFilter",15),e.YNc(4,ei,3,0,"ng-template",12),e.YNc(5,ti,1,3,"ng-template",16),e.qZA()(),e.TgZ(6,"th",17),e._uU(7,"\u0421\u0443\u043c\u043c\u0430 "),e._UZ(8,"p-sortIcon",18),e.qZA(),e.TgZ(9,"th",19),e._uU(10,"\u0414\u0430\u0442\u0430 "),e._UZ(11,"p-sortIcon",20),e.qZA(),e.TgZ(12,"th"),e._uU(13," \u2116 \u0437\u0430\u043a\u0430\u0437\u0430 "),e._UZ(14,"p-columnFilter",21),e.qZA()()),2&r&&(e.xp6(3),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),e.xp6(11),e.Q6J("showMatchModes",!1)("showOperator",!1))}function ri(r,P){if(1&r&&(e.TgZ(0,"div")(1,"div"),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&r){const t=P.$implicit;e.xp6(2),e.Oqu(t.product.name),e.xp6(1),e.AsE(" ",t.product.productPackageID," x ",t.quantity," ")}}function ii(r,P){if(1&r&&(e.TgZ(0,"tr",25)(1,"td"),e.YNc(2,ri,4,3,"div",26),e.qZA(),e.TgZ(3,"td")(4,"div"),e._uU(5),e.ALo(6,"number"),e.qZA()(),e.TgZ(7,"td")(8,"div"),e._uU(9),e.ALo(10,"date"),e.qZA()(),e.TgZ(11,"td")(12,"div"),e._uU(13),e.qZA()()()),2&r){const t=P.$implicit;e.Q6J("pRowToggler",t),e.xp6(2),e.Q6J("ngForOf",t.orderItems),e.xp6(3),e.hij(" ",e.xi3(6,5,t.sum,"1.2-2"),"\u20bd "),e.xp6(4),e.hij(" ",e.xi3(10,8,t.date,"y-MM-dd HH:mm")," "),e.xp6(4),e.hij(" ",t.ozonOrderNumber," ")}}function oi(r,P){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0426\u0435\u043d\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA()())}function ai(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",30),e._uU(4,"\u0410\u0440\u0442\u0438\u043a\u0443\u043b"),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA()()(),e.TgZ(7,"td")(8,"div")(9,"span",30),e._uU(10,"\u0426\u0435\u043d\u0430"),e.qZA(),e.TgZ(11,"div"),e._uU(12),e.ALo(13,"number"),e.qZA()()(),e.TgZ(14,"td")(15,"div")(16,"span",30),e._uU(17,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.qZA(),e.TgZ(18,"div"),e._uU(19),e.qZA()()(),e.TgZ(20,"td")(21,"div")(22,"span",30),e._uU(23,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(24,"div"),e._uU(25),e.qZA()()()()),2&r){const t=P.$implicit;e.xp6(6),e.hij(" ",t.product.productPackageID," "),e.xp6(6),e.hij(" ",e.xi3(13,4,t.price,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",t.quantity," "),e.xp6(6),e.hij(" ",t.product.name," ")}}function ui(r,P){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA()())}function li(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",30),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA()()(),e.TgZ(7,"td")(8,"div")(9,"span",30),e._uU(10,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(11,"div"),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"td")(15,"div")(16,"span",30),e._uU(17,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(18,"div"),e._uU(19),e.ALo(20,"number"),e.qZA()()(),e.TgZ(21,"td")(22,"div")(23,"span",30),e._uU(24,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(25,"div"),e._uU(26),e.ALo(27,"number"),e.qZA()()(),e.TgZ(28,"td")(29,"div")(30,"span",30),e._uU(31,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(32,"div"),e._uU(33),e.qZA()()(),e.TgZ(34,"td")(35,"div")(36,"span",30),e._uU(37,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA(),e.TgZ(38,"div"),e._uU(39),e.qZA()()()()),2&r){const t=P.$implicit,_=e.oxw(7);e.xp6(6),e.hij(" ",t.iD," "),e.xp6(6),e.hij(" ",e.xi3(13,6,t.date,"y-MM-dd HH:mm")," "),e.xp6(7),e.hij(" ",e.xi3(20,9,t.amount,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",e.xi3(27,12,t.saleCommission,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",_.getOperationTypeText(t.operationType)," "),e.xp6(6),e.hij(" ",_.getTransactionTypeText(t.accrualType)," ")}}const Qn=function(){return{"min-width":"50rem"}};function si(r,P){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",28)(3,"h5"),e._uU(4,"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e"),e.qZA()()(),e.TgZ(5,"tr")(6,"td",28)(7,"p-table",29),e.YNc(8,ui,13,0,"ng-template",12),e.YNc(9,li,40,15,"ng-template",13),e.qZA()()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(7),e.Q6J("value",t.operations)("breakpoint","960px")("tableStyle",e.DdM(3,Qn))}}function ci(r,P){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",28)(3,"p-table",29),e.YNc(4,oi,9,0,"ng-template",12),e.YNc(5,ai,26,7,"ng-template",13),e.qZA()()(),e.YNc(6,si,10,4,"ng-container",27),e.BQk()),2&r){const t=P.$implicit;e.xp6(3),e.Q6J("value",t.orderItems)("breakpoint","960px")("tableStyle",e.DdM(4,Qn)),e.xp6(3),e.Q6J("ngIf",null==t.operations?null:t.operations.length)}}function di(r,P){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",28)(3,"h5"),e._uU(4,"\u0421\u043e\u0441\u0442\u0430\u0432 \u0437\u0430\u043a\u0430\u0437\u0430"),e.qZA()()(),e.YNc(5,ci,7,5,"ng-container",26),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(5),e.Q6J("ngForOf",t.orderItems)}}function pi(r,P){1&r&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"ID"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA()())}function fi(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div")(3,"span",30),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA()()(),e.TgZ(7,"td")(8,"div")(9,"span",30),e._uU(10,"\u0414\u0430\u0442\u0430"),e.qZA(),e.TgZ(11,"div"),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"td")(15,"div")(16,"span",30),e._uU(17,"\u0421\u0443\u043c\u043c\u0430"),e.qZA(),e.TgZ(18,"div"),e._uU(19),e.ALo(20,"number"),e.qZA()()(),e.TgZ(21,"td")(22,"div")(23,"span",30),e._uU(24,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(25,"div"),e._uU(26),e.ALo(27,"number"),e.qZA()()(),e.TgZ(28,"td")(29,"div")(30,"span",30),e._uU(31,"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438"),e.qZA(),e.TgZ(32,"div"),e._uU(33),e.qZA()()(),e.TgZ(34,"td")(35,"div")(36,"span",30),e._uU(37,"\u0422\u0438\u043f \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f"),e.qZA(),e.TgZ(38,"div"),e._uU(39),e.qZA()()()()),2&r){const t=P.$implicit,_=e.oxw(5);e.xp6(6),e.hij(" ",t.iD," "),e.xp6(6),e.hij(" ",e.xi3(13,6,t.date,"y-MM-dd HH:mm")," "),e.xp6(7),e.hij(" ",e.xi3(20,9,t.amount,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",e.xi3(27,12,t.saleCommission,"1.2-2"),"\u20bd "),e.xp6(7),e.hij(" ",_.getOperationTypeText(t.operationType)," "),e.xp6(6),e.hij(" ",_.getTransactionTypeText(t.accrualType)," ")}}function hi(r,P){if(1&r&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",28)(3,"h5"),e._uU(4,"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443"),e.qZA()()(),e.TgZ(5,"tr")(6,"td",28)(7,"p-table",31),e.YNc(8,pi,13,0,"ng-template",12),e.YNc(9,fi,40,15,"ng-template",13),e.qZA()()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(7),e.Q6J("value",t.operations)("breakpoint","960px")("tableStyle",e.DdM(3,Qn))}}function _i(r,P){if(1&r&&(e.YNc(0,di,6,1,"ng-container",27),e.YNc(1,hi,10,4,"ng-container",27)),2&r){const t=P.$implicit;e.Q6J("ngIf",null==t.orderItems?null:t.orderItems.length),e.xp6(1),e.Q6J("ngIf",null==t.operations?null:t.operations.length)}}const gi=function(){return[8,15,30,50]},mi=function(){return{}};function vi(r,P){if(1&r&&(e.TgZ(0,"p-table",11),e.YNc(1,ni,15,5,"ng-template",12),e.YNc(2,ii,14,11,"ng-template",13),e.YNc(3,_i,2,2,"ng-template",14),e.qZA()),2&r){const t=e.oxw(2);e.Q6J("value",t.data)("loading",t.loading)("paginator",!0)("showCurrentPageReport",!1)("rows",8)("rowsPerPageOptions",e.DdM(7,gi))("tableStyle",e.DdM(8,mi))}}function yi(r,P){if(1&r&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div")(6,"div",8)(7,"span"),e._uU(8,"\u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u043e\u0434\u0430\u0436"),e.qZA(),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"number"),e.qZA()()()(),e.TgZ(12,"div",7)(13,"div")(14,"div",8)(15,"span"),e._uU(16,"\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f"),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.ALo(19,"number"),e.ALo(20,"number"),e.qZA()()()(),e.TgZ(21,"div",7)(22,"div")(23,"div",8)(24,"span"),e._uU(25,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b"),e.qZA(),e.TgZ(26,"span"),e._uU(27),e.ALo(28,"number"),e.ALo(29,"number"),e.qZA()()()(),e.TgZ(30,"div",7)(31,"div")(32,"div",8)(33,"span"),e._uU(34,"\u0421\u0435\u0440\u0432\u0438\u0441\u044b"),e.qZA(),e.TgZ(35,"span"),e._uU(36),e.ALo(37,"number"),e.ALo(38,"number"),e.qZA()()()(),e.TgZ(39,"div",7)(40,"div")(41,"div",8)(42,"span"),e._uU(43,"\u0421\u0435\u0440\u0432\u0438\u0441\u044b \u0437\u0430\u043a\u0430\u0437\u043e\u0432"),e.qZA(),e.TgZ(44,"span"),e._uU(45),e.ALo(46,"number"),e.ALo(47,"number"),e.qZA()()()()()(),e.TgZ(48,"div",5)(49,"div",6)(50,"div",7)(51,"div",9),e._uU(52,"\u0417\u0430\u043a\u0430\u0437\u044b"),e.qZA(),e.TgZ(53,"div")(54,"div",8)(55,"span"),e._uU(56,"\u0417\u0430\u043a\u0430\u0437\u043e\u0432"),e.qZA(),e.TgZ(57,"span"),e._uU(58),e.qZA()()(),e.TgZ(59,"div",8)(60,"span"),e._uU(61,"\u0422\u043e\u0432\u0430\u0440\u043e\u0432"),e.qZA(),e.TgZ(62,"span"),e._uU(63),e.qZA()(),e.TgZ(64,"div",8)(65,"span"),e._uU(66,"\u041e\u0442\u043c\u0435\u043d"),e.qZA(),e.TgZ(67,"span"),e._uU(68),e.qZA()(),e.TgZ(69,"div",8)(70,"span"),e._uU(71,"\u0421\u0443\u043c\u043c\u0430 \u043e\u0442\u043c\u0435\u043d"),e.qZA(),e.TgZ(72,"span"),e._uU(73),e.qZA()(),e.TgZ(74,"div",8)(75,"span"),e._uU(76,"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u043e\u0432"),e.qZA(),e.TgZ(77,"span"),e._uU(78),e.qZA()(),e.TgZ(79,"div",8)(80,"span"),e._uU(81,"\u0421\u0443\u043c\u043c\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043e\u0432"),e.qZA(),e.TgZ(82,"span"),e._uU(83),e.qZA()()()()()(),e.YNc(84,vi,4,9,"p-table",10),e.qZA()),2&r){const t=e.oxw();e.xp6(10),e.hij("",e.xi3(11,16,t.summary.totalSum,"1.2-2"),"\u20bd"),e.xp6(8),e.AsE("",e.xi3(19,19,t.summary.commission,"1.2-2"),"\u20bd (",e.xi3(20,22,t.summary.totalSum+t.summary.commission,"1.2-2"),"\u20bd)"),e.xp6(9),e.AsE(" ",e.xi3(28,25,t.summary.returnedSum,"1.2-2"),"\u20bd (",e.xi3(29,28,t.summary.returnedProductCount+t.summary.totalSum+t.summary.commission-t.summary.returnedSum,"1.2-2"),"\u20bd) "),e.xp6(9),e.AsE("",e.xi3(37,31,t.summary.serviceTotalSum,"1.2-2"),"\u20bd (",e.xi3(38,34,t.summary.totalSum+t.summary.commission+t.summary.serviceTotalSum,"1.2-2"),"\u20bd)"),e.xp6(9),e.AsE("",e.xi3(46,37,t.summary.orderServiceTotalSum,"1.2-2"),"\u20bd (",e.xi3(47,40,t.summary.totalSum+t.summary.commission+t.summary.serviceTotalSum+t.summary.orderServiceTotalSum,"1.2-2"),"\u20bd)"),e.xp6(13),e.Oqu(t.summary.totalOrderCount),e.xp6(5),e.Oqu(t.summary.totalProductCount),e.xp6(5),e.Oqu(t.summary.cancelledProductCount),e.xp6(5),e.Oqu(t.summary.cancelledSum),e.xp6(5),e.Oqu(t.summary.returnedProductCount),e.xp6(5),e.Oqu(t.summary.returnedSum),e.xp6(1),e.Q6J("ngIf",t.data)}}let xi=(()=>{class r extends l.V{constructor(t,_,m,z){super(z),this.ozonSalesOrderClient=t,this.messageService=_,this.timeService=m,this.data=[],this.excludedDates=[],this.productPackageIDs=[],this.loading=!1}ngOnInit(){this.titleService.setTitle("\u0421\u0432\u0435\u0440\u043a\u0430 \u0441 Ozon")}getDateRange(){const t=this.timeService.asUtc(this.date),_=new Date(t),m=new Date(t);return m.setMonth(m.getMonth()+1),[_,m]}prepareReport(){this.loading=!0;const[t,_]=this.getDateRange(),m=new Date(t);m.setMonth(m.getMonth()-1),this.ozonSalesOrderClient.findSalesOzonOrders(new c.f.FindPostingsModel({dateFrom:m,dateTo:_})).pipe((0,M.R)(this.destroyed)).pipe((0,p.K)(z=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:z}),this.loading=!1,x.E))).subscribe(z=>{this.data=z.filter(be=>be.operations.reduce((Me,ke)=>Me||=ke.operationType==c.f.OperationType.OperationAgentDeliveredToCustomer&&(!t||ke.date>=t)&&(!_||ke.date<_),!1));const Q=new Set,fe={totalOrderCount:0,totalSum:0,totalProductCount:0,sumWithCommission:0,commission:0,orderServiceTotalSum:0,orderServiceTotalCount:0,serviceTotalSum:0,cancelledProductCount:0,returnedProductCount:0,cancelledSum:0,returnedSum:0,services:{},orderServices:{}},ge={},xe=[];for(const be of z){const Me=be.operations.filter(Ce=>(!t||Ce.date>=t)&&(!_||Ce.date<_)),ke=!!Me.length;for(const Ce of Me)if(Ce.postingNumber==be.ozonOrderNumber)for(const Ne of Ce.services)fe.orderServices[Ne.type]=Ne.price+fe.services[Ne.type],fe.orderServiceTotalSum+=Ne.price,fe.orderServiceTotalCount++,xe.push(Ne.price);if(ke){for(const Ce of be.orderItems){Q.add(Ce.product.productPackageID);const Ne=[];ge[Ce.product.productPackageID]||(ge[Ce.product.productPackageID]={prices:{},operations:[]});const ct=ge[Ce.product.productPackageID];ct.prices[Ce.price]||(ct.prices[Ce.price]={quantity:0,sum:0,commission:0});const vt=ct.prices[Ce.price];vt.quantity+=Ce.quantity,vt.sum+=Ce.quantity*Ce.price;for(const Qe of Me)if(Qe.postingNumber==Ce.postingNumber)switch(Ne.push(Qe),Qe.operationType){case c.f.OperationType.OperationAgentDeliveredToCustomer:fe.totalProductCount+=Ce.quantity,vt.commission+=Qe.saleCommission,fe.commission+=Qe.saleCommission,fe.totalSum+=Ce.price*Ce.quantity;for(const Be of Qe.services)fe.services[Be.type]=Be.price+(fe.services[Be.type]??0),fe.serviceTotalSum+=Be.price;break;case c.f.OperationType.ClientReturnAgentOperation:vt.commission+=Qe.saleCommission,fe.commission+=Qe.saleCommission,fe.returnedProductCount+=Ce.quantity,fe.returnedSum+=Qe.amount,fe.totalSum-=Ce.price*Ce.quantity;for(const Be of Qe.services)fe.services[Be.type]=Be.price+(fe.services[Be.type]??0),fe.serviceTotalSum+=Be.price;break;case c.f.OperationType.OperationItemReturn:fe.commission+=Qe.saleCommission,fe.cancelledProductCount+=Ce.quantity;for(const Be of Qe.services)fe.services[Be.type]=Be.price+(fe.services[Be.type]??0),fe.serviceTotalSum+=Be.price;break;default:console.log("x",Qe)}}fe.totalOrderCount++}}this.summary=fe,this.loading=!1})}static#e=this.\u0275fac=function(_){return new(_||r)(e.Y36(c.f.OzonSalesOrderClient),e.Y36(w.ez),e.Y36(F.O),e.Y36(q.Dx))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-sales-reconciliation-report"]],features:[e.qOj],decls:4,vars:4,consts:[["header","\u0421\u0432\u0435\u0440\u043a\u0430 Ozon"],["selectionMode","single","view","month","dateFormat","yy-mm","placeholder","\u041f\u0435\u0440\u0438\u043e\u0434",3,"ngModel","disabledDates","readonlyInput","ngModelChange","onSelect"],["class","card",4,"ngIf"],[1,"card"],[1,"grid"],[1,"col-12","md:col-6"],[1,"card","text-right"],[1,"text-900","font-medium","text-xl","mb-3"],[1,"flex","justify-content-between"],[1,"text-500","text-center"],["responsiveLayout","stack","dataKey","iD",3,"value","loading","paginator","showCurrentPageReport","rows","rowsPerPageOptions","tableStyle",4,"ngIf"],["responsiveLayout","stack","dataKey","iD",3,"value","loading","paginator","showCurrentPageReport","rows","rowsPerPageOptions","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["field","product","matchMode","intersects","display","menu",3,"showMatchModes","showOperator","showAddButton"],["pTemplate","filter"],["pSortableColumn","sum"],["field","sum"],["pSortableColumn","date"],["field","date"],["field","ozonOrderNumber","matchMode","contains","display","menu",3,"showMatchModes","showOperator"],[1,"px-3","pt-3","pb-0"],[1,"font-bold"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435",3,"ngModel","filter","options","onChange"],[3,"pRowToggler"],[4,"ngFor","ngForOf"],[4,"ngIf"],["colspan","4"],["responsiveLayout","stack",3,"value","breakpoint","tableStyle"],[1,"p-column-title","font-bold"],["dataKey","iD","responsiveLayout","stack",3,"value","breakpoint","tableStyle"]],template:function(_,m){1&_&&(e._UZ(0,"p-toast"),e.TgZ(1,"p-card",0)(2,"p-calendar",1),e.NdJ("ngModelChange",function(Q){return m.date=Q})("onSelect",function(){return m.prepareReport()}),e.qZA()(),e.YNc(3,yi,85,43,"div",2)),2&_&&(e.xp6(2),e.Q6J("ngModel",m.date)("disabledDates",m.excludedDates)("readonlyInput",!0),e.xp6(1),e.Q6J("ngIf",m.summary))},dependencies:[w.jx,H.f,V.Z,n.sg,n.O5,X.JJ,X.On,C,W.iA,W.lQ,W.jB,W.fz,W.xl,me.FN,n.JJ,n.uU]})}return r})();const bi=["inputtext"];function Ti(r,P){1&r&&e.GkF(0)}function Oi(r,P){if(1&r&&(e.TgZ(0,"span",11),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,_=e.oxw();e.xp6(1),e.Oqu(_.field?_.resolveFieldData(t,_.field):t)}}function Ci(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"TimesCircleIcon",14),e.NdJ("click",function(m){e.CHM(t);const z=e.oxw(2).index,Q=e.oxw();return e.KtG(Q.removeItem(m,z))}),e.qZA()}2&r&&e.Q6J("styleClass","p-chips-token-icon")}function wi(r,P){}function Si(r,P){1&r&&e.YNc(0,wi,0,0,"ng-template")}function Ai(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"span",15),e.NdJ("click",function(m){e.CHM(t);const z=e.oxw(2).index,Q=e.oxw();return e.KtG(Q.removeItem(m,z))}),e.YNc(1,Si,1,0,null,16),e.qZA()}if(2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.removeTokenIconTemplate)}}function Ei(r,P){if(1&r&&(e.ynx(0),e.YNc(1,Ci,1,1,"TimesCircleIcon",12),e.YNc(2,Ai,2,1,"span",13),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.removeTokenIconTemplate),e.xp6(1),e.Q6J("ngIf",t.removeTokenIconTemplate)}}const Mi=function(r){return{$implicit:r}};function ki(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"li",7,8),e.NdJ("click",function(m){const Q=e.CHM(t).$implicit,le=e.oxw();return e.KtG(le.onItemClick(m,Q))}),e.YNc(2,Ti,1,0,"ng-container",9),e.YNc(3,Oi,2,1,"span",10),e.YNc(4,Ei,3,2,"ng-container",6),e.qZA()}if(2&r){const t=P.$implicit,_=e.oxw();e.xp6(2),e.Q6J("ngTemplateOutlet",_.itemTemplate)("ngTemplateOutletContext",e.VKq(4,Mi,t)),e.xp6(1),e.Q6J("ngIf",!_.itemTemplate),e.xp6(1),e.Q6J("ngIf",!_.disabled)}}function Zi(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"TimesIcon",14),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2);return e.KtG(m.clear())}),e.qZA()}2&r&&e.Q6J("styleClass","p-chips-clear-icon")}function Ii(r,P){}function Ri(r,P){1&r&&e.YNc(0,Ii,0,0,"ng-template")}function Di(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"span",18),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2);return e.KtG(m.clear())}),e.YNc(1,Ri,1,0,null,16),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",t.clearIconTemplate)}}function Pi(r,P){if(1&r&&(e.TgZ(0,"li"),e.YNc(1,Zi,1,1,"TimesIcon",12),e.YNc(2,Di,2,1,"span",17),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.clearIconTemplate),e.xp6(1),e.Q6J("ngIf",t.clearIconTemplate)}}const Li=function(r,P){return{"p-inputtext p-chips-multiple-container":!0,"p-focus":r,"p-disabled":P}},zi=function(r){return{"p-chips-clearable":r}},Fi={provide:X.JU,useExisting:(0,e.Gpc)(()=>Hn),multi:!0};let Hn=(()=>{class r{document;el;cd;style;styleClass;disabled;field;placeholder;max;ariaLabelledBy;tabindex;inputId;allowDuplicate=!0;inputStyle;inputStyleClass;addOnTab;addOnBlur;separator;showClear=!1;onAdd=new e.vpe;onRemove=new e.vpe;onFocus=new e.vpe;onBlur=new e.vpe;onChipClick=new e.vpe;onClear=new e.vpe;inputViewChild;templates;itemTemplate;removeTokenIconTemplate;clearIconTemplate;value;onModelChange=()=>{};onModelTouched=()=>{};valueChanged;focus;filled;get isValueMaxLimited(){return this.max&&this.value&&this.max===this.value.length}constructor(t,_,m){this.document=t,this.el=_,this.cd=m}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"removetokenicon":this.removeTokenIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template}}),this.updateFilledState()}onClick(){this.inputViewChild?.nativeElement.focus()}onInput(){this.updateFilledState()}onPaste(t){this.disabled||(this.separator&&((t.clipboardData||this.document.defaultView.clipboardData).getData("Text").split(this.separator).forEach(m=>{this.addItem(t,m,!0)}),this.inputViewChild.nativeElement.value=""),this.updateFilledState())}updateFilledState(){this.filled=!(!this.value||0===this.value.length)||this.inputViewChild&&this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}onItemClick(t,_){this.onChipClick.emit({originalEvent:t,value:_})}writeValue(t){this.value=t,this.updateMaxedOut(),this.updateFilledState(),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}resolveFieldData(t,_){if(t&&_){if(-1==_.indexOf("."))return t[_];{let Q=_.split("."),le=t;for(var m=0,z=Q.length;m<z;++m)le=le[Q[m]];return le}}return null}onInputFocus(t){this.focus=!0,this.onFocus.emit(t)}onInputBlur(t){this.focus=!1,this.addOnBlur&&this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!1),this.onModelTouched(),this.onBlur.emit(t)}removeItem(t,_){if(this.disabled)return;let m=this.value[_];this.value=this.value.filter((z,Q)=>Q!=_),this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:m}),this.updateFilledState(),this.updateMaxedOut()}addItem(t,_,m){this.value=this.value||[],_&&_.trim().length&&(this.allowDuplicate||-1===this.value.indexOf(_))&&!this.isValueMaxLimited&&(this.value=[...this.value,_],this.onModelChange(this.value),this.onAdd.emit({originalEvent:t,value:_})),this.updateFilledState(),this.updateMaxedOut(),this.inputViewChild.nativeElement.value="",m&&t.preventDefault()}clear(){this.value=null,this.updateFilledState(),this.onModelChange(this.value),this.updateMaxedOut(),this.onClear.emit()}onKeydown(t){switch(t.which){case 8:if(0===this.inputViewChild.nativeElement.value.length&&this.value&&this.value.length>0){this.value=[...this.value];let _=this.value.pop();this.onModelChange(this.value),this.onRemove.emit({originalEvent:t,value:_}),this.updateFilledState()}break;case 13:this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;case 9:this.addOnTab&&""!==this.inputViewChild.nativeElement.value&&this.addItem(t,this.inputViewChild.nativeElement.value,!0);break;default:this.max&&this.value&&this.max===this.value.length?t.preventDefault():this.separator&&(this.separator===t.key||t.key.match(this.separator))&&this.addItem(t,this.inputViewChild.nativeElement.value,!0)}}updateMaxedOut(){this.inputViewChild&&this.inputViewChild.nativeElement&&(this.isValueMaxLimited?(this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=!0):(this.disabled&&this.inputViewChild.nativeElement.blur(),this.inputViewChild.nativeElement.disabled=this.disabled||!1))}static \u0275fac=function(_){return new(_||r)(e.Y36(n.K0),e.Y36(e.SBq),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:r,selectors:[["p-chips"]],contentQueries:function(_,m,z){if(1&_&&e.Suo(z,w.jx,4),2&_){let Q;e.iGM(Q=e.CRH())&&(m.templates=Q)}},viewQuery:function(_,m){if(1&_&&e.Gf(bi,5),2&_){let z;e.iGM(z=e.CRH())&&(m.inputViewChild=z.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(_,m){2&_&&e.ekj("p-inputwrapper-filled",m.filled)("p-inputwrapper-focus",m.focus)("p-chips-clearable",m.showClear)},inputs:{style:"style",styleClass:"styleClass",disabled:"disabled",field:"field",placeholder:"placeholder",max:"max",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",allowDuplicate:"allowDuplicate",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",addOnTab:"addOnTab",addOnBlur:"addOnBlur",separator:"separator",showClear:"showClear"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onFocus:"onFocus",onBlur:"onBlur",onChipClick:"onChipClick",onClear:"onClear"},features:[e._Bn([Fi])],decls:7,vars:21,consts:[[3,"ngClass","ngStyle","click"],[3,"ngClass"],["class","p-chips-token",3,"click",4,"ngFor","ngForOf"],[1,"p-chips-input-token",3,"ngClass"],["type","text",3,"disabled","ngStyle","keydown","input","paste","focus","blur"],["inputtext",""],[4,"ngIf"],[1,"p-chips-token",3,"click"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-chips-token-label",4,"ngIf"],[1,"p-chips-token-label"],[3,"styleClass","click",4,"ngIf"],["class","p-chips-token-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-chips-token-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-chips-clear-icon",3,"click",4,"ngIf"],[1,"p-chips-clear-icon",3,"click"]],template:function(_,m){1&_&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return m.onClick()}),e.TgZ(1,"ul",1),e.YNc(2,ki,5,6,"li",2),e.TgZ(3,"li",3)(4,"input",4,5),e.NdJ("keydown",function(Q){return m.onKeydown(Q)})("input",function(){return m.onInput()})("paste",function(Q){return m.onPaste(Q)})("focus",function(Q){return m.onInputFocus(Q)})("blur",function(Q){return m.onInputBlur(Q)}),e.qZA()(),e.YNc(6,Pi,3,2,"li",6),e.qZA()()),2&_&&(e.Tol(m.styleClass),e.Q6J("ngClass","p-chips p-component")("ngStyle",m.style),e.xp6(1),e.Q6J("ngClass",e.WLB(16,Li,m.focus,m.disabled)),e.xp6(1),e.Q6J("ngForOf",m.value),e.xp6(1),e.Q6J("ngClass",e.VKq(19,zi,m.showClear&&!m.disabled)),e.xp6(1),e.Tol(m.inputStyleClass),e.Q6J("disabled",m.disabled)("ngStyle",m.inputStyle),e.uIk("id",m.inputId)("placeholder",m.value&&m.value.length?null:m.placeholder)("tabindex",m.tabindex)("aria-labelledby",m.ariaLabelledBy),e.xp6(2),e.Q6J("ngIf",null!=m.value&&m.filled&&!m.disabled&&m.showClear))},dependencies:function(){return[n.mk,n.sg,n.O5,n.tP,n.PC,Y.x,J.q]},styles:["@layer primeng{.p-chips{display:inline-flex}.p-chips-multiple-container{margin:0;padding:0;list-style-type:none;cursor:text;overflow:hidden;display:flex;align-items:center;flex-wrap:wrap}.p-chips-token{cursor:default;display:inline-flex;align-items:center;flex:0 0 auto;max-width:100%}.p-chips-token-label{min-width:0%;overflow:auto}.p-chips-token-label::-webkit-scrollbar{display:none}.p-chips-input-token{flex:1 1 auto;display:inline-flex}.p-chips-token-icon{cursor:pointer}.p-chips-input-token input{border:0 none;outline:0 none;background-color:transparent;margin:0;padding:0;box-shadow:none;border-radius:0;width:100%}.p-fluid .p-chips{display:flex}.p-chips-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-chips-clearable .p-inputtext{position:relative}}\n"],encapsulation:2,changeDetection:0})}return r})(),Ui=(()=>{class r{static \u0275fac=function(_){return new(_||r)};static \u0275mod=e.oAB({type:r});static \u0275inj=e.cJS({imports:[n.ez,Nn.j,w.m8,Y.x,J.q,Nn.j,w.m8]})}return r})();function qi(r,P){1&r&&(e.TgZ(0,"div",10)(1,"span",11),e._uU(2,"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b"),e.qZA()())}function Ni(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-multiSelect",12),e.NdJ("onChange",function(m){const Q=e.CHM(t).filterCallback;return e.KtG(Q(m.value))}),e.qZA()}if(2&r){const t=P.$implicit,_=e.oxw(3);e.Q6J("ngModel",t)("filter",!1)("options",_.warehouseClusters)}}function Bi(r,P){1&r&&(e.TgZ(0,"tr")(1,"th"),e._UZ(2,"p-columnFilter",5),e._uU(3," \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 "),e.qZA(),e.TgZ(4,"th"),e._uU(5,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"\u041e\u0441\u043e\u0431\u044b\u0439"),e.qZA(),e.TgZ(8,"th",6),e._uU(9," \u041a\u043b\u0430\u0441\u0442\u0435\u0440"),e._UZ(10,"p-sortIcon",7),e.TgZ(11,"p-columnFilter",8),e.YNc(12,qi,3,0,"ng-template",3),e.YNc(13,Ni,1,3,"ng-template",9),e.qZA()(),e.TgZ(14,"th"),e._uU(15,"\u041f\u0441\u0435\u0432\u0434\u043e\u043d\u0438\u043c\u044b"),e.qZA(),e._UZ(16,"th"),e.qZA()),2&r&&(e.xp6(2),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1),e.xp6(9),e.Q6J("showMatchModes",!1)("showOperator",!1)("showAddButton",!1))}function ji(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-checkbox",20),e.NdJ("ngModelChange",function(m){e.CHM(t);const z=e.oxw().$implicit;return e.KtG(z.standalone=m)}),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.Q6J("ngModel",t.standalone)("binary",!0)}}function Ji(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-checkbox",21),e.NdJ("ngModelChange",function(m){e.CHM(t);const z=e.oxw().$implicit;return e.KtG(z.standalone=m)}),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.Q6J("ngModel",t.standalone)("readonly",!0)("binary",!0)}}function Qi(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-chips",22),e.NdJ("ngModelChange",function(m){e.CHM(t);const z=e.oxw().$implicit;return e.KtG(z.aliases=m)}),e.qZA()}if(2&r){const t=e.oxw().$implicit;e.Q6J("ngModel",t.aliases)}}function Yi(r,P){if(1&r&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&r){const t=P.$implicit;e.xp6(1),e.Oqu(t)}}function Gi(r,P){if(1&r&&e.YNc(0,Yi,2,1,"div",23),2&r){const t=e.oxw().$implicit;e.Q6J("ngForOf",t.aliases)}}function Hi(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const m=e.oxw().$implicit,z=e.oxw(2);return e.KtG(z.onRowEditInit(m))}),e.qZA()}}function Vi(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const m=e.oxw().$implicit,z=e.oxw(2);return e.KtG(z.onRowEditSave(m))}),e.qZA()}}function Wi(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const m=e.oxw().$implicit,z=e.oxw(2);return e.KtG(z.onRowEditCancel(m))}),e.qZA()}}function $i(r,P){if(1&r&&(e.TgZ(0,"tr",13)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"p-cellEditor"),e.YNc(7,ji,1,2,"ng-template",14),e.YNc(8,Ji,1,3,"ng-template",15),e.qZA()(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"p-cellEditor"),e.YNc(13,Qi,1,1,"ng-template",14),e.YNc(14,Gi,1,1,"ng-template",15),e.qZA()(),e.TgZ(15,"td")(16,"div",16),e.YNc(17,Hi,1,0,"button",17),e.YNc(18,Vi,1,0,"button",18),e.YNc(19,Wi,1,0,"button",19),e.qZA()()()),2&r){const t=P.$implicit,_=P.editing;e.Q6J("pEditableRow",t),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.address),e.xp6(6),e.Oqu(t.warehouseCluster),e.xp6(7),e.Q6J("ngIf",!_),e.xp6(1),e.Q6J("ngIf",_),e.xp6(1),e.Q6J("ngIf",_)}}const Ki=function(){return{"min-width":"50rem"}},Xi=function(){return[50,100,250]};function eo(r,P){if(1&r){const t=e.EpF();e.TgZ(0,"p-table",2),e.NdJ("onEditComplete",function(m){e.CHM(t);const z=e.oxw();return e.KtG(z.editComplete(m))}),e.YNc(1,Bi,17,6,"ng-template",3),e.YNc(2,$i,20,7,"ng-template",4),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("value",t.data)("tableStyle",e.DdM(6,Ki))("paginator",!0)("rows",100)("rowsPerPageOptions",e.DdM(7,Xi))("totalRecords",t.totalRecords)}}let to=(()=>{class r extends l.V{constructor(t,_,m,z){super(z),this.warehouseClient=t,this.ozonWarehouseService=_,this.messageService=m,this.clonedData={},this.warehouseClusters=[]}ngOnInit(){this.titleService.setTitle("\u0421\u043a\u043b\u0430\u0434\u044b Ozon"),this.getOzonWarehouses()}getOzonWarehouses(){this.ozonWarehouseService.getWarehouses().pipe((0,p.K)(t=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:t}),x.E))).subscribe(t=>{this.data=t,this.warehouseClusters=[...t.reduce((_,m)=>(_.add(m.warehouseCluster),_),new Set)].sort()})}onRowEditInit(t){const _=new c.f.OzonWarehouse(t);this.clonedData[t.iD]=_}onRowEditCancel(t){const _=this.data.findIndex(m=>m.iD==t.iD);this.data[_]=this.clonedData[t.iD],delete this.clonedData[t.iD]}onRowEditSave(t){this.ozonWarehouseService.updateWarehouse(t).pipe((0,p.K)(_=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:_}),x.E))).subscribe()}importWarehouses(){var t=this;return(0,s.Z)(function*(){t.ozonWarehouseService.importOzonWarehouses().pipe((0,p.K)(_=>(t.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:_}),x.E))).subscribe(()=>{t.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043a\u043b\u0430\u0434\u043e\u0432 \u041e\u0437\u043e\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"}),t.getOzonWarehouses()})})()}static#e=this.\u0275fac=function(_){return new(_||r)(e.Y36(c.f.WarehouseClient),e.Y36(k.w),e.Y36(w.ez),e.Y36(q.Dx))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-ozon-warehouse-list"]],features:[e.qOj],decls:5,vars:1,consts:[["pButton","","pRipple","","type","button","label","\u0418\u043c\u043f\u043e\u0440\u0442 \u0441\u043a\u043b\u0430\u0434\u043e\u0432",3,"click"],["dataKey","iD","editMode","row",3,"value","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","onEditComplete",4,"ngIf"],["dataKey","iD","editMode","row",3,"value","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","onEditComplete"],["pTemplate","header"],["pTemplate","body"],["type","text","field","name","matchMode","contains",3,"showMatchModes","showOperator","showAddButton"],["pSortableColumn","warehouseCluster"],["field","warehouseCluster"],["field","warehouseCluster","matchMode","in","display","menu",3,"showMatchModes","showOperator","showAddButton"],["pTemplate","filter"],[1,"px-3","pt-3","pb-0"],[1,"font-bold"],["placeholder","\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435",3,"ngModel","filter","options","onChange"],[3,"pEditableRow"],["pTemplate","input"],["pTemplate","output"],[1,"flex","align-items-center","justify-content-center","gap-2"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded p-button-text p-button-success mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded p-button-text p-button-danger",3,"click",4,"ngIf"],["inputId","binary",3,"ngModel","binary","ngModelChange"],["inputId","binary",3,"ngModel","readonly","binary","ngModelChange"],["separator","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"]],template:function(_,m){1&_&&(e._UZ(0,"p-toast"),e.TgZ(1,"h1"),e._uU(2,"\u0421\u043a\u043b\u0430\u0434\u044b Ozon"),e.qZA(),e.TgZ(3,"button",0),e.NdJ("click",function(){return m.importWarehouses()}),e.qZA(),e.YNc(4,eo,3,8,"p-table",1)),2&_&&(e.xp6(4),e.Q6J("ngIf",m.data))},dependencies:[w.jx,j.Hq,qn.XZ,Hn,n.sg,n.O5,X.JJ,X.On,C,W.iA,W.lQ,W.YL,W.fz,W.D$,W.Pv,W.U1,W.wT,W.xl,me.FN]})}return r})();var no=y(3620);function ro(r,P){if(1&r&&(e.TgZ(0,"tr",16)(1,"td",17)(2,"span",18),e._uU(3),e.qZA()()()),2&r){const t=P.$implicit;e.xp6(3),e.Oqu(t.warehouseClusterName)}}function io(r,P){1&r&&(e.TgZ(0,"tr")(1,"th",19),e._uU(2," ID "),e._UZ(3,"p-sortIcon",20),e.qZA(),e.TgZ(4,"th"),e._uU(5,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(6,"th",21),e._uU(7," \u041f\u0440\u043e\u0434\u0430\u0436 \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 "),e._UZ(8,"p-sortIcon",22),e.qZA(),e.TgZ(9,"th",23),e._uU(10," \u041d\u0430\u043b\u0438\u0447\u0438\u0435 "),e._UZ(11,"p-sortIcon",24),e.qZA(),e.TgZ(12,"th",25),e._uU(13," \u0420\u0435\u0437\u0435\u0440\u0432 "),e._UZ(14,"p-sortIcon",26),e.qZA(),e.TgZ(15,"th",27),e._uU(16," \u0412 \u043f\u0443\u0442\u0438 "),e._UZ(17,"p-sortIcon",28),e.qZA(),e.TgZ(18,"th",29),e._uU(19," \u041f\u0440\u043e\u0434\u0430\u0436 \u0432 \u0434\u0435\u043d\u044c "),e._UZ(20,"p-sortIcon",30),e.qZA(),e.TgZ(21,"th",31),e._uU(22," \u0417\u0430\u043f\u0430\u0441 \u0432 \u0434\u043d\u044f\u0445 "),e._UZ(23,"p-sortIcon",32),e.qZA()(),e.TgZ(24,"tr")(25,"th"),e._UZ(26,"p-columnFilter",33),e.qZA(),e.TgZ(27,"th"),e._UZ(28,"p-columnFilter",34),e.qZA(),e.TgZ(29,"th"),e._UZ(30,"p-columnFilter",35),e.qZA(),e.TgZ(31,"th"),e._UZ(32,"p-columnFilter",36),e.qZA(),e.TgZ(33,"th"),e._UZ(34,"p-columnFilter",37),e.qZA(),e.TgZ(35,"th"),e._UZ(36,"p-columnFilter",38),e.qZA(),e.TgZ(37,"th"),e._UZ(38,"p-columnFilter",39),e.qZA(),e._UZ(39,"th"),e.qZA()),2&r&&(e.xp6(26),e.Q6J("min",1)("showButtons",!1)("showOperator",!1)("useGrouping",!1),e.xp6(2),e.Q6J("showMatchModes",!1)("showOperator",!1),e.xp6(2),e.Q6J("showMatchModes",!1)("showButtons",!1)("showOperator",!1)("useGrouping",!1),e.xp6(2),e.Q6J("showButtons",!1)("showOperator",!1)("useGrouping",!1),e.xp6(2),e.Q6J("showButtons",!1)("showOperator",!1)("useGrouping",!1),e.xp6(2),e.Q6J("showButtons",!1)("showOperator",!1)("useGrouping",!1),e.xp6(2),e.Q6J("showButtons",!1)("showOperator",!1))}function oo(r,P){if(1&r&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"number"),e.qZA()()),2&r){const t=P.$implicit;e.xp6(2),e.Oqu(t.productPackageID),e.xp6(2),e.Oqu(t.productPackageName),e.xp6(2),e.Oqu(t.salesCount),e.xp6(2),e.Oqu(t.present),e.xp6(2),e.Oqu(t.reserved),e.xp6(2),e.Oqu(t.moving),e.xp6(2),e.Oqu(e.xi3(15,8,t.salesRate,"1.0-1")),e.xp6(3),e.Oqu(e.xi3(18,11,t.stockDays,"1.0-1"))}}const ao=function(){return{"min-width":"75rem"}},uo=function(){return["name"]};function lo(r,P){if(1&r&&(e.TgZ(0,"p-table",12),e.YNc(1,ro,4,1,"ng-template",13),e.YNc(2,io,40,21,"ng-template",14),e.YNc(3,oo,19,14,"ng-template",15),e.qZA()),2&r){const t=e.oxw();e.Q6J("value",t.data)("tableStyle",e.DdM(6,ao))("paginator",!1)("loading",t.loading)("sortOrder",1)("globalFilterFields",e.DdM(7,uo))}}let so=(()=>{class r extends l.V{constructor(t,_,m,z,Q){super(z),this.route=t,this.reportClient=_,this.messageService=m,this.dbService=Q,this.loading=!1,this.filter=new c.f.OzonStockScarcityReportRequestModel({salesAnalysisInDays:null,notificationPeriodInDays:null,date:null,respectMinimalStock:!1,respectSupplyPreparationPeriod:!1,respectActiveSupplyOrders:!1}),this.filterSubject=new d.X(null)}ngOnInit(){this.titleService.setTitle("\u0414\u0435\u0444\u0438\u0446\u0438\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 Ozon"),this.filterSubject.pipe((0,M.R)(this.destroyed),(0,T.h)(Q=>!!Q),(0,no.b)(1e3)).pipe((0,T.h)(Q=>Q.salesAnalysisInDays>0&&Q.notificationPeriodInDays>0)).subscribe(Q=>{this.loading=!0;const le={...Q};delete le.date,this.dbService.update("filters",{id:r.name,data:le}).pipe((0,p.K)(fe=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430",severity:"error",detail:fe}),x.E))).subscribe(),this.reportClient.getOzonStockStarvationReport(new c.f.OzonStockScarcityReportRequestModel(Q)).pipe((0,p.K)(fe=>(this.loading=!1,this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:fe}),x.E))).subscribe(fe=>{this.data=fe,this.data.reduce((xe,be)=>{let Me;const ke=be.standaloneWarehouse?be.warehouseName:be.warehouseClusterName??"\u0411\u0435\u0437 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430";let Ce;return xe[ke]?Me=xe[ke]:(Me={},xe[ke]=Me),Me[be.productPackageID]?(Ce=Me[be.productPackageID],Ce.reserved+=be.reserved,Ce.present+=be.present,Ce.moving+=be.moving,Ce.salesCount+=be.salesCount):(Ce={productPackageName:be.productPackageName,productPackageID:be.productPackageID,reserved:be.reserved,present:be.present,moving:be.moving,salesCount:be.salesCount},Me[be.productPackageID]=Ce),xe},{}),this.loading=!1})});const t=+this.route.snapshot.paramMap.get("salesAnalysisInDays"),_=+this.route.snapshot.paramMap.get("notificationPeriodInDays"),z=this.route.snapshot.paramMap.get("date")?new Date:null;this.filter.salesAnalysisInDays=t>0?t:7,this.filter.notificationPeriodInDays=_>0?_:7,this.filter.date=z,this.dbService.getByID("filters",r.name).subscribe(Q=>{Q&&(Q.data&&(this.filter=Q.data),this.filterSubject.next(this.filter))}),this.filter.salesAnalysisInDays>0&&this.filter.notificationPeriodInDays>0&&this.filterSubject.next(this.filter)}onFilterChanged(){this.filterSubject.next(this.filter)}static#e=this.\u0275fac=function(_){return new(_||r)(e.Y36(a.gz),e.Y36(c.f.ReportClient),e.Y36(w.ez),e.Y36(q.Dx),e.Y36(Z.ys))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-stock-starvation-report"]],features:[e.qOj],decls:22,vars:16,consts:[[1,"card"],[1,"flex","gap-3","m-3"],[1,"p-float-label"],["inputId","salesAnalysisInDays",3,"min","required","ngModel","onInput","ngModelChange"],["htmlFor","number-input"],["inputId","notificationPeriodInDays",3,"min","required","ngModel","onInput","ngModelChange"],["input","date","dateFormat","dd.mm.yy","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u0447\u0451\u0442\u0430",3,"ngModel","showClear","readonlyInput","ngModelChange","onClear","onSelect"],["for","date",1,"font-bold"],["input","respectMinimalStock","label","\u0423\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0441\u0442\u0430\u0442\u043e\u043a",3,"ngModel","binary","ngModelChange","onChange"],["input","respectActiveSupplyOrders","label","\u0423\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435",3,"ngModel","binary","ngModelChange","onChange"],["input","respectSupplyPreparationPeriod","label","\u0423\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0443 \u043a \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0435",3,"ngModel","binary","ngModelChange","onChange"],["sortField","stockDays","rowGroupMode","subheader","groupRowsBy","warehouseClusterName","groupRowsByOrder","9",3,"value","tableStyle","paginator","loading","sortOrder","globalFilterFields",4,"ngIf"],["sortField","stockDays","rowGroupMode","subheader","groupRowsBy","warehouseClusterName","groupRowsByOrder","9",3,"value","tableStyle","paginator","loading","sortOrder","globalFilterFields"],["pTemplate","groupheader"],["pTemplate","header"],["pTemplate","body"],["pRowGroupHeader",""],["colspan","8"],[1,"font-bold","ml-2"],["pSortableColumn","productPackageID"],["field","productPackageID"],["pSortableColumn","salesCount"],["field","salesCount"],["pSortableColumn","present"],["field","present"],["pSortableColumn","reserved"],["field","reserved"],["pSortableColumn","moving"],["field","moving"],["pSortableColumn","salesRate"],["field","salesRate"],["pSortableColumn","stockDays"],["field","stockDays"],["field","productPackageID","type","numeric",3,"min","showButtons","showOperator","useGrouping"],["field","productPackageName","matchMode","contains","type","text",3,"showMatchModes","showOperator"],["field","salesCount","type","numeric",3,"showMatchModes","showButtons","showOperator","useGrouping"],["field","present","type","numeric",3,"showButtons","showOperator","useGrouping"],["field","reserved","type","numeric",3,"showButtons","showOperator","useGrouping"],["field","moving","type","numeric",3,"showButtons","showOperator","useGrouping"],["field","salesRate","type","numeric",3,"showButtons","showOperator"]],template:function(_,m){1&_&&(e._UZ(0,"p-toast"),e.TgZ(1,"h1"),e._uU(2," \u041e\u0442\u0447\u0451\u0442 \u043e \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u043e\u0441\u0442\u0430\u0442\u043a\u0430\u0445\n"),e.qZA(),e.TgZ(3,"div",0)(4,"div",1)(5,"span",2)(6,"p-inputNumber",3),e.NdJ("onInput",function(){return m.onFilterChanged()})("ngModelChange",function(Q){return m.filter.salesAnalysisInDays=Q}),e.qZA(),e.TgZ(7,"label",4),e._uU(8,"\u041f\u0435\u0440\u0438\u043e\u0434 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u043f\u0440\u043e\u0434\u0430\u0436, \u0434\u043d\u0435\u0439"),e.qZA()(),e.TgZ(9,"span",2)(10,"p-inputNumber",5),e.NdJ("onInput",function(){return m.onFilterChanged()})("ngModelChange",function(Q){return m.filter.notificationPeriodInDays=Q}),e.qZA(),e.TgZ(11,"label",4),e._uU(12,"\u0417\u0430\u043f\u0430\u0441 \u043e\u0441\u0442\u0430\u0442\u043a\u043e\u0432, \u0434\u043d\u0435\u0439"),e.qZA()(),e.TgZ(13,"span",2)(14,"p-calendar",6),e.NdJ("ngModelChange",function(Q){return m.filter.date=Q})("onClear",function(){return m.onFilterChanged()})("onSelect",function(){return m.onFilterChanged()}),e.qZA(),e.TgZ(15,"label",7),e._uU(16,"\u0414\u0430\u0442\u0430 \u043e\u0442\u0447\u0451\u0442\u0430"),e.qZA()()(),e.TgZ(17,"div",1)(18,"p-checkbox",8),e.NdJ("ngModelChange",function(Q){return m.filter.respectMinimalStock=Q})("onChange",function(){return m.onFilterChanged()}),e.qZA(),e.TgZ(19,"p-checkbox",9),e.NdJ("ngModelChange",function(Q){return m.filter.respectActiveSupplyOrders=Q})("onChange",function(){return m.onFilterChanged()}),e.qZA(),e.TgZ(20,"p-checkbox",10),e.NdJ("ngModelChange",function(Q){return m.filter.respectSupplyPreparationPeriod=Q})("onChange",function(){return m.onFilterChanged()}),e.qZA()()(),e.YNc(21,lo,4,8,"p-table",11)),2&_&&(e.xp6(6),e.Q6J("min",1)("required",!0)("ngModel",m.filter.salesAnalysisInDays),e.xp6(4),e.Q6J("min",1)("required",!0)("ngModel",m.filter.notificationPeriodInDays),e.xp6(4),e.Q6J("ngModel",m.filter.date)("showClear",!0)("readonlyInput",!0),e.xp6(4),e.Q6J("ngModel",m.filter.respectMinimalStock)("binary",!0),e.xp6(1),e.Q6J("ngModel",m.filter.respectActiveSupplyOrders)("binary",!0),e.xp6(1),e.Q6J("ngModel",m.filter.respectSupplyPreparationPeriod)("binary",!0),e.xp6(1),e.Q6J("ngIf",m.data))},dependencies:[w.jx,H.f,qn.XZ,n.O5,X.JJ,X.Q7,X.On,jn.Rn,W.iA,W.lQ,W.Z5,W.fz,W.xl,me.FN,n.JJ]})}return r})(),co=(()=>{class r{static#e=this.\u0275fac=function(_){return new(_||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[a.Bz.forChild([{path:"warehouse/list",component:to},{path:"salesOrders",component:rr},{path:"product",component:Tr},{path:"transaction",component:Xr},{path:"supplyOrder",component:Nr},{path:"reconciliation",component:xi},{path:"stock-starvation-report",component:so}]),a.Bz]})}return r})(),po=(()=>{class r{static#e=this.\u0275fac=function(_){return new(_||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({})}return r})(),fo=(()=>{class r{static \u0275fac=function(_){return new(_||r)};static \u0275mod=e.oAB({type:r});static \u0275inj=e.cJS({imports:[n.ez]})}return r})();var ho=y(7327),_o=y(3965),go=y(5096);let mo=(()=>{class r{static#e=this.\u0275fac=function(_){return new(_||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({providers:[c.f.WarehouseClient,c.f.ReportClient,c.f.OzonSalesOrderClient,c.f.OperationClient,c.f.OzonProductClient,c.f.OzonSupplyOrderClient,S.Q.PostingClient,S.Q.OperationClient,S.Q.OzonProductClient,S.Q.OzonSupplyOrderClient,S.Q.WarehouseClient,c.f.ProductClient,k.w,Jn,w.ez,w.YP],imports:[ho.WN,j.hJ,H._8,V.d,qn.nD,Ui,po,n.ez,Gn.D,Bn.S,_o.kW,go.O,X.u5,jn.L$,fo,Nn.j,R,Ar,co,G.r,K.Qy,W.U$,he.W,me.EV]})}return r})()},6387:(ye,i,y)=>{"use strict";var a=q(y(4168)),d=q(y(6017)),x=q(y(1301)),M=q(y(7164)),u=q(y(8619)),c=q(y(4866)),S=q(y(3057)),w=y(856),F=q(y(530));function q(ee){return ee&&ee.__esModule?ee:{default:ee}}var Z=function(){},j=function(N,ae,ie){var re=new Z;if(typeof N>"u")throw Error("No element to render on was provided.");return re._renderProperties=(0,u.default)(N),re._encodings=[],re._options=F.default,re._errorHandler=new S.default(re),typeof ae<"u"&&((ie=ie||{}).format||(ie.format=ne()),re.options(ie)[ie.format](ae,ie).render()),re};for(var H in j.getModule=function(ee){return a.default[ee]},a.default)a.default.hasOwnProperty(H)&&V(a.default,H);function V(ee,N){Z.prototype[N]=Z.prototype[N.toUpperCase()]=Z.prototype[N.toLowerCase()]=function(ae,ie){var re=this;return re._errorHandler.wrapBarcodeCall(function(){ie.text=typeof ie.text>"u"?void 0:""+ie.text;var ce=(0,d.default)(re._options,ie);ce=(0,c.default)(ce);var J=X(ae,ee[N],ce);return re._encodings.push(J),re})}}function X(ee,N,ae){var ie=new N(ee=""+ee,ae);if(!ie.valid())throw new w.InvalidInputException(ie.constructor.name,ee);var re=ie.encode();re=(0,x.default)(re);for(var ce=0;ce<re.length;ce++)re[ce].options=(0,d.default)(ae,re[ce].options);return re}function ne(){return a.default.CODE128?"CODE128":Object.keys(a.default)[0]}function $(ee,N,ae){N=(0,x.default)(N);for(var ie=0;ie<N.length;ie++)N[ie].options=(0,d.default)(ae,N[ie].options),(0,M.default)(N[ie].options);(0,M.default)(ae),new(0,ee.renderer)(ee.element,N,ae).render(),ee.afterRender&&ee.afterRender()}Z.prototype.options=function(ee){return this._options=(0,d.default)(this._options,ee),this},Z.prototype.blank=function(ee){var N=new Array(ee+1).join("0");return this._encodings.push({data:N}),this},Z.prototype.init=function(){var ee;if(this._renderProperties)for(var N in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var ae=(0,d.default)(this._options,(ee=this._renderProperties[N]).options);"auto"==ae.format&&(ae.format=ne()),this._errorHandler.wrapBarcodeCall(function(){var ce=X(ae.value,a.default[ae.format.toUpperCase()],ae);$(ee,ce,ae)})}},Z.prototype.render=function(){if(!this._renderProperties)throw new w.NoElementException;if(Array.isArray(this._renderProperties))for(var ee=0;ee<this._renderProperties.length;ee++)$(this._renderProperties[ee],this._encodings,this._options);else $(this._renderProperties,this._encodings,this._options);return this},Z.prototype._defaults=F.default,typeof window<"u"&&(window.JsBarcode=j),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(ee,N){var ae=[];return jQuery(this).each(function(){ae.push(this)}),j(ae,ee,N)}),ye.exports=j},9418:(ye,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function a(s,d){(function y(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,a),this.data=s,this.text=d.text||s,this.options=d}},8514:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,c){for(var e=0;e<c.length;e++){var S=c[e];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,c,e){return c&&u(l.prototype,c),e&&u(l,e),l}}(),s=function p(u){return u&&u.__esModule?u:{default:u}}(y(9418)),d=y(9144),b=function(u){function l(c,e){!function x(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l);var S=function T(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c.substring(1),e));return S.bytes=c.split("").map(function(w){return w.charCodeAt(0)}),S}return function M(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.bytes,S=e.shift()-105,w=d.SET_BY_CODE[S];if(void 0===w)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&e.unshift(d.FNC1);var k=l.next(e,1,w);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:l.getBar(S)+k.result+l.getBar((k.checksum+S)%d.MODULO)+l.getBar(d.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return"string"==typeof e&&(e="true"===e.toLowerCase()),e}}],[{key:"getBar",value:function(e){return d.BARS[e]?d.BARS[e].toString():""}},{key:"correctIndex",value:function(e,S){if(S===d.SET_A){var w=e.shift();return w<32?w+64:w-32}return S===d.SET_B?e.shift()-32:10*(e.shift()-48)+e.shift()-48}},{key:"next",value:function(e,S,w){if(!e.length)return{result:"",checksum:0};var k=void 0,F=void 0;if(e[0]>=200){F=e.shift()-105;var q=d.SWAP[F];void 0!==q?k=l.next(e,S+1,q):((w===d.SET_A||w===d.SET_B)&&F===d.SHIFT&&(e[0]=w===d.SET_A?e[0]>95?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0]),k=l.next(e,S+1,w))}else F=l.correctIndex(e,w),k=l.next(e,S+1,w);return{result:l.getBar(F)+k.result,checksum:F*S+k.checksum}}}]),l}(s.default);i.default=b},2100:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,c){for(var e=0;e<c.length;e++){var S=c[e];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,c,e){return c&&u(l.prototype,c),e&&u(l,e),l}}(),s=function p(u){return u&&u.__esModule?u:{default:u}}(y(8514)),d=y(9144),b=function(u){function l(c,e){return function x(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function T(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,d.A_START_CHAR+c,e))}return function M(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"valid",value:function(){return new RegExp("^"+d.A_CHARS+"+$").test(this.data)}}]),l}(s.default);i.default=b},2943:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,c){for(var e=0;e<c.length;e++){var S=c[e];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,c,e){return c&&u(l.prototype,c),e&&u(l,e),l}}(),s=function p(u){return u&&u.__esModule?u:{default:u}}(y(8514)),d=y(9144),b=function(u){function l(c,e){return function x(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function T(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,d.B_START_CHAR+c,e))}return function M(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"valid",value:function(){return new RegExp("^"+d.B_CHARS+"+$").test(this.data)}}]),l}(s.default);i.default=b},5683:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,c){for(var e=0;e<c.length;e++){var S=c[e];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,c,e){return c&&u(l.prototype,c),e&&u(l,e),l}}(),s=function p(u){return u&&u.__esModule?u:{default:u}}(y(8514)),d=y(9144),b=function(u){function l(c,e){return function x(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function T(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,d.C_START_CHAR+c,e))}return function M(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"valid",value:function(){return new RegExp("^"+d.C_CHARS+"+$").test(this.data)}}]),l}(s.default);i.default=b},7737:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=p(y(8514)),d=p(y(4336));function p(u){return u&&u.__esModule?u:{default:u}}function T(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}var b=function(u){function l(c,e){if(function x(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),/^[\x00-\x7F\xC8-\xD3]+$/.test(c))var S=T(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,(0,d.default)(c),e));else S=T(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c,e));return T(S)}return function M(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),l}(a.default);i.default=b},4336:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=y(9144),a=function(M){return M.match(new RegExp("^"+n.A_CHARS+"*"))[0].length},s=function(M){return M.match(new RegExp("^"+n.B_CHARS+"*"))[0].length},d=function(M){return M.match(new RegExp("^"+n.C_CHARS+"*"))[0]};function p(T,M){var b=M?n.A_CHARS:n.B_CHARS,u=T.match(new RegExp("^("+b+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(u)return u[1]+String.fromCharCode(204)+x(T.substring(u[1].length));var l=T.match(new RegExp("^"+b+"+"))[0];return l.length===T.length?T:l+String.fromCharCode(M?205:206)+p(T.substring(l.length),!M)}function x(T){var M=d(T),b=M.length;if(b===T.length)return T;T=T.substring(b);var u=a(T)>=s(T);return M+String.fromCharCode(u?206:205)+p(T,u)}i.default=function(T){var M=void 0;if(d(T).length>=2)M=n.C_START_CHAR+x(T);else{var u=a(T)>s(T);M=(u?n.A_START_CHAR:n.B_START_CHAR)+p(T,u)}return M.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(l,c){return String.fromCharCode(203)+c})}},9144:(ye,i)=>{"use strict";var y;function n(H,V,X){return V in H?Object.defineProperty(H,V,{value:X,enumerable:!0,configurable:!0,writable:!0}):H[V]=X,H}Object.defineProperty(i,"__esModule",{value:!0});var a=i.SET_A=0,s=i.SET_B=1,d=i.SET_C=2,x=(i.SHIFT=98,i.START_A=103),T=i.START_B=104,M=i.START_C=105;i.MODULO=103,i.STOP=106,i.FNC1=207,i.SET_BY_CODE=(n(y={},x,a),n(y,T,s),n(y,M,d),y),i.SWAP={101:a,100:s,99:d},i.A_START_CHAR=String.fromCharCode(208),i.B_START_CHAR=String.fromCharCode(209),i.C_START_CHAR=String.fromCharCode(210),i.A_CHARS="[\0-_\xc8-\xcf]",i.B_CHARS="[ -\x7f\xc8-\xcf]",i.C_CHARS="(\xcf*[0-9]{2}\xcf*)",i.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},8754:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CODE128C=i.CODE128B=i.CODE128A=i.CODE128=void 0;var a=b(y(7737)),d=b(y(2100)),x=b(y(2943)),M=b(y(5683));function b(u){return u&&u.__esModule?u:{default:u}}i.CODE128=a.default,i.CODE128A=d.default,i.CODE128B=x.default,i.CODE128C=M.default},6602:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CODE39=void 0;var n=function(){function k(F,q){for(var Z=0;Z<q.length;Z++){var j=q[Z];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(F,j.key,j)}}return function(F,q,Z){return q&&k(F.prototype,q),Z&&k(F,Z),F}}(),M=function(k){function F(q,Z){return function p(k,F){if(!(k instanceof F))throw new TypeError("Cannot call a class as a function")}(this,F),q=q.toUpperCase(),Z.mod43&&(q+=function e(k){return b[k]}(function w(k){for(var F=0,q=0;q<k.length;q++)F+=S(k[q]);return F%=43}(q))),function x(k,F){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||"object"!=typeof F&&"function"!=typeof F?k:F}(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,q,Z))}return function T(k,F){if("function"!=typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function, not "+typeof F);k.prototype=Object.create(F&&F.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(k,F):k.__proto__=F)}(F,k),n(F,[{key:"encode",value:function(){for(var Z=l("*"),j=0;j<this.data.length;j++)Z+=l(this.data[j])+"0";return{data:Z+=l("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),F}(function d(k){return k&&k.__esModule?k:{default:k}}(y(9418)).default),b=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],u=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function l(k){return function c(k){return u[k].toString(2)}(S(k))}function S(k){return b.indexOf(k)}i.CODE39=M},4079:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function c(e,S){for(var w=0;w<S.length;w++){var k=S[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(e,k.key,k)}}return function(e,S,w){return S&&c(e.prototype,S),w&&c(e,w),e}}(),a=y(1392),d=T(y(2651));function T(c){return c&&c.__esModule?c:{default:c}}var l=function(c){function e(S,w){!function M(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var k=function b(c,e){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?c:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,S,w));return k.fontSize=!w.flat&&w.fontSize>10*w.width?10*w.width:w.fontSize,k.guardHeight=w.height+k.fontSize/2+w.textMargin,k}return function u(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}(e,c),n(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(w,k){return this.text.substr(w,k)}},{key:"leftEncode",value:function(w,k){return(0,d.default)(w,k)}},{key:"rightText",value:function(w,k){return this.text.substr(w,k)}},{key:"rightEncode",value:function(w,k){return(0,d.default)(w,k)}},{key:"encodeGuarded",value:function(){var w={fontSize:this.fontSize},k={height:this.guardHeight};return[{data:a.SIDE_BIN,options:k},{data:this.leftEncode(),text:this.leftText(),options:w},{data:a.MIDDLE_BIN,options:k},{data:this.rightEncode(),text:this.rightText(),options:w},{data:a.SIDE_BIN,options:k}]}},{key:"encodeFlat",value:function(){return{data:[a.SIDE_BIN,this.leftEncode(),a.MIDDLE_BIN,this.rightEncode(),a.SIDE_BIN].join(""),text:this.text}}}]),e}(T(y(9418)).default);i.default=l},9619:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function c(e,S){for(var w=0;w<S.length;w++){var k=S[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(e,k.key,k)}}return function(e,S,w){return S&&c(e.prototype,S),w&&c(e,w),e}}(),a=function c(e,S,w){null===e&&(e=Function.prototype);var k=Object.getOwnPropertyDescriptor(e,S);if(void 0===k){var F=Object.getPrototypeOf(e);return null===F?void 0:c(F,S,w)}if("value"in k)return k.value;var q=k.get;return void 0===q?void 0:q.call(w)},s=y(1392),p=function x(c){return c&&c.__esModule?c:{default:c}}(y(4079)),u=function(e){return(10-e.substr(0,12).split("").map(function(w){return+w}).reduce(function(w,k,F){return F%2?w+3*k:w+k},0)%10)%10},l=function(c){function e(S,w){(function T(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),-1!==S.search(/^[0-9]{12}$/)&&(S+=u(S));var k=function M(c,e){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?c:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,S,w));return k.lastChar=w.lastChar,k}return function b(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}(e,c),n(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===u(this.data)}},{key:"leftText",value:function(){return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var w=this.data.substr(1,6),k=s.EAN13_STRUCTURE[this.data[0]];return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,w,k)}},{key:"rightText",value:function(){return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var w=this.data.substr(7,6);return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,w,"RRRRRR")}},{key:"encodeGuarded",value:function(){var w=a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(w.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(w.push({data:"00"}),w.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),w}}]),e}(p.default);i.default=l},5754:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function c(e,S){for(var w=0;w<S.length;w++){var k=S[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(e,k.key,k)}}return function(e,S,w){return S&&c(e.prototype,S),w&&c(e,w),e}}(),a=y(1392),d=T(y(2651));function T(c){return c&&c.__esModule?c:{default:c}}var l=function(c){function e(S,w){return function M(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function b(c,e){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?c:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,S,w))}return function u(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}(e,c),n(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var w=a.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,d.default)(this.data,w,"01"),text:this.text}}}]),e}(T(y(9418)).default);i.default=l},1931:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(S,w){for(var k=0;k<w.length;k++){var F=w[k];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(S,F.key,F)}}return function(S,w,k){return w&&e(S.prototype,w),k&&e(S,k),S}}(),a=y(1392),d=T(y(2651));function T(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function S(w,k){return function M(e,S){if(!(e instanceof S))throw new TypeError("Cannot call a class as a function")}(this,S),function b(e,S){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?e:S}(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,w,k))}return function u(e,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function, not "+typeof S);e.prototype=Object.create(S&&S.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(e,S):e.__proto__=S)}(S,e),n(S,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var k=a.EAN5_STRUCTURE[function(S){return S.split("").map(function(k){return+k}).reduce(function(k,F,q){return q%2?k+9*F:k+3*F},0)%10}(this.data)];return{data:"1011"+(0,d.default)(this.data,k,"01"),text:this.text}}}]),S}(T(y(9418)).default);i.default=c},3372:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function l(c,e){for(var S=0;S<e.length;S++){var w=e[S];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,e,S){return e&&l(c.prototype,e),S&&l(c,S),c}}(),a=function l(c,e,S){null===c&&(c=Function.prototype);var w=Object.getOwnPropertyDescriptor(c,e);if(void 0===w){var k=Object.getPrototypeOf(c);return null===k?void 0:l(k,e,S)}if("value"in w)return w.value;var F=w.get;return void 0===F?void 0:F.call(S)},d=function p(l){return l&&l.__esModule?l:{default:l}}(y(4079)),b=function(c){return(10-c.substr(0,7).split("").map(function(S){return+S}).reduce(function(S,w,k){return k%2?S+w:S+3*w},0)%10)%10},u=function(l){function c(e,S){return function x(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}(this,c),-1!==e.search(/^[0-9]{7}$/)&&(e+=b(e)),function T(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?l:c}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,S))}return function M(l,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}(c,l),n(c,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===b(this.data)}},{key:"leftText",value:function(){return a(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var S=this.data.substr(0,4);return a(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"leftEncode",this).call(this,S,"LLLL")}},{key:"rightText",value:function(){return a(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var S=this.data.substr(4,4);return a(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"rightEncode",this).call(this,S,"RRRR")}}]),c}(d.default);i.default=u},5821:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function c(e,S){for(var w=0;w<S.length;w++){var k=S[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(e,k.key,k)}}return function(e,S,w){return S&&c(e.prototype,S),w&&c(e,w),e}}();i.checksum=l;var s=x(y(2651));function x(c){return c&&c.__esModule?c:{default:c}}var u=function(c){function e(S,w){(function T(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),-1!==S.search(/^[0-9]{11}$/)&&(S+=l(S));var k=function M(c,e){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?c:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,S,w));return k.displayValue=w.displayValue,k.fontSize=w.fontSize>10*w.width?10*w.width:w.fontSize,k.guardHeight=w.height+k.fontSize/2+w.textMargin,k}return function b(c,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);c.prototype=Object.create(e&&e.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(c,e):c.__proto__=e)}(e,c),n(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==l(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var w="";return w+="101",w+=(0,s.default)(this.data.substr(0,6),"LLLLLL"),w+="01010",w+=(0,s.default)(this.data.substr(6,6),"RRRRRR"),{data:w+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var w=[];return this.displayValue&&w.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),w.push({data:"101"+(0,s.default)(this.data[0],"L"),options:{height:this.guardHeight}}),w.push({data:(0,s.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),w.push({data:"01010",options:{height:this.guardHeight}}),w.push({data:(0,s.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),w.push({data:(0,s.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&w.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),w}}]),e}(x(y(9418)).default);function l(c){var S,e=0;for(S=1;S<11;S+=2)e+=parseInt(c[S]);for(S=0;S<11;S+=2)e+=3*parseInt(c[S]);return(10-e%10)%10}i.default=u},1091:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function w(k,F){for(var q=0;q<F.length;q++){var Z=F[q];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(k,Z.key,Z)}}return function(k,F,q){return F&&w(k.prototype,F),q&&w(k,q),k}}(),s=T(y(2651)),p=T(y(9418)),x=y(5821);function T(w){return w&&w.__esModule?w:{default:w}}function b(w,k){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?w:k}var l=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],c=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],e=function(w){function k(F,q){!function M(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,k);var Z=b(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,F,q));if(Z.isValid=!1,-1!==F.search(/^[0-9]{6}$/))Z.middleDigits=F,Z.upcA=S(F,"0"),Z.text=q.text||""+Z.upcA[0]+F+Z.upcA[Z.upcA.length-1],Z.isValid=!0;else{if(-1===F.search(/^[01][0-9]{7}$/))return b(Z);if(Z.middleDigits=F.substring(1,F.length-1),Z.upcA=S(Z.middleDigits,F[0]),Z.upcA[Z.upcA.length-1]!==F[F.length-1])return b(Z);Z.isValid=!0}return Z.displayValue=q.displayValue,Z.fontSize=q.fontSize>10*q.width?10*q.width:q.fontSize,Z.guardHeight=q.height+Z.fontSize/2+q.textMargin,Z}return function u(w,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);w.prototype=Object.create(k&&k.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(w,k):w.__proto__=k)}(k,w),n(k,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var q="";return q+="101",q+=this.encodeMiddleDigits(),{data:q+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var q=[];return this.displayValue&&q.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),q.push({data:"101",options:{height:this.guardHeight}}),q.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),q.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&q.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),q}},{key:"encodeMiddleDigits",value:function(){var q=this.upcA[0],j=c[parseInt(this.upcA[this.upcA.length-1])][parseInt(q)];return(0,s.default)(this.middleDigits,j)}}]),k}(p.default);function S(w,k){for(var F=parseInt(w[w.length-1]),q=l[F],Z="",j=0,H=0;H<q.length;H++){var V=q[H];Z+="X"===V?w[j++]:V}return(Z=""+k+Z)+(0,x.checksum)(Z)}i.default=e},1392:(ye,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.SIDE_BIN="101",i.MIDDLE_BIN="01010",i.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},i.EAN2_STRUCTURE=["LL","LG","GL","GG"],i.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],i.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},2651:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=y(1392);i.default=function(d,p,x){var T=d.split("").map(function(b,u){return n.BINARIES[p[u]]}).map(function(b,u){return b?b[d[u]]:""});if(x){var M=d.length-1;T=T.map(function(b,u){return u<M?b+x:b})}return T.join("")}},2708:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.UPCE=i.UPC=i.EAN2=i.EAN5=i.EAN8=i.EAN13=void 0;var a=e(y(9619)),d=e(y(3372)),x=e(y(1931)),M=e(y(5754)),u=e(y(5821)),c=e(y(1091));function e(S){return S&&S.__esModule?S:{default:S}}i.EAN13=a.default,i.EAN8=d.default,i.EAN5=x.default,i.EAN2=M.default,i.UPC=u.default,i.UPCE=c.default},8817:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.GenericBarcode=void 0;var n=function(){function b(u,l){for(var c=0;c<l.length;c++){var e=l[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,e.key,e)}}return function(u,l,c){return l&&b(u.prototype,l),c&&b(u,c),u}}(),M=function(b){function u(l,c){return function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function x(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l,c))}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),n(u,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),u}(function d(b){return b&&b.__esModule?b:{default:b}}(y(9418)).default);i.GenericBarcode=M},6065:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,c){for(var e=0;e<c.length;e++){var S=c[e];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,c,e){return c&&u(l.prototype,c),e&&u(l,e),l}}(),a=y(5168),b=function(u){function l(){return function x(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function T(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function M(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var e=this,S=this.data.match(/.{2}/g).map(function(w){return e.encodePair(w)}).join("");return{data:a.START_BIN+S+a.END_BIN,text:this.text}}},{key:"encodePair",value:function(e){var S=a.BINARIES[e[1]];return a.BINARIES[e[0]].split("").map(function(w,k){return("1"===w?"111":"1")+("1"===S[k]?"000":"0")}).join("")}}]),l}(function p(u){return u&&u.__esModule?u:{default:u}}(y(9418)).default);i.default=b},9643:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,c){for(var e=0;e<c.length;e++){var S=c[e];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,c,e){return c&&u(l.prototype,c),e&&u(l,e),l}}(),s=function d(u){return u&&u.__esModule?u:{default:u}}(y(6065)),M=function(l){var c=l.substr(0,13).split("").map(function(e){return parseInt(e,10)}).reduce(function(e,S,w){return e+S*(3-w%2*2)},0);return 10*Math.ceil(c/10)-c},b=function(u){function l(c,e){return function p(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),-1!==c.search(/^[0-9]{13}$/)&&(c+=M(c)),function x(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c,e))}return function T(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===M(this.data)}}]),l}(s.default);i.default=b},5168:(ye,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.START_BIN="1010",i.END_BIN="11101",i.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},8969:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ITF14=i.ITF=void 0;var a=p(y(6065)),d=p(y(9643));function p(x){return x&&x.__esModule?x:{default:x}}i.ITF=a.default,i.ITF14=d.default},7037:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function u(l,c){for(var e=0;e<c.length;e++){var S=c[e];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(l,S.key,S)}}return function(l,c,e){return c&&u(l.prototype,c),e&&u(l,e),l}}(),M=function(u){function l(c,e){return function p(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function x(u,l){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?u:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c,e))}return function T(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(u,l):u.__proto__=l)}(l,u),n(l,[{key:"encode",value:function(){for(var e="110",S=0;S<this.data.length;S++){var k=parseInt(this.data[S]).toString(2);k=b(k,4-k.length);for(var F=0;F<k.length;F++)e+="0"==k[F]?"100":"110"}return{data:e+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),l}(function d(u){return u&&u.__esModule?u:{default:u}}(y(9418)).default);function b(u,l){for(var c=0;c<l;c++)u="0"+u;return u}i.default=M},3922:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function d(b){return b&&b.__esModule?b:{default:b}}(y(7037)),s=y(6225),M=function(b){function u(l,c){return function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function x(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l+(0,s.mod10)(l),c))}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),u}(a.default);i.default=M},8742:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function d(b){return b&&b.__esModule?b:{default:b}}(y(7037)),s=y(6225),M=function(b){function u(l,c){return function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),l+=(0,s.mod10)(l),l+=(0,s.mod10)(l),function x(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l,c))}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),u}(a.default);i.default=M},1825:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function d(b){return b&&b.__esModule?b:{default:b}}(y(7037)),s=y(6225),M=function(b){function u(l,c){return function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function x(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l+(0,s.mod11)(l),c))}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),u}(a.default);i.default=M},4455:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function d(b){return b&&b.__esModule?b:{default:b}}(y(7037)),s=y(6225),M=function(b){function u(l,c){return function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),l+=(0,s.mod11)(l),l+=(0,s.mod10)(l),function x(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l,c))}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),u}(a.default);i.default=M},6225:(ye,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.mod10=function y(a){for(var s=0,d=0;d<a.length;d++){var p=parseInt(a[d]);s+=(d+a.length)%2==0?p:2*p%10+Math.floor(2*p/10)}return(10-s%10)%10},i.mod11=function n(a){for(var s=0,d=[2,3,4,5,6,7],p=0;p<a.length;p++){var x=parseInt(a[a.length-1-p]);s+=d[p%d.length]*x}return(11-s%11)%11}},1122:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.MSI1110=i.MSI1010=i.MSI11=i.MSI10=i.MSI=void 0;var a=l(y(7037)),d=l(y(3922)),x=l(y(1825)),M=l(y(8742)),u=l(y(4455));function l(c){return c&&c.__esModule?c:{default:c}}i.MSI=a.default,i.MSI10=d.default,i.MSI11=x.default,i.MSI1010=M.default,i.MSI1110=u.default},886:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.codabar=void 0;var n=function(){function b(u,l){for(var c=0;c<l.length;c++){var e=l[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,e.key,e)}}return function(u,l,c){return l&&b(u.prototype,l),c&&b(u,c),u}}(),M=function(b){function u(l,c){(function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")})(this,u),0===l.search(/^[0-9\-\$\:\.\+\/]+$/)&&(l="A"+l+"A");var e=function x(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l.toUpperCase(),c));return e.text=e.options.text||e.text.replace(/[A-D]/g,""),e}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),n(u,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var c=[],e=this.getEncodings(),S=0;S<this.data.length;S++)c.push(e[this.data.charAt(S)]),S!==this.data.length-1&&c.push("0");return{text:this.text,data:c.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),u}(function d(b){return b&&b.__esModule?b:{default:b}}(y(9418)).default);i.codabar=M},4168:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=y(6602),a=y(8754),s=y(2708),d=y(8969),p=y(1122),x=y(8758),T=y(886),M=y(8817);i.default={CODE39:n.CODE39,CODE128:a.CODE128,CODE128A:a.CODE128A,CODE128B:a.CODE128B,CODE128C:a.CODE128C,EAN13:s.EAN13,EAN8:s.EAN8,EAN5:s.EAN5,EAN2:s.EAN2,UPC:s.UPC,UPCE:s.UPCE,ITF14:d.ITF14,ITF:d.ITF,MSI:p.MSI,MSI10:p.MSI10,MSI11:p.MSI11,MSI1010:p.MSI1010,MSI1110:p.MSI1110,pharmacode:x.pharmacode,codabar:T.codabar,GenericBarcode:M.GenericBarcode}},8758:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.pharmacode=void 0;var n=function(){function b(u,l){for(var c=0;c<l.length;c++){var e=l[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,e.key,e)}}return function(u,l,c){return l&&b(u.prototype,l),c&&b(u,c),u}}(),M=function(b){function u(l,c){!function p(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u);var e=function x(b,u){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?b:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l,c));return e.number=parseInt(l,10),e}return function T(b,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);b.prototype=Object.create(u&&u.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(b,u):b.__proto__=u)}(u,b),n(u,[{key:"encode",value:function(){for(var c=this.number,e="";!isNaN(c)&&0!=c;)c%2==0?(e="11100"+e,c=(c-2)/2):(e="100"+e,c=(c-1)/2);return{data:e=e.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),u}(function d(b){return b&&b.__esModule?b:{default:b}}(y(9418)).default);i.pharmacode=M},3057:(ye,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var y=function(){function s(d,p){for(var x=0;x<p.length;x++){var T=p[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}return function(d,p,x){return p&&s(d.prototype,p),x&&s(d,x),d}}(),a=function(){function s(d){(function n(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this.api=d}return y(s,[{key:"handleCatch",value:function(p){if("InvalidInputException"!==p.name)throw p;if(this.api._options.valid===this.api._defaults.valid)throw p.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(p){try{var x=p.apply(void 0,arguments);return this.api._options.valid(!0),x}catch(T){return this.handleCatch(T),this.api}}}]),s}();i.default=a},856:(ye,i)=>{"use strict";function y(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")}function n(x,T){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?x:T}function a(x,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);x.prototype=Object.create(T&&T.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(x,T):x.__proto__=T)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(x){function T(M,b){y(this,T);var u=n(this,(T.__proto__||Object.getPrototypeOf(T)).call(this));return u.name="InvalidInputException",u.symbology=M,u.input=b,u.message='"'+u.input+'" is not a valid input for '+u.symbology,u}return a(T,Error),T}(),d=function(x){function T(){y(this,T);var M=n(this,(T.__proto__||Object.getPrototypeOf(T)).call(this));return M.name="InvalidElementException",M.message="Not supported type to render on",M}return a(T,Error),T}(),p=function(x){function T(){y(this,T);var M=n(this,(T.__proto__||Object.getPrototypeOf(T)).call(this));return M.name="NoElementException",M.message="No element to render on.",M}return a(T,Error),T}();i.InvalidInputException=s,i.InvalidElementException=d,i.NoElementException=p},7164:(ye,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function y(n){return n.marginTop=n.marginTop||n.margin,n.marginBottom=n.marginBottom||n.margin,n.marginRight=n.marginRight||n.margin,n.marginLeft=n.marginLeft||n.margin,n}},7020:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=p(y(4866)),d=p(y(530));function p(T){return T&&T.__esModule?T:{default:T}}i.default=function x(T){var M={};for(var b in d.default)d.default.hasOwnProperty(b)&&(T.hasAttribute("jsbarcode-"+b.toLowerCase())&&(M[b]=T.getAttribute("jsbarcode-"+b.toLowerCase())),T.hasAttribute("data-"+b.toLowerCase())&&(M[b]=T.getAttribute("data-"+b.toLowerCase())));return M.value=T.getAttribute("jsbarcode-value")||T.getAttribute("data-value"),(0,a.default)(M)}},8619:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s=T(y(7020)),p=T(y(2233)),x=y(856);function T(l){return l&&l.__esModule?l:{default:l}}i.default=function M(l){if("string"==typeof l)return function b(l){var c=document.querySelectorAll(l);if(0!==c.length){for(var e=[],S=0;S<c.length;S++)e.push(M(c[S]));return e}}(l);if(Array.isArray(l)){for(var c=[],e=0;e<l.length;e++)c.push(M(l[e]));return c}if(typeof HTMLCanvasElement<"u"&&l instanceof HTMLImageElement)return function u(l){var c=document.createElement("canvas");return{element:c,options:(0,s.default)(l),renderer:p.default.CanvasRenderer,afterRender:function(){l.setAttribute("src",c.toDataURL())}}}(l);if(l&&l.nodeName&&"svg"===l.nodeName.toLowerCase()||typeof SVGElement<"u"&&l instanceof SVGElement)return{element:l,options:(0,s.default)(l),renderer:p.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement)return{element:l,options:(0,s.default)(l),renderer:p.default.CanvasRenderer};if(l&&l.getContext)return{element:l,renderer:p.default.CanvasRenderer};if(l&&"object"===(typeof l>"u"?"undefined":n(l))&&!l.nodeName)return{element:l,renderer:p.default.ObjectRenderer};throw new x.InvalidElementException}},1301:(ye,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function y(n){var a=[];return function s(d){if(Array.isArray(d))for(var p=0;p<d.length;p++)s(d[p]);else d.text=d.text||"",d.data=d.data||"",a.push(d)}(n),a}},6017:(ye,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var y=Object.assign||function(n){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])}return n};i.default=function(n,a){return y({},n,a)}},4866:(ye,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function y(n){var a=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var s in a)a.hasOwnProperty(s)&&"string"==typeof n[s=a[s]]&&(n[s]=parseInt(n[s],10));return"string"==typeof n.displayValue&&(n.displayValue="false"!=n.displayValue),n}},530:(ye,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},1799:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function M(b,u){for(var l=0;l<u.length;l++){var c=u[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}return function(b,u,l){return u&&M(b.prototype,u),l&&M(b,l),b}}(),s=function p(M){return M&&M.__esModule?M:{default:M}}(y(6017)),d=y(4358),T=function(){function M(b,u,l){(function x(M,b){if(!(M instanceof b))throw new TypeError("Cannot call a class as a function")})(this,M),this.canvas=b,this.encodings=u,this.options=l}return n(M,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var u=0;u<this.encodings.length;u++){var l=(0,s.default)(this.options,this.encodings[u].options);this.drawCanvasBarcode(l,this.encodings[u]),this.drawCanvasText(l,this.encodings[u]),this.moveCanvasDrawing(this.encodings[u])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var u=this.canvas.getContext("2d");u.save(),(0,d.calculateEncodingAttributes)(this.encodings,this.options,u);var l=(0,d.getTotalWidthOfEncodings)(this.encodings),c=(0,d.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=l+this.options.marginLeft+this.options.marginRight,this.canvas.height=c,u.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(u.fillStyle=this.options.background,u.fillRect(0,0,this.canvas.width,this.canvas.height)),u.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(u,l){var S,c=this.canvas.getContext("2d"),e=l.data;S="top"==u.textPosition?u.marginTop+u.fontSize+u.textMargin:u.marginTop,c.fillStyle=u.lineColor;for(var w=0;w<e.length;w++){var k=w*u.width+l.barcodePadding;"1"===e[w]?c.fillRect(k,S,u.width,u.height):e[w]&&c.fillRect(k,S,u.width,u.height*e[w])}}},{key:"drawCanvasText",value:function(u,l){var S,w,c=this.canvas.getContext("2d");u.displayValue&&(w="top"==u.textPosition?u.marginTop+u.fontSize-u.textMargin:u.height+u.textMargin+u.marginTop+u.fontSize,c.font=u.fontOptions+" "+u.fontSize+"px "+u.font,"left"==u.textAlign||l.barcodePadding>0?(S=0,c.textAlign="left"):"right"==u.textAlign?(S=l.width-1,c.textAlign="right"):(S=l.width/2,c.textAlign="center"),c.fillText(l.text,S,w))}},{key:"moveCanvasDrawing",value:function(u){this.canvas.getContext("2d").translate(u.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),M}();i.default=T},2233:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=T(y(1799)),d=T(y(5794)),x=T(y(1138));function T(M){return M&&M.__esModule?M:{default:M}}i.default={CanvasRenderer:a.default,SVGRenderer:d.default,ObjectRenderer:x.default}},1138:(ye,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var y=function(){function s(d,p){for(var x=0;x<p.length;x++){var T=p[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(d,T.key,T)}}return function(d,p,x){return p&&s(d.prototype,p),x&&s(d,x),d}}(),a=function(){function s(d,p,x){(function n(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this.object=d,this.encodings=p,this.options=x}return y(s,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),s}();i.default=a},4358:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.getTotalWidthOfEncodings=i.calculateEncodingAttributes=i.getBarcodePadding=i.getEncodingHeight=i.getMaximumHeightOfEncodings=void 0;var a=function s(u){return u&&u.__esModule?u:{default:u}}(y(6017));function d(u,l){return l.height+(l.displayValue&&u.text.length>0?l.fontSize+l.textMargin:0)+l.marginTop+l.marginBottom}function p(u,l,c){if(c.displayValue&&l<u){if("center"==c.textAlign)return Math.floor((u-l)/2);if("left"==c.textAlign)return 0;if("right"==c.textAlign)return Math.floor(u-l)}return 0}function b(u,l,c){var e;if(c)e=c;else{if(!(typeof document<"u"))return 0;e=document.createElement("canvas").getContext("2d")}e.font=l.fontOptions+" "+l.fontSize+"px "+l.font;var S=e.measureText(u);return S?S.width:0}i.getMaximumHeightOfEncodings=function M(u){for(var l=0,c=0;c<u.length;c++)u[c].height>l&&(l=u[c].height);return l},i.getEncodingHeight=d,i.getBarcodePadding=p,i.calculateEncodingAttributes=function x(u,l,c){for(var e=0;e<u.length;e++){var k,S=u[e],w=(0,a.default)(l,S.options);k=w.displayValue?b(S.text,w,c):0;var F=S.data.length*w.width;S.width=Math.ceil(Math.max(k,F)),S.height=d(S,w),S.barcodePadding=p(k,F,w)}},i.getTotalWidthOfEncodings=function T(u){for(var l=0,c=0;c<u.length;c++)l+=u[c].width;return l}},5794:(ye,i,y)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function b(u,l){for(var c=0;c<l.length;c++){var e=l[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,e.key,e)}}return function(u,l,c){return l&&b(u.prototype,l),c&&b(u,c),u}}(),s=function p(b){return b&&b.__esModule?b:{default:b}}(y(6017)),d=y(4358),T="http://www.w3.org/2000/svg",M=function(){function b(u,l,c){(function x(b,u){if(!(b instanceof u))throw new TypeError("Cannot call a class as a function")})(this,b),this.svg=u,this.encodings=l,this.options=c,this.document=c.xmlDocument||document}return n(b,[{key:"render",value:function(){var l=this.options.marginLeft;this.prepareSVG();for(var c=0;c<this.encodings.length;c++){var e=this.encodings[c],S=(0,s.default)(this.options,e.options),w=this.createGroup(l,S.marginTop,this.svg);this.setGroupOptions(w,S),this.drawSvgBarcode(w,S,e),this.drawSVGText(w,S,e),l+=e.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,d.calculateEncodingAttributes)(this.encodings,this.options);var l=(0,d.getTotalWidthOfEncodings)(this.encodings),c=(0,d.getMaximumHeightOfEncodings)(this.encodings),e=l+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(e,c),this.options.background&&this.drawRect(0,0,e,c,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(l,c,e){var w,S=e.data;w="top"==c.textPosition?c.fontSize+c.textMargin:0;for(var k=0,F=0,q=0;q<S.length;q++)F=q*c.width+e.barcodePadding,"1"===S[q]?k++:k>0&&(this.drawRect(F-c.width*k,w,c.width*k,c.height,l),k=0);k>0&&this.drawRect(F-c.width*(k-1),w,c.width*k,c.height,l)}},{key:"drawSVGText",value:function(l,c,e){var w,k,S=this.document.createElementNS(T,"text");c.displayValue&&(S.setAttribute("style","font:"+c.fontOptions+" "+c.fontSize+"px "+c.font),k="top"==c.textPosition?c.fontSize-c.textMargin:c.height+c.textMargin+c.fontSize,"left"==c.textAlign||e.barcodePadding>0?(w=0,S.setAttribute("text-anchor","start")):"right"==c.textAlign?(w=e.width-1,S.setAttribute("text-anchor","end")):(w=e.width/2,S.setAttribute("text-anchor","middle")),S.setAttribute("x",w),S.setAttribute("y",k),S.appendChild(this.document.createTextNode(e.text)),l.appendChild(S))}},{key:"setSvgAttributes",value:function(l,c){var e=this.svg;e.setAttribute("width",l+"px"),e.setAttribute("height",c+"px"),e.setAttribute("x","0px"),e.setAttribute("y","0px"),e.setAttribute("viewBox","0 0 "+l+" "+c),e.setAttribute("xmlns",T),e.setAttribute("version","1.1"),e.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(l,c,e){var S=this.document.createElementNS(T,"g");return S.setAttribute("transform","translate("+l+", "+c+")"),e.appendChild(S),S}},{key:"setGroupOptions",value:function(l,c){l.setAttribute("style","fill:"+c.lineColor+";")}},{key:"drawRect",value:function(l,c,e,S,w){var k=this.document.createElementNS(T,"rect");return k.setAttribute("x",l),k.setAttribute("y",c),k.setAttribute("width",e),k.setAttribute("height",S),w.appendChild(k),k}}]),b}();i.default=M}}]);