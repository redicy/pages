(self.webpackChunkseller=self.webpackChunkseller||[]).push([[155],{8155:(P,L,i)=>{"use strict";i.r(L),i.d(L,{SearchTermModule:()=>le});var S=i(177),t=i(9909),D=i(6648),k=i(4412),B=i(152),E=i(6977),v=i(3294),I=i(8141),b=i(9437),u=i(983),p=i(5558),C=i(2180),l=i(2356),f=i(2578),e=i(4438),U=i(5779),A=i(345),V=i(4238),G=i(612),R=i(1141),Y=i(9820),N=i(5430),d=i(8833),T=i(9417),a=i(1802),h=i(2242),c=i(3227),y=i(544),F=i(935),j=i(9998);const z=()=>({"min-width":"75rem"}),Q=()=>[10,25,50];function H(s,g){if(1&s){const n=e.RV6();e.qex(0),e.j41(1,"div",22)(2,"span",7)(3,"p-inputNumber",23),e.mxI("ngModelChange",function(o){e.eBV(n);const m=e.XpG(2);return e.DH7(m.filterModel.surgePercent,o)||(m.filterModel.surgePercent=o),e.Njj(o)}),e.k0s(),e.j41(4,"label",24),e.EFF(5,"\u0420\u043e\u0441\u0442 \u043d\u0435 \u043c\u0435\u043d\u0435\u0435, %"),e.k0s()()(),e.bVm()}if(2&s){const n=e.XpG(2);e.R7$(3),e.R50("ngModel",n.filterModel.surgePercent),e.Y8G("showButtons",!0)("step",10)}}function K(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"span",7)(3,"input",8),e.mxI("ngModelChange",function(o){e.eBV(n);const m=e.XpG();return e.DH7(m.filterModel.term,o)||(m.filterModel.term=o),e.Njj(o)}),e.k0s(),e.j41(4,"label",9),e.EFF(5,"\u0422\u0438\u043f \u0442\u043e\u0432\u0430\u0440\u0430"),e.k0s()(),e.j41(6,"span")(7,"button",10),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.clearTerm())}),e.k0s()()(),e.j41(8,"div",11)(9,"span",7)(10,"p-calendar",12),e.mxI("ngModelChange",function(o){e.eBV(n);const m=e.XpG();return e.DH7(m.date,o)||(m.date=o),e.Njj(o)}),e.k0s(),e.j41(11,"label",13),e.EFF(12,"\u041c\u0435\u0441\u044f\u0446\u044b"),e.k0s()()(),e.j41(13,"div",11)(14,"span",7)(15,"p-inputNumber",14),e.mxI("ngModelChange",function(o){e.eBV(n);const m=e.XpG();return e.DH7(m.filterModel.minQueryCount,o)||(m.filterModel.minQueryCount=o),e.Njj(o)}),e.k0s(),e.j41(16,"label",15),e.EFF(17,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432"),e.k0s()()(),e.j41(18,"div",16)(19,"p-checkbox",17),e.mxI("ngModelChange",function(o){e.eBV(n);const m=e.XpG();return e.DH7(m.filterModel.enableSurgeFilter,o)||(m.filterModel.enableSurgeFilter=o),e.Njj(o)}),e.k0s()(),e.DNE(20,H,6,3,"ng-container",18),e.j41(21,"div",19)(22,"button",20),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.updateFilter())}),e.EFF(23,"\u0418\u0441\u043a\u0430\u0442\u044c"),e.k0s(),e.j41(24,"button",21),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.exportFile())}),e.EFF(25,"\u0421\u043a\u0430\u0447\u0430\u0442\u044c Excel"),e.k0s()()()}if(2&s){const n=e.XpG();e.R7$(3),e.R50("ngModel",n.filterModel.term),e.R7$(7),e.R50("ngModel",n.date),e.Y8G("minDate",n.minDate)("maxDate",n.maxDate)("showClear",!0)("readonlyInput",!0),e.R7$(5),e.R50("ngModel",n.filterModel.minQueryCount),e.Y8G("showButtons",!0)("min",0)("step",100),e.R7$(4),e.R50("ngModel",n.filterModel.enableSurgeFilter),e.Y8G("binary",!0),e.R7$(),e.Y8G("ngIf",n.filterModel.enableSurgeFilter)}}function J(s,g){1&s&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"\u0422\u0438\u043f \u0442\u043e\u0432\u0430\u0440\u0430"),e.k0s(),e.nrm(3,"th"),e.k0s())}function Z(s,g){if(1&s&&(e.j41(0,"div",39)(1,"div"),e.EFF(2),e.k0s(),e.j41(3,"div"),e.EFF(4),e.k0s()()),2&s){const n=g.$implicit;e.R7$(2),e.JRh(n.count),e.R7$(2),e.JRh(n.term)}}function q(s,g){if(1&s&&(e.j41(0,"div",39)(1,"div"),e.EFF(2),e.k0s(),e.j41(3,"div"),e.EFF(4),e.k0s()()),2&s){const n=g.$implicit;e.R7$(2),e.JRh(n.count),e.R7$(2),e.JRh(n.term)}}function ee(s,g){if(1&s&&(e.j41(0,"div",40)(1,"span"),e.EFF(2),e.k0s()()),2&s){const n=g.$implicit;e.R7$(2),e.JRh(n.isAssociation?"\u0410\u0441\u0441\u043e\u0446\u0438\u0430\u0446\u0438\u0438":"\u0417\u0430\u043f\u0440\u043e\u0441\u044b")}}function te(s,g){if(1&s&&(e.j41(0,"p-dropdown",35),e.nI1(1,"async"),e.nI1(2,"async"),e.DNE(3,Z,5,2,"ng-template",36)(4,q,5,2,"ng-template",37)(5,ee,3,1,"ng-template",38),e.k0s()),2&s){let n,r;const o=e.XpG().$implicit;e.Y8G("ngModel",null==(n=e.bMT(1,3,o.queries))?null:n.header)("options",null==(r=e.bMT(2,5,o.queries))?null:r.groups)("group",!0)}}function ne(s,g){if(1&s&&(e.j41(0,"tr")(1,"td")(2,"div")(3,"div",25)(4,"div"),e.EFF(5),e.k0s(),e.j41(6,"div"),e.DNE(7,te,6,7,"p-dropdown",26),e.k0s()(),e.j41(8,"div",27),e.nrm(9,"a",28)(10,"a",29)(11,"a",30)(12,"a",31)(13,"a",32),e.k0s()()(),e.j41(14,"td")(15,"div"),e.nrm(16,"p-tag",33)(17,"p-tag",34),e.k0s()()()),2&s){const n=g.$implicit,r=e.XpG();e.R7$(5),e.SpI(" ",n.term," "),e.R7$(2),e.Y8G("ngIf",null==n.phrases?null:n.phrases.length),e.R7$(2),e.Aen(null!=n.historyItems&&n.historyItems.length?"":"color: grey"),e.Y8G("pRowToggler",n)("size",r.small),e.R7$(),e.Mz_("href","https://wordstat.yandex.ru/?words=",n.term,"",e.B4B),e.R7$(),e.Mz_("href","https://trends.google.com/trends/explore?q=",n.term,"",e.B4B),e.R7$(),e.Mz_("href","https://www.ozon.ru/search/?text=",n.cleanTerm,"",e.B4B),e.R7$(),e.Mz_("href","https://www.wildberries.ru/catalog/0/search.aspx?search=",n.cleanTerm,"",e.B4B),e.R7$(3),e.Y8G("severity",n.historyUpdateStatusTag)("title",r.getStatusText(n.historyUpdateStatus)),e.R7$(),e.Y8G("severity",n.phraseUpdateStatusTag)("title",r.getStatusText(n.phraseUpdateStatus))}}function oe(s,g){if(1&s&&(e.j41(0,"tr")(1,"td",41),e.nrm(2,"p-chart",42),e.nI1(3,"async"),e.k0s()()),2&s){const n=e.XpG().$implicit;e.R7$(2),e.Y8G("data",e.bMT(3,2,n.history))("height",150)}}function ae(s,g){if(1&s&&e.DNE(0,oe,4,4,"tr",18),2&s){const n=g.$implicit;e.Y8G("ngIf",null==n.historyItems?null:n.historyItems.length)}}class ie extends l.z.SearchTermWithHistory{constructor(g){super(g),this.historyData=null,this.queryData=null,this.chartOptions={animation:!1,scales:{y:{ticks:{stepSize:100}}}},this.queries=(0,D.H)(new Promise(r=>{let o=this.queryData;if(!o){const m=this.phrases?.filter(M=>M.isAssociation).sort((M,w)=>w.count-M.count),_=this.phrases?.filter(M=>!M.isAssociation).sort((M,w)=>+w.count-+M.count);o={groups:[]},_&&(o.groups.push({isAssociation:!1,items:_}),o.header=_?.[0]),m&&(o.groups.push({isAssociation:!0,items:m}),o.header||=_?.[0])}r(o)})),this.history=(0,D.H)(new Promise(r=>{let o=this.historyData;if(!o){const m=new Set;let _=12,M=-1;const w=this.historyItems?.reduce((x,O)=>{_=Math.min(_,O.month),M=Math.max(M,O.month),m.add(O.month);const W=x.get(O.year)??new Array(12);return W[O.month]=O.count,x.set(O.year,W),x},new Map)??[];_<M&&w.forEach(x=>{_>0&&x.splice(0,_),M<11&&x.splice(M+1,11-M)});const X=new Date,$=[];for(let x=_;x<=M;x++)X.setMonth(x-1,1),$.push(X.toLocaleString("default",{month:"long"}));o={labels:$,datasets:[]},[...w.keys()].sort().forEach(x=>{o.datasets.push({label:x,data:w.get(x)})}),this.historyData=w}r(o)}));this.cleanTerm=g.term.endsWith(" \u043a\u0443\u043f\u0438\u0442\u044c")?g.term.substring(0,g.term.length-7):g.term}getUpdateStatusTag(g){switch(g){case l.z.SearchTermStatus.Ready:return"success";case l.z.SearchTermStatus.QueuedForUpdate:return"info";case l.z.SearchTermStatus.Downloaded:return"warning";default:return"danger"}}get historyUpdateStatusTag(){return this.getUpdateStatusTag(this.historyUpdateStatus)}get phraseUpdateStatusTag(){return this.getUpdateStatusTag(this.phraseUpdateStatus)}}const se=[{path:"",component:(()=>{class s extends C.x{constructor(n,r,o,m){super(o),this.searchTermService=n,this.messageService=r,this.dbService=m,this.filterModel=new l.z.FindSearchTermsModel({term:"",offset:0,count:50,surgePercent:100,enableSurgeFilter:!1}),this.minDate=new Date((new Date).getFullYear()-1,0,1),this.maxDate=new Date((new Date).getFullYear()+1,11,1),this.loading=!1,this.totalRecords=0,this.searchTermFilterSubject=new k.t(null)}ngOnInit(){this.titleService.setTitle("\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430"),this.filterSubscription=this.searchTermFilterSubject.pipe((0,B.B)(1e3)).pipe((0,E.Q)(this.destroyed)).pipe((0,v.F)()).pipe((0,I.M)(n=>{const r=n.toJSON();delete r.Offset,this.dbService.update("filters",{id:s.name,data:r}).pipe((0,b.W)(o=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430",severity:"error",detail:o}),u.w))).subscribe(),this.loading=!0})).pipe((0,p.n)(n=>this.searchTermService.findSearchTerms(n).pipe((0,b.W)(r=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u043a\u0443\u043f\u043e\u043a",severity:"error",detail:r}),this.loading=!1,u.w))))).subscribe(n=>{this.data=n.items.map(r=>new ie(r)),this.totalRecords=n.totalCount,this.loading=!1}),this.dbService.getByID("filters",s.name).subscribe(n=>{if(n&&n.data&&(this.filterModel=new l.z.FindSearchTermsModel(l.z.FindSearchTermsModel.fromJS(n.data)),null!=this.filterModel.monthFrom)){const r=this.filterModel.monthTo??this.filterModel.monthFrom,o=new Date;o.setMonth(r),o.setDate(1);const m=this.filterModel.monthFrom<=r?o.getFullYear():o.getFullYear()-1,_=new Date(m,this.filterModel.monthFrom,1);this.date=[_,o]}this.searchTermFilterSubject.next(this.filterModel)})}onDataLazyLoad(n){this.filterModel.offset=n.first,this.filterModel.count=n.rows,this.updateFilter()}getStatusText(n){switch(n){case l.z.SearchTermStatus.Ready:return"\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b";case l.z.SearchTermStatus.QueuedForUpdate:return"\u0412 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443";case l.z.SearchTermStatus.Downloaded:return"\u0412 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}}clearTerm(){this.filterModel.term=null}updateFilter(){const n=this.date?.[0]?.getMonth(),r=this.date?.[1]?.getMonth();this.filterModel.monthFrom=n??r,this.filterModel.monthTo=r??n,this.searchTermFilterSubject.next(new l.z.FindSearchTermsModel(this.filterModel))}enqueueUpdate(n,r,o){const m=r?l.z.SearchTermStatus.QueuedForUpdate:n.historyUpdateStatus,_=o?l.z.SearchTermStatus.QueuedForUpdate:n.phraseUpdateStatus,M=new l.z.UpdateSearchTermStatusModel({iDs:[n.iD],historyUpdateStatus:m,phraseUpdateStatus:_});this.searchTermService.updateSearchTermStatus(M).pipe((0,b.W)(w=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",severity:"error",detail:w}),this.loading=!1,u.w))).subscribe(()=>{n.historyUpdateStatus=m,n.phraseUpdateStatus=_,this.loading=!1})}exportFile(){this.updateFilter(),this.searchTermService.exportSearchTerms(this.searchTermFilterSubject.value).subscribe(n=>{(0,f.saveAs)(n.data,n.fileName)})}static{this.\u0275fac=function(r){return new(r||s)(e.rXU(l.z.SearchTermClient),e.rXU(U.bg),e.rXU(A.hE),e.rXU(V.MX))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-search-term-list"]],features:[e.Vt3],decls:9,vars:11,consts:[["dataKey","iD",3,"onLazyLoad","value","breakpoint","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","loading"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"card","formgrid","grid","m-5"],[1,"field","md:col-4","col-12","my-3","p-inputgroup"],[1,"p-float-label"],["inputId","term","pInputText","","type","text",3,"ngModelChange","ngModel"],["for","term"],["type","button","pButton","","icon","pi pi-times","styleClass","p-button-danger",3,"click"],[1,"field","md:col-4","col-12","my-3"],["inputId","date","dateFormat","MM","selectionMode","range","view","month",3,"ngModelChange","ngModel","minDate","maxDate","showClear","readonlyInput"],["for","date"],["inputId","notificationPeriodInDays","autocomplete","off",3,"ngModelChange","ngModel","showButtons","min","step"],["htmlFor","notificationPeriodInDays"],[1,"field-checkbox","col-12"],["label","\u041f\u043e\u0438\u0441\u043a \u0441\u0435\u0437\u043e\u043d\u043e\u0432","inputId","surgeFilter",3,"ngModelChange","ngModel","binary"],[4,"ngIf"],[1,"m-2"],["pButton","",3,"click"],["pButton","",1,"mx-1",3,"click"],[1,"field","col-12","my-3"],["inputId","surgePercent",3,"ngModelChange","ngModel","showButtons","step"],["for","surgePercent"],[1,"mb-3"],["appendTo","body",3,"ngModel","optionsLabel","options","group",4,"ngIf"],[1,"flex","gap-3"],["href","",1,"pi","pi-chart-line","p-button-sm",3,"pRowToggler","size"],["rel","noreferrer","target","_blank",1,"pi","wordstat",3,"href"],["rel","noreferrer","target","_blank",1,"pi","google-trends",3,"href"],["rel","noreferrer","target","_blank",1,"pi","ozon",3,"href"],["rel","noreferrer","target","_blank",1,"pi","wb",3,"href"],["icon","pi pi-chart-line",3,"severity","title"],["icon","pi pi-search",3,"severity","title"],["appendTo","body",3,"ngModel","optionsLabel","options","group"],["pTemplate","item"],["pTemplate","selectedItem"],["pTemplate","group"],[1,"flex","align-items-center","gap-2"],[1,"flex","align-items-center"],["colspan","5"],["type","line",3,"data","height"]],template:function(r,o){1&r&&(e.nrm(0,"p-toast")(1,"p-scrollTop"),e.j41(2,"h1"),e.EFF(3,"\u0412\u043e\u0441\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),e.k0s(),e.j41(4,"p-table",0),e.bIt("onLazyLoad",function(_){return o.onDataLazyLoad(_)}),e.DNE(5,K,26,13,"ng-template",1)(6,J,4,0,"ng-template",2)(7,ne,18,19,"ng-template",3)(8,ae,1,1,"ng-template",4),e.k0s()),2&r&&(e.R7$(4),e.Y8G("value",o.data)("breakpoint","960px")("lazy",!0)("tableStyle",e.lJ4(9,z))("paginator",!0)("rows",50)("rowsPerPageOptions",e.lJ4(10,Q))("totalRecords",o.totalRecords)("loading",o.loading))},dependencies:[G.Vv,R._f,U.Ei,Y.X,N.Sc,S.bT,d.ms,T.me,T.BC,T.vS,a.YI,h.S,c.l,y.XI,y.FP,F.v,j.y8,S.Jj]})}}return s})()},{path:"update",component:(()=>{class s{constructor(n,r){this.service=n,this.messageService=r,this.count=100}enqueueUpdate(){this.service.enqueueForUpdate(this.count).pipe((0,b.W)(n=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c",severity:"error",detail:n}),u.w))).subscribe(()=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u041f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043d\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})})}static{this.\u0275fac=function(r){return new(r||s)(e.rXU(l.z.CategoryTreeClient),e.rXU(U.bg))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-search-term-update"]],decls:6,vars:3,consts:[[1,"flex-auto"],["for","count",1,"mb-2","block","font-bold"],["inputId","count",3,"ngModelChange","ngModel","showButtons","step"],["label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",3,"click"]],template:function(r,o){1&r&&(e.EFF(0,"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f wordstat "),e.j41(1,"div",0)(2,"label",1),e.EFF(3,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.k0s(),e.j41(4,"p-inputNumber",2),e.mxI("ngModelChange",function(_){return e.DH7(o.count,_)||(o.count=_),_}),e.k0s()(),e.j41(5,"p-button",3),e.bIt("click",function(){return o.enqueueUpdate()}),e.k0s()),2&r&&(e.R7$(4),e.R50("ngModel",o.count),e.Y8G("showButtons",!0)("step",100))},dependencies:[R.$n,T.BC,T.vS,a.YI]})}}return s})()}];let re=(()=>{class s{static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[t.iI.forChild(se),t.iI]})}}return s})(),le=(()=>{class s{static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[l.z.SearchTermClient],imports:[G.rO,Y.F,N.q4,S.MD,d.kr,T.YN,a.O3,h.u,c.F,re,y.bG,F.$,j.MB]})}}return s})()},2578:function(P,L){var i,t;void 0!==(t="function"==typeof(i=function(){"use strict";function k(u,p,C){var l=new XMLHttpRequest;l.open("GET",u),l.responseType="blob",l.onload=function(){b(l.response,p,C)},l.onerror=function(){console.error("could not download file")},l.send()}function B(u){var p=new XMLHttpRequest;p.open("HEAD",u,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function E(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(p)}}var v="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,I=v.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),b=v.saveAs||("object"!=typeof window||window!==v?function(){}:"download"in HTMLAnchorElement.prototype&&!I?function(u,p,C){var l=v.URL||v.webkitURL,f=document.createElement("a");f.download=p=p||u.name||"download",f.rel="noopener","string"==typeof u?(f.href=u,f.origin===location.origin?E(f):B(f.href)?k(u,p,C):E(f,f.target="_blank")):(f.href=l.createObjectURL(u),setTimeout(function(){l.revokeObjectURL(f.href)},4e4),setTimeout(function(){E(f)},0))}:"msSaveOrOpenBlob"in navigator?function(u,p,C){if(p=p||u.name||"download","string"!=typeof u)navigator.msSaveOrOpenBlob(function D(u,p){return typeof p>"u"?p={autoBom:!1}:"object"!=typeof p&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\ufeff",u],{type:u.type}):u}(u,C),p);else if(B(u))k(u,p,C);else{var l=document.createElement("a");l.href=u,l.target="_blank",setTimeout(function(){E(l)})}}:function(u,p,C,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),"string"==typeof u)return k(u,p,C);var f="application/octet-stream"===u.type,e=/constructor/i.test(v.HTMLElement)||v.safari,U=/CriOS\/[\d]+/.test(navigator.userAgent);if((U||f&&e||I)&&typeof FileReader<"u"){var A=new FileReader;A.onloadend=function(){var R=A.result;R=U?R:R.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=R:location=R,l=null},A.readAsDataURL(u)}else{var V=v.URL||v.webkitURL,G=V.createObjectURL(u);l?l.location=G:location.href=G,l=null,setTimeout(function(){V.revokeObjectURL(G)},4e4)}});v.saveAs=b.saveAs=b,P.exports=b})?i.apply(L,[]):i)&&(P.exports=t)},152:(P,L,i)=>{"use strict";i.d(L,{B:()=>k});var S=i(8839),t=i(9974),D=i(4360);function k(B,E=S.E){return(0,t.N)((v,I)=>{let b=null,u=null,p=null;const C=()=>{if(b){b.unsubscribe(),b=null;const f=u;u=null,I.next(f)}};function l(){const f=p+B,e=E.now();if(e<f)return b=this.schedule(void 0,f-e),void I.add(b);C()}v.subscribe((0,D._)(I,f=>{u=f,p=E.now(),b||(b=E.schedule(l,B),I.add(b))},()=>{C(),I.complete()},void 0,()=>{u=b=null}))})}},5430:(P,L,i)=>{"use strict";i.d(L,{Sc:()=>Y,q4:()=>N});var S=i(177),t=i(4438),D=i(9417),k=i(5779),B=i(1880),E=i(3306),v=i(4420);const I=["input"],b=(d,T,a,h)=>({"p-checkbox p-component":!0,"p-checkbox-checked":d,"p-checkbox-disabled":T,"p-checkbox-focused":a,"p-variant-filled":h}),u=(d,T,a)=>({"p-highlight":d,"p-disabled":T,"p-focus":a}),p=(d,T,a)=>({"p-checkbox-label":!0,"p-checkbox-label-active":d,"p-disabled":T,"p-checkbox-label-focus":a});function C(d,T){if(1&d&&t.nrm(0,"span",10),2&d){const a=t.XpG(3);t.Y8G("ngClass",a.checkboxIcon),t.BMQ("data-pc-section","icon")}}function l(d,T){1&d&&t.nrm(0,"CheckIcon",11),2&d&&(t.Y8G("styleClass","p-checkbox-icon"),t.BMQ("data-pc-section","icon"))}function f(d,T){if(1&d&&(t.qex(0),t.DNE(1,C,1,2,"span",8)(2,l,1,2,"CheckIcon",9),t.bVm()),2&d){const a=t.XpG(2);t.R7$(),t.Y8G("ngIf",a.checkboxIcon),t.R7$(),t.Y8G("ngIf",!a.checkboxIcon)}}function e(d,T){}function U(d,T){1&d&&t.DNE(0,e,0,0,"ng-template")}function A(d,T){if(1&d&&(t.j41(0,"span",12),t.DNE(1,U,1,0,null,13),t.k0s()),2&d){const a=t.XpG(2);t.BMQ("data-pc-section","icon"),t.R7$(),t.Y8G("ngTemplateOutlet",a.checkboxIconTemplate)}}function V(d,T){if(1&d&&(t.qex(0),t.DNE(1,f,3,2,"ng-container",5)(2,A,2,2,"span",7),t.bVm()),2&d){const a=t.XpG();t.R7$(),t.Y8G("ngIf",!a.checkboxIconTemplate),t.R7$(),t.Y8G("ngIf",a.checkboxIconTemplate)}}function G(d,T){if(1&d){const a=t.RV6();t.j41(0,"label",14),t.bIt("click",function(c){t.eBV(a);const y=t.XpG(),F=t.sdS(3);return t.Njj(y.onClick(c,F,!0))}),t.EFF(1),t.k0s()}if(2&d){const a=t.XpG();t.HbH(a.labelStyleClass),t.Y8G("ngClass",t.sMw(6,p,a.checked(),a.disabled,a.focused)),t.BMQ("for",a.inputId)("data-pc-section","label"),t.R7$(),t.SpI(" ",a.label,"")}}const R={provide:D.kq,useExisting:(0,t.Rfq)(()=>Y),multi:!0};let Y=(()=>{class d{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new t.bkB;onFocus=new t.bkB;onBlur=new t.bkB;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(a,h,c){this.cd=a,this.injector=h,this.config=c}ngAfterContentInit(){this.templates.forEach(a=>{"icon"===a.getType()&&(this.checkboxIconTemplate=a.template)})}onClick(a,h,c){a.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(a),c&&h.focus())}updateModel(a){let h;const c=this.injector.get(D.vO,null,{optional:!0,self:!0}),y=c&&!this.formControl?c.value:this.model;this.binary?(h=this.checked()?this.falseValue:this.trueValue,this.model=h,this.onModelChange(h)):(h=this.checked()?y.filter(F=>!v.BF.equals(F,this.value)):y?[...y,this.value]:[this.value],this.onModelChange(h),this.model=h,this.formControl&&this.formControl.setValue(h)),this.onChange.emit({checked:h,originalEvent:a})}handleChange(a){this.readonly||this.updateModel(a)}onInputFocus(a){this.focused=!0,this.onFocus.emit(a)}onInputBlur(a){this.focused=!1,this.onBlur.emit(a),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(a){this.model=a,this.cd.markForCheck()}registerOnChange(a){this.onModelChange=a}registerOnTouched(a){this.onModelTouched=a}setDisabledState(a){setTimeout(()=>{this.disabled=a,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:v.BF.contains(this.value,this.model)}static \u0275fac=function(h){return new(h||d)(t.rXU(t.gRc),t.rXU(t.zZn),t.rXU(k.r1))};static \u0275cmp=t.VBU({type:d,selectors:[["p-checkbox"]],contentQueries:function(h,c,y){if(1&h&&t.wni(y,k.Ei,4),2&h){let F;t.mGM(F=t.lsd())&&(c.templates=F)}},viewQuery:function(h,c){if(1&h&&t.GBs(I,5),2&h){let y;t.mGM(y=t.lsd())&&(c.inputViewChild=y.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",t.L39],binary:[2,"binary","binary",t.L39],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",t.Udg],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",t.L39],required:[2,"required","required",t.L39],autofocus:[2,"autofocus","autofocus",t.L39],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[t.Jv_([R]),t.GFd],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(h,c){if(1&h){const y=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"input",3,0),t.bIt("change",function(j){return t.eBV(y),t.Njj(c.handleChange(j))})("focus",function(j){return t.eBV(y),t.Njj(c.onInputFocus(j))})("blur",function(j){return t.eBV(y),t.Njj(c.onInputBlur(j))}),t.k0s()(),t.j41(4,"div",4),t.bIt("click",function(j){t.eBV(y);const z=t.sdS(3);return t.Njj(c.onClick(j,z,!0))}),t.DNE(5,V,3,2,"ng-container",5),t.k0s()(),t.DNE(6,G,2,10,"label",6)}2&h&&(t.HbH(c.styleClass),t.Y8G("ngStyle",c.style)("ngClass",t.ziG(28,b,c.checked(),c.disabled,c.focused,"filled"===c.variant||"filled"===c.config.inputStyle())),t.BMQ("data-pc-name","checkbox")("data-pc-section","root"),t.R7$(),t.BMQ("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),t.R7$(),t.Y8G("value",c.value)("checked",c.checked())("disabled",c.disabled)("readonly",c.readonly)("autofocus",c.autofocus),t.BMQ("id",c.inputId)("name",c.name)("tabindex",c.tabindex)("required",c.required)("aria-labelledby",c.ariaLabelledBy)("aria-label",c.ariaLabel)("aria-checked",c.checked())("data-pc-section","hiddenInput"),t.R7$(2),t.Y8G("ngClass",t.sMw(33,u,c.checked(),c.disabled,c.focused)),t.BMQ("data-p-highlight",c.checked())("data-p-disabled",c.disabled)("data-p-focused",c.focused)("data-pc-section","input"),t.R7$(),t.Y8G("ngIf",c.checked()),t.R7$(),t.Y8G("ngIf",c.label))},dependencies:()=>[S.YU,S.bT,S.T3,S.B3,B.q,E.S],styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return d})(),N=(()=>{class d{static \u0275fac=function(h){return new(h||d)};static \u0275mod=t.$C({type:d});static \u0275inj=t.G2t({imports:[S.MD,B.u,E.S,k.Gg]})}return d})()}}]);