(self.webpackChunkseller=self.webpackChunkseller||[]).push([[155],{8155:(Y,j,s)=>{"use strict";s.r(j),s.d(j,{SearchTermModule:()=>le});var y=s(177),t=s(9909),x=s(6648),k=s(4412),B=s(152),F=s(6977),C=s(3294),D=s(8141),_=s(9437),u=s(983),m=s(5558),p=s(2180),i=s(2356),d=s(2578),e=s(4438),S=s(5779),G=s(345),A=s(4238),O=s(612),w=s(1141),P=s(9820),N=s(5430),h=s(8833),v=s(9417),o=s(1802),g=s(2242),c=s(3227),M=s(544),I=s(935),U=s(9998);const $=()=>({"min-width":"75rem"}),Q=()=>[10,25,50];function H(r,b){if(1&r){const n=e.RV6();e.qex(0),e.j41(1,"div",22)(2,"span",7)(3,"p-inputNumber",23),e.mxI("ngModelChange",function(a){e.eBV(n);const f=e.XpG(2);return e.DH7(f.filterModel.surgePercent,a)||(f.filterModel.surgePercent=a),e.Njj(a)}),e.k0s(),e.j41(4,"label",24),e.EFF(5,"\u0420\u043e\u0441\u0442 \u043d\u0435 \u043c\u0435\u043d\u0435\u0435, %"),e.k0s()()(),e.bVm()}if(2&r){const n=e.XpG(2);e.R7$(3),e.R50("ngModel",n.filterModel.surgePercent),e.Y8G("showButtons",!0)("step",10)}}function K(r,b){if(1&r){const n=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"span",7)(3,"input",8),e.mxI("ngModelChange",function(a){e.eBV(n);const f=e.XpG();return e.DH7(f.filterModel.term,a)||(f.filterModel.term=a),e.Njj(a)}),e.k0s(),e.j41(4,"label",9),e.EFF(5,"\u0422\u0438\u043f \u0442\u043e\u0432\u0430\u0440\u0430"),e.k0s()(),e.j41(6,"span")(7,"button",10),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.clearTerm())}),e.k0s()()(),e.j41(8,"div",11)(9,"span",7)(10,"p-calendar",12),e.mxI("ngModelChange",function(a){e.eBV(n);const f=e.XpG();return e.DH7(f.date,a)||(f.date=a),e.Njj(a)}),e.k0s(),e.j41(11,"label",13),e.EFF(12,"\u041c\u0435\u0441\u044f\u0446\u044b"),e.k0s()()(),e.j41(13,"div",11)(14,"span",7)(15,"p-inputNumber",14),e.mxI("ngModelChange",function(a){e.eBV(n);const f=e.XpG();return e.DH7(f.filterModel.minQueryCount,a)||(f.filterModel.minQueryCount=a),e.Njj(a)}),e.k0s(),e.j41(16,"label",15),e.EFF(17,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432"),e.k0s()()(),e.j41(18,"div",16)(19,"p-checkbox",17),e.mxI("ngModelChange",function(a){e.eBV(n);const f=e.XpG();return e.DH7(f.filterModel.enableSurgeFilter,a)||(f.filterModel.enableSurgeFilter=a),e.Njj(a)}),e.k0s()(),e.DNE(20,H,6,3,"ng-container",18),e.j41(21,"div",19)(22,"button",20),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.updateFilter())}),e.EFF(23,"\u0418\u0441\u043a\u0430\u0442\u044c"),e.k0s(),e.j41(24,"button",21),e.bIt("click",function(){e.eBV(n);const a=e.XpG();return e.Njj(a.exportFile())}),e.EFF(25,"\u0421\u043a\u0430\u0447\u0430\u0442\u044c Excel"),e.k0s()()()}if(2&r){const n=e.XpG();e.R7$(3),e.R50("ngModel",n.filterModel.term),e.R7$(7),e.R50("ngModel",n.date),e.Y8G("minDate",n.minDate)("maxDate",n.maxDate)("showClear",!0)("readonlyInput",!0),e.R7$(5),e.R50("ngModel",n.filterModel.minQueryCount),e.Y8G("showButtons",!0)("min",0)("step",100),e.R7$(4),e.R50("ngModel",n.filterModel.enableSurgeFilter),e.Y8G("binary",!0),e.R7$(),e.Y8G("ngIf",n.filterModel.enableSurgeFilter)}}function J(r,b){1&r&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"\u0422\u0438\u043f \u0442\u043e\u0432\u0430\u0440\u0430"),e.k0s(),e.nrm(3,"th"),e.k0s())}function Z(r,b){if(1&r&&(e.j41(0,"div",39)(1,"div"),e.EFF(2),e.k0s(),e.j41(3,"div"),e.EFF(4),e.k0s()()),2&r){const n=b.$implicit;e.R7$(2),e.JRh(n.count),e.R7$(2),e.JRh(n.term)}}function q(r,b){if(1&r&&(e.j41(0,"div",39)(1,"div"),e.EFF(2),e.k0s(),e.j41(3,"div"),e.EFF(4),e.k0s()()),2&r){const n=b.$implicit;e.R7$(2),e.JRh(n.count),e.R7$(2),e.JRh(n.term)}}function ee(r,b){if(1&r&&(e.j41(0,"div",40)(1,"span"),e.EFF(2),e.k0s()()),2&r){const n=b.$implicit;e.R7$(2),e.JRh(n.isAssociation?"\u0410\u0441\u0441\u043e\u0446\u0438\u0430\u0446\u0438\u0438":"\u0417\u0430\u043f\u0440\u043e\u0441\u044b")}}function te(r,b){if(1&r&&(e.j41(0,"p-dropdown",35),e.nI1(1,"async"),e.nI1(2,"async"),e.DNE(3,Z,5,2,"ng-template",36)(4,q,5,2,"ng-template",37)(5,ee,3,1,"ng-template",38),e.k0s()),2&r){let n,l;const a=e.XpG().$implicit;e.Y8G("ngModel",null==(n=e.bMT(1,3,a.queries))?null:n.header)("options",null==(l=e.bMT(2,5,a.queries))?null:l.groups)("group",!0)}}function ne(r,b){if(1&r&&(e.j41(0,"tr")(1,"td")(2,"div")(3,"div",25)(4,"div"),e.EFF(5),e.k0s(),e.j41(6,"div"),e.DNE(7,te,6,7,"p-dropdown",26),e.k0s()(),e.j41(8,"div",27),e.nrm(9,"a",28)(10,"a",29)(11,"a",30)(12,"a",31)(13,"a",32),e.k0s()()(),e.j41(14,"td")(15,"div"),e.nrm(16,"p-tag",33)(17,"p-tag",34),e.k0s()()()),2&r){const n=b.$implicit,l=e.XpG();e.R7$(5),e.SpI(" ",n.term," "),e.R7$(2),e.Y8G("ngIf",null==n.phrases?null:n.phrases.length),e.R7$(2),e.Aen(null!=n.historyItems&&n.historyItems.length?"":"color: grey"),e.Y8G("pRowToggler",n)("size",l.small),e.R7$(),e.Mz_("href","https://wordstat.yandex.ru/?words=",n.term,"",e.B4B),e.R7$(),e.Mz_("href","https://trends.google.com/trends/explore?q=",n.term,"",e.B4B),e.R7$(),e.Mz_("href","https://www.ozon.ru/search/?text=",n.cleanTerm,"",e.B4B),e.R7$(),e.Mz_("href","https://www.wildberries.ru/catalog/0/search.aspx?search=",n.cleanTerm,"",e.B4B),e.R7$(3),e.Y8G("severity",n.historyUpdateStatusTag)("title",l.getStatusText(n.historyUpdateStatus)),e.R7$(),e.Y8G("severity",n.phraseUpdateStatusTag)("title",l.getStatusText(n.phraseUpdateStatus))}}function ae(r,b){if(1&r&&(e.j41(0,"tr")(1,"td",41),e.nrm(2,"p-chart",42),e.nI1(3,"async"),e.k0s()()),2&r){const n=e.XpG().$implicit;e.R7$(2),e.Y8G("data",e.bMT(3,2,n.history))("height",150)}}function oe(r,b){if(1&r&&e.DNE(0,ae,4,4,"tr",18),2&r){const n=b.$implicit;e.Y8G("ngIf",null==n.historyItems?null:n.historyItems.length)}}class se extends i.z.SearchTermWithHistory{constructor(b){super(b),this.historyData=null,this.queryData=null,this.chartOptions={animation:!1,scales:{y:{ticks:{stepSize:100}}}},this.queries=(0,x.H)(new Promise(l=>{let a=this.queryData;if(!a){const f=this.phrases?.filter(E=>E.isAssociation).sort((E,L)=>L.count-E.count),T=this.phrases?.filter(E=>!E.isAssociation).sort((E,L)=>+L.count-+E.count);a={groups:[]},T&&(a.groups.push({isAssociation:!1,items:T}),a.header=T?.[0]),f&&(a.groups.push({isAssociation:!0,items:f}),a.header||=T?.[0])}l(a)})),this.history=(0,x.H)(new Promise(l=>{let a=this.historyData;if(!a){const f=new Set;let T=12,E=-1;const L=this.historyItems?.reduce((R,V)=>{T=Math.min(T,V.month),E=Math.max(E,V.month),f.add(V.month);const W=R.get(V.year)??new Array(12);return W[V.month]=V.count,R.set(V.year,W),R},new Map)??[];T<E&&L.forEach(R=>{T>0&&R.splice(0,T),E<11&&R.splice(E+1,11-E)});const X=new Date,z=[];for(let R=T;R<=E;R++)X.setMonth(R-1,1),z.push(X.toLocaleString("default",{month:"long"}));a={labels:z,datasets:[]},[...L.keys()].sort().forEach(R=>{a.datasets.push({label:R,data:L.get(R)})}),this.historyData=L}l(a)}));this.cleanTerm=b.term.endsWith(" \u043a\u0443\u043f\u0438\u0442\u044c")?b.term.substring(0,b.term.length-7):b.term}getUpdateStatusTag(b){switch(b){case i.z.SearchTermStatus.Ready:return"success";case i.z.SearchTermStatus.QueuedForUpdate:return"info";case i.z.SearchTermStatus.Downloaded:return"warning";default:return"danger"}}get historyUpdateStatusTag(){return this.getUpdateStatusTag(this.historyUpdateStatus)}get phraseUpdateStatusTag(){return this.getUpdateStatusTag(this.phraseUpdateStatus)}}const ie=[{path:"",component:(()=>{class r extends p.x{constructor(n,l,a,f){super(a),this.searchTermService=n,this.messageService=l,this.dbService=f,this.filterModel=new i.z.FindSearchTermsModel({term:"",offset:0,count:50,surgePercent:100,enableSurgeFilter:!1}),this.minDate=new Date((new Date).getFullYear()-1,0,1),this.maxDate=new Date((new Date).getFullYear()+1,11,1),this.loading=!1,this.totalRecords=0,this.searchTermFilterSubject=new k.t(null)}ngOnInit(){this.titleService.setTitle("\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430"),this.filterSubscription=this.searchTermFilterSubject.pipe((0,B.B)(1e3)).pipe((0,F.Q)(this.destroyed)).pipe((0,C.F)()).pipe((0,D.M)(n=>{const l=n.toJSON();delete l.Offset,this.dbService.update("filters",{id:r.name,data:l}).pipe((0,_.W)(a=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430",severity:"error",detail:a}),u.w))).subscribe(),this.loading=!0})).pipe((0,m.n)(n=>this.searchTermService.findSearchTerms(n).pipe((0,_.W)(l=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u043a\u0443\u043f\u043e\u043a",severity:"error",detail:l}),this.loading=!1,u.w))))).subscribe(n=>{this.data=n.items.map(l=>new se(l)),this.totalRecords=n.totalCount,this.loading=!1}),this.dbService.getByID("filters",r.name).subscribe(n=>{if(n&&n.data&&(this.filterModel=new i.z.FindSearchTermsModel(i.z.FindSearchTermsModel.fromJS(n.data)),null!=this.filterModel.monthFrom)){const l=this.filterModel.monthTo??this.filterModel.monthFrom,a=new Date;a.setMonth(l),a.setDate(1);const f=this.filterModel.monthFrom<=l?a.getFullYear():a.getFullYear()-1,T=new Date(f,this.filterModel.monthFrom,1);this.date=[T,a]}this.searchTermFilterSubject.next(this.filterModel)})}onDataLazyLoad(n){this.filterModel.offset=n.first,this.filterModel.count=n.rows,this.updateFilter()}getStatusText(n){switch(n){case i.z.SearchTermStatus.Ready:return"\u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b";case i.z.SearchTermStatus.QueuedForUpdate:return"\u0412 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443";case i.z.SearchTermStatus.Downloaded:return"\u0412 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"}}clearTerm(){this.filterModel.term=null}updateFilter(){const n=this.date?.[0]?.getMonth(),l=this.date?.[1]?.getMonth();this.filterModel.monthFrom=n??l,this.filterModel.monthTo=l??n,this.searchTermFilterSubject.next(new i.z.FindSearchTermsModel(this.filterModel))}enqueueUpdate(n,l,a){const f=l?i.z.SearchTermStatus.QueuedForUpdate:n.historyUpdateStatus,T=a?i.z.SearchTermStatus.QueuedForUpdate:n.phraseUpdateStatus,E=new i.z.UpdateSearchTermStatusModel({iDs:[n.iD],historyUpdateStatus:f,phraseUpdateStatus:T});this.searchTermService.updateSearchTermStatus(E).pipe((0,_.W)(L=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",severity:"error",detail:L}),this.loading=!1,u.w))).subscribe(()=>{n.historyUpdateStatus=f,n.phraseUpdateStatus=T,this.loading=!1})}exportFile(){this.updateFilter(),this.searchTermService.exportSearchTerms(this.searchTermFilterSubject.value).subscribe(n=>{(0,d.saveAs)(n.data,n.fileName)})}static{this.\u0275fac=function(l){return new(l||r)(e.rXU(i.z.SearchTermClient),e.rXU(S.bg),e.rXU(G.hE),e.rXU(A.MX))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-search-term-list"]],features:[e.Vt3],decls:9,vars:11,consts:[["dataKey","iD",3,"onLazyLoad","value","breakpoint","lazy","tableStyle","paginator","rows","rowsPerPageOptions","totalRecords","loading"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"card","formgrid","grid","m-5"],[1,"field","md:col-4","col-12","my-3","p-inputgroup"],[1,"p-float-label"],["inputId","term","pInputText","","type","text",3,"ngModelChange","ngModel"],["for","term"],["type","button","pButton","","icon","pi pi-times","styleClass","p-button-danger",3,"click"],[1,"field","md:col-4","col-12","my-3"],["inputId","date","dateFormat","MM","selectionMode","range","view","month",3,"ngModelChange","ngModel","minDate","maxDate","showClear","readonlyInput"],["for","date"],["inputId","notificationPeriodInDays","autocomplete","off",3,"ngModelChange","ngModel","showButtons","min","step"],["htmlFor","notificationPeriodInDays"],[1,"field-checkbox","col-12"],["label","\u041f\u043e\u0438\u0441\u043a \u0441\u0435\u0437\u043e\u043d\u043e\u0432","inputId","surgeFilter",3,"ngModelChange","ngModel","binary"],[4,"ngIf"],[1,"m-2"],["pButton","",3,"click"],["pButton","",1,"mx-1",3,"click"],[1,"field","col-12","my-3"],["inputId","surgePercent",3,"ngModelChange","ngModel","showButtons","step"],["for","surgePercent"],[1,"mb-3"],["appendTo","body",3,"ngModel","optionsLabel","options","group",4,"ngIf"],[1,"flex","gap-3"],["href","",1,"pi","pi-chart-line","p-button-sm",3,"pRowToggler","size"],["rel","noreferrer","target","_blank",1,"pi","wordstat",3,"href"],["rel","noreferrer","target","_blank",1,"pi","google-trends",3,"href"],["rel","noreferrer","target","_blank",1,"pi","ozon",3,"href"],["rel","noreferrer","target","_blank",1,"pi","wb",3,"href"],["icon","pi pi-chart-line",3,"severity","title"],["icon","pi pi-search",3,"severity","title"],["appendTo","body",3,"ngModel","optionsLabel","options","group"],["pTemplate","item"],["pTemplate","selectedItem"],["pTemplate","group"],[1,"flex","align-items-center","gap-2"],[1,"flex","align-items-center"],["colspan","5"],["type","line",3,"data","height"]],template:function(l,a){1&l&&(e.nrm(0,"p-toast")(1,"p-scrollTop"),e.j41(2,"h1"),e.EFF(3,"\u0412\u043e\u0441\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),e.k0s(),e.j41(4,"p-table",0),e.bIt("onLazyLoad",function(T){return a.onDataLazyLoad(T)}),e.DNE(5,K,26,13,"ng-template",1)(6,J,4,0,"ng-template",2)(7,ne,18,19,"ng-template",3)(8,oe,1,1,"ng-template",4),e.k0s()),2&l&&(e.R7$(4),e.Y8G("value",a.data)("breakpoint","960px")("lazy",!0)("tableStyle",e.lJ4(9,$))("paginator",!0)("rows",50)("rowsPerPageOptions",e.lJ4(10,Q))("totalRecords",a.totalRecords)("loading",a.loading))},dependencies:[O.Vv,w._f,S.Ei,P.X,N.Sc,y.bT,h.ms,v.me,v.BC,v.vS,o.YI,g.S,c.l,M.XI,M.FP,I.v,U.y8,y.Jj]})}}return r})()},{path:"update",component:(()=>{class r{constructor(n,l){this.service=n,this.messageService=l,this.count=100}enqueueUpdate(){this.service.enqueueForUpdate(this.count).pipe((0,_.W)(n=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c",severity:"error",detail:n}),u.w))).subscribe(()=>{this.messageService.add({summary:"\u0423\u0441\u043f\u0435\u0445",severity:"success",detail:"\u041f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043d\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"})})}static{this.\u0275fac=function(l){return new(l||r)(e.rXU(i.z.CategoryTreeClient),e.rXU(S.bg))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-search-term-update"]],decls:6,vars:3,consts:[[1,"flex-auto"],["for","count",1,"mb-2","block","font-bold"],["inputId","count",3,"ngModelChange","ngModel","showButtons","step"],["label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",3,"click"]],template:function(l,a){1&l&&(e.EFF(0,"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f wordstat "),e.j41(1,"div",0)(2,"label",1),e.EFF(3,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"),e.k0s(),e.j41(4,"p-inputNumber",2),e.mxI("ngModelChange",function(T){return e.DH7(a.count,T)||(a.count=T),T}),e.k0s()(),e.j41(5,"p-button",3),e.bIt("click",function(){return a.enqueueUpdate()}),e.k0s()),2&l&&(e.R7$(4),e.R50("ngModel",a.count),e.Y8G("showButtons",!0)("step",100))},dependencies:[w.$n,v.BC,v.vS,o.YI]})}}return r})()}];let re=(()=>{class r{static{this.\u0275fac=function(l){return new(l||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[t.iI.forChild(ie),t.iI]})}}return r})(),le=(()=>{class r{static{this.\u0275fac=function(l){return new(l||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({providers:[i.z.SearchTermClient],imports:[O.rO,P.F,N.q4,y.MD,h.kr,v.YN,o.O3,g.u,c.F,re,M.bG,I.$,U.MB]})}}return r})()},2578:function(Y,j){var s,t;void 0!==(t="function"==typeof(s=function(){"use strict";function k(u,m,p){var i=new XMLHttpRequest;i.open("GET",u),i.responseType="blob",i.onload=function(){_(i.response,m,p)},i.onerror=function(){console.error("could not download file")},i.send()}function B(u){var m=new XMLHttpRequest;m.open("HEAD",u,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function F(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(m)}}var C="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,D=C.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),_=C.saveAs||("object"!=typeof window||window!==C?function(){}:"download"in HTMLAnchorElement.prototype&&!D?function(u,m,p){var i=C.URL||C.webkitURL,d=document.createElement("a");d.download=m=m||u.name||"download",d.rel="noopener","string"==typeof u?(d.href=u,d.origin===location.origin?F(d):B(d.href)?k(u,m,p):F(d,d.target="_blank")):(d.href=i.createObjectURL(u),setTimeout(function(){i.revokeObjectURL(d.href)},4e4),setTimeout(function(){F(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,m,p){if(m=m||u.name||"download","string"!=typeof u)navigator.msSaveOrOpenBlob(function x(u,m){return typeof m>"u"?m={autoBom:!1}:"object"!=typeof m&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\ufeff",u],{type:u.type}):u}(u,p),m);else if(B(u))k(u,m,p);else{var i=document.createElement("a");i.href=u,i.target="_blank",setTimeout(function(){F(i)})}}:function(u,m,p,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof u)return k(u,m,p);var d="application/octet-stream"===u.type,e=/constructor/i.test(C.HTMLElement)||C.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||d&&e||D)&&typeof FileReader<"u"){var G=new FileReader;G.onloadend=function(){var w=G.result;w=S?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=w:location=w,i=null},G.readAsDataURL(u)}else{var A=C.URL||C.webkitURL,O=A.createObjectURL(u);i?i.location=O:location.href=O,i=null,setTimeout(function(){A.revokeObjectURL(O)},4e4)}});C.saveAs=_.saveAs=_,Y.exports=_})?s.apply(j,[]):s)&&(Y.exports=t)},152:(Y,j,s)=>{"use strict";s.d(j,{B:()=>k});var y=s(8839),t=s(9974),x=s(4360);function k(B,F=y.E){return(0,t.N)((C,D)=>{let _=null,u=null,m=null;const p=()=>{if(_){_.unsubscribe(),_=null;const d=u;u=null,D.next(d)}};function i(){const d=m+B,e=F.now();if(e<d)return _=this.schedule(void 0,d-e),void D.add(_);p()}C.subscribe((0,x._)(D,d=>{u=d,m=F.now(),_||(_=F.schedule(i,B),D.add(_))},()=>{p(),D.complete()},void 0,()=>{u=_=null}))})}},5430:(Y,j,s)=>{"use strict";s.d(j,{Sc:()=>P,q4:()=>N});var y=s(177),t=s(4438),x=s(9417),k=s(5779),B=s(1880),F=s(3306),C=s(4420);const D=["input"],_=(h,v,o,g)=>({"p-checkbox p-component":!0,"p-checkbox-checked":h,"p-checkbox-disabled":v,"p-checkbox-focused":o,"p-variant-filled":g}),u=(h,v,o)=>({"p-highlight":h,"p-disabled":v,"p-focus":o}),m=(h,v,o)=>({"p-checkbox-label":!0,"p-checkbox-label-active":h,"p-disabled":v,"p-checkbox-label-focus":o});function p(h,v){if(1&h&&t.nrm(0,"span",10),2&h){const o=t.XpG(3);t.Y8G("ngClass",o.checkboxIcon),t.BMQ("data-pc-section","icon")}}function i(h,v){1&h&&t.nrm(0,"CheckIcon",11),2&h&&(t.Y8G("styleClass","p-checkbox-icon"),t.BMQ("data-pc-section","icon"))}function d(h,v){if(1&h&&(t.qex(0),t.DNE(1,p,1,2,"span",8)(2,i,1,2,"CheckIcon",9),t.bVm()),2&h){const o=t.XpG(2);t.R7$(),t.Y8G("ngIf",o.checkboxIcon),t.R7$(),t.Y8G("ngIf",!o.checkboxIcon)}}function e(h,v){}function S(h,v){1&h&&t.DNE(0,e,0,0,"ng-template")}function G(h,v){if(1&h&&(t.j41(0,"span",12),t.DNE(1,S,1,0,null,13),t.k0s()),2&h){const o=t.XpG(2);t.BMQ("data-pc-section","icon"),t.R7$(),t.Y8G("ngTemplateOutlet",o.checkboxIconTemplate)}}function A(h,v){if(1&h&&(t.qex(0),t.DNE(1,d,3,2,"ng-container",5)(2,G,2,2,"span",7),t.bVm()),2&h){const o=t.XpG();t.R7$(),t.Y8G("ngIf",!o.checkboxIconTemplate),t.R7$(),t.Y8G("ngIf",o.checkboxIconTemplate)}}function O(h,v){if(1&h){const o=t.RV6();t.j41(0,"label",14),t.bIt("click",function(c){t.eBV(o);const M=t.XpG(),I=t.sdS(3);return t.Njj(M.onClick(c,I,!0))}),t.EFF(1),t.k0s()}if(2&h){const o=t.XpG();t.HbH(o.labelStyleClass),t.Y8G("ngClass",t.sMw(6,m,o.checked(),o.disabled,o.focused)),t.BMQ("for",o.inputId)("data-pc-section","label"),t.R7$(),t.SpI(" ",o.label,"")}}const w={provide:x.kq,useExisting:(0,t.Rfq)(()=>P),multi:!0};let P=(()=>{class h{cd;injector;config;value;name;disabled;binary;label;ariaLabelledBy;ariaLabel;tabindex;inputId;style;styleClass;labelStyleClass;formControl;checkboxIcon;readonly;required;autofocus;trueValue=!0;falseValue=!1;variant="outlined";onChange=new t.bkB;onFocus=new t.bkB;onBlur=new t.bkB;inputViewChild;templates;checkboxIconTemplate;model;onModelChange=()=>{};onModelTouched=()=>{};focused=!1;constructor(o,g,c){this.cd=o,this.injector=g,this.config=c}ngAfterContentInit(){this.templates.forEach(o=>{"icon"===o.getType()&&(this.checkboxIconTemplate=o.template)})}onClick(o,g,c){o.preventDefault(),!this.disabled&&!this.readonly&&(this.updateModel(o),c&&g.focus())}updateModel(o){let g;const c=this.injector.get(x.vO,null,{optional:!0,self:!0}),M=c&&!this.formControl?c.value:this.model;this.binary?(g=this.checked()?this.falseValue:this.trueValue,this.model=g,this.onModelChange(g)):(g=this.checked()?M.filter(I=>!C.BF.equals(I,this.value)):M?[...M,this.value]:[this.value],this.onModelChange(g),this.model=g,this.formControl&&this.formControl.setValue(g)),this.onChange.emit({checked:g,originalEvent:o})}handleChange(o){this.readonly||this.updateModel(o)}onInputFocus(o){this.focused=!0,this.onFocus.emit(o)}onInputBlur(o){this.focused=!1,this.onBlur.emit(o),this.onModelTouched()}focus(){this.inputViewChild.nativeElement.focus()}writeValue(o){this.model=o,this.cd.markForCheck()}registerOnChange(o){this.onModelChange=o}registerOnTouched(o){this.onModelTouched=o}setDisabledState(o){setTimeout(()=>{this.disabled=o,this.cd.markForCheck()})}checked(){return this.binary?this.model===this.trueValue:C.BF.contains(this.value,this.model)}static \u0275fac=function(g){return new(g||h)(t.rXU(t.gRc),t.rXU(t.zZn),t.rXU(k.r1))};static \u0275cmp=t.VBU({type:h,selectors:[["p-checkbox"]],contentQueries:function(g,c,M){if(1&g&&t.wni(M,k.Ei,4),2&g){let I;t.mGM(I=t.lsd())&&(c.templates=I)}},viewQuery:function(g,c){if(1&g&&t.GBs(D,5),2&g){let M;t.mGM(M=t.lsd())&&(c.inputViewChild=M.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",name:"name",disabled:[2,"disabled","disabled",t.L39],binary:[2,"binary","binary",t.L39],label:"label",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",tabindex:[2,"tabindex","tabindex",t.Udg],inputId:"inputId",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass",formControl:"formControl",checkboxIcon:"checkboxIcon",readonly:[2,"readonly","readonly",t.L39],required:[2,"required","required",t.L39],autofocus:[2,"autofocus","autofocus",t.L39],trueValue:"trueValue",falseValue:"falseValue",variant:"variant"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[t.Jv_([w]),t.GFd],decls:7,vars:37,consts:[["input",""],[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","checkbox","pAutoFocus","",3,"change","focus","blur","value","checked","disabled","readonly","autofocus"],[1,"p-checkbox-box",3,"click","ngClass"],[4,"ngIf"],[3,"class","ngClass","click",4,"ngIf"],["class","p-checkbox-icon",4,"ngIf"],["class","p-checkbox-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-checkbox-icon",3,"ngClass"],[3,"styleClass"],[1,"p-checkbox-icon"],[4,"ngTemplateOutlet"],[3,"click","ngClass"]],template:function(g,c){if(1&g){const M=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"input",3,0),t.bIt("change",function(U){return t.eBV(M),t.Njj(c.handleChange(U))})("focus",function(U){return t.eBV(M),t.Njj(c.onInputFocus(U))})("blur",function(U){return t.eBV(M),t.Njj(c.onInputBlur(U))}),t.k0s()(),t.j41(4,"div",4),t.bIt("click",function(U){t.eBV(M);const $=t.sdS(3);return t.Njj(c.onClick(U,$,!0))}),t.DNE(5,A,3,2,"ng-container",5),t.k0s()(),t.DNE(6,O,2,10,"label",6)}2&g&&(t.HbH(c.styleClass),t.Y8G("ngStyle",c.style)("ngClass",t.ziG(28,_,c.checked(),c.disabled,c.focused,"filled"===c.variant||"filled"===c.config.inputStyle())),t.BMQ("data-pc-name","checkbox")("data-pc-section","root"),t.R7$(),t.BMQ("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),t.R7$(),t.Y8G("value",c.value)("checked",c.checked())("disabled",c.disabled)("readonly",c.readonly)("autofocus",c.autofocus),t.BMQ("id",c.inputId)("name",c.name)("tabindex",c.tabindex)("required",c.required)("aria-labelledby",c.ariaLabelledBy)("aria-label",c.ariaLabel)("aria-checked",c.checked())("data-pc-section","hiddenInput"),t.R7$(2),t.Y8G("ngClass",t.sMw(33,u,c.checked(),c.disabled,c.focused)),t.BMQ("data-p-highlight",c.checked())("data-p-disabled",c.disabled)("data-p-focused",c.focused)("data-pc-section","input"),t.R7$(),t.Y8G("ngIf",c.checked()),t.R7$(),t.Y8G("ngIf",c.label))},dependencies:()=>[y.YU,y.bT,y.T3,y.B3,B.q,F.S],styles:["@layer primeng{.p-checkbox{display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;vertical-align:bottom;position:relative}.p-checkbox-disabled{cursor:default!important;pointer-events:none}.p-checkbox-box{display:flex;justify-content:center;align-items:center}p-checkbox{display:inline-flex;vertical-align:bottom;align-items:center}.p-checkbox-label{line-height:1}}\n"],encapsulation:2,changeDetection:0})}return h})(),N=(()=>{class h{static \u0275fac=function(g){return new(g||h)};static \u0275mod=t.$C({type:h});static \u0275inj=t.G2t({imports:[y.MD,B.u,F.S,k.Gg]})}return h})()},935:(Y,j,s)=>{"use strict";s.d(j,{$:()=>m,v:()=>u});var y=s(177),t=s(4438),x=s(5779);const k=["*"];function B(p,i){if(1&p&&t.nrm(0,"span",5),2&p){const d=t.XpG(2);t.Y8G("ngClass",d.icon)}}function F(p,i){if(1&p&&(t.qex(0),t.DNE(1,B,1,1,"span",4),t.bVm()),2&p){const d=t.XpG();t.R7$(),t.Y8G("ngIf",d.icon)}}function C(p,i){}function D(p,i){1&p&&t.DNE(0,C,0,0,"ng-template")}function _(p,i){if(1&p&&(t.j41(0,"span",6),t.DNE(1,D,1,0,null,7),t.k0s()),2&p){const d=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",d.iconTemplate)}}let u=(()=>{class p{cd;get style(){return this._style}set style(d){this._style=d,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;templates;iconTemplate;_style;ngAfterContentInit(){this.templates?.forEach(d=>{"icon"===d.getType()&&(this.iconTemplate=d.template)})}constructor(d){this.cd=d}containerClass(){return{"p-tag p-component":!0,[`p-tag-${this.severity}`]:this.severity,"p-tag-rounded":this.rounded}}static \u0275fac=function(e){return new(e||p)(t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:p,selectors:[["p-tag"]],contentQueries:function(e,S,G){if(1&e&&t.wni(G,x.Ei,4),2&e){let A;t.mGM(A=t.lsd())&&(S.templates=A)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[2,"rounded","rounded",t.L39]},features:[t.GFd],ngContentSelectors:k,decls:6,vars:7,consts:[[3,"ngClass","ngStyle"],[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-value"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(e,S){1&e&&(t.NAR(),t.j41(0,"span",0),t.SdG(1),t.DNE(2,F,2,1,"ng-container",1)(3,_,2,1,"span",2),t.j41(4,"span",3),t.EFF(5),t.k0s()()),2&e&&(t.HbH(S.styleClass),t.Y8G("ngClass",S.containerClass())("ngStyle",S.style),t.R7$(2),t.Y8G("ngIf",!S.iconTemplate),t.R7$(),t.Y8G("ngIf",S.iconTemplate),t.R7$(2),t.JRh(S.value))},dependencies:[y.YU,y.bT,y.T3,y.B3],styles:["@layer primeng{.p-tag{display:inline-flex;align-items:center;justify-content:center}.p-tag-icon,.p-tag-value,.p-tag-icon.pi{line-height:1.5}.p-tag.p-tag-rounded{border-radius:10rem}}\n"],encapsulation:2,changeDetection:0})}return p})(),m=(()=>{class p{static \u0275fac=function(e){return new(e||p)};static \u0275mod=t.$C({type:p});static \u0275inj=t.G2t({imports:[y.MD,x.Gg,x.Gg]})}return p})()}}]);