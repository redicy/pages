"use strict";(self.webpackChunkseller=self.webpackChunkseller||[]).push([[546],{9058:(I,p,r)=>{r.d(p,{b:()=>t});var g=r(4438),f=r(4153),C=r(6557);let t=(()=>{class m{constructor(u,c){this.productService=u,this.productCommandHandler=c}findProducts(u){return this.productService.findProducts(u)}findProductPackages(u){return this.productService.findProductPackages(u)}updateProductPackage(u){return this.productCommandHandler.updateProductPackage(u)}updateProduct(u){return this.productCommandHandler.updateProduct(u)}removeProductPackage(u){return this.productCommandHandler.removeProductPackage(u)}removeProduct(u){return this.productCommandHandler.removeProduct(u)}addProductPackage(u){return this.productCommandHandler.addProductPackage(u)}addProduct(u){return this.productCommandHandler.addProduct(u)}static{this.\u0275fac=function(c){return new(c||m)(g.KVO(f.D.ProductClient),g.KVO(C.X.ProductClient))}}static{this.\u0275prov=g.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},7546:(I,p,r)=>{r.r(p),r.d(p,{ProductModule:()=>G});var g=r(177),f=r(9909),C=r(467),t=r(4438),m=r(5779),v=r(9417),u=r(9998),c=r(9615),P=r(1141),b=r(1802);function M(i,h){}function E(i,h){}function F(i,h){1&i&&t.DNE(0,E,0,0,"ng-template",22)}function R(i,h){if(1&i&&(t.qSk(),t.qex(0),t.nrm(1,"image"),t.bVm()),2&i){const a=h.$implicit,e=h.index,o=t.XpG(3);t.R7$(),t.BMQ("href",a.image)("x",e*o.width)("width",o.width)("height",o.height)}}function A(i,h){if(1&i&&(t.qSk(),t.j41(0,"svg",25),t.nrm(1,"animate",26),t.DNE(2,R,2,4,"ng-container",27),t.nrm(3,"image"),t.k0s()),2&i){const a=h.ngIf,e=t.XpG(2);t.R7$(),t.BMQ("values",a.values)("keyTimes",a.keyTimes.join(";"))("dur",e.duration)("repeatCount",e.recording?"1":"indefinite"),t.R7$(),t.Y8G("ngForOf",e.images),t.R7$(),t.BMQ("href",e.images[0].image)("x",e.images.length*e.width)("width",e.width)("height",e.height)}}function B(i,h){if(1&i&&(t.j41(0,"div",23),t.DNE(1,A,4,9,"svg",24),t.k0s()),2&i){const a=t.XpG();t.R7$(),t.Y8G("ngIf",a.getAnimation())}}const T=[{path:"image-editor",loadChildren:()=>Promise.all([r.e(158),r.e(146)]).then(r.bind(r,146)).then(i=>i.ProductImageEditorModule)},{path:"edit",component:(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-product-editor"]],decls:2,vars:0,template:function(e,o){1&e&&(t.j41(0,"p"),t.EFF(1,"product-editor works!"),t.k0s())}})}}return i})()},{path:"list",loadChildren:()=>r.e(937).then(r.bind(r,1937)).then(i=>i.ProductListModule)},{path:"animator",component:(()=>{class i{constructor(a){this.messageService=a,this.width=300,this.height=300,this.frameRate=30,this.animationDuration=1,this.exposureDuration=3,this.recording=!1,this.recordButtonEnabled=!1,this.showVideo=!1}get duration(){return this.images?.length>0?this.images?.length*(this.exposureDuration+this.animationDuration)+this.exposureDuration:0}getAnimation(){const a=[],e=[0],o=this.duration,s=this.exposureDuration/o,n=this.animationDuration/o;let d=0;return this.images.forEach((l,S)=>{const D=`${S*this.width} 0 ${this.width} ${this.height}`;a.push(D),a.push(D),d+=s,e.push(Math.round(1e3*d)/1e3),d+=n,e.push(Math.round(1e3*d)/1e3)}),a.push(`${this.images.length*this.width} 0 ${this.width} ${this.height}`),a.push(`${this.images.length*this.width} 0 ${this.width} ${this.height}`),e.push(1),{values:a.join(";"),keyTimes:e}}readImageContent(a,e){const o=new FileReader;o.onload=s=>{e(s.target.result)},o.readAsDataURL(a)}onImagesSelected(a){const e=[];let o=!1;for(const s of a.currentFiles){const n={fileName:s.name,image:""};this.readImageContent(s,d=>{if(n.image=d,!o){o=!0;const l=new Image;l.onload=()=>{this.width=l.width,this.height=l.height},l.src=d}}),e.push(n)}this.recordButtonEnabled=!!e.length,this.images=e}delay(a){return new Promise(e=>setTimeout(e,a))}generateVideo(){return(0,C.A)(function*(){})()}removeAnimation(a){a.querySelectorAll("animate").forEach(e=>e.parentNode.removeChild(e))}traverse(a,e){let o=!1;const s=(n,d)=>`${n.x.toFixed(d)} ${n.y.toFixed(d)} ${n.width.toFixed(d)} ${n.height.toFixed(d)}`;for(const n in e)if(e[n]?.animVal)switch(e[n][Symbol.toStringTag]){case"SVGAnimatedRect":{const d=s(e[n].baseVal,0),l=s(a[n].animVal,0);d!=l&&(o=!0,e.setAttribute(n,l))}break;case"SVGAnimatedString":{const l=a[n].animVal;e[n].baseVal!=l&&(o=!0,e.setAttribute(n,l))}}for(let n=0,d=0;n<e.children.length;n++,d++){for(;n<a.children.length&&"animate"==a.children[n].nodeName;)n++;o||=this.traverse(a.children[n],e.children[d])}return o}static{this.\u0275fac=function(e){return new(e||i)(t.rXU(m.bg))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-product-image-animator"]],decls:34,vars:23,consts:[["multiple","true","chooseLabel","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438","accept","image/*",3,"onSelect","showUploadButton","disabled","showCancelButton"],["pTemplate","file"],[4,"ngIf"],[1,"card","flex","flex-wrap","gap-3","p-fluid"],[1,"flex-auto"],["for","width",1,"mb-2","block","font-bold"],["inputId","width",3,"ngModelChange","ngModel","disabled"],["for","height",1,"mb-2","block","font-bold"],["inputId","height",3,"ngModelChange","ngModel","disabled"],["for","animationDuration",1,"mb-2","block","font-bold"],["inputId","animationDuration",3,"ngModelChange","ngModel","step","maxFractionDigits","disabled"],["for","exposureDuration",1,"mb-2","block","font-bold"],["inputId","exposureDuration",3,"ngModelChange","ngModel","step","maxFractionDigits","disabled"],["for","frameRate",1,"mb-2","block","font-bold"],["inputId","frameRate",3,"ngModelChange","ngModel","disabled"],["for","duration",1,"mb-2","block","font-bold"],["inputId","duration",3,"ngModel","maxFractionDigits","disabled"],[1,"card"],["label","\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e",3,"click","disabled"],[1,"flex"],["style","max-width: 300px",4,"ngIf"],["id","video"],["pTemplate","content"],[2,"max-width","300px"],["id","preview","xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","version","1.1",4,"ngIf"],["id","preview","xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","version","1.1"],["attributeName","viewBox","begin","0s"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(t.nrm(0,"p-toast"),t.j41(1,"p-fileUpload",0),t.bIt("onSelect",function(n){return o.onImagesSelected(n)}),t.DNE(2,M,0,0,"ng-template",1)(3,F,1,0,null,2),t.k0s(),t.j41(4,"div",3)(5,"div",4)(6,"label",5),t.EFF(7,"\u0428\u0438\u0440\u0438\u043d\u0430"),t.k0s(),t.j41(8,"p-inputNumber",6),t.mxI("ngModelChange",function(n){return t.DH7(o.width,n)||(o.width=n),n}),t.k0s()(),t.j41(9,"div",4)(10,"label",7),t.EFF(11,"\u0412\u044b\u0441\u043e\u0442\u0430"),t.k0s(),t.j41(12,"p-inputNumber",8),t.mxI("ngModelChange",function(n){return t.DH7(o.height,n)||(o.height=n),n}),t.k0s()(),t.j41(13,"div",4)(14,"label",9),t.EFF(15,"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0438"),t.k0s(),t.j41(16,"p-inputNumber",10),t.mxI("ngModelChange",function(n){return t.DH7(o.animationDuration,n)||(o.animationDuration=n),n}),t.k0s()(),t.j41(17,"div",4)(18,"label",11),t.EFF(19,"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430"),t.k0s(),t.j41(20,"p-inputNumber",12),t.mxI("ngModelChange",function(n){return t.DH7(o.exposureDuration,n)||(o.exposureDuration=n),n}),t.k0s()(),t.j41(21,"div",4)(22,"label",13),t.EFF(23,"Fps"),t.k0s(),t.j41(24,"p-inputNumber",14),t.mxI("ngModelChange",function(n){return t.DH7(o.frameRate,n)||(o.frameRate=n),n}),t.k0s()(),t.j41(25,"div",4)(26,"label",15),t.EFF(27,"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u043e\u043b\u0438\u043a\u0430"),t.k0s(),t.nrm(28,"p-inputNumber",16),t.k0s()(),t.j41(29,"div",17)(30,"p-button",18),t.bIt("click",function(){return o.generateVideo()}),t.k0s(),t.j41(31,"div",19),t.DNE(32,B,2,1,"div",20),t.nrm(33,"div",21),t.k0s()()),2&e&&(t.R7$(),t.Y8G("showUploadButton",!1)("disabled",o.recording)("showCancelButton",!1),t.R7$(2),t.Y8G("ngIf",!1),t.R7$(5),t.R50("ngModel",o.width),t.Y8G("disabled",!o.recordButtonEnabled),t.R7$(4),t.R50("ngModel",o.height),t.Y8G("disabled",!o.recordButtonEnabled),t.R7$(4),t.R50("ngModel",o.animationDuration),t.Y8G("step",.1)("maxFractionDigits",2)("disabled",!o.recordButtonEnabled),t.R7$(4),t.R50("ngModel",o.exposureDuration),t.Y8G("step",.1)("maxFractionDigits",2)("disabled",!o.recordButtonEnabled),t.R7$(4),t.R50("ngModel",o.frameRate),t.Y8G("disabled",!o.recordButtonEnabled),t.R7$(4),t.Y8G("ngModel",o.duration)("maxFractionDigits",2)("disabled",!0),t.R7$(2),t.Y8G("disabled",!o.recordButtonEnabled),t.R7$(2),t.Y8G("ngIf",o.images))},dependencies:[v.BC,v.vS,g.Sq,g.bT,m.Ei,u.y8,c.N,P.$n,b.YI]})}}return i})()}];let w=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[f.iI.forChild(T),f.iI]})}}return i})();var x=r(9058),k=r(544),j=r(2242),y=r(4799),N=r(4153),$=r(6557);let G=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({providers:[N.D.ProductClient,$.X.ProductClient,x.b,m.td],imports:[v.YN,g.MD,w,k.bG,u.MB,c.e,b.O3,j.u,P.tm,y.F]})}}return i})()}}]);