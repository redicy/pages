"use strict";(self.webpackChunkseller=self.webpackChunkseller||[]).push([[697],{1697:(B,C,o)=>{o.r(C),o.d(C,{DashboardModule:()=>mt});var r=o(177),f=o(544),S=o(1141),b=o(9909),k=o(4412),p=o(1413),h=o(5964),m=o(6977),v=o(5558),d=o(9437),c=o(983),F=o(8839),E=o(1584),$=o(2180),t=o(4438),A=o(6354),l=o(4153),T=o(2102),y=o(4238),x=o(5779);let I=(()=>{class n{constructor(e,u,i,a,j,gt,ft){this.ozonPromoClient=e,this.ozonProductClient=u,this.reportClient=i,this.ozonRatingClient=a,this.timeService=j,this.dbService=gt,this.messageService=ft}getLatestSalesInfo(){return this.reportClient.getLatestSalesReport().pipe((0,d.W)(e=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:e}),c.w)))}getActiveProductCount(e){return this.ozonProductClient.findActiveOzonProducts(new l.D.FindActiveOzonProductsModel({minimumClusterCount:e,offset:0,count:void 0})).pipe((0,d.W)(u=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 \u043f\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u0442\u043e\u0432\u0430\u0440\u043e\u0432",severity:"error",detail:u}),c.w)))}getOzonLocalizationIndex(){return this.ozonRatingClient.getOzonLocalizationIndex(new Date)}getUnconfirmedOzonPromotions(){return this.ozonPromoClient.findOzonPromotionProducts(new l.D.FindOzonPromotionProductsModel({offset:0,count:0,confirmed:!1,excludeCandidates:!0})).pipe((0,d.W)(e=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:e}),c.w))).pipe((0,A.T)(e=>e.totalCount))}static{this.\u0275fac=function(u){return new(u||n)(t.KVO(l.D.OzonPromotionClient),t.KVO(l.D.OzonProductClient),t.KVO(l.D.ReportClient),t.KVO(l.D.OzonRatingClient),t.KVO(T.v),t.KVO(y.MX),t.KVO(x.bg))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Y=o(345),R=o(5716),O=o(9998),P=o(935);function N(n,s){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.JRh(t.bMT(2,1,e))}}function X(n,s){if(1&n&&(t.qex(0),t.j41(1,"div"),t.EFF(2),t.k0s(),t.bVm()),2&n){const e=t.XpG(3);t.R7$(2),t.SpI("... \u0438 \u0435\u0449\u0451 ",e.data.clusters.length-e.maxClusters," \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432")}}function V(n,s){if(1&n&&(t.j41(0,"div")(1,"span",3)(2,"b"),t.EFF(3),t.k0s(),t.EFF(4),t.nI1(5,"slice"),t.k0s(),t.j41(6,"span",4)(7,"b"),t.EFF(8),t.k0s(),t.EFF(9),t.k0s()()),2&n){const e=s.$implicit;t.R7$(3),t.JRh(e.productPackageID),t.R7$(),t.Lme(" ",e.productPackageName.length>20?t.brH(5,6,e.productPackageName,0,20)+"...":e.productPackageName," (",e.stockDays," \u0434\u043d\u0435\u0439) "),t.R7$(4),t.JRh(e.productPackageID),t.R7$(),t.Lme(" ",e.productPackageName," (",e.stockDays," \u0434\u043d\u0435\u0439) ")}}function W(n,s){if(1&n&&(t.qex(0),t.j41(1,"div"),t.EFF(2),t.k0s(),t.bVm()),2&n){const e=t.XpG(3);t.R7$(2),t.SpI("... \u0438 \u0435\u0449\u0451 ",e.data.articles.excessiveCount," \u0430\u0440\u0442\u0438\u043a\u0443\u043b\u043e\u0432")}}function U(n,s){if(1&n&&(t.qex(0),t.j41(1,"div",1),t.EFF(2,"\u0414\u0435\u0444\u0438\u0446\u0438\u0442 \u043e\u0441\u0442\u0430\u0442\u043a\u043e\u0432 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430\u0445"),t.k0s(),t.DNE(3,N,3,3,"div",2),t.nI1(4,"slice"),t.DNE(5,X,3,1,"ng-container",0),t.j41(6,"div",1),t.EFF(7,"\u0417\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0435\u0441\u044f \u0430\u0440\u0442\u0438\u043a\u0443\u043b\u044b"),t.k0s(),t.DNE(8,V,10,10,"div",2)(9,W,3,1,"ng-container",0),t.bVm()),2&n){const e=t.XpG(2);t.R7$(3),t.Y8G("ngForOf",t.brH(4,4,e.data.clusters,0,e.maxClusters)),t.R7$(2),t.Y8G("ngIf",e.data.articles.length>e.maxClusters),t.R7$(3),t.Y8G("ngForOf",e.data.articles.articles),t.R7$(),t.Y8G("ngIf",e.data.articles.excessiveCount)}}function w(n,s){if(1&n&&(t.j41(0,"span"),t.DNE(1,U,10,8,"ng-container",0),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.data.clusters.length)}}function L(n,s){1&n&&(t.j41(0,"span"),t.nrm(1,"p-skeleton",5),t.k0s())}let _=(()=>{class n{constructor(e,u){this.reportClient=e,this.messageService=u,this.data=null,this.maxArticles=3,this.maxClusters=3}ngOnInit(){this.reportClient.getOzonStockStarvationReport(new l.D.OzonStockScarcityReportRequestModel({salesAnalysisInDays:7,notificationPeriodInDays:7,respectActiveSupplyOrders:!0,respectMinimalStock:!0,respectSupplyPreparationPeriod:!0})).pipe((0,d.W)(e=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:e}),c.w))).subscribe(e=>{const u=new Set;for(const a of e)u.add(a.warehouseClusterName);const i=e.sort((a,j)=>j.stockDays-a.stockDays).slice(0,this.maxArticles+1);this.data={clusters:[...u].sort(),articles:{articles:i,excessiveCount:Math.max(e.length-i.length,0)}}})}static{this.\u0275fac=function(u){return new(u||n)(t.rXU(l.D.ReportClient),t.rXU(x.bg))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-stock-starvation-summary"]],inputs:{maxArticles:"maxArticles",maxClusters:"maxClusters"},standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[[4,"ngIf"],[1,"text-900","font-medium","text-xl"],[4,"ngFor","ngForOf"],["title","article.productPackageName",1,"inline","sm:hidden","md:hidden","lg:hidden","xl:inline"],["title","article.productPackageName",1,"hidden","sm:inline","md:inline","lg:inline","xl:hidden"],["width","10rem","height","4rem"]],template:function(u,i){1&u&&t.DNE(0,w,2,1,"span",0)(1,L,2,0,"span",0),2&u&&(t.Y8G("ngIf",i.data),t.R7$(),t.Y8G("ngIf",!i.data))},dependencies:[r.MD,r.Sq,r.bT,r.P9,r.PV]})}}return n})();var G=o(6781),z=o(2242),D=o(9417);const g=()=>({width:"2.5rem",height:"2.5rem"}),J=(n,s,e,u)=>({"pi-caret-down":n,"pi-caret-up":s,"text-green-500":e,"text-red-500":u}),H=()=>({width:"50vw"});function K(n,s){if(1&n&&(t.j41(0,"span",14)(1,"div"),t.EFF(2," \u0421\u0443\u0442\u043a\u0438: "),t.j41(3,"span",30),t.EFF(4),t.k0s()(),t.j41(5,"div"),t.EFF(6," \u041d\u0435\u0434\u0435\u043b\u044f: "),t.j41(7,"span",30),t.EFF(8),t.k0s()()()),2&n){const e=t.XpG();t.R7$(4),t.Lme("",e.data.lastDayOrderCount," (",e.data.lastDayOrderSum,"\u20bd)"),t.R7$(4),t.Lme("",e.data.lastWeekOrderCount," (",e.data.lastWeekOrderSum,"\u20bd)")}}function Q(n,s){1&n&&(t.j41(0,"span"),t.nrm(1,"p-skeleton",31),t.k0s())}function Z(n,s){if(1&n&&(t.j41(0,"span"),t.nrm(1,"i",32),t.EFF(2),t.nI1(3,"number"),t.nI1(4,"number"),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.ziG(9,J,e.data.previousWeekOrderSum>e.data.lastWeekOrderSum,e.data.previousWeekOrderSum<e.data.lastWeekOrderSum,e.data.previousWeekOrderSum<e.data.lastWeekOrderSum,e.data.previousWeekOrderSum>e.data.lastWeekOrderSum)),t.R7$(),t.Lme(" ",t.i5U(3,3,(e.data.lastWeekOrderSum-e.data.previousWeekOrderSum)/e.data.previousWeekOrderSum*100,"1.0-0"),"%, ",t.i5U(4,6,e.data.lastWeekOrderSum-e.data.previousWeekOrderSum,"1.0-0"),"\u20bd ")}}function q(n,s){if(1&n&&(t.j41(0,"span")(1,"div",30),t.EFF(2),t.k0s(),t.DNE(3,Z,5,14,"span",6),t.k0s()),2&n){const e=t.XpG();t.R7$(2),t.SpI("",e.data.lastWeekOrderSum,"\u20bd"),t.R7$(),t.Y8G("ngIf",e.data.previousWeekOrderSum)}}function tt(n,s){1&n&&(t.j41(0,"span"),t.nrm(1,"p-skeleton",31),t.k0s())}function et(n,s){if(1&n&&(t.j41(0,"span")(1,"p-tag",19)(2,"span",20),t.EFF(3),t.k0s()()()),2&n){const e=t.XpG();t.R7$(),t.Y8G("severity",e.getRatingSeverity(e.localizationIndex,null==e.settings?null:e.settings.targetLocalizationIndex)),t.R7$(2),t.JRh(e.localizationIndex)}}function nt(n,s){1&n&&(t.j41(0,"span"),t.nrm(1,"p-skeleton",31),t.k0s())}function it(n,s){1&n&&t.nrm(0,"p-skeleton",33)}function ut(n,s){if(1&n&&(t.j41(0,"p-tag",19)(1,"span",20),t.EFF(2),t.k0s()()),2&n){const e=t.XpG();t.Y8G("severity",e.unconfirmedOzonPromotionsCount?"danger":"success"),t.R7$(2),t.JRh(e.unconfirmedOzonPromotionsCount)}}function at(n,s){1&n&&t.nrm(0,"p-skeleton",33)}function ot(n,s){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Image"),t.k0s(),t.j41(3,"th",37),t.EFF(4,"Name "),t.nrm(5,"p-sortIcon",38),t.k0s(),t.j41(6,"th",39),t.EFF(7,"Price "),t.nrm(8,"p-sortIcon",40),t.k0s(),t.j41(9,"th"),t.EFF(10,"View"),t.k0s()())}function st(n,s){if(1&n&&(t.j41(0,"tr")(1,"td",41),t.nrm(2,"img",42),t.k0s(),t.j41(3,"td",43),t.EFF(4),t.k0s(),t.j41(5,"td",44),t.EFF(6),t.nI1(7,"currency"),t.k0s(),t.j41(8,"td",45),t.nrm(9,"button",46),t.k0s()()),2&n){const e=s.$implicit;t.R7$(2),t.Mz_("src","assets/seller/images/product/",e.image,"",t.B4B),t.FS9("alt",e.name),t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(t.i5U(7,5,e.price,"USD"))}}function rt(n,s){if(1&n&&(t.j41(0,"p-table",34),t.DNE(1,ot,11,0,"ng-template",35)(2,st,10,8,"ng-template",36),t.k0s()),2&n){const e=t.XpG();t.Y8G("value",e.data.lastSales)("paginator",!0)("rows",5)}}function lt(n,s){if(1&n){const e=t.RV6();t.j41(0,"p-dialog",47),t.mxI("visibleChange",function(i){t.eBV(e);const a=t.XpG();return t.DH7(a.editableSettings,i)||(a.editableSettings=i),t.Njj(i)}),t.bIt("onHide",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeDashboardSettingsDialog(!1))}),t.j41(1,"div",48)(2,"div",49)(3,"label",50),t.EFF(4,"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432 \u0443 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),t.k0s(),t.j41(5,"input",51),t.mxI("ngModelChange",function(i){t.eBV(e);const a=t.XpG();return t.DH7(a.editableSettings.activeProductMinimalClusterCount,i)||(a.editableSettings.activeProductMinimalClusterCount=i),t.Njj(i)}),t.k0s(),t.j41(6,"small"),t.EFF(7,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f \u0443 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432."),t.k0s(),t.j41(8,"label",50),t.EFF(9,"\u0427\u0430\u0441\u0442\u043e\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u043f\u0440\u043e\u0434\u0430\u0436"),t.k0s(),t.j41(10,"input",52),t.mxI("ngModelChange",function(i){t.eBV(e);const a=t.XpG();return t.DH7(a.editableSettings.salesInfoUpdateIntervalSeconds,i)||(a.editableSettings.salesInfoUpdateIntervalSeconds=i),t.Njj(i)}),t.k0s(),t.j41(11,"small"),t.EFF(12,"\u0427\u0430\u0441\u0442\u043e\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u043f\u0440\u043e\u0434\u0430\u0436\u0430\u0445, \u0441\u0435\u043a\u0443\u043d\u0434"),t.k0s(),t.j41(13,"label",53),t.EFF(14,"\u0426\u0435\u043b\u0435\u0432\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),t.k0s(),t.j41(15,"input",54),t.mxI("ngModelChange",function(i){t.eBV(e);const a=t.XpG();return t.DH7(a.editableSettings.targetActiveProductCount,i)||(a.editableSettings.targetActiveProductCount=i),t.Njj(i)}),t.k0s(),t.j41(16,"label",55),t.EFF(17,"\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u0438\u043d\u0434\u0435\u043a\u0441 \u043b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"),t.k0s(),t.j41(18,"input",56),t.mxI("ngModelChange",function(i){t.eBV(e);const a=t.XpG();return t.DH7(a.editableSettings.targetLocalizationIndex,i)||(a.editableSettings.targetLocalizationIndex=i),t.Njj(i)}),t.k0s()()(),t.j41(19,"div",49)(20,"div",57)(21,"p-button",58),t.bIt("onClick",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeDashboardSettingsDialog(!1))}),t.k0s(),t.j41(22,"p-button",59),t.bIt("onClick",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeDashboardSettingsDialog(!0))}),t.k0s()()()()}if(2&n){const e=t.XpG();t.Aen(t.lJ4(9,H)),t.Y8G("modal",!0),t.R50("visible",e.editableSettings),t.Y8G("resizable",!1),t.R7$(5),t.R50("ngModel",e.editableSettings.activeProductMinimalClusterCount),t.R7$(5),t.R50("ngModel",e.editableSettings.salesInfoUpdateIntervalSeconds),t.R7$(5),t.R50("ngModel",e.editableSettings.targetActiveProductCount),t.R7$(3),t.R50("ngModel",e.editableSettings.targetLocalizationIndex)}}let dt=(()=>{class n extends $.x{constructor(e,u,i,a){super(a),this.dashboardService=e,this.dbService=u,this.messageService=i,this.localizationIndex=null,this.unconfirmedOzonPromotionsCount=void 0,this.activeProductCount=void 0,this.findModelSubject=new k.t(null),this.timeSubject=new p.B}ngOnInit(){this.titleService.setTitle("Dashboard"),this.findModelSubject.pipe((0,h.p)(e=>!!e)).pipe((0,m.Q)(this.destroyed)).pipe((0,v.n)(e=>{var u=Object.assign({},e);return this.dbService.update("filters",{id:n.name,data:u}).pipe((0,d.W)(a=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0434\u0430\u0448\u0431\u043e\u0440\u0434\u0430",severity:"error",detail:a}),c.w)))})).subscribe(e=>{const u=1e3*this.settings.salesInfoUpdateIntervalSeconds;!function M(n=0,s=F.E){n<0&&(n=0),(0,E.O)(n,n,s)}(u),this.timeSubject.next(),(0,E.O)(0,u).pipe((0,m.Q)(this.destroyed)).pipe((0,m.Q)(this.timeSubject)).pipe((0,v.n)(()=>this.dashboardService.getLatestSalesInfo())).subscribe(a=>{this.data=a}),this.dashboardService.getUnconfirmedOzonPromotions().subscribe(a=>{this.unconfirmedOzonPromotionsCount=a}),this.dashboardService.getOzonLocalizationIndex().subscribe(a=>{this.localizationIndex=a}),this.dashboardService.getActiveProductCount(this.settings.activeProductMinimalClusterCount).subscribe(a=>{this.activeProductCount=a.length})}),this.dbService.getByID("filters",n.name).pipe((0,d.W)(e=>(this.messageService.add({summary:"\u041e\u0448\u0438\u0431\u043a\u0430",severity:"error",detail:e}),c.w))).subscribe(e=>{const u={activeProductMinimalClusterCount:3,salesInfoUpdateIntervalSeconds:60,targetActiveProductCount:void 0,targetLocalizationIndex:90};e?.data&&Object.assign(u,e.data),this.settings=u,this.findModelSubject.next(u)})}getRatingSeverity(e,u){let i="secondary";if(e&&u){const a=100*e/u;i=a<80?"danger":a<90?"warning":a<95?"info":"success"}return i}showDashboardSettingsDialog(){this.editableSettings=Object.assign({},this.settings)}closeDashboardSettingsDialog(e){e&&(this.settings=this.editableSettings,this.findModelSubject.next(this.settings)),this.editableSettings=void 0}static{this.\u0275fac=function(u){return new(u||n)(t.rXU(I),t.rXU(y.MX),t.rXU(x.bg),t.rXU(Y.hE))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["ng-component"]],features:[t.Vt3],decls:72,vars:29,consts:[[1,"grid"],[1,"col-12","lg:col-6","xl:col-3"],[1,"card","mb-0"],[1,"flex","justify-content-between","mb-3"],[1,"block","text-500","font-medium","mb-3"],["class","text-500",4,"ngIf"],[4,"ngIf"],[1,"flex","align-items-center","justify-content-center","bg-blue-100","border-round",3,"ngStyle"],[1,"pi","pi-shopping-cart","text-blue-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-orange-100","border-round",3,"ngStyle"],[1,"pi","pi-dollar","text-orange-500","text-xl"],[1,"col-12","lg:col-4","xl:col-2"],[1,"flex","align-items-center","justify-content-center","bg-cyan-100","border-round",3,"ngStyle"],[1,"pi","pi-map-marker","text-orange-500","text-xl"],[1,"text-500"],["width","3rem","height","2rem",4,"ngIf"],[3,"severity",4,"ngIf"],[1,"flex","align-items-center","justify-content-center","bg-purple-100","border-round",3,"ngStyle"],[1,"pi","ozon-fbo","text-purple-500","text-xl"],[3,"severity"],[1,"font-medium","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-purple-100","border-round","m-1",3,"ngStyle"],[1,"flex","align-items-center","justify-content-center","bg-indigo-100","border-round","m-1",3,"ngStyle"],[1,"pi","pi-cog","text-purple-500","text-xl",3,"click"],[1,"col-12","xl:col-6"],[3,"maxArticles","maxClusters"],[1,"pi","pi-warehouse","text-red-500","text-xl"],[1,"card"],["responsiveLayout","scroll",3,"value","paginator","rows",4,"ngIf"],["header","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u0430\u0448\u0431\u043e\u0440\u0434\u0430",3,"modal","style","visible","resizable","visibleChange","onHide",4,"ngIf"],[1,"text-900","font-medium","text-xl"],["width","10rem","height","4rem"],[1,"pi",3,"ngClass"],["width","3rem","height","2rem"],["responsiveLayout","scroll",3,"value","paginator","rows"],["pTemplate","header"],["pTemplate","body"],["pSortableColumn","name"],["field","name"],["pSortableColumn","price"],["field","price"],[2,"width","15%","min-width","5rem"],["width","50",1,"shadow-4",3,"src","alt"],[2,"width","35%","min-width","7rem"],[2,"width","35%","min-width","8rem"],[2,"width","15%"],["pButton","","pRipple","","type","button","icon","pi pi-search",1,"p-button","p-component","p-button-text","p-button-icon-only"],["header","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u0430\u0448\u0431\u043e\u0440\u0434\u0430",3,"visibleChange","onHide","modal","visible","resizable"],[1,"card","flex","justify-content-center"],[1,"flex","flex-column","gap-2"],["for","activeProductMinimalClusterCount"],["pInputText","","id","activeProductMinimalClusterCount","autocomplete","off",3,"ngModelChange","ngModel"],["pInputText","","id","salesInfoUpdateIntervalSeconds","autocomplete","off",3,"ngModelChange","ngModel"],["for","targetActiveProductCount"],["pInputText","","id","targetActiveProductCount","autocomplete","off",3,"ngModelChange","ngModel"],["for","targetLocalizationIndex"],["pInputText","","id","targetLocalizationIndex","autocomplete","off",3,"ngModelChange","ngModel"],[1,"flex","justify-content-end","gap-2"],["label","Cancel","severity","secondary",3,"onClick"],["label","Save",3,"onClick"]],template:function(u,i){1&u&&(t.nrm(0,"p-toast"),t.j41(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div")(6,"span",4),t.EFF(7,"\u0417\u0430\u043a\u0430\u0437\u044b"),t.k0s(),t.DNE(8,K,9,4,"span",5)(9,Q,2,0,"span",6),t.k0s(),t.j41(10,"div",7),t.nrm(11,"i",8),t.k0s()()()(),t.j41(12,"div",1)(13,"div",2)(14,"div",3)(15,"div")(16,"span",4),t.EFF(17,"\u0414\u043e\u0445\u043e\u0434 \u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e"),t.k0s(),t.DNE(18,q,4,2,"span",6)(19,tt,2,0,"span",6),t.k0s(),t.j41(20,"div",9),t.nrm(21,"i",10),t.k0s()()()(),t.j41(22,"div",11)(23,"div",2)(24,"div",3)(25,"div")(26,"span",4),t.EFF(27,"\u0418\u043d\u0434\u0435\u043a\u0441 \u043b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438"),t.k0s(),t.DNE(28,et,4,2,"span",6)(29,nt,2,0,"span",6),t.k0s(),t.j41(30,"div",12),t.nrm(31,"i",13),t.k0s()(),t.j41(32,"span",14),t.EFF(33,"\u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 14 \u0434\u043d\u0435\u0439"),t.k0s()()(),t.j41(34,"div",11)(35,"div",2)(36,"div",3)(37,"div")(38,"span",4),t.EFF(39,"\u041d\u043e\u0432\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0432 \u0430\u043a\u0446\u0438\u044f\u0445"),t.k0s(),t.DNE(40,it,1,0,"p-skeleton",15)(41,ut,3,2,"p-tag",16),t.k0s(),t.j41(42,"div",17),t.nrm(43,"i",18),t.k0s()()()(),t.j41(44,"div",11)(45,"div",2)(46,"div",3)(47,"div")(48,"span",4),t.EFF(49,"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),t.k0s(),t.DNE(50,at,1,0,"p-skeleton",15),t.j41(51,"p-tag",19)(52,"span",20),t.EFF(53),t.k0s()()(),t.j41(54,"div",21),t.nrm(55,"i",18),t.k0s(),t.j41(56,"div",22)(57,"i",23),t.bIt("click",function(){return i.showDashboardSettingsDialog()}),t.k0s()()()()(),t.j41(58,"div",24)(59,"div",2)(60,"div",3),t.nrm(61,"app-stock-starvation-summary",25),t.j41(62,"div",7),t.nrm(63,"i",26),t.k0s()(),t.j41(64,"span",14),t.EFF(65,"\u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 7 \u0434\u043d\u0435\u0439"),t.k0s()()(),t.j41(66,"div",24)(67,"div",27)(68,"h5"),t.EFF(69,"Recent Sales"),t.k0s(),t.DNE(70,rt,3,3,"p-table",28),t.k0s()()(),t.DNE(71,lt,23,10,"p-dialog",29)),2&u&&(t.R7$(8),t.Y8G("ngIf",i.data),t.R7$(),t.Y8G("ngIf",!i.data),t.R7$(),t.Y8G("ngStyle",t.lJ4(22,g)),t.R7$(8),t.Y8G("ngIf",i.data),t.R7$(),t.Y8G("ngIf",!i.data),t.R7$(),t.Y8G("ngStyle",t.lJ4(23,g)),t.R7$(8),t.Y8G("ngIf",void 0!==i.localizationIndex),t.R7$(),t.Y8G("ngIf",void 0===i.localizationIndex),t.R7$(),t.Y8G("ngStyle",t.lJ4(24,g)),t.R7$(10),t.Y8G("ngIf",void 0===i.unconfirmedOzonPromotionsCount),t.R7$(),t.Y8G("ngIf",0===i.unconfirmedOzonPromotionsCount||i.unconfirmedOzonPromotionsCount),t.R7$(),t.Y8G("ngStyle",t.lJ4(25,g)),t.R7$(8),t.Y8G("ngIf",void 0===i.activeProductCount),t.R7$(),t.Y8G("severity",i.getRatingSeverity(i.activeProductCount,null==i.settings?null:i.settings.targetActiveProductCount)),t.R7$(2),t.JRh(i.activeProductCount),t.R7$(),t.Y8G("ngStyle",t.lJ4(26,g)),t.R7$(2),t.Y8G("ngStyle",t.lJ4(27,g)),t.R7$(5),t.Y8G("maxArticles",3)("maxClusters",5),t.R7$(),t.Y8G("ngStyle",t.lJ4(28,g)),t.R7$(8),t.Y8G("ngIf",!1),t.R7$(),t.Y8G("ngIf",i.editableSettings))},dependencies:[r.YU,r.bT,r.B3,f.XI,x.Ei,f.Tg,f.yc,S._f,S.$n,R.E,O.y8,P.v,_,G.l,z.S,D.me,D.BC,D.vS,r.QX,r.oe],encapsulation:2})}}return n})(),ct=(()=>{class n{static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[b.iI.forChild([{path:"",component:dt}]),b.iI]})}}return n})();var pt=o(491);let mt=(()=>{class n{static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({providers:[l.D.OzonSalesOrderClient,l.D.ReportClient,l.D.OzonRatingClient,l.D.OzonPromotionClient,l.D.OzonProductClient,I],imports:[r.MD,f.bG,S.tm,ct,R.k,O.MB,P.$,_,G.P,z.u,D.YN,pt.D]})}}return n})()},1584:(B,C,o)=>{o.d(C,{O:()=>k});var r=o(1985),f=o(8839),S=o(9470);function k(p=0,h,m=f.b){let v=-1;return null!=h&&((0,S.m)(h)?m=h:v=h),new r.c(d=>{let c=function b(p){return p instanceof Date&&!isNaN(p)}(p)?+p-m.now():p;c<0&&(c=0);let F=0;return m.schedule(function(){d.closed||(d.next(F++),0<=v?this.schedule(void 0,v):d.complete())},c)})}}}]);